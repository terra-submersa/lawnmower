var q5=Object.defineProperty;var J5=(n,e,t)=>e in n?q5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var hl=(n,e,t)=>(J5(n,typeof e!="symbol"?e+"":e,t),t);const Q5=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};Q5();function th(n,e){const t=Object.create(null),r=n.split(",");for(let o=0;o<r.length;o++)t[r[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const tE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eE=th(tE);function cb(n){return!!n||n===""}function eh(n){if(Gt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Xe(r)?oE(r):eh(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(Xe(n))return n;if(Ve(n))return n}}const rE=/;(?![^(]*\))/g,nE=/:(.+)/;function oE(n){const e={};return n.split(rE).forEach(t=>{if(t){const r=t.split(nE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function rh(n){let e="";if(Xe(n))e=n;else if(Gt(n))for(let t=0;t<n.length;t++){const r=rh(n[t]);r&&(e+=r+" ")}else if(Ve(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const ue={},Pi=[],Hr=()=>{},iE=()=>!1,aE=/^on[^a-z]/,nc=n=>aE.test(n),nh=n=>n.startsWith("onUpdate:"),Je=Object.assign,oh=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},sE=Object.prototype.hasOwnProperty,qt=(n,e)=>sE.call(n,e),Gt=Array.isArray,La=n=>oc(n)==="[object Map]",lE=n=>oc(n)==="[object Set]",Ut=n=>typeof n=="function",Xe=n=>typeof n=="string",ih=n=>typeof n=="symbol",Ve=n=>n!==null&&typeof n=="object",ub=n=>Ve(n)&&Ut(n.then)&&Ut(n.catch),cE=Object.prototype.toString,oc=n=>cE.call(n),uE=n=>oc(n).slice(8,-1),fE=n=>oc(n)==="[object Object]",ah=n=>Xe(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Sl=th(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ic=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},hE=/-(\w)/g,Fi=ic(n=>n.replace(hE,(e,t)=>t?t.toUpperCase():"")),dE=/\B([A-Z])/g,Vi=ic(n=>n.replace(dE,"-$1").toLowerCase()),fb=ic(n=>n.charAt(0).toUpperCase()+n.slice(1)),Wu=ic(n=>n?`on${fb(n)}`:""),Ya=(n,e)=>!Object.is(n,e),Pl=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},zl=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},uf=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Ag;const pE=()=>Ag||(Ag=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class hb{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(e){if(this.active){const t=en;try{return en=this,e()}finally{en=t}}}on(){en=this}off(){en=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function db(n){return new hb(n)}function gE(n,e=en){e&&e.active&&e.effects.push(n)}const sh=n=>{const e=new Set(n);return e.w=0,e.n=0,e},pb=n=>(n.w&lo)>0,gb=n=>(n.n&lo)>0,vE=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=lo},bE=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const o=e[r];pb(o)&&!gb(o)?o.delete(n):e[t++]=o,o.w&=~lo,o.n&=~lo}e.length=t}},ff=new WeakMap;let Ra=0,lo=1;const hf=30;let Wr;const Bo=Symbol(""),df=Symbol("");class lh{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,gE(this,r)}run(){if(!this.active)return this.fn();let e=Wr,t=oo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Wr,Wr=this,oo=!0,lo=1<<++Ra,Ra<=hf?vE(this):Ig(this),this.fn()}finally{Ra<=hf&&bE(this),lo=1<<--Ra,Wr=this.parent,oo=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wr===this?this.deferStop=!0:this.active&&(Ig(this),this.onStop&&this.onStop(),this.active=!1)}}function Ig(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let oo=!0;const vb=[];function Hi(){vb.push(oo),oo=!1}function Ki(){const n=vb.pop();oo=n===void 0?!0:n}function gr(n,e,t){if(oo&&Wr){let r=ff.get(n);r||ff.set(n,r=new Map);let o=r.get(t);o||r.set(t,o=sh()),bb(o)}}function bb(n,e){let t=!1;Ra<=hf?gb(n)||(n.n|=lo,t=!pb(n)):t=!n.has(Wr),t&&(n.add(Wr),Wr.deps.push(n))}function In(n,e,t,r,o,i){const s=ff.get(n);if(!s)return;let c=[];if(e==="clear")c=[...s.values()];else if(t==="length"&&Gt(n))s.forEach((u,f)=>{(f==="length"||f>=r)&&c.push(u)});else switch(t!==void 0&&c.push(s.get(t)),e){case"add":Gt(n)?ah(t)&&c.push(s.get("length")):(c.push(s.get(Bo)),La(n)&&c.push(s.get(df)));break;case"delete":Gt(n)||(c.push(s.get(Bo)),La(n)&&c.push(s.get(df)));break;case"set":La(n)&&c.push(s.get(Bo));break}if(c.length===1)c[0]&&pf(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);pf(sh(u))}}function pf(n,e){const t=Gt(n)?n:[...n];for(const r of t)r.computed&&Og(r);for(const r of t)r.computed||Og(r)}function Og(n,e){(n!==Wr||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const mE=th("__proto__,__v_isRef,__isVue"),mb=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ih)),_E=ch(),yE=ch(!1,!0),xE=ch(!0),Sg=wE();function wE(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=ne(this);for(let i=0,s=this.length;i<s;i++)gr(r,"get",i+"");const o=r[e](...t);return o===-1||o===!1?r[e](...t.map(ne)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Hi();const r=ne(this)[e].apply(this,t);return Ki(),r}}),n}function ch(n=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(n?e?zE:kb:e?wb:xb).get(r))return r;const s=Gt(r);if(!n&&s&&qt(Sg,o))return Reflect.get(Sg,o,i);const c=Reflect.get(r,o,i);return(ih(o)?mb.has(o):mE(o))||(n||gr(r,"get",o),e)?c:Ce(c)?s&&ah(o)?c:c.value:Ve(c)?n?Eb(c):ji(c):c}}const kE=_b(),EE=_b(!0);function _b(n=!1){return function(t,r,o,i){let s=t[r];if(Xa(s)&&Ce(s)&&!Ce(o))return!1;if(!n&&!Xa(o)&&(gf(o)||(o=ne(o),s=ne(s)),!Gt(t)&&Ce(s)&&!Ce(o)))return s.value=o,!0;const c=Gt(t)&&ah(r)?Number(r)<t.length:qt(t,r),u=Reflect.set(t,r,o,i);return t===ne(i)&&(c?Ya(o,s)&&In(t,"set",r,o):In(t,"add",r,o)),u}}function CE(n,e){const t=qt(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&In(n,"delete",e,void 0),r}function TE(n,e){const t=Reflect.has(n,e);return(!ih(e)||!mb.has(e))&&gr(n,"has",e),t}function RE(n){return gr(n,"iterate",Gt(n)?"length":Bo),Reflect.ownKeys(n)}const yb={get:_E,set:kE,deleteProperty:CE,has:TE,ownKeys:RE},AE={get:xE,set(n,e){return!0},deleteProperty(n,e){return!0}},IE=Je({},yb,{get:yE,set:EE}),uh=n=>n,ac=n=>Reflect.getPrototypeOf(n);function dl(n,e,t=!1,r=!1){n=n.__v_raw;const o=ne(n),i=ne(e);t||(e!==i&&gr(o,"get",e),gr(o,"get",i));const{has:s}=ac(o),c=r?uh:t?dh:Va;if(s.call(o,e))return c(n.get(e));if(s.call(o,i))return c(n.get(i));n!==o&&n.get(e)}function pl(n,e=!1){const t=this.__v_raw,r=ne(t),o=ne(n);return e||(n!==o&&gr(r,"has",n),gr(r,"has",o)),n===o?t.has(n):t.has(n)||t.has(o)}function gl(n,e=!1){return n=n.__v_raw,!e&&gr(ne(n),"iterate",Bo),Reflect.get(n,"size",n)}function Pg(n){n=ne(n);const e=ne(this);return ac(e).has.call(e,n)||(e.add(n),In(e,"add",n,n)),this}function Lg(n,e){e=ne(e);const t=ne(this),{has:r,get:o}=ac(t);let i=r.call(t,n);i||(n=ne(n),i=r.call(t,n));const s=o.call(t,n);return t.set(n,e),i?Ya(e,s)&&In(t,"set",n,e):In(t,"add",n,e),this}function Mg(n){const e=ne(this),{has:t,get:r}=ac(e);let o=t.call(e,n);o||(n=ne(n),o=t.call(e,n)),r&&r.call(e,n);const i=e.delete(n);return o&&In(e,"delete",n,void 0),i}function Fg(){const n=ne(this),e=n.size!==0,t=n.clear();return e&&In(n,"clear",void 0,void 0),t}function vl(n,e){return function(r,o){const i=this,s=i.__v_raw,c=ne(s),u=e?uh:n?dh:Va;return!n&&gr(c,"iterate",Bo),s.forEach((f,d)=>r.call(o,u(f),u(d),i))}}function bl(n,e,t){return function(...r){const o=this.__v_raw,i=ne(o),s=La(i),c=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,f=o[n](...r),d=t?uh:e?dh:Va;return!e&&gr(i,"iterate",u?df:Bo),{next(){const{value:v,done:g}=f.next();return g?{value:v,done:g}:{value:c?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function Un(n){return function(...e){return n==="delete"?!1:this}}function OE(){const n={get(i){return dl(this,i)},get size(){return gl(this)},has:pl,add:Pg,set:Lg,delete:Mg,clear:Fg,forEach:vl(!1,!1)},e={get(i){return dl(this,i,!1,!0)},get size(){return gl(this)},has:pl,add:Pg,set:Lg,delete:Mg,clear:Fg,forEach:vl(!1,!0)},t={get(i){return dl(this,i,!0)},get size(){return gl(this,!0)},has(i){return pl.call(this,i,!0)},add:Un("add"),set:Un("set"),delete:Un("delete"),clear:Un("clear"),forEach:vl(!0,!1)},r={get(i){return dl(this,i,!0,!0)},get size(){return gl(this,!0)},has(i){return pl.call(this,i,!0)},add:Un("add"),set:Un("set"),delete:Un("delete"),clear:Un("clear"),forEach:vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=bl(i,!1,!1),t[i]=bl(i,!0,!1),e[i]=bl(i,!1,!0),r[i]=bl(i,!0,!0)}),[n,t,e,r]}const[SE,PE,LE,ME]=OE();function fh(n,e){const t=e?n?ME:LE:n?PE:SE;return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(qt(t,o)&&o in r?t:r,o,i)}const FE={get:fh(!1,!1)},DE={get:fh(!1,!0)},NE={get:fh(!0,!1)},xb=new WeakMap,wb=new WeakMap,kb=new WeakMap,zE=new WeakMap;function GE(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BE(n){return n.__v_skip||!Object.isExtensible(n)?0:GE(uE(n))}function ji(n){return Xa(n)?n:hh(n,!1,yb,FE,xb)}function WE(n){return hh(n,!1,IE,DE,wb)}function Eb(n){return hh(n,!0,AE,NE,kb)}function hh(n,e,t,r,o){if(!Ve(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const s=BE(n);if(s===0)return n;const c=new Proxy(n,s===2?r:t);return o.set(n,c),c}function io(n){return Xa(n)?io(n.__v_raw):!!(n&&n.__v_isReactive)}function Xa(n){return!!(n&&n.__v_isReadonly)}function gf(n){return!!(n&&n.__v_isShallow)}function Cb(n){return io(n)||Xa(n)}function ne(n){const e=n&&n.__v_raw;return e?ne(e):n}function Di(n){return zl(n,"__v_skip",!0),n}const Va=n=>Ve(n)?ji(n):n,dh=n=>Ve(n)?Eb(n):n;function Tb(n){oo&&Wr&&(n=ne(n),bb(n.dep||(n.dep=sh())))}function Rb(n,e){n=ne(n),n.dep&&pf(n.dep)}function Ce(n){return!!(n&&n.__v_isRef===!0)}function sc(n){return Ab(n,!1)}function UE(n){return Ab(n,!0)}function Ab(n,e){return Ce(n)?n:new YE(n,e)}class YE{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ne(e),this._value=t?e:Va(e)}get value(){return Tb(this),this._value}set value(e){e=this.__v_isShallow?e:ne(e),Ya(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Va(e),Rb(this))}}function Rr(n){return Ce(n)?n.value:n}const XE={get:(n,e,t)=>Rr(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return Ce(o)&&!Ce(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function Ib(n){return io(n)?n:new Proxy(n,XE)}function VE(n){const e=Gt(n)?new Array(n.length):{};for(const t in n)e[t]=KE(n,t);return e}class HE{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function KE(n,e,t){const r=n[e];return Ce(r)?r:new HE(n,e,t)}class jE{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new lh(e,()=>{this._dirty||(this._dirty=!0,Rb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=ne(this);return Tb(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ZE(n,e,t=!1){let r,o;const i=Ut(n);return i?(r=n,o=Hr):(r=n.get,o=n.set),new jE(r,o,i||!o,t)}function ao(n,e,t,r){let o;try{o=r?n(...r):n()}catch(i){lc(i,e,t)}return o}function Kr(n,e,t,r){if(Ut(n)){const i=ao(n,e,t,r);return i&&ub(i)&&i.catch(s=>{lc(s,e,t)}),i}const o=[];for(let i=0;i<n.length;i++)o.push(Kr(n[i],e,t,r));return o}function lc(n,e,t,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,c=t;for(;i;){const f=i.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](n,s,c)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){ao(u,null,10,[n,s,c]);return}}$E(n,t,o,r)}function $E(n,e,t,r=!0){console.error(n)}let Gl=!1,vf=!1;const dr=[];let Cn=0;const Ma=[];let Aa=null,xi=0;const Fa=[];let Zn=null,wi=0;const Ob=Promise.resolve();let ph=null,bf=null;function gh(n){const e=ph||Ob;return n?e.then(this?n.bind(this):n):e}function qE(n){let e=Cn+1,t=dr.length;for(;e<t;){const r=e+t>>>1;Ha(dr[r])<n?e=r+1:t=r}return e}function Sb(n){(!dr.length||!dr.includes(n,Gl&&n.allowRecurse?Cn+1:Cn))&&n!==bf&&(n.id==null?dr.push(n):dr.splice(qE(n.id),0,n),Pb())}function Pb(){!Gl&&!vf&&(vf=!0,ph=Ob.then(Fb))}function JE(n){const e=dr.indexOf(n);e>Cn&&dr.splice(e,1)}function Lb(n,e,t,r){Gt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?r+1:r))&&t.push(n),Pb()}function QE(n){Lb(n,Aa,Ma,xi)}function tC(n){Lb(n,Zn,Fa,wi)}function cc(n,e=null){if(Ma.length){for(bf=e,Aa=[...new Set(Ma)],Ma.length=0,xi=0;xi<Aa.length;xi++)Aa[xi]();Aa=null,xi=0,bf=null,cc(n,e)}}function Mb(n){if(cc(),Fa.length){const e=[...new Set(Fa)];if(Fa.length=0,Zn){Zn.push(...e);return}for(Zn=e,Zn.sort((t,r)=>Ha(t)-Ha(r)),wi=0;wi<Zn.length;wi++)Zn[wi]();Zn=null,wi=0}}const Ha=n=>n.id==null?1/0:n.id;function Fb(n){vf=!1,Gl=!0,cc(n),dr.sort((t,r)=>Ha(t)-Ha(r));const e=Hr;try{for(Cn=0;Cn<dr.length;Cn++){const t=dr[Cn];t&&t.active!==!1&&ao(t,null,14)}}finally{Cn=0,dr.length=0,Mb(),Gl=!1,ph=null,(dr.length||Ma.length||Fa.length)&&Fb(n)}}function eC(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ue;let o=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:v,trim:g}=r[d]||ue;g&&(o=t.map(b=>b.trim())),v&&(o=t.map(uf))}let c,u=r[c=Wu(e)]||r[c=Wu(Fi(e))];!u&&i&&(u=r[c=Wu(Vi(e))]),u&&Kr(u,n,6,o);const f=r[c+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,Kr(f,n,6,o)}}function Db(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},c=!1;if(!Ut(n)){const u=f=>{const d=Db(f,e,!0);d&&(c=!0,Je(s,d))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!i&&!c?(r.set(n,null),null):(Gt(i)?i.forEach(u=>s[u]=null):Je(s,i),r.set(n,s),s)}function uc(n,e){return!n||!nc(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(n,e[0].toLowerCase()+e.slice(1))||qt(n,Vi(e))||qt(n,e))}let Xr=null,Nb=null;function Bl(n){const e=Xr;return Xr=n,Nb=n&&n.type.__scopeId||null,e}function mf(n,e=Xr,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&Vg(-1);const i=Bl(e),s=n(...o);return Bl(i),r._d&&Vg(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Uu(n){const{type:e,vnode:t,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:c,attrs:u,emit:f,render:d,renderCache:v,data:g,setupState:b,ctx:_,inheritAttrs:w}=n;let E,T;const I=Bl(n);try{if(t.shapeFlag&4){const L=o||r;E=rn(d.call(L,L,v,i,b,g,_)),T=u}else{const L=e;E=rn(L.length>1?L(i,{attrs:u,slots:c,emit:f}):L(i,null)),T=e.props?u:rC(u)}}catch(L){Da.length=0,lc(L,n,1),E=qe(Ka)}let O=E;if(T&&w!==!1){const L=Object.keys(T),{shapeFlag:D}=O;L.length&&D&7&&(s&&L.some(nh)&&(T=nC(T,s)),O=Ni(O,T))}return t.dirs&&(O=Ni(O),O.dirs=O.dirs?O.dirs.concat(t.dirs):t.dirs),t.transition&&(O.transition=t.transition),E=O,Bl(I),E}const rC=n=>{let e;for(const t in n)(t==="class"||t==="style"||nc(t))&&((e||(e={}))[t]=n[t]);return e},nC=(n,e)=>{const t={};for(const r in n)(!nh(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function oC(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:c,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?Dg(r,s,f):!!s;if(u&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(s[g]!==r[g]&&!uc(f,g))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?Dg(r,s,f):!0:!!s;return!1}function Dg(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!uc(t,i))return!0}return!1}function iC({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const aC=n=>n.__isSuspense;function sC(n,e){e&&e.pendingBranch?Gt(n)?e.effects.push(...n):e.effects.push(n):tC(n)}function Ll(n,e){if(ze){let t=ze.provides;const r=ze.parent&&ze.parent.provides;r===t&&(t=ze.provides=Object.create(r)),t[n]=e}}function Tn(n,e,t=!1){const r=ze||Xr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&n in o)return o[n];if(arguments.length>1)return t&&Ut(e)?e.call(r.proxy):e}}const Ng={};function Wo(n,e,t){return zb(n,e,t)}function zb(n,e,{immediate:t,deep:r,flush:o,onTrack:i,onTrigger:s}=ue){const c=ze;let u,f=!1,d=!1;if(Ce(n)?(u=()=>n.value,f=gf(n)):io(n)?(u=()=>n,r=!0):Gt(n)?(d=!0,f=n.some(T=>io(T)||gf(T)),u=()=>n.map(T=>{if(Ce(T))return T.value;if(io(T))return Fo(T);if(Ut(T))return ao(T,c,2)})):Ut(n)?e?u=()=>ao(n,c,2):u=()=>{if(!(c&&c.isUnmounted))return v&&v(),Kr(n,c,3,[g])}:u=Hr,e&&r){const T=u;u=()=>Fo(T())}let v,g=T=>{v=E.onStop=()=>{ao(T,c,4)}};if(Za)return g=Hr,e?t&&Kr(e,c,3,[u(),d?[]:void 0,g]):u(),Hr;let b=d?[]:Ng;const _=()=>{if(!!E.active)if(e){const T=E.run();(r||f||(d?T.some((I,O)=>Ya(I,b[O])):Ya(T,b)))&&(v&&v(),Kr(e,c,3,[T,b===Ng?void 0:b,g]),b=T)}else E.run()};_.allowRecurse=!!e;let w;o==="sync"?w=_:o==="post"?w=()=>or(_,c&&c.suspense):w=()=>QE(_);const E=new lh(u,w);return e?t?_():b=E.run():o==="post"?or(E.run.bind(E),c&&c.suspense):E.run(),()=>{E.stop(),c&&c.scope&&oh(c.scope.effects,E)}}function lC(n,e,t){const r=this.proxy,o=Xe(n)?n.includes(".")?Gb(r,n):()=>r[n]:n.bind(r,r);let i;Ut(e)?i=e:(i=e.handler,t=e);const s=ze;zi(this);const c=zb(o,i.bind(r),t);return s?zi(s):Uo(),c}function Gb(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function Fo(n,e){if(!Ve(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ce(n))Fo(n.value,e);else if(Gt(n))for(let t=0;t<n.length;t++)Fo(n[t],e);else if(lE(n)||La(n))n.forEach(t=>{Fo(t,e)});else if(fE(n))for(const t in n)Fo(n[t],e);return n}function ls(n){return Ut(n)?{setup:n,name:n.name}:n}const Ml=n=>!!n.type.__asyncLoader,Bb=n=>n.type.__isKeepAlive;function cC(n,e){Wb(n,"a",e)}function uC(n,e){Wb(n,"da",e)}function Wb(n,e,t=ze){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(fc(e,r,t),t){let o=t.parent;for(;o&&o.parent;)Bb(o.parent.vnode)&&fC(r,e,t,o),o=o.parent}}function fC(n,e,t,r){const o=fc(e,n,r,!0);vh(()=>{oh(r[e],o)},t)}function fc(n,e,t=ze,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;Hi(),zi(t);const c=Kr(e,t,n,s);return Uo(),Ki(),c});return r?o.unshift(i):o.push(i),i}}const Sn=n=>(e,t=ze)=>(!Za||n==="sp")&&fc(n,e,t),hC=Sn("bm"),Ub=Sn("m"),dC=Sn("bu"),pC=Sn("u"),gC=Sn("bum"),vh=Sn("um"),vC=Sn("sp"),bC=Sn("rtg"),mC=Sn("rtc");function _C(n,e=ze){fc("ec",n,e)}function zg(n,e){const t=Xr;if(t===null)return n;const r=dc(t)||t.proxy,o=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,c,u,f=ue]=e[i];Ut(s)&&(s={mounted:s,updated:s}),s.deep&&Fo(c),o.push({dir:s,instance:r,value:c,oldValue:void 0,arg:u,modifiers:f})}return n}function Ro(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const c=o[s];i&&(c.oldValue=i[s].value);let u=c.dir[r];u&&(Hi(),Kr(u,t,8,[n.el,c,n,e]),Ki())}}const yC=Symbol(),_f=n=>n?tm(n)?dc(n)||n.proxy:_f(n.parent):null,Wl=Je(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>_f(n.parent),$root:n=>_f(n.root),$emit:n=>n.emit,$options:n=>Xb(n),$forceUpdate:n=>n.f||(n.f=()=>Sb(n.update)),$nextTick:n=>n.n||(n.n=gh.bind(n.proxy)),$watch:n=>lC.bind(n)}),xC={get({_:n},e){const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:c,appContext:u}=n;let f;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(r!==ue&&qt(r,e))return s[e]=1,r[e];if(o!==ue&&qt(o,e))return s[e]=2,o[e];if((f=n.propsOptions[0])&&qt(f,e))return s[e]=3,i[e];if(t!==ue&&qt(t,e))return s[e]=4,t[e];yf&&(s[e]=0)}}const d=Wl[e];let v,g;if(d)return e==="$attrs"&&gr(n,"get",e),d(n);if((v=c.__cssModules)&&(v=v[e]))return v;if(t!==ue&&qt(t,e))return s[e]=4,t[e];if(g=u.config.globalProperties,qt(g,e))return g[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return o!==ue&&qt(o,e)?(o[e]=t,!0):r!==ue&&qt(r,e)?(r[e]=t,!0):qt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let c;return!!t[s]||n!==ue&&qt(n,s)||e!==ue&&qt(e,s)||(c=i[0])&&qt(c,s)||qt(r,s)||qt(Wl,s)||qt(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:qt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let yf=!0;function wC(n){const e=Xb(n),t=n.proxy,r=n.ctx;yf=!1,e.beforeCreate&&Gg(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:c,provide:u,inject:f,created:d,beforeMount:v,mounted:g,beforeUpdate:b,updated:_,activated:w,deactivated:E,beforeDestroy:T,beforeUnmount:I,destroyed:O,unmounted:L,render:D,renderTracked:X,renderTriggered:G,errorCaptured:B,serverPrefetch:Q,expose:lt,inheritAttrs:ft,components:gt,directives:pt,filters:mt}=e;if(f&&kC(f,r,null,n.appContext.config.unwrapInjectedRef),s)for(const tt in s){const st=s[tt];Ut(st)&&(r[tt]=st.bind(t))}if(o){const tt=o.call(t,t);Ve(tt)&&(n.data=ji(tt))}if(yf=!0,i)for(const tt in i){const st=i[tt],_t=Ut(st)?st.bind(t,t):Ut(st.get)?st.get.bind(t,t):Hr,Ot=!Ut(st)&&Ut(st.set)?st.set.bind(t):Hr,St=Ur({get:_t,set:Ot});Object.defineProperty(r,tt,{enumerable:!0,configurable:!0,get:()=>St.value,set:j=>St.value=j})}if(c)for(const tt in c)Yb(c[tt],r,t,tt);if(u){const tt=Ut(u)?u.call(t):u;Reflect.ownKeys(tt).forEach(st=>{Ll(st,tt[st])})}d&&Gg(d,n,"c");function ct(tt,st){Gt(st)?st.forEach(_t=>tt(_t.bind(t))):st&&tt(st.bind(t))}if(ct(hC,v),ct(Ub,g),ct(dC,b),ct(pC,_),ct(cC,w),ct(uC,E),ct(_C,B),ct(mC,X),ct(bC,G),ct(gC,I),ct(vh,L),ct(vC,Q),Gt(lt))if(lt.length){const tt=n.exposed||(n.exposed={});lt.forEach(st=>{Object.defineProperty(tt,st,{get:()=>t[st],set:_t=>t[st]=_t})})}else n.exposed||(n.exposed={});D&&n.render===Hr&&(n.render=D),ft!=null&&(n.inheritAttrs=ft),gt&&(n.components=gt),pt&&(n.directives=pt)}function kC(n,e,t=Hr,r=!1){Gt(n)&&(n=xf(n));for(const o in n){const i=n[o];let s;Ve(i)?"default"in i?s=Tn(i.from||o,i.default,!0):s=Tn(i.from||o):s=Tn(i),Ce(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):e[o]=s}}function Gg(n,e,t){Kr(Gt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function Yb(n,e,t,r){const o=r.includes(".")?Gb(t,r):()=>t[r];if(Xe(n)){const i=e[n];Ut(i)&&Wo(o,i)}else if(Ut(n))Wo(o,n.bind(t));else if(Ve(n))if(Gt(n))n.forEach(i=>Yb(i,e,t,r));else{const i=Ut(n.handler)?n.handler.bind(t):e[n.handler];Ut(i)&&Wo(o,i,n)}}function Xb(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,c=i.get(e);let u;return c?u=c:!o.length&&!t&&!r?u=e:(u={},o.length&&o.forEach(f=>Ul(u,f,s,!0)),Ul(u,e,s)),i.set(e,u),u}function Ul(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Ul(n,i,t,!0),o&&o.forEach(s=>Ul(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const c=EC[s]||t&&t[s];n[s]=c?c(n[s],e[s]):e[s]}return n}const EC={data:Bg,props:So,emits:So,methods:So,computed:So,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:So,directives:So,watch:TC,provide:Bg,inject:CC};function Bg(n,e){return e?n?function(){return Je(Ut(n)?n.call(this,this):n,Ut(e)?e.call(this,this):e)}:e:n}function CC(n,e){return So(xf(n),xf(e))}function xf(n){if(Gt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Ze(n,e){return n?[...new Set([].concat(n,e))]:e}function So(n,e){return n?Je(Je(Object.create(null),n),e):e}function TC(n,e){if(!n)return e;if(!e)return n;const t=Je(Object.create(null),n);for(const r in e)t[r]=Ze(n[r],e[r]);return t}function RC(n,e,t,r=!1){const o={},i={};zl(i,hc,1),n.propsDefaults=Object.create(null),Vb(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:WE(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function AC(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,c=ne(o),[u]=n.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=n.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];if(uc(n.emitsOptions,g))continue;const b=e[g];if(u)if(qt(i,g))b!==i[g]&&(i[g]=b,f=!0);else{const _=Fi(g);o[_]=wf(u,c,_,b,n,!1)}else b!==i[g]&&(i[g]=b,f=!0)}}}else{Vb(n,e,o,i)&&(f=!0);let d;for(const v in c)(!e||!qt(e,v)&&((d=Vi(v))===v||!qt(e,d)))&&(u?t&&(t[v]!==void 0||t[d]!==void 0)&&(o[v]=wf(u,c,v,void 0,n,!0)):delete o[v]);if(i!==c)for(const v in i)(!e||!qt(e,v)&&!0)&&(delete i[v],f=!0)}f&&In(n,"set","$attrs")}function Vb(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,c;if(e)for(let u in e){if(Sl(u))continue;const f=e[u];let d;o&&qt(o,d=Fi(u))?!i||!i.includes(d)?t[d]=f:(c||(c={}))[d]=f:uc(n.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(i){const u=ne(t),f=c||ue;for(let d=0;d<i.length;d++){const v=i[d];t[v]=wf(o,u,v,f[v],n,!qt(f,v))}}return s}function wf(n,e,t,r,o,i){const s=n[t];if(s!=null){const c=qt(s,"default");if(c&&r===void 0){const u=s.default;if(s.type!==Function&&Ut(u)){const{propsDefaults:f}=o;t in f?r=f[t]:(zi(o),r=f[t]=u.call(null,e),Uo())}else r=u}s[0]&&(i&&!c?r=!1:s[1]&&(r===""||r===Vi(t))&&(r=!0))}return r}function Hb(n,e,t=!1){const r=e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},c=[];let u=!1;if(!Ut(n)){const d=v=>{u=!0;const[g,b]=Hb(v,e,!0);Je(s,g),b&&c.push(...b)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!i&&!u)return r.set(n,Pi),Pi;if(Gt(i))for(let d=0;d<i.length;d++){const v=Fi(i[d]);Wg(v)&&(s[v]=ue)}else if(i)for(const d in i){const v=Fi(d);if(Wg(v)){const g=i[d],b=s[v]=Gt(g)||Ut(g)?{type:g}:g;if(b){const _=Xg(Boolean,b.type),w=Xg(String,b.type);b[0]=_>-1,b[1]=w<0||_<w,(_>-1||qt(b,"default"))&&c.push(v)}}}const f=[s,c];return r.set(n,f),f}function Wg(n){return n[0]!=="$"}function Ug(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function Yg(n,e){return Ug(n)===Ug(e)}function Xg(n,e){return Gt(e)?e.findIndex(t=>Yg(t,n)):Ut(e)&&Yg(e,n)?0:-1}const Kb=n=>n[0]==="_"||n==="$stable",bh=n=>Gt(n)?n.map(rn):[rn(n)],IC=(n,e,t)=>{if(e._n)return e;const r=mf((...o)=>bh(e(...o)),t);return r._c=!1,r},jb=(n,e,t)=>{const r=n._ctx;for(const o in n){if(Kb(o))continue;const i=n[o];if(Ut(i))e[o]=IC(o,i,r);else if(i!=null){const s=bh(i);e[o]=()=>s}}},Zb=(n,e)=>{const t=bh(e);n.slots.default=()=>t},OC=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ne(e),zl(e,"_",t)):jb(e,n.slots={})}else n.slots={},e&&Zb(n,e);zl(n.slots,hc,1)},SC=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=ue;if(r.shapeFlag&32){const c=e._;c?t&&c===1?i=!1:(Je(o,e),!t&&c===1&&delete o._):(i=!e.$stable,jb(e,o)),s=e}else e&&(Zb(n,e),s={default:1});if(i)for(const c in o)!Kb(c)&&!(c in s)&&delete o[c]};function $b(){return{app:null,config:{isNativeTag:iE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PC=0;function LC(n,e){return function(r,o=null){Ut(r)||(r=Object.assign({},r)),o!=null&&!Ve(o)&&(o=null);const i=$b(),s=new Set;let c=!1;const u=i.app={_uid:PC++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:qC,get config(){return i.config},set config(f){},use(f,...d){return s.has(f)||(f&&Ut(f.install)?(s.add(f),f.install(u,...d)):Ut(f)&&(s.add(f),f(u,...d))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,d){return d?(i.components[f]=d,u):i.components[f]},directive(f,d){return d?(i.directives[f]=d,u):i.directives[f]},mount(f,d,v){if(!c){const g=qe(r,o);return g.appContext=i,d&&e?e(g,f):n(g,f,v),c=!0,u._container=f,f.__vue_app__=u,dc(g.component)||g.component.proxy}},unmount(){c&&(n(null,u._container),delete u._container.__vue_app__)},provide(f,d){return i.provides[f]=d,u}};return u}}function kf(n,e,t,r,o=!1){if(Gt(n)){n.forEach((g,b)=>kf(g,e&&(Gt(e)?e[b]:e),t,r,o));return}if(Ml(r)&&!o)return;const i=r.shapeFlag&4?dc(r.component)||r.component.proxy:r.el,s=o?null:i,{i:c,r:u}=n,f=e&&e.r,d=c.refs===ue?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==u&&(Xe(f)?(d[f]=null,qt(v,f)&&(v[f]=null)):Ce(f)&&(f.value=null)),Ut(u))ao(u,c,12,[s,d]);else{const g=Xe(u),b=Ce(u);if(g||b){const _=()=>{if(n.f){const w=g?d[u]:u.value;o?Gt(w)&&oh(w,i):Gt(w)?w.includes(i)||w.push(i):g?(d[u]=[i],qt(v,u)&&(v[u]=d[u])):(u.value=[i],n.k&&(d[n.k]=u.value))}else g?(d[u]=s,qt(v,u)&&(v[u]=s)):b&&(u.value=s,n.k&&(d[n.k]=s))};s?(_.id=-1,or(_,t)):_()}}}const or=sC;function MC(n){return FC(n)}function FC(n,e){const t=pE();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:c,createComment:u,setText:f,setElementText:d,parentNode:v,nextSibling:g,setScopeId:b=Hr,cloneNode:_,insertStaticContent:w}=n,E=(k,A,M,V=null,W=null,J=null,rt=!1,Z=null,$=!!A.dynamicChildren)=>{if(k===A)return;k&&!xa(k,A)&&(V=ot(k),Yt(k,W,J,!0),k=null),A.patchFlag===-2&&($=!1,A.dynamicChildren=null);const{type:H,ref:ht,shapeFlag:ut}=A;switch(H){case mh:T(k,A,M,V);break;case Ka:I(k,A,M,V);break;case Yu:k==null&&O(A,M,V,rt);break;case Br:pt(k,A,M,V,W,J,rt,Z,$);break;default:ut&1?X(k,A,M,V,W,J,rt,Z,$):ut&6?mt(k,A,M,V,W,J,rt,Z,$):(ut&64||ut&128)&&H.process(k,A,M,V,W,J,rt,Z,$,Zt)}ht!=null&&W&&kf(ht,k&&k.ref,J,A||k,!A)},T=(k,A,M,V)=>{if(k==null)r(A.el=c(A.children),M,V);else{const W=A.el=k.el;A.children!==k.children&&f(W,A.children)}},I=(k,A,M,V)=>{k==null?r(A.el=u(A.children||""),M,V):A.el=k.el},O=(k,A,M,V)=>{[k.el,k.anchor]=w(k.children,A,M,V,k.el,k.anchor)},L=({el:k,anchor:A},M,V)=>{let W;for(;k&&k!==A;)W=g(k),r(k,M,V),k=W;r(A,M,V)},D=({el:k,anchor:A})=>{let M;for(;k&&k!==A;)M=g(k),o(k),k=M;o(A)},X=(k,A,M,V,W,J,rt,Z,$)=>{rt=rt||A.type==="svg",k==null?G(A,M,V,W,J,rt,Z,$):lt(k,A,W,J,rt,Z,$)},G=(k,A,M,V,W,J,rt,Z)=>{let $,H;const{type:ht,props:ut,shapeFlag:vt,transition:xt,patchFlag:Pt,dirs:Lt}=k;if(k.el&&_!==void 0&&Pt===-1)$=k.el=_(k.el);else{if($=k.el=s(k.type,J,ut&&ut.is,ut),vt&8?d($,k.children):vt&16&&Q(k.children,$,null,V,W,J&&ht!=="foreignObject",rt,Z),Lt&&Ro(k,null,V,"created"),ut){for(const Xt in ut)Xt!=="value"&&!Sl(Xt)&&i($,Xt,null,ut[Xt],J,k.children,V,W,q);"value"in ut&&i($,"value",null,ut.value),(H=ut.onVnodeBeforeMount)&&tn(H,V,k)}B($,k,k.scopeId,rt,V)}Lt&&Ro(k,null,V,"beforeMount");const Nt=(!W||W&&!W.pendingBranch)&&xt&&!xt.persisted;Nt&&xt.beforeEnter($),r($,A,M),((H=ut&&ut.onVnodeMounted)||Nt||Lt)&&or(()=>{H&&tn(H,V,k),Nt&&xt.enter($),Lt&&Ro(k,null,V,"mounted")},W)},B=(k,A,M,V,W)=>{if(M&&b(k,M),V)for(let J=0;J<V.length;J++)b(k,V[J]);if(W){let J=W.subTree;if(A===J){const rt=W.vnode;B(k,rt,rt.scopeId,rt.slotScopeIds,W.parent)}}},Q=(k,A,M,V,W,J,rt,Z,$=0)=>{for(let H=$;H<k.length;H++){const ht=k[H]=Z?qn(k[H]):rn(k[H]);E(null,ht,A,M,V,W,J,rt,Z)}},lt=(k,A,M,V,W,J,rt)=>{const Z=A.el=k.el;let{patchFlag:$,dynamicChildren:H,dirs:ht}=A;$|=k.patchFlag&16;const ut=k.props||ue,vt=A.props||ue;let xt;M&&Ao(M,!1),(xt=vt.onVnodeBeforeUpdate)&&tn(xt,M,A,k),ht&&Ro(A,k,M,"beforeUpdate"),M&&Ao(M,!0);const Pt=W&&A.type!=="foreignObject";if(H?ft(k.dynamicChildren,H,Z,M,V,Pt,J):rt||_t(k,A,Z,null,M,V,Pt,J,!1),$>0){if($&16)gt(Z,A,ut,vt,M,V,W);else if($&2&&ut.class!==vt.class&&i(Z,"class",null,vt.class,W),$&4&&i(Z,"style",ut.style,vt.style,W),$&8){const Lt=A.dynamicProps;for(let Nt=0;Nt<Lt.length;Nt++){const Xt=Lt[Nt],we=ut[Xt],de=vt[Xt];(de!==we||Xt==="value")&&i(Z,Xt,we,de,W,k.children,M,V,q)}}$&1&&k.children!==A.children&&d(Z,A.children)}else!rt&&H==null&&gt(Z,A,ut,vt,M,V,W);((xt=vt.onVnodeUpdated)||ht)&&or(()=>{xt&&tn(xt,M,A,k),ht&&Ro(A,k,M,"updated")},V)},ft=(k,A,M,V,W,J,rt)=>{for(let Z=0;Z<A.length;Z++){const $=k[Z],H=A[Z],ht=$.el&&($.type===Br||!xa($,H)||$.shapeFlag&70)?v($.el):M;E($,H,ht,null,V,W,J,rt,!0)}},gt=(k,A,M,V,W,J,rt)=>{if(M!==V){for(const Z in V){if(Sl(Z))continue;const $=V[Z],H=M[Z];$!==H&&Z!=="value"&&i(k,Z,H,$,rt,A.children,W,J,q)}if(M!==ue)for(const Z in M)!Sl(Z)&&!(Z in V)&&i(k,Z,M[Z],null,rt,A.children,W,J,q);"value"in V&&i(k,"value",M.value,V.value)}},pt=(k,A,M,V,W,J,rt,Z,$)=>{const H=A.el=k?k.el:c(""),ht=A.anchor=k?k.anchor:c("");let{patchFlag:ut,dynamicChildren:vt,slotScopeIds:xt}=A;xt&&(Z=Z?Z.concat(xt):xt),k==null?(r(H,M,V),r(ht,M,V),Q(A.children,M,ht,W,J,rt,Z,$)):ut>0&&ut&64&&vt&&k.dynamicChildren?(ft(k.dynamicChildren,vt,M,W,J,rt,Z),(A.key!=null||W&&A===W.subTree)&&qb(k,A,!0)):_t(k,A,M,ht,W,J,rt,Z,$)},mt=(k,A,M,V,W,J,rt,Z,$)=>{A.slotScopeIds=Z,k==null?A.shapeFlag&512?W.ctx.activate(A,M,V,rt,$):nt(A,M,V,W,J,rt,$):ct(k,A,$)},nt=(k,A,M,V,W,J,rt)=>{const Z=k.component=VC(k,V,W);if(Bb(k)&&(Z.ctx.renderer=Zt),HC(Z),Z.asyncDep){if(W&&W.registerDep(Z,tt),!k.el){const $=Z.subTree=qe(Ka);I(null,$,A,M)}return}tt(Z,k,A,M,W,J,rt)},ct=(k,A,M)=>{const V=A.component=k.component;if(oC(k,A,M))if(V.asyncDep&&!V.asyncResolved){st(V,A,M);return}else V.next=A,JE(V.update),V.update();else A.el=k.el,V.vnode=A},tt=(k,A,M,V,W,J,rt)=>{const Z=()=>{if(k.isMounted){let{next:ht,bu:ut,u:vt,parent:xt,vnode:Pt}=k,Lt=ht,Nt;Ao(k,!1),ht?(ht.el=Pt.el,st(k,ht,rt)):ht=Pt,ut&&Pl(ut),(Nt=ht.props&&ht.props.onVnodeBeforeUpdate)&&tn(Nt,xt,ht,Pt),Ao(k,!0);const Xt=Uu(k),we=k.subTree;k.subTree=Xt,E(we,Xt,v(we.el),ot(we),k,W,J),ht.el=Xt.el,Lt===null&&iC(k,Xt.el),vt&&or(vt,W),(Nt=ht.props&&ht.props.onVnodeUpdated)&&or(()=>tn(Nt,xt,ht,Pt),W)}else{let ht;const{el:ut,props:vt}=A,{bm:xt,m:Pt,parent:Lt}=k,Nt=Ml(A);if(Ao(k,!1),xt&&Pl(xt),!Nt&&(ht=vt&&vt.onVnodeBeforeMount)&&tn(ht,Lt,A),Ao(k,!0),ut&&Et){const Xt=()=>{k.subTree=Uu(k),Et(ut,k.subTree,k,W,null)};Nt?A.type.__asyncLoader().then(()=>!k.isUnmounted&&Xt()):Xt()}else{const Xt=k.subTree=Uu(k);E(null,Xt,M,V,k,W,J),A.el=Xt.el}if(Pt&&or(Pt,W),!Nt&&(ht=vt&&vt.onVnodeMounted)){const Xt=A;or(()=>tn(ht,Lt,Xt),W)}(A.shapeFlag&256||Lt&&Ml(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&k.a&&or(k.a,W),k.isMounted=!0,A=M=V=null}},$=k.effect=new lh(Z,()=>Sb(H),k.scope),H=k.update=()=>$.run();H.id=k.uid,Ao(k,!0),H()},st=(k,A,M)=>{A.component=k;const V=k.vnode.props;k.vnode=A,k.next=null,AC(k,A.props,V,M),SC(k,A.children,M),Hi(),cc(void 0,k.update),Ki()},_t=(k,A,M,V,W,J,rt,Z,$=!1)=>{const H=k&&k.children,ht=k?k.shapeFlag:0,ut=A.children,{patchFlag:vt,shapeFlag:xt}=A;if(vt>0){if(vt&128){St(H,ut,M,V,W,J,rt,Z,$);return}else if(vt&256){Ot(H,ut,M,V,W,J,rt,Z,$);return}}xt&8?(ht&16&&q(H,W,J),ut!==H&&d(M,ut)):ht&16?xt&16?St(H,ut,M,V,W,J,rt,Z,$):q(H,W,J,!0):(ht&8&&d(M,""),xt&16&&Q(ut,M,V,W,J,rt,Z,$))},Ot=(k,A,M,V,W,J,rt,Z,$)=>{k=k||Pi,A=A||Pi;const H=k.length,ht=A.length,ut=Math.min(H,ht);let vt;for(vt=0;vt<ut;vt++){const xt=A[vt]=$?qn(A[vt]):rn(A[vt]);E(k[vt],xt,M,null,W,J,rt,Z,$)}H>ht?q(k,W,J,!0,!1,ut):Q(A,M,V,W,J,rt,Z,$,ut)},St=(k,A,M,V,W,J,rt,Z,$)=>{let H=0;const ht=A.length;let ut=k.length-1,vt=ht-1;for(;H<=ut&&H<=vt;){const xt=k[H],Pt=A[H]=$?qn(A[H]):rn(A[H]);if(xa(xt,Pt))E(xt,Pt,M,null,W,J,rt,Z,$);else break;H++}for(;H<=ut&&H<=vt;){const xt=k[ut],Pt=A[vt]=$?qn(A[vt]):rn(A[vt]);if(xa(xt,Pt))E(xt,Pt,M,null,W,J,rt,Z,$);else break;ut--,vt--}if(H>ut){if(H<=vt){const xt=vt+1,Pt=xt<ht?A[xt].el:V;for(;H<=vt;)E(null,A[H]=$?qn(A[H]):rn(A[H]),M,Pt,W,J,rt,Z,$),H++}}else if(H>vt)for(;H<=ut;)Yt(k[H],W,J,!0),H++;else{const xt=H,Pt=H,Lt=new Map;for(H=Pt;H<=vt;H++){const pe=A[H]=$?qn(A[H]):rn(A[H]);pe.key!=null&&Lt.set(pe.key,H)}let Nt,Xt=0;const we=vt-Pt+1;let de=!1,Lr=0;const se=new Array(we);for(H=0;H<we;H++)se[H]=0;for(H=xt;H<=ut;H++){const pe=k[H];if(Xt>=we){Yt(pe,W,J,!0);continue}let Fe;if(pe.key!=null)Fe=Lt.get(pe.key);else for(Nt=Pt;Nt<=vt;Nt++)if(se[Nt-Pt]===0&&xa(pe,A[Nt])){Fe=Nt;break}Fe===void 0?Yt(pe,W,J,!0):(se[Fe-Pt]=H+1,Fe>=Lr?Lr=Fe:de=!0,E(pe,A[Fe],M,null,W,J,rt,Z,$),Xt++)}const ar=de?DC(se):Pi;for(Nt=ar.length-1,H=we-1;H>=0;H--){const pe=Pt+H,Fe=A[pe],ho=pe+1<ht?A[pe+1].el:V;se[H]===0?E(null,Fe,M,ho,W,J,rt,Z,$):de&&(Nt<0||H!==ar[Nt]?j(Fe,M,ho,2):Nt--)}}},j=(k,A,M,V,W=null)=>{const{el:J,type:rt,transition:Z,children:$,shapeFlag:H}=k;if(H&6){j(k.component.subTree,A,M,V);return}if(H&128){k.suspense.move(A,M,V);return}if(H&64){rt.move(k,A,M,Zt);return}if(rt===Br){r(J,A,M);for(let ut=0;ut<$.length;ut++)j($[ut],A,M,V);r(k.anchor,A,M);return}if(rt===Yu){L(k,A,M);return}if(V!==2&&H&1&&Z)if(V===0)Z.beforeEnter(J),r(J,A,M),or(()=>Z.enter(J),W);else{const{leave:ut,delayLeave:vt,afterLeave:xt}=Z,Pt=()=>r(J,A,M),Lt=()=>{ut(J,()=>{Pt(),xt&&xt()})};vt?vt(J,Pt,Lt):Lt()}else r(J,A,M)},Yt=(k,A,M,V=!1,W=!1)=>{const{type:J,props:rt,ref:Z,children:$,dynamicChildren:H,shapeFlag:ht,patchFlag:ut,dirs:vt}=k;if(Z!=null&&kf(Z,null,M,k,!0),ht&256){A.ctx.deactivate(k);return}const xt=ht&1&&vt,Pt=!Ml(k);let Lt;if(Pt&&(Lt=rt&&rt.onVnodeBeforeUnmount)&&tn(Lt,A,k),ht&6)et(k.component,M,V);else{if(ht&128){k.suspense.unmount(M,V);return}xt&&Ro(k,null,A,"beforeUnmount"),ht&64?k.type.remove(k,A,M,W,Zt,V):H&&(J!==Br||ut>0&&ut&64)?q(H,A,M,!1,!0):(J===Br&&ut&384||!W&&ht&16)&&q($,A,M),V&&kt(k)}(Pt&&(Lt=rt&&rt.onVnodeUnmounted)||xt)&&or(()=>{Lt&&tn(Lt,A,k),xt&&Ro(k,null,A,"unmounted")},M)},kt=k=>{const{type:A,el:M,anchor:V,transition:W}=k;if(A===Br){N(M,V);return}if(A===Yu){D(k);return}const J=()=>{o(M),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:rt,delayLeave:Z}=W,$=()=>rt(M,J);Z?Z(k.el,J,$):$()}else J()},N=(k,A)=>{let M;for(;k!==A;)M=g(k),o(k),k=M;o(A)},et=(k,A,M)=>{const{bum:V,scope:W,update:J,subTree:rt,um:Z}=k;V&&Pl(V),W.stop(),J&&(J.active=!1,Yt(rt,k,A,M)),Z&&or(Z,A),or(()=>{k.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},q=(k,A,M,V=!1,W=!1,J=0)=>{for(let rt=J;rt<k.length;rt++)Yt(k[rt],A,M,V,W)},ot=k=>k.shapeFlag&6?ot(k.component.subTree):k.shapeFlag&128?k.suspense.next():g(k.anchor||k.el),It=(k,A,M)=>{k==null?A._vnode&&Yt(A._vnode,null,null,!0):E(A._vnode||null,k,A,null,null,null,M),Mb(),A._vnode=k},Zt={p:E,um:Yt,m:j,r:kt,mt:nt,mc:Q,pc:_t,pbc:ft,n:ot,o:n};let yt,Et;return e&&([yt,Et]=e(Zt)),{render:It,hydrate:yt,createApp:LC(It,yt)}}function Ao({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function qb(n,e,t=!1){const r=n.children,o=e.children;if(Gt(r)&&Gt(o))for(let i=0;i<r.length;i++){const s=r[i];let c=o[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[i]=qn(o[i]),c.el=s.el),t||qb(s,c))}}function DC(n){const e=n.slice(),t=[0];let r,o,i,s,c;const u=n.length;for(r=0;r<u;r++){const f=n[r];if(f!==0){if(o=t[t.length-1],n[o]<f){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)c=i+s>>1,n[t[c]]<f?i=c+1:s=c;f<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const NC=n=>n.__isTeleport,Br=Symbol(void 0),mh=Symbol(void 0),Ka=Symbol(void 0),Yu=Symbol(void 0),Da=[];let Vr=null;function _h(n=!1){Da.push(Vr=n?null:[])}function zC(){Da.pop(),Vr=Da[Da.length-1]||null}let ja=1;function Vg(n){ja+=n}function GC(n){return n.dynamicChildren=ja>0?Vr||Pi:null,zC(),ja>0&&Vr&&Vr.push(n),n}function yh(n,e,t,r,o,i){return GC(Le(n,e,t,r,o,i,!0))}function Ef(n){return n?n.__v_isVNode===!0:!1}function xa(n,e){return n.type===e.type&&n.key===e.key}const hc="__vInternal",Jb=({key:n})=>n!=null?n:null,Fl=({ref:n,ref_key:e,ref_for:t})=>n!=null?Xe(n)||Ce(n)||Ut(n)?{i:Xr,r:n,k:e,f:!!t}:n:null;function Le(n,e=null,t=null,r=0,o=null,i=n===Br?0:1,s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Jb(e),ref:e&&Fl(e),scopeId:Nb,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(wh(u,t),i&128&&n.normalize(u)):t&&(u.shapeFlag|=Xe(t)?8:16),ja>0&&!s&&Vr&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Vr.push(u),u}const qe=BC;function BC(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===yC)&&(n=Ka),Ef(n)){const c=Ni(n,e,!0);return t&&wh(c,t),ja>0&&!i&&Vr&&(c.shapeFlag&6?Vr[Vr.indexOf(n)]=c:Vr.push(c)),c.patchFlag|=-2,c}if($C(n)&&(n=n.__vccOpts),e){e=WC(e);let{class:c,style:u}=e;c&&!Xe(c)&&(e.class=rh(c)),Ve(u)&&(Cb(u)&&!Gt(u)&&(u=Je({},u)),e.style=eh(u))}const s=Xe(n)?1:aC(n)?128:NC(n)?64:Ve(n)?4:Ut(n)?2:0;return Le(n,e,t,r,o,s,i,!0)}function WC(n){return n?Cb(n)||hc in n?Je({},n):n:null}function Ni(n,e,t=!1){const{props:r,ref:o,patchFlag:i,children:s}=n,c=e?UC(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&Jb(c),ref:e&&e.ref?t&&o?Gt(o)?o.concat(Fl(e)):[o,Fl(e)]:Fl(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Br?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ni(n.ssContent),ssFallback:n.ssFallback&&Ni(n.ssFallback),el:n.el,anchor:n.anchor}}function xh(n=" ",e=0){return qe(mh,null,n,e)}function rn(n){return n==null||typeof n=="boolean"?qe(Ka):Gt(n)?qe(Br,null,n.slice()):typeof n=="object"?qn(n):qe(mh,null,String(n))}function qn(n){return n.el===null||n.memo?n:Ni(n)}function wh(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(Gt(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),wh(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(hc in e)?e._ctx=Xr:o===3&&Xr&&(Xr.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:Xr},t=32):(e=String(e),r&64?(t=16,e=[xh(e)]):t=8);n.children=e,n.shapeFlag|=t}function UC(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=rh([e.class,r.class]));else if(o==="style")e.style=eh([e.style,r.style]);else if(nc(o)){const i=e[o],s=r[o];s&&i!==s&&!(Gt(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function tn(n,e,t,r=null){Kr(n,e,7,[t,r])}const YC=$b();let XC=0;function VC(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||YC,i={uid:XC++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new hb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hb(r,o),emitsOptions:Db(r,o),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:r.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=eC.bind(null,i),n.ce&&n.ce(i),i}let ze=null;const Qb=()=>ze||Xr,zi=n=>{ze=n,n.scope.on()},Uo=()=>{ze&&ze.scope.off(),ze=null};function tm(n){return n.vnode.shapeFlag&4}let Za=!1;function HC(n,e=!1){Za=e;const{props:t,children:r}=n.vnode,o=tm(n);RC(n,t,o,e),OC(n,r);const i=o?KC(n,e):void 0;return Za=!1,i}function KC(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Di(new Proxy(n.ctx,xC));const{setup:r}=t;if(r){const o=n.setupContext=r.length>1?ZC(n):null;zi(n),Hi();const i=ao(r,n,0,[n.props,o]);if(Ki(),Uo(),ub(i)){if(i.then(Uo,Uo),e)return i.then(s=>{Hg(n,s,e)}).catch(s=>{lc(s,n,0)});n.asyncDep=i}else Hg(n,i,e)}else em(n,e)}function Hg(n,e,t){Ut(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Ve(e)&&(n.setupState=Ib(e)),em(n,t)}let Kg;function em(n,e,t){const r=n.type;if(!n.render){if(!e&&Kg&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:c,compilerOptions:u}=r,f=Je(Je({isCustomElement:i,delimiters:c},s),u);r.render=Kg(o,f)}}n.render=r.render||Hr}zi(n),Hi(),wC(n),Ki(),Uo()}function jC(n){return new Proxy(n.attrs,{get(e,t){return gr(n,"get","$attrs"),e[t]}})}function ZC(n){const e=r=>{n.exposed=r||{}};let t;return{get attrs(){return t||(t=jC(n))},slots:n.slots,emit:n.emit,expose:e}}function dc(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Ib(Di(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Wl)return Wl[t](n)}}))}function $C(n){return Ut(n)&&"__vccOpts"in n}const Ur=(n,e)=>ZE(n,e,Za);function rm(n,e,t){const r=arguments.length;return r===2?Ve(e)&&!Gt(e)?Ef(e)?qe(n,null,[e]):qe(n,e):qe(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Ef(t)&&(t=[t]),qe(n,e,t))}const qC="3.2.37",JC="http://www.w3.org/2000/svg",Lo=typeof document!="undefined"?document:null,jg=Lo&&Lo.createElement("template"),QC={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e?Lo.createElementNS(JC,n):Lo.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>Lo.createTextNode(n),createComment:n=>Lo.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Lo.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{jg.innerHTML=r?`<svg>${n}</svg>`:n;const c=jg.content;if(r){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function tT(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function eT(n,e,t){const r=n.style,o=Xe(t);if(t&&!o){for(const i in t)Cf(r,i,t[i]);if(e&&!Xe(e))for(const i in e)t[i]==null&&Cf(r,i,"")}else{const i=r.display;o?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=i)}}const Zg=/\s*!important$/;function Cf(n,e,t){if(Gt(t))t.forEach(r=>Cf(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=rT(n,e);Zg.test(t)?n.setProperty(Vi(r),t.replace(Zg,""),"important"):n[r]=t}}const $g=["Webkit","Moz","ms"],Xu={};function rT(n,e){const t=Xu[e];if(t)return t;let r=Fi(e);if(r!=="filter"&&r in n)return Xu[e]=r;r=fb(r);for(let o=0;o<$g.length;o++){const i=$g[o]+r;if(i in n)return Xu[e]=i}return e}const qg="http://www.w3.org/1999/xlink";function nT(n,e,t,r,o){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(qg,e.slice(6,e.length)):n.setAttributeNS(qg,e,t);else{const i=eE(e);t==null||i&&!cb(t)?n.removeAttribute(e):n.setAttribute(e,i?"":t)}}function oT(n,e,t,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const u=t==null?"":t;(n.value!==u||n.tagName==="OPTION")&&(n.value=u),t==null&&n.removeAttribute(e);return}let c=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=cb(t):t==null&&u==="string"?(t="",c=!0):u==="number"&&(t=0,c=!0)}try{n[e]=t}catch{}c&&n.removeAttribute(e)}const[nm,iT]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Tf=0;const aT=Promise.resolve(),sT=()=>{Tf=0},lT=()=>Tf||(aT.then(sT),Tf=nm());function ki(n,e,t,r){n.addEventListener(e,t,r)}function cT(n,e,t,r){n.removeEventListener(e,t,r)}function uT(n,e,t,r,o=null){const i=n._vei||(n._vei={}),s=i[e];if(r&&s)s.value=r;else{const[c,u]=fT(e);if(r){const f=i[e]=hT(r,o);ki(n,c,f,u)}else s&&(cT(n,c,s,u),i[e]=void 0)}}const Jg=/(?:Once|Passive|Capture)$/;function fT(n){let e;if(Jg.test(n)){e={};let t;for(;t=n.match(Jg);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Vi(n.slice(2)),e]}function hT(n,e){const t=r=>{const o=r.timeStamp||nm();(iT||o>=t.attached-1)&&Kr(dT(r,t.value),e,5,[r])};return t.value=n,t.attached=lT(),t}function dT(n,e){if(Gt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const Qg=/^on[a-z]/,pT=(n,e,t,r,o=!1,i,s,c,u)=>{e==="class"?tT(n,r,o):e==="style"?eT(n,t,r):nc(e)?nh(e)||uT(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gT(n,e,r,o))?oT(n,e,r,i,s,c,u):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),nT(n,e,r,o))};function gT(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&Qg.test(e)&&Ut(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||Qg.test(e)&&Xe(t)?!1:e in n}const tv=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Gt(e)?t=>Pl(e,t):e};function vT(n){n.target.composing=!0}function ev(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rv={created(n,{modifiers:{lazy:e,trim:t,number:r}},o){n._assign=tv(o);const i=r||o.props&&o.props.type==="number";ki(n,e?"change":"input",s=>{if(s.target.composing)return;let c=n.value;t&&(c=c.trim()),i&&(c=uf(c)),n._assign(c)}),t&&ki(n,"change",()=>{n.value=n.value.trim()}),e||(ki(n,"compositionstart",vT),ki(n,"compositionend",ev),ki(n,"change",ev))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:o}},i){if(n._assign=tv(i),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(o||n.type==="number")&&uf(n.value)===e))return;const s=e==null?"":e;n.value!==s&&(n.value=s)}},bT=Je({patchProp:pT},QC);let nv;function mT(){return nv||(nv=MC(bT))}const _T=(...n)=>{const e=mT().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=yT(r);if(!o)return;const i=e._component;!Ut(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function yT(n){return Xe(n)?document.querySelector(n):n}var xT=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let om;const pc=n=>om=n,im=Symbol();function Rf(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Na;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Na||(Na={}));function wT(){const n=db(!0),e=n.run(()=>sc({}));let t=[],r=[];const o=Di({install(i){pc(o),o._a=i,i.provide(im,o),i.config.globalProperties.$pinia=o,r.forEach(s=>t.push(s)),r=[]},use(i){return!this._a&&!xT?r.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return o}const am=()=>{};function ov(n,e,t,r=am){n.push(e);const o=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),r())};return!t&&Qb()&&vh(o),o}function gi(n,...e){n.slice().forEach(t=>{t(...e)})}function Af(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],o=n[t];Rf(o)&&Rf(r)&&n.hasOwnProperty(t)&&!Ce(r)&&!io(r)?n[t]=Af(o,r):n[t]=r}return n}const kT=Symbol();function ET(n){return!Rf(n)||!n.hasOwnProperty(kT)}const{assign:wn}=Object;function CT(n){return!!(Ce(n)&&n.effect)}function TT(n,e,t,r){const{state:o,actions:i,getters:s}=e,c=t.state.value[n];let u;function f(){c||(t.state.value[n]=o?o():{});const d=VE(t.state.value[n]);return wn(d,i,Object.keys(s||{}).reduce((v,g)=>(v[g]=Di(Ur(()=>{pc(t);const b=t._s.get(n);return s[g].call(b,b)})),v),{}))}return u=sm(n,f,e,t,r,!0),u.$reset=function(){const v=o?o():{};this.$patch(g=>{wn(g,v)})},u}function sm(n,e,t={},r,o,i){let s;const c=wn({actions:{}},t),u={deep:!0};let f,d,v=Di([]),g=Di([]),b;const _=r.state.value[n];!i&&!_&&(r.state.value[n]={}),sc({});let w;function E(G){let B;f=d=!1,typeof G=="function"?(G(r.state.value[n]),B={type:Na.patchFunction,storeId:n,events:b}):(Af(r.state.value[n],G),B={type:Na.patchObject,payload:G,storeId:n,events:b});const Q=w=Symbol();gh().then(()=>{w===Q&&(f=!0)}),d=!0,gi(v,B,r.state.value[n])}const T=am;function I(){s.stop(),v=[],g=[],r._s.delete(n)}function O(G,B){return function(){pc(r);const Q=Array.from(arguments),lt=[],ft=[];function gt(nt){lt.push(nt)}function pt(nt){ft.push(nt)}gi(g,{args:Q,name:G,store:D,after:gt,onError:pt});let mt;try{mt=B.apply(this&&this.$id===n?this:D,Q)}catch(nt){throw gi(ft,nt),nt}return mt instanceof Promise?mt.then(nt=>(gi(lt,nt),nt)).catch(nt=>(gi(ft,nt),Promise.reject(nt))):(gi(lt,mt),mt)}}const L={_p:r,$id:n,$onAction:ov.bind(null,g),$patch:E,$reset:T,$subscribe(G,B={}){const Q=ov(v,G,B.detached,()=>lt()),lt=s.run(()=>Wo(()=>r.state.value[n],ft=>{(B.flush==="sync"?d:f)&&G({storeId:n,type:Na.direct,events:b},ft)},wn({},u,B)));return Q},$dispose:I},D=ji(wn({},L));r._s.set(n,D);const X=r._e.run(()=>(s=db(),s.run(()=>e())));for(const G in X){const B=X[G];if(Ce(B)&&!CT(B)||io(B))i||(_&&ET(B)&&(Ce(B)?B.value=_[G]:Af(B,_[G])),r.state.value[n][G]=B);else if(typeof B=="function"){const Q=O(G,B);X[G]=Q,c.actions[G]=B}}return wn(D,X),wn(ne(D),X),Object.defineProperty(D,"$state",{get:()=>r.state.value[n],set:G=>{E(B=>{wn(B,G)})}}),r._p.forEach(G=>{wn(D,s.run(()=>G({store:D,app:r._a,pinia:r,options:c})))}),_&&i&&t.hydrate&&t.hydrate(D.$state,_),f=!0,d=!0,D}function RT(n,e,t){let r,o;const i=typeof e=="function";typeof n=="string"?(r=n,o=i?t:e):(o=n,r=n.id);function s(c,u){const f=Qb();return c=c||f&&Tn(im),c&&pc(c),c=om,c._s.has(r)||(i?sm(r,e,o,c):TT(r,o,c)),c._s.get(r)}return s.$id=r,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const lm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Zi=n=>lm?Symbol(n):"_vr_"+n,AT=Zi("rvlm"),iv=Zi("rvd"),kh=Zi("r"),cm=Zi("rl"),If=Zi("rvl"),Ei=typeof window!="undefined";function IT(n){return n.__esModule||lm&&n[Symbol.toStringTag]==="Module"}const ce=Object.assign;function Vu(n,e){const t={};for(const r in e){const o=e[r];t[r]=Array.isArray(o)?o.map(n):n(o)}return t}const za=()=>{},OT=/\/$/,ST=n=>n.replace(OT,"");function Hu(n,e,t="/"){let r,o={},i="",s="";const c=e.indexOf("?"),u=e.indexOf("#",c>-1?c:0);return c>-1&&(r=e.slice(0,c),i=e.slice(c+1,u>-1?u:e.length),o=n(i)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=FT(r!=null?r:e,t),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function PT(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function av(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function LT(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&Gi(e.matched[r],t.matched[o])&&um(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Gi(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function um(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!MT(n[t],e[t]))return!1;return!0}function MT(n,e){return Array.isArray(n)?sv(n,e):Array.isArray(e)?sv(e,n):n===e}function sv(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function FT(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/");let o=t.length-1,i,s;for(i=0;i<r.length;i++)if(s=r[i],!(o===1||s==="."))if(s==="..")o--;else break;return t.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var $a;(function(n){n.pop="pop",n.push="push"})($a||($a={}));var Ga;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ga||(Ga={}));function DT(n){if(!n)if(Ei){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),ST(n)}const NT=/^[^#]+#/;function zT(n,e){return n.replace(NT,"#")+e}function GT(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const gc=()=>({left:window.pageXOffset,top:window.pageYOffset});function BT(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=GT(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function lv(n,e){return(history.state?history.state.position-e:-1)+n}const Of=new Map;function WT(n,e){Of.set(n,e)}function UT(n){const e=Of.get(n);return Of.delete(n),e}let YT=()=>location.protocol+"//"+location.host;function fm(n,e){const{pathname:t,search:r,hash:o}=e,i=n.indexOf("#");if(i>-1){let c=o.includes(n.slice(i))?n.slice(i).length:1,u=o.slice(c);return u[0]!=="/"&&(u="/"+u),av(u,"")}return av(t,n)+r+o}function XT(n,e,t,r){let o=[],i=[],s=null;const c=({state:g})=>{const b=fm(n,location),_=t.value,w=e.value;let E=0;if(g){if(t.value=b,e.value=g,s&&s===_){s=null;return}E=w?g.position-w.position:0}else r(b);o.forEach(T=>{T(t.value,_,{delta:E,type:$a.pop,direction:E?E>0?Ga.forward:Ga.back:Ga.unknown})})};function u(){s=t.value}function f(g){o.push(g);const b=()=>{const _=o.indexOf(g);_>-1&&o.splice(_,1)};return i.push(b),b}function d(){const{history:g}=window;!g.state||g.replaceState(ce({},g.state,{scroll:gc()}),"")}function v(){for(const g of i)g();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:f,destroy:v}}function cv(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?gc():null}}function VT(n){const{history:e,location:t}=window,r={value:fm(n,t)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,d){const v=n.indexOf("#"),g=v>-1?(t.host&&document.querySelector("base")?n:n.slice(v))+u:YT()+n+u;try{e[d?"replaceState":"pushState"](f,"",g),o.value=f}catch(b){console.error(b),t[d?"replace":"assign"](g)}}function s(u,f){const d=ce({},e.state,cv(o.value.back,u,o.value.forward,!0),f,{position:o.value.position});i(u,d,!0),r.value=u}function c(u,f){const d=ce({},o.value,e.state,{forward:u,scroll:gc()});i(d.current,d,!0);const v=ce({},cv(r.value,u,null),{position:d.position+1},f);i(u,v,!1),r.value=u}return{location:r,state:o,push:c,replace:s}}function HT(n){n=DT(n);const e=VT(n),t=XT(n,e.state,e.location,e.replace);function r(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=ce({location:"",base:n,go:r,createHref:zT.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function KT(n){return typeof n=="string"||n&&typeof n=="object"}function hm(n){return typeof n=="string"||typeof n=="symbol"}const Yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dm=Zi("nf");var uv;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(uv||(uv={}));function Bi(n,e){return ce(new Error,{type:n,[dm]:!0},e)}function Xn(n,e){return n instanceof Error&&dm in n&&(e==null||!!(n.type&e))}const fv="[^/]+?",jT={sensitive:!1,strict:!1,start:!0,end:!0},ZT=/[.+*?^${}()[\]/\\]/g;function $T(n,e){const t=ce({},jT,e),r=[];let o=t.start?"^":"";const i=[];for(const f of n){const d=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let v=0;v<f.length;v++){const g=f[v];let b=40+(t.sensitive?.25:0);if(g.type===0)v||(o+="/"),o+=g.value.replace(ZT,"\\$&"),b+=40;else if(g.type===1){const{value:_,repeatable:w,optional:E,regexp:T}=g;i.push({name:_,repeatable:w,optional:E});const I=T||fv;if(I!==fv){b+=10;try{new RegExp(`(${I})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${I}): `+L.message)}}let O=w?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;v||(O=E&&f.length<2?`(?:/${O})`:"/"+O),E&&(O+="?"),o+=O,b+=20,E&&(b+=-8),w&&(b+=-20),I===".*"&&(b+=-50)}d.push(b)}r.push(d)}if(t.strict&&t.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function c(f){const d=f.match(s),v={};if(!d)return null;for(let g=1;g<d.length;g++){const b=d[g]||"",_=i[g-1];v[_.name]=b&&_.repeatable?b.split("/"):b}return v}function u(f){let d="",v=!1;for(const g of n){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const b of g)if(b.type===0)d+=b.value;else if(b.type===1){const{value:_,repeatable:w,optional:E}=b,T=_ in f?f[_]:"";if(Array.isArray(T)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const I=Array.isArray(T)?T.join("/"):T;if(!I)if(E)g.length<2&&n.length>1&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);d+=I}}return d}return{re:s,score:r,keys:i,parse:c,stringify:u}}function qT(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function JT(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const i=qT(r[t],o[t]);if(i)return i;t++}return o.length-r.length}const QT={type:0,value:""},tR=/[a-zA-Z0-9_]/;function eR(n){if(!n)return[[]];if(n==="/")return[[QT]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${f}": ${b}`)}let t=0,r=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let c=0,u,f="",d="";function v(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function g(){f+=u}for(;c<n.length;){if(u=n[c++],u==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:u==="/"?(f&&v(),s()):u===":"?(v(),t=1):g();break;case 4:g(),t=r;break;case 1:u==="("?t=2:tR.test(u)?g():(v(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:t=3:d+=u;break;case 3:v(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),s(),o}function rR(n,e,t){const r=$T(eR(n.path),t),o=ce(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function nR(n,e){const t=[],r=new Map;e=dv({strict:!1,end:!0,sensitive:!1},e);function o(d){return r.get(d)}function i(d,v,g){const b=!g,_=iR(d);_.aliasOf=g&&g.record;const w=dv(e,d),E=[_];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of O)E.push(ce({},_,{components:g?g.record.components:_.components,path:L,aliasOf:g?g.record:_}))}let T,I;for(const O of E){const{path:L}=O;if(v&&L[0]!=="/"){const D=v.record.path,X=D[D.length-1]==="/"?"":"/";O.path=v.record.path+(L&&X+L)}if(T=rR(O,v,w),g?g.alias.push(T):(I=I||T,I!==T&&I.alias.push(T),b&&d.name&&!hv(T)&&s(d.name)),"children"in _){const D=_.children;for(let X=0;X<D.length;X++)i(D[X],T,g&&g.children[X])}g=g||T,u(T)}return I?()=>{s(I)}:za}function s(d){if(hm(d)){const v=r.get(d);v&&(r.delete(d),t.splice(t.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=t.indexOf(d);v>-1&&(t.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function c(){return t}function u(d){let v=0;for(;v<t.length&&JT(d,t[v])>=0&&(d.record.path!==t[v].record.path||!pm(d,t[v]));)v++;t.splice(v,0,d),d.record.name&&!hv(d)&&r.set(d.record.name,d)}function f(d,v){let g,b={},_,w;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Bi(1,{location:d});w=g.record.name,b=ce(oR(v.params,g.keys.filter(I=>!I.optional).map(I=>I.name)),d.params),_=g.stringify(b)}else if("path"in d)_=d.path,g=t.find(I=>I.re.test(_)),g&&(b=g.parse(_),w=g.record.name);else{if(g=v.name?r.get(v.name):t.find(I=>I.re.test(v.path)),!g)throw Bi(1,{location:d,currentLocation:v});w=g.record.name,b=ce({},v.params,d.params),_=g.stringify(b)}const E=[];let T=g;for(;T;)E.unshift(T.record),T=T.parent;return{name:w,path:_,params:b,matched:E,meta:sR(E)}}return n.forEach(d=>i(d)),{addRoute:i,resolve:f,removeRoute:s,getRoutes:c,getRecordMatcher:o}}function oR(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function iR(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:aR(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function aR(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="boolean"?t:t[r];return e}function hv(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function sR(n){return n.reduce((e,t)=>ce(e,t.meta),{})}function dv(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function pm(n,e){return e.children.some(t=>t===n||pm(n,t))}const gm=/#/g,lR=/&/g,cR=/\//g,uR=/=/g,fR=/\?/g,vm=/\+/g,hR=/%5B/g,dR=/%5D/g,bm=/%5E/g,pR=/%60/g,mm=/%7B/g,gR=/%7C/g,_m=/%7D/g,vR=/%20/g;function Eh(n){return encodeURI(""+n).replace(gR,"|").replace(hR,"[").replace(dR,"]")}function bR(n){return Eh(n).replace(mm,"{").replace(_m,"}").replace(bm,"^")}function Sf(n){return Eh(n).replace(vm,"%2B").replace(vR,"+").replace(gm,"%23").replace(lR,"%26").replace(pR,"`").replace(mm,"{").replace(_m,"}").replace(bm,"^")}function mR(n){return Sf(n).replace(uR,"%3D")}function _R(n){return Eh(n).replace(gm,"%23").replace(fR,"%3F")}function yR(n){return n==null?"":_R(n).replace(cR,"%2F")}function Yl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function xR(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(vm," "),s=i.indexOf("="),c=Yl(s<0?i:i.slice(0,s)),u=s<0?null:Yl(i.slice(s+1));if(c in e){let f=e[c];Array.isArray(f)||(f=e[c]=[f]),f.push(u)}else e[c]=u}return e}function pv(n){let e="";for(let t in n){const r=n[t];if(t=mR(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(r)?r.map(i=>i&&Sf(i)):[r&&Sf(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function wR(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function wa(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function Jn(n,e,t,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,c)=>{const u=v=>{v===!1?c(Bi(4,{from:t,to:e})):v instanceof Error?c(v):KT(v)?c(Bi(2,{from:e,to:v})):(i&&r.enterCallbacks[o]===i&&typeof v=="function"&&i.push(v),s())},f=n.call(r&&r.instances[o],e,t,u);let d=Promise.resolve(f);n.length<3&&(d=d.then(u)),d.catch(v=>c(v))})}function Ku(n,e,t,r){const o=[];for(const i of n)for(const s in i.components){let c=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(kR(c)){const f=(c.__vccOpts||c)[e];f&&o.push(Jn(f,t,r,i,s))}else{let u=c();o.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const d=IT(f)?f.default:f;i.components[s]=d;const g=(d.__vccOpts||d)[e];return g&&Jn(g,t,r,i,s)()}))}}return o}function kR(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function gv(n){const e=Tn(kh),t=Tn(cm),r=Ur(()=>e.resolve(Rr(n.to))),o=Ur(()=>{const{matched:u}=r.value,{length:f}=u,d=u[f-1],v=t.matched;if(!d||!v.length)return-1;const g=v.findIndex(Gi.bind(null,d));if(g>-1)return g;const b=vv(u[f-2]);return f>1&&vv(d)===b&&v[v.length-1].path!==b?v.findIndex(Gi.bind(null,u[f-2])):g}),i=Ur(()=>o.value>-1&&TR(t.params,r.value.params)),s=Ur(()=>o.value>-1&&o.value===t.matched.length-1&&um(t.params,r.value.params));function c(u={}){return CR(u)?e[Rr(n.replace)?"replace":"push"](Rr(n.to)).catch(za):Promise.resolve()}return{route:r,href:Ur(()=>r.value.href),isActive:i,isExactActive:s,navigate:c}}const ER=ls({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gv,setup(n,{slots:e}){const t=ji(gv(n)),{options:r}=Tn(kh),o=Ur(()=>({[bv(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[bv(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:rm("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),Pf=ER;function CR(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function TR(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function vv(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const bv=(n,e,t)=>n!=null?n:e!=null?e:t,RR=ls({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Tn(If),o=Ur(()=>n.route||r.value),i=Tn(iv,0),s=Ur(()=>o.value.matched[i]);Ll(iv,i+1),Ll(AT,s),Ll(If,o);const c=sc();return Wo(()=>[c.value,s.value,n.name],([u,f,d],[v,g,b])=>{f&&(f.instances[d]=u,g&&g!==f&&u&&u===v&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),u&&f&&(!g||!Gi(f,g)||!v)&&(f.enterCallbacks[d]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=o.value,f=s.value,d=f&&f.components[n.name],v=n.name;if(!d)return mv(t.default,{Component:d,route:u});const g=f.props[n.name],b=g?g===!0?u.params:typeof g=="function"?g(u):g:null,w=rm(d,ce({},b,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[v]=null)},ref:c}));return mv(t.default,{Component:w,route:u})||w}}});function mv(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const ym=RR;function AR(n){const e=nR(n.routes,n),t=n.parseQuery||xR,r=n.stringifyQuery||pv,o=n.history,i=wa(),s=wa(),c=wa(),u=UE(Yn);let f=Yn;Ei&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Vu.bind(null,N=>""+N),v=Vu.bind(null,yR),g=Vu.bind(null,Yl);function b(N,et){let q,ot;return hm(N)?(q=e.getRecordMatcher(N),ot=et):ot=N,e.addRoute(ot,q)}function _(N){const et=e.getRecordMatcher(N);et&&e.removeRoute(et)}function w(){return e.getRoutes().map(N=>N.record)}function E(N){return!!e.getRecordMatcher(N)}function T(N,et){if(et=ce({},et||u.value),typeof N=="string"){const Et=Hu(t,N,et.path),k=e.resolve({path:Et.path},et),A=o.createHref(Et.fullPath);return ce(Et,k,{params:g(k.params),hash:Yl(Et.hash),redirectedFrom:void 0,href:A})}let q;if("path"in N)q=ce({},N,{path:Hu(t,N.path,et.path).path});else{const Et=ce({},N.params);for(const k in Et)Et[k]==null&&delete Et[k];q=ce({},N,{params:v(N.params)}),et.params=v(et.params)}const ot=e.resolve(q,et),It=N.hash||"";ot.params=d(g(ot.params));const Zt=PT(r,ce({},N,{hash:bR(It),path:ot.path})),yt=o.createHref(Zt);return ce({fullPath:Zt,hash:It,query:r===pv?wR(N.query):N.query||{}},ot,{redirectedFrom:void 0,href:yt})}function I(N){return typeof N=="string"?Hu(t,N,u.value.path):ce({},N)}function O(N,et){if(f!==N)return Bi(8,{from:et,to:N})}function L(N){return G(N)}function D(N){return L(ce(I(N),{replace:!0}))}function X(N){const et=N.matched[N.matched.length-1];if(et&&et.redirect){const{redirect:q}=et;let ot=typeof q=="function"?q(N):q;return typeof ot=="string"&&(ot=ot.includes("?")||ot.includes("#")?ot=I(ot):{path:ot},ot.params={}),ce({query:N.query,hash:N.hash,params:N.params},ot)}}function G(N,et){const q=f=T(N),ot=u.value,It=N.state,Zt=N.force,yt=N.replace===!0,Et=X(q);if(Et)return G(ce(I(Et),{state:It,force:Zt,replace:yt}),et||q);const k=q;k.redirectedFrom=et;let A;return!Zt&&LT(r,ot,q)&&(A=Bi(16,{to:k,from:ot}),Ot(ot,ot,!0,!1)),(A?Promise.resolve(A):Q(k,ot)).catch(M=>Xn(M)?Xn(M,2)?M:_t(M):tt(M,k,ot)).then(M=>{if(M){if(Xn(M,2))return G(ce(I(M.to),{state:It,force:Zt,replace:yt}),et||k)}else M=ft(k,ot,!0,yt,It);return lt(k,ot,M),M})}function B(N,et){const q=O(N,et);return q?Promise.reject(q):Promise.resolve()}function Q(N,et){let q;const[ot,It,Zt]=IR(N,et);q=Ku(ot.reverse(),"beforeRouteLeave",N,et);for(const Et of ot)Et.leaveGuards.forEach(k=>{q.push(Jn(k,N,et))});const yt=B.bind(null,N,et);return q.push(yt),vi(q).then(()=>{q=[];for(const Et of i.list())q.push(Jn(Et,N,et));return q.push(yt),vi(q)}).then(()=>{q=Ku(It,"beforeRouteUpdate",N,et);for(const Et of It)Et.updateGuards.forEach(k=>{q.push(Jn(k,N,et))});return q.push(yt),vi(q)}).then(()=>{q=[];for(const Et of N.matched)if(Et.beforeEnter&&!et.matched.includes(Et))if(Array.isArray(Et.beforeEnter))for(const k of Et.beforeEnter)q.push(Jn(k,N,et));else q.push(Jn(Et.beforeEnter,N,et));return q.push(yt),vi(q)}).then(()=>(N.matched.forEach(Et=>Et.enterCallbacks={}),q=Ku(Zt,"beforeRouteEnter",N,et),q.push(yt),vi(q))).then(()=>{q=[];for(const Et of s.list())q.push(Jn(Et,N,et));return q.push(yt),vi(q)}).catch(Et=>Xn(Et,8)?Et:Promise.reject(Et))}function lt(N,et,q){for(const ot of c.list())ot(N,et,q)}function ft(N,et,q,ot,It){const Zt=O(N,et);if(Zt)return Zt;const yt=et===Yn,Et=Ei?history.state:{};q&&(ot||yt?o.replace(N.fullPath,ce({scroll:yt&&Et&&Et.scroll},It)):o.push(N.fullPath,It)),u.value=N,Ot(N,et,q,yt),_t()}let gt;function pt(){gt||(gt=o.listen((N,et,q)=>{const ot=T(N),It=X(ot);if(It){G(ce(It,{replace:!0}),ot).catch(za);return}f=ot;const Zt=u.value;Ei&&WT(lv(Zt.fullPath,q.delta),gc()),Q(ot,Zt).catch(yt=>Xn(yt,12)?yt:Xn(yt,2)?(G(yt.to,ot).then(Et=>{Xn(Et,20)&&!q.delta&&q.type===$a.pop&&o.go(-1,!1)}).catch(za),Promise.reject()):(q.delta&&o.go(-q.delta,!1),tt(yt,ot,Zt))).then(yt=>{yt=yt||ft(ot,Zt,!1),yt&&(q.delta?o.go(-q.delta,!1):q.type===$a.pop&&Xn(yt,20)&&o.go(-1,!1)),lt(ot,Zt,yt)}).catch(za)}))}let mt=wa(),nt=wa(),ct;function tt(N,et,q){_t(N);const ot=nt.list();return ot.length?ot.forEach(It=>It(N,et,q)):console.error(N),Promise.reject(N)}function st(){return ct&&u.value!==Yn?Promise.resolve():new Promise((N,et)=>{mt.add([N,et])})}function _t(N){return ct||(ct=!N,pt(),mt.list().forEach(([et,q])=>N?q(N):et()),mt.reset()),N}function Ot(N,et,q,ot){const{scrollBehavior:It}=n;if(!Ei||!It)return Promise.resolve();const Zt=!q&&UT(lv(N.fullPath,0))||(ot||!q)&&history.state&&history.state.scroll||null;return gh().then(()=>It(N,et,Zt)).then(yt=>yt&&BT(yt)).catch(yt=>tt(yt,N,et))}const St=N=>o.go(N);let j;const Yt=new Set;return{currentRoute:u,addRoute:b,removeRoute:_,hasRoute:E,getRoutes:w,resolve:T,options:n,push:L,replace:D,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:i.add,beforeResolve:s.add,afterEach:c.add,onError:nt.add,isReady:st,install(N){const et=this;N.component("RouterLink",Pf),N.component("RouterView",ym),N.config.globalProperties.$router=et,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Rr(u)}),Ei&&!j&&u.value===Yn&&(j=!0,L(o.location).catch(It=>{}));const q={};for(const It in Yn)q[It]=Ur(()=>u.value[It]);N.provide(kh,et),N.provide(cm,ji(q)),N.provide(If,u);const ot=N.unmount;Yt.add(N),N.unmount=function(){Yt.delete(N),Yt.size<1&&(f=Yn,gt&&gt(),gt=null,u.value=Yn,j=!1,ct=!1),ot()}}}}function vi(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function IR(n,e){const t=[],r=[],o=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const c=e.matched[s];c&&(n.matched.find(f=>Gi(f,c))?r.push(c):t.push(c));const u=n.matched[s];u&&(e.matched.find(f=>Gi(f,u))||o.push(u))}return[t,r,o]}const OR={class:"wrapper"},SR=xh("Home"),PR=xh("About"),LR={class:"container"},MR=ls({__name:"App",setup(n){return(e,t)=>(_h(),yh(Br,null,[Le("header",null,[Le("div",OR,[Le("nav",null,[qe(Rr(Pf),{to:"/"},{default:mf(()=>[SR]),_:1}),qe(Rr(Pf),{to:"/about"},{default:mf(()=>[PR]),_:1})])])]),Le("div",LR,[qe(Rr(ym))])],64))}}),FR="modulepreload",_v={},DR="/coordinates-lawnmower/",NR=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${DR}${r}`,r in _v)return;_v[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":FR,o||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),o)return new Promise((c,u)=>{s.addEventListener("load",c),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},zR=RT({id:"mappingArea",state:()=>({perimeter:null,trajectory:[],bandWidth:10,pointLeap:5}),getters:{},actions:{}});var ka=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Xl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",v=1,g=2,b=4,_=1,w=2,E=1,T=2,I=4,O=8,L=16,D=32,X=64,G=128,B=256,Q=512,lt=30,ft="...",gt=800,pt=16,mt=1,nt=2,ct=3,tt=1/0,st=9007199254740991,_t=17976931348623157e292,Ot=0/0,St=4294967295,j=St-1,Yt=St>>>1,kt=[["ary",G],["bind",E],["bindKey",T],["curry",O],["curryRight",L],["flip",Q],["partial",D],["partialRight",X],["rearg",B]],N="[object Arguments]",et="[object Array]",q="[object AsyncFunction]",ot="[object Boolean]",It="[object Date]",Zt="[object DOMException]",yt="[object Error]",Et="[object Function]",k="[object GeneratorFunction]",A="[object Map]",M="[object Number]",V="[object Null]",W="[object Object]",J="[object Promise]",rt="[object Proxy]",Z="[object RegExp]",$="[object Set]",H="[object String]",ht="[object Symbol]",ut="[object Undefined]",vt="[object WeakMap]",xt="[object WeakSet]",Pt="[object ArrayBuffer]",Lt="[object DataView]",Nt="[object Float32Array]",Xt="[object Float64Array]",we="[object Int8Array]",de="[object Int16Array]",Lr="[object Int32Array]",se="[object Uint8Array]",ar="[object Uint8ClampedArray]",pe="[object Uint16Array]",Fe="[object Uint32Array]",ho=/\b__p \+= '';/g,ta=/\b(__p \+=) '' \+/g,Ic=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ms=/&(?:amp|lt|gt|quot|#39);/g,ea=/[&<>"']/g,_s=RegExp(ms.source),ra=RegExp(ea.source),ys=/<%-([\s\S]+?)%>/g,na=/<%([\s\S]+?)%>/g,Pn=/<%=([\s\S]+?)%>/g,po=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,go=/^\w*$/,xs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jo=/[\\^$.*+?()[\]{}|]/g,Oc=RegExp(Jo.source),oa=/^\s+/,vo=/\s/,bo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,ti=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/[()=,{}\[\]\/\s]/,Qe=/\\(\\)?/g,ia=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ws=/\w*$/,ks=/^[-+]0x[0-9a-f]+$/i,z0=/^0b[01]+$/i,G0=/^\[object .+?Constructor\]$/,B0=/^0o[0-7]+$/i,W0=/^(?:0|[1-9]\d*)$/,U0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Es=/($^)/,Y0=/['\n\r\u2028\u2029\\]/g,Cs="\\ud800-\\udfff",X0="\\u0300-\\u036f",V0="\\ufe20-\\ufe2f",H0="\\u20d0-\\u20ff",nd=X0+V0+H0,od="\\u2700-\\u27bf",id="a-z\\xdf-\\xf6\\xf8-\\xff",K0="\\xac\\xb1\\xd7\\xf7",j0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Z0="\\u2000-\\u206f",$0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ad="A-Z\\xc0-\\xd6\\xd8-\\xde",sd="\\ufe0e\\ufe0f",ld=K0+j0+Z0+$0,Sc="['\u2019]",q0="["+Cs+"]",cd="["+ld+"]",Ts="["+nd+"]",ud="\\d+",J0="["+od+"]",fd="["+id+"]",hd="[^"+Cs+ld+ud+od+id+ad+"]",Pc="\\ud83c[\\udffb-\\udfff]",Q0="(?:"+Ts+"|"+Pc+")",dd="[^"+Cs+"]",Lc="(?:\\ud83c[\\udde6-\\uddff]){2}",Mc="[\\ud800-\\udbff][\\udc00-\\udfff]",ei="["+ad+"]",pd="\\u200d",gd="(?:"+fd+"|"+hd+")",t_="(?:"+ei+"|"+hd+")",vd="(?:"+Sc+"(?:d|ll|m|re|s|t|ve))?",bd="(?:"+Sc+"(?:D|LL|M|RE|S|T|VE))?",md=Q0+"?",_d="["+sd+"]?",e_="(?:"+pd+"(?:"+[dd,Lc,Mc].join("|")+")"+_d+md+")*",r_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yd=_d+md+e_,o_="(?:"+[J0,Lc,Mc].join("|")+")"+yd,i_="(?:"+[dd+Ts+"?",Ts,Lc,Mc,q0].join("|")+")",a_=RegExp(Sc,"g"),s_=RegExp(Ts,"g"),Fc=RegExp(Pc+"(?="+Pc+")|"+i_+yd,"g"),l_=RegExp([ei+"?"+fd+"+"+vd+"(?="+[cd,ei,"$"].join("|")+")",t_+"+"+bd+"(?="+[cd,ei+gd,"$"].join("|")+")",ei+"?"+gd+"+"+vd,ei+"+"+bd,n_,r_,ud,o_].join("|"),"g"),c_=RegExp("["+pd+Cs+nd+sd+"]"),u_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,f_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],h_=-1,ge={};ge[Nt]=ge[Xt]=ge[we]=ge[de]=ge[Lr]=ge[se]=ge[ar]=ge[pe]=ge[Fe]=!0,ge[N]=ge[et]=ge[Pt]=ge[ot]=ge[Lt]=ge[It]=ge[yt]=ge[Et]=ge[A]=ge[M]=ge[W]=ge[Z]=ge[$]=ge[H]=ge[vt]=!1;var fe={};fe[N]=fe[et]=fe[Pt]=fe[Lt]=fe[ot]=fe[It]=fe[Nt]=fe[Xt]=fe[we]=fe[de]=fe[Lr]=fe[A]=fe[M]=fe[W]=fe[Z]=fe[$]=fe[H]=fe[ht]=fe[se]=fe[ar]=fe[pe]=fe[Fe]=!0,fe[yt]=fe[Et]=fe[vt]=!1;var d_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},p_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},v_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},b_=parseFloat,m_=parseInt,xd=typeof ka=="object"&&ka&&ka.Object===Object&&ka,__=typeof self=="object"&&self&&self.Object===Object&&self,De=xd||__||Function("return this")(),Dc=e&&!e.nodeType&&e,mo=Dc&&!0&&n&&!n.nodeType&&n,wd=mo&&mo.exports===Dc,Nc=wd&&xd.process,br=function(){try{var S=mo&&mo.require&&mo.require("util").types;return S||Nc&&Nc.binding&&Nc.binding("util")}catch{}}(),kd=br&&br.isArrayBuffer,Ed=br&&br.isDate,Cd=br&&br.isMap,Td=br&&br.isRegExp,Rd=br&&br.isSet,Ad=br&&br.isTypedArray;function sr(S,z,F){switch(F.length){case 0:return S.call(z);case 1:return S.call(z,F[0]);case 2:return S.call(z,F[0],F[1]);case 3:return S.call(z,F[0],F[1],F[2])}return S.apply(z,F)}function y_(S,z,F,dt){for(var Mt=-1,ee=S==null?0:S.length;++Mt<ee;){var Ie=S[Mt];z(dt,Ie,F(Ie),S)}return dt}function mr(S,z){for(var F=-1,dt=S==null?0:S.length;++F<dt&&z(S[F],F,S)!==!1;);return S}function x_(S,z){for(var F=S==null?0:S.length;F--&&z(S[F],F,S)!==!1;);return S}function Id(S,z){for(var F=-1,dt=S==null?0:S.length;++F<dt;)if(!z(S[F],F,S))return!1;return!0}function Ln(S,z){for(var F=-1,dt=S==null?0:S.length,Mt=0,ee=[];++F<dt;){var Ie=S[F];z(Ie,F,S)&&(ee[Mt++]=Ie)}return ee}function Rs(S,z){var F=S==null?0:S.length;return!!F&&ri(S,z,0)>-1}function zc(S,z,F){for(var dt=-1,Mt=S==null?0:S.length;++dt<Mt;)if(F(z,S[dt]))return!0;return!1}function ve(S,z){for(var F=-1,dt=S==null?0:S.length,Mt=Array(dt);++F<dt;)Mt[F]=z(S[F],F,S);return Mt}function Mn(S,z){for(var F=-1,dt=z.length,Mt=S.length;++F<dt;)S[Mt+F]=z[F];return S}function Gc(S,z,F,dt){var Mt=-1,ee=S==null?0:S.length;for(dt&&ee&&(F=S[++Mt]);++Mt<ee;)F=z(F,S[Mt],Mt,S);return F}function w_(S,z,F,dt){var Mt=S==null?0:S.length;for(dt&&Mt&&(F=S[--Mt]);Mt--;)F=z(F,S[Mt],Mt,S);return F}function Bc(S,z){for(var F=-1,dt=S==null?0:S.length;++F<dt;)if(z(S[F],F,S))return!0;return!1}var k_=Wc("length");function E_(S){return S.split("")}function C_(S){return S.match(ti)||[]}function Od(S,z,F){var dt;return F(S,function(Mt,ee,Ie){if(z(Mt,ee,Ie))return dt=ee,!1}),dt}function As(S,z,F,dt){for(var Mt=S.length,ee=F+(dt?1:-1);dt?ee--:++ee<Mt;)if(z(S[ee],ee,S))return ee;return-1}function ri(S,z,F){return z===z?N_(S,z,F):As(S,Sd,F)}function T_(S,z,F,dt){for(var Mt=F-1,ee=S.length;++Mt<ee;)if(dt(S[Mt],z))return Mt;return-1}function Sd(S){return S!==S}function Pd(S,z){var F=S==null?0:S.length;return F?Yc(S,z)/F:Ot}function Wc(S){return function(z){return z==null?t:z[S]}}function Uc(S){return function(z){return S==null?t:S[z]}}function Ld(S,z,F,dt,Mt){return Mt(S,function(ee,Ie,le){F=dt?(dt=!1,ee):z(F,ee,Ie,le)}),F}function R_(S,z){var F=S.length;for(S.sort(z);F--;)S[F]=S[F].value;return S}function Yc(S,z){for(var F,dt=-1,Mt=S.length;++dt<Mt;){var ee=z(S[dt]);ee!==t&&(F=F===t?ee:F+ee)}return F}function Xc(S,z){for(var F=-1,dt=Array(S);++F<S;)dt[F]=z(F);return dt}function A_(S,z){return ve(z,function(F){return[F,S[F]]})}function Md(S){return S&&S.slice(0,zd(S)+1).replace(oa,"")}function lr(S){return function(z){return S(z)}}function Vc(S,z){return ve(z,function(F){return S[F]})}function aa(S,z){return S.has(z)}function Fd(S,z){for(var F=-1,dt=S.length;++F<dt&&ri(z,S[F],0)>-1;);return F}function Dd(S,z){for(var F=S.length;F--&&ri(z,S[F],0)>-1;);return F}function I_(S,z){for(var F=S.length,dt=0;F--;)S[F]===z&&++dt;return dt}var O_=Uc(d_),S_=Uc(p_);function P_(S){return"\\"+v_[S]}function L_(S,z){return S==null?t:S[z]}function ni(S){return c_.test(S)}function M_(S){return u_.test(S)}function F_(S){for(var z,F=[];!(z=S.next()).done;)F.push(z.value);return F}function Hc(S){var z=-1,F=Array(S.size);return S.forEach(function(dt,Mt){F[++z]=[Mt,dt]}),F}function Nd(S,z){return function(F){return S(z(F))}}function Fn(S,z){for(var F=-1,dt=S.length,Mt=0,ee=[];++F<dt;){var Ie=S[F];(Ie===z||Ie===d)&&(S[F]=d,ee[Mt++]=F)}return ee}function Is(S){var z=-1,F=Array(S.size);return S.forEach(function(dt){F[++z]=dt}),F}function D_(S){var z=-1,F=Array(S.size);return S.forEach(function(dt){F[++z]=[dt,dt]}),F}function N_(S,z,F){for(var dt=F-1,Mt=S.length;++dt<Mt;)if(S[dt]===z)return dt;return-1}function z_(S,z,F){for(var dt=F+1;dt--;)if(S[dt]===z)return dt;return dt}function oi(S){return ni(S)?B_(S):k_(S)}function Mr(S){return ni(S)?W_(S):E_(S)}function zd(S){for(var z=S.length;z--&&vo.test(S.charAt(z)););return z}var G_=Uc(g_);function B_(S){for(var z=Fc.lastIndex=0;Fc.test(S);)++z;return z}function W_(S){return S.match(Fc)||[]}function U_(S){return S.match(l_)||[]}var Y_=function S(z){z=z==null?De:ii.defaults(De.Object(),z,ii.pick(De,f_));var F=z.Array,dt=z.Date,Mt=z.Error,ee=z.Function,Ie=z.Math,le=z.Object,Kc=z.RegExp,X_=z.String,_r=z.TypeError,Os=F.prototype,V_=ee.prototype,ai=le.prototype,Ss=z["__core-js_shared__"],Ps=V_.toString,ie=ai.hasOwnProperty,H_=0,Gd=function(){var a=/[^.]+$/.exec(Ss&&Ss.keys&&Ss.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ls=ai.toString,K_=Ps.call(le),j_=De._,Z_=Kc("^"+Ps.call(ie).replace(Jo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ms=wd?z.Buffer:t,Dn=z.Symbol,Fs=z.Uint8Array,Bd=Ms?Ms.allocUnsafe:t,Ds=Nd(le.getPrototypeOf,le),Wd=le.create,Ud=ai.propertyIsEnumerable,Ns=Os.splice,Yd=Dn?Dn.isConcatSpreadable:t,sa=Dn?Dn.iterator:t,_o=Dn?Dn.toStringTag:t,zs=function(){try{var a=Eo(le,"defineProperty");return a({},"",{}),a}catch{}}(),$_=z.clearTimeout!==De.clearTimeout&&z.clearTimeout,q_=dt&&dt.now!==De.Date.now&&dt.now,J_=z.setTimeout!==De.setTimeout&&z.setTimeout,Gs=Ie.ceil,Bs=Ie.floor,jc=le.getOwnPropertySymbols,Q_=Ms?Ms.isBuffer:t,Xd=z.isFinite,ty=Os.join,ey=Nd(le.keys,le),Oe=Ie.max,Be=Ie.min,ry=dt.now,ny=z.parseInt,Vd=Ie.random,oy=Os.reverse,Zc=Eo(z,"DataView"),la=Eo(z,"Map"),$c=Eo(z,"Promise"),si=Eo(z,"Set"),ca=Eo(z,"WeakMap"),ua=Eo(le,"create"),Ws=ca&&new ca,li={},iy=Co(Zc),ay=Co(la),sy=Co($c),ly=Co(si),cy=Co(ca),Us=Dn?Dn.prototype:t,fa=Us?Us.valueOf:t,Hd=Us?Us.toString:t;function y(a){if(ye(a)&&!Ft(a)&&!(a instanceof Ht)){if(a instanceof yr)return a;if(ie.call(a,"__wrapped__"))return Kp(a)}return new yr(a)}var ci=function(){function a(){}return function(l){if(!me(l))return{};if(Wd)return Wd(l);a.prototype=l;var h=new a;return a.prototype=t,h}}();function Ys(){}function yr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}y.templateSettings={escape:ys,evaluate:na,interpolate:Pn,variable:"",imports:{_:y}},y.prototype=Ys.prototype,y.prototype.constructor=y,yr.prototype=ci(Ys.prototype),yr.prototype.constructor=yr;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function uy(){var a=new Ht(this.__wrapped__);return a.__actions__=tr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=tr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=tr(this.__views__),a}function fy(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function hy(){var a=this.__wrapped__.value(),l=this.__dir__,h=Ft(a),p=l<0,m=h?a.length:0,x=Ex(0,m,this.__views__),C=x.start,R=x.end,P=R-C,U=p?R:C-1,Y=this.__iteratees__,K=Y.length,it=0,bt=Be(P,this.__takeCount__);if(!h||!p&&m==P&&bt==P)return vp(a,this.__actions__);var Ct=[];t:for(;P--&&it<bt;){U+=l;for(var Bt=-1,Tt=a[U];++Bt<K;){var Vt=Y[Bt],$t=Vt.iteratee,fr=Vt.type,je=$t(Tt);if(fr==nt)Tt=je;else if(!je){if(fr==mt)continue t;break t}}Ct[it++]=Tt}return Ct}Ht.prototype=ci(Ys.prototype),Ht.prototype.constructor=Ht;function yo(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var p=a[l];this.set(p[0],p[1])}}function dy(){this.__data__=ua?ua(null):{},this.size=0}function py(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function gy(a){var l=this.__data__;if(ua){var h=l[a];return h===u?t:h}return ie.call(l,a)?l[a]:t}function vy(a){var l=this.__data__;return ua?l[a]!==t:ie.call(l,a)}function by(a,l){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=ua&&l===t?u:l,this}yo.prototype.clear=dy,yo.prototype.delete=py,yo.prototype.get=gy,yo.prototype.has=vy,yo.prototype.set=by;function cn(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var p=a[l];this.set(p[0],p[1])}}function my(){this.__data__=[],this.size=0}function _y(a){var l=this.__data__,h=Xs(l,a);if(h<0)return!1;var p=l.length-1;return h==p?l.pop():Ns.call(l,h,1),--this.size,!0}function yy(a){var l=this.__data__,h=Xs(l,a);return h<0?t:l[h][1]}function xy(a){return Xs(this.__data__,a)>-1}function wy(a,l){var h=this.__data__,p=Xs(h,a);return p<0?(++this.size,h.push([a,l])):h[p][1]=l,this}cn.prototype.clear=my,cn.prototype.delete=_y,cn.prototype.get=yy,cn.prototype.has=xy,cn.prototype.set=wy;function un(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var p=a[l];this.set(p[0],p[1])}}function ky(){this.size=0,this.__data__={hash:new yo,map:new(la||cn),string:new yo}}function Ey(a){var l=rl(this,a).delete(a);return this.size-=l?1:0,l}function Cy(a){return rl(this,a).get(a)}function Ty(a){return rl(this,a).has(a)}function Ry(a,l){var h=rl(this,a),p=h.size;return h.set(a,l),this.size+=h.size==p?0:1,this}un.prototype.clear=ky,un.prototype.delete=Ey,un.prototype.get=Cy,un.prototype.has=Ty,un.prototype.set=Ry;function xo(a){var l=-1,h=a==null?0:a.length;for(this.__data__=new un;++l<h;)this.add(a[l])}function Ay(a){return this.__data__.set(a,u),this}function Iy(a){return this.__data__.has(a)}xo.prototype.add=xo.prototype.push=Ay,xo.prototype.has=Iy;function Fr(a){var l=this.__data__=new cn(a);this.size=l.size}function Oy(){this.__data__=new cn,this.size=0}function Sy(a){var l=this.__data__,h=l.delete(a);return this.size=l.size,h}function Py(a){return this.__data__.get(a)}function Ly(a){return this.__data__.has(a)}function My(a,l){var h=this.__data__;if(h instanceof cn){var p=h.__data__;if(!la||p.length<o-1)return p.push([a,l]),this.size=++h.size,this;h=this.__data__=new un(p)}return h.set(a,l),this.size=h.size,this}Fr.prototype.clear=Oy,Fr.prototype.delete=Sy,Fr.prototype.get=Py,Fr.prototype.has=Ly,Fr.prototype.set=My;function Kd(a,l){var h=Ft(a),p=!h&&To(a),m=!h&&!p&&Wn(a),x=!h&&!p&&!m&&di(a),C=h||p||m||x,R=C?Xc(a.length,X_):[],P=R.length;for(var U in a)(l||ie.call(a,U))&&!(C&&(U=="length"||m&&(U=="offset"||U=="parent")||x&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||pn(U,P)))&&R.push(U);return R}function jd(a){var l=a.length;return l?a[su(0,l-1)]:t}function Fy(a,l){return nl(tr(a),wo(l,0,a.length))}function Dy(a){return nl(tr(a))}function qc(a,l,h){(h!==t&&!Dr(a[l],h)||h===t&&!(l in a))&&fn(a,l,h)}function ha(a,l,h){var p=a[l];(!(ie.call(a,l)&&Dr(p,h))||h===t&&!(l in a))&&fn(a,l,h)}function Xs(a,l){for(var h=a.length;h--;)if(Dr(a[h][0],l))return h;return-1}function Ny(a,l,h,p){return Nn(a,function(m,x,C){l(p,m,h(m),C)}),p}function Zd(a,l){return a&&Jr(l,Se(l),a)}function zy(a,l){return a&&Jr(l,rr(l),a)}function fn(a,l,h){l=="__proto__"&&zs?zs(a,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[l]=h}function Jc(a,l){for(var h=-1,p=l.length,m=F(p),x=a==null;++h<p;)m[h]=x?t:Pu(a,l[h]);return m}function wo(a,l,h){return a===a&&(h!==t&&(a=a<=h?a:h),l!==t&&(a=a>=l?a:l)),a}function xr(a,l,h,p,m,x){var C,R=l&v,P=l&g,U=l&b;if(h&&(C=m?h(a,p,m,x):h(a)),C!==t)return C;if(!me(a))return a;var Y=Ft(a);if(Y){if(C=Tx(a),!R)return tr(a,C)}else{var K=We(a),it=K==Et||K==k;if(Wn(a))return _p(a,R);if(K==W||K==N||it&&!m){if(C=P||it?{}:zp(a),!R)return P?gx(a,zy(C,a)):px(a,Zd(C,a))}else{if(!fe[K])return m?a:{};C=Rx(a,K,R)}}x||(x=new Fr);var bt=x.get(a);if(bt)return bt;x.set(a,C),dg(a)?a.forEach(function(Tt){C.add(xr(Tt,l,h,Tt,a,x))}):fg(a)&&a.forEach(function(Tt,Vt){C.set(Vt,xr(Tt,l,h,Vt,a,x))});var Ct=U?P?mu:bu:P?rr:Se,Bt=Y?t:Ct(a);return mr(Bt||a,function(Tt,Vt){Bt&&(Vt=Tt,Tt=a[Vt]),ha(C,Vt,xr(Tt,l,h,Vt,a,x))}),C}function Gy(a){var l=Se(a);return function(h){return $d(h,a,l)}}function $d(a,l,h){var p=h.length;if(a==null)return!p;for(a=le(a);p--;){var m=h[p],x=l[m],C=a[m];if(C===t&&!(m in a)||!x(C))return!1}return!0}function qd(a,l,h){if(typeof a!="function")throw new _r(s);return _a(function(){a.apply(t,h)},l)}function da(a,l,h,p){var m=-1,x=Rs,C=!0,R=a.length,P=[],U=l.length;if(!R)return P;h&&(l=ve(l,lr(h))),p?(x=zc,C=!1):l.length>=o&&(x=aa,C=!1,l=new xo(l));t:for(;++m<R;){var Y=a[m],K=h==null?Y:h(Y);if(Y=p||Y!==0?Y:0,C&&K===K){for(var it=U;it--;)if(l[it]===K)continue t;P.push(Y)}else x(l,K,p)||P.push(Y)}return P}var Nn=Ep(qr),Jd=Ep(tu,!0);function By(a,l){var h=!0;return Nn(a,function(p,m,x){return h=!!l(p,m,x),h}),h}function Vs(a,l,h){for(var p=-1,m=a.length;++p<m;){var x=a[p],C=l(x);if(C!=null&&(R===t?C===C&&!ur(C):h(C,R)))var R=C,P=x}return P}function Wy(a,l,h,p){var m=a.length;for(h=zt(h),h<0&&(h=-h>m?0:m+h),p=p===t||p>m?m:zt(p),p<0&&(p+=m),p=h>p?0:gg(p);h<p;)a[h++]=l;return a}function Qd(a,l){var h=[];return Nn(a,function(p,m,x){l(p,m,x)&&h.push(p)}),h}function Ne(a,l,h,p,m){var x=-1,C=a.length;for(h||(h=Ix),m||(m=[]);++x<C;){var R=a[x];l>0&&h(R)?l>1?Ne(R,l-1,h,p,m):Mn(m,R):p||(m[m.length]=R)}return m}var Qc=Cp(),tp=Cp(!0);function qr(a,l){return a&&Qc(a,l,Se)}function tu(a,l){return a&&tp(a,l,Se)}function Hs(a,l){return Ln(l,function(h){return gn(a[h])})}function ko(a,l){l=Gn(l,a);for(var h=0,p=l.length;a!=null&&h<p;)a=a[Qr(l[h++])];return h&&h==p?a:t}function ep(a,l,h){var p=l(a);return Ft(a)?p:Mn(p,h(a))}function He(a){return a==null?a===t?ut:V:_o&&_o in le(a)?kx(a):Dx(a)}function eu(a,l){return a>l}function Uy(a,l){return a!=null&&ie.call(a,l)}function Yy(a,l){return a!=null&&l in le(a)}function Xy(a,l,h){return a>=Be(l,h)&&a<Oe(l,h)}function ru(a,l,h){for(var p=h?zc:Rs,m=a[0].length,x=a.length,C=x,R=F(x),P=1/0,U=[];C--;){var Y=a[C];C&&l&&(Y=ve(Y,lr(l))),P=Be(Y.length,P),R[C]=!h&&(l||m>=120&&Y.length>=120)?new xo(C&&Y):t}Y=a[0];var K=-1,it=R[0];t:for(;++K<m&&U.length<P;){var bt=Y[K],Ct=l?l(bt):bt;if(bt=h||bt!==0?bt:0,!(it?aa(it,Ct):p(U,Ct,h))){for(C=x;--C;){var Bt=R[C];if(!(Bt?aa(Bt,Ct):p(a[C],Ct,h)))continue t}it&&it.push(Ct),U.push(bt)}}return U}function Vy(a,l,h,p){return qr(a,function(m,x,C){l(p,h(m),x,C)}),p}function pa(a,l,h){l=Gn(l,a),a=Up(a,l);var p=a==null?a:a[Qr(kr(l))];return p==null?t:sr(p,a,h)}function rp(a){return ye(a)&&He(a)==N}function Hy(a){return ye(a)&&He(a)==Pt}function Ky(a){return ye(a)&&He(a)==It}function ga(a,l,h,p,m){return a===l?!0:a==null||l==null||!ye(a)&&!ye(l)?a!==a&&l!==l:jy(a,l,h,p,ga,m)}function jy(a,l,h,p,m,x){var C=Ft(a),R=Ft(l),P=C?et:We(a),U=R?et:We(l);P=P==N?W:P,U=U==N?W:U;var Y=P==W,K=U==W,it=P==U;if(it&&Wn(a)){if(!Wn(l))return!1;C=!0,Y=!1}if(it&&!Y)return x||(x=new Fr),C||di(a)?Fp(a,l,h,p,m,x):xx(a,l,P,h,p,m,x);if(!(h&_)){var bt=Y&&ie.call(a,"__wrapped__"),Ct=K&&ie.call(l,"__wrapped__");if(bt||Ct){var Bt=bt?a.value():a,Tt=Ct?l.value():l;return x||(x=new Fr),m(Bt,Tt,h,p,x)}}return it?(x||(x=new Fr),wx(a,l,h,p,m,x)):!1}function Zy(a){return ye(a)&&We(a)==A}function nu(a,l,h,p){var m=h.length,x=m,C=!p;if(a==null)return!x;for(a=le(a);m--;){var R=h[m];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++m<x;){R=h[m];var P=R[0],U=a[P],Y=R[1];if(C&&R[2]){if(U===t&&!(P in a))return!1}else{var K=new Fr;if(p)var it=p(U,Y,P,a,l,K);if(!(it===t?ga(Y,U,_|w,p,K):it))return!1}}return!0}function np(a){if(!me(a)||Sx(a))return!1;var l=gn(a)?Z_:G0;return l.test(Co(a))}function $y(a){return ye(a)&&He(a)==Z}function qy(a){return ye(a)&&We(a)==$}function Jy(a){return ye(a)&&cl(a.length)&&!!ge[He(a)]}function op(a){return typeof a=="function"?a:a==null?nr:typeof a=="object"?Ft(a)?sp(a[0],a[1]):ap(a):Tg(a)}function ou(a){if(!ma(a))return ey(a);var l=[];for(var h in le(a))ie.call(a,h)&&h!="constructor"&&l.push(h);return l}function Qy(a){if(!me(a))return Fx(a);var l=ma(a),h=[];for(var p in a)p=="constructor"&&(l||!ie.call(a,p))||h.push(p);return h}function iu(a,l){return a<l}function ip(a,l){var h=-1,p=er(a)?F(a.length):[];return Nn(a,function(m,x,C){p[++h]=l(m,x,C)}),p}function ap(a){var l=yu(a);return l.length==1&&l[0][2]?Bp(l[0][0],l[0][1]):function(h){return h===a||nu(h,a,l)}}function sp(a,l){return wu(a)&&Gp(l)?Bp(Qr(a),l):function(h){var p=Pu(h,a);return p===t&&p===l?Lu(h,a):ga(l,p,_|w)}}function Ks(a,l,h,p,m){a!==l&&Qc(l,function(x,C){if(m||(m=new Fr),me(x))tx(a,l,C,h,Ks,p,m);else{var R=p?p(Eu(a,C),x,C+"",a,l,m):t;R===t&&(R=x),qc(a,C,R)}},rr)}function tx(a,l,h,p,m,x,C){var R=Eu(a,h),P=Eu(l,h),U=C.get(P);if(U){qc(a,h,U);return}var Y=x?x(R,P,h+"",a,l,C):t,K=Y===t;if(K){var it=Ft(P),bt=!it&&Wn(P),Ct=!it&&!bt&&di(P);Y=P,it||bt||Ct?Ft(R)?Y=R:ke(R)?Y=tr(R):bt?(K=!1,Y=_p(P,!0)):Ct?(K=!1,Y=yp(P,!0)):Y=[]:ya(P)||To(P)?(Y=R,To(R)?Y=vg(R):(!me(R)||gn(R))&&(Y=zp(P))):K=!1}K&&(C.set(P,Y),m(Y,P,p,x,C),C.delete(P)),qc(a,h,Y)}function lp(a,l){var h=a.length;if(!!h)return l+=l<0?h:0,pn(l,h)?a[l]:t}function cp(a,l,h){l.length?l=ve(l,function(x){return Ft(x)?function(C){return ko(C,x.length===1?x[0]:x)}:x}):l=[nr];var p=-1;l=ve(l,lr(wt()));var m=ip(a,function(x,C,R){var P=ve(l,function(U){return U(x)});return{criteria:P,index:++p,value:x}});return R_(m,function(x,C){return dx(x,C,h)})}function ex(a,l){return up(a,l,function(h,p){return Lu(a,p)})}function up(a,l,h){for(var p=-1,m=l.length,x={};++p<m;){var C=l[p],R=ko(a,C);h(R,C)&&va(x,Gn(C,a),R)}return x}function rx(a){return function(l){return ko(l,a)}}function au(a,l,h,p){var m=p?T_:ri,x=-1,C=l.length,R=a;for(a===l&&(l=tr(l)),h&&(R=ve(a,lr(h)));++x<C;)for(var P=0,U=l[x],Y=h?h(U):U;(P=m(R,Y,P,p))>-1;)R!==a&&Ns.call(R,P,1),Ns.call(a,P,1);return a}function fp(a,l){for(var h=a?l.length:0,p=h-1;h--;){var m=l[h];if(h==p||m!==x){var x=m;pn(m)?Ns.call(a,m,1):uu(a,m)}}return a}function su(a,l){return a+Bs(Vd()*(l-a+1))}function nx(a,l,h,p){for(var m=-1,x=Oe(Gs((l-a)/(h||1)),0),C=F(x);x--;)C[p?x:++m]=a,a+=h;return C}function lu(a,l){var h="";if(!a||l<1||l>st)return h;do l%2&&(h+=a),l=Bs(l/2),l&&(a+=a);while(l);return h}function Wt(a,l){return Cu(Wp(a,l,nr),a+"")}function ox(a){return jd(pi(a))}function ix(a,l){var h=pi(a);return nl(h,wo(l,0,h.length))}function va(a,l,h,p){if(!me(a))return a;l=Gn(l,a);for(var m=-1,x=l.length,C=x-1,R=a;R!=null&&++m<x;){var P=Qr(l[m]),U=h;if(P==="__proto__"||P==="constructor"||P==="prototype")return a;if(m!=C){var Y=R[P];U=p?p(Y,P,R):t,U===t&&(U=me(Y)?Y:pn(l[m+1])?[]:{})}ha(R,P,U),R=R[P]}return a}var hp=Ws?function(a,l){return Ws.set(a,l),a}:nr,ax=zs?function(a,l){return zs(a,"toString",{configurable:!0,enumerable:!1,value:Fu(l),writable:!0})}:nr;function sx(a){return nl(pi(a))}function wr(a,l,h){var p=-1,m=a.length;l<0&&(l=-l>m?0:m+l),h=h>m?m:h,h<0&&(h+=m),m=l>h?0:h-l>>>0,l>>>=0;for(var x=F(m);++p<m;)x[p]=a[p+l];return x}function lx(a,l){var h;return Nn(a,function(p,m,x){return h=l(p,m,x),!h}),!!h}function js(a,l,h){var p=0,m=a==null?p:a.length;if(typeof l=="number"&&l===l&&m<=Yt){for(;p<m;){var x=p+m>>>1,C=a[x];C!==null&&!ur(C)&&(h?C<=l:C<l)?p=x+1:m=x}return m}return cu(a,l,nr,h)}function cu(a,l,h,p){var m=0,x=a==null?0:a.length;if(x===0)return 0;l=h(l);for(var C=l!==l,R=l===null,P=ur(l),U=l===t;m<x;){var Y=Bs((m+x)/2),K=h(a[Y]),it=K!==t,bt=K===null,Ct=K===K,Bt=ur(K);if(C)var Tt=p||Ct;else U?Tt=Ct&&(p||it):R?Tt=Ct&&it&&(p||!bt):P?Tt=Ct&&it&&!bt&&(p||!Bt):bt||Bt?Tt=!1:Tt=p?K<=l:K<l;Tt?m=Y+1:x=Y}return Be(x,j)}function dp(a,l){for(var h=-1,p=a.length,m=0,x=[];++h<p;){var C=a[h],R=l?l(C):C;if(!h||!Dr(R,P)){var P=R;x[m++]=C===0?0:C}}return x}function pp(a){return typeof a=="number"?a:ur(a)?Ot:+a}function cr(a){if(typeof a=="string")return a;if(Ft(a))return ve(a,cr)+"";if(ur(a))return Hd?Hd.call(a):"";var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function zn(a,l,h){var p=-1,m=Rs,x=a.length,C=!0,R=[],P=R;if(h)C=!1,m=zc;else if(x>=o){var U=l?null:_x(a);if(U)return Is(U);C=!1,m=aa,P=new xo}else P=l?[]:R;t:for(;++p<x;){var Y=a[p],K=l?l(Y):Y;if(Y=h||Y!==0?Y:0,C&&K===K){for(var it=P.length;it--;)if(P[it]===K)continue t;l&&P.push(K),R.push(Y)}else m(P,K,h)||(P!==R&&P.push(K),R.push(Y))}return R}function uu(a,l){return l=Gn(l,a),a=Up(a,l),a==null||delete a[Qr(kr(l))]}function gp(a,l,h,p){return va(a,l,h(ko(a,l)),p)}function Zs(a,l,h,p){for(var m=a.length,x=p?m:-1;(p?x--:++x<m)&&l(a[x],x,a););return h?wr(a,p?0:x,p?x+1:m):wr(a,p?x+1:0,p?m:x)}function vp(a,l){var h=a;return h instanceof Ht&&(h=h.value()),Gc(l,function(p,m){return m.func.apply(m.thisArg,Mn([p],m.args))},h)}function fu(a,l,h){var p=a.length;if(p<2)return p?zn(a[0]):[];for(var m=-1,x=F(p);++m<p;)for(var C=a[m],R=-1;++R<p;)R!=m&&(x[m]=da(x[m]||C,a[R],l,h));return zn(Ne(x,1),l,h)}function bp(a,l,h){for(var p=-1,m=a.length,x=l.length,C={};++p<m;){var R=p<x?l[p]:t;h(C,a[p],R)}return C}function hu(a){return ke(a)?a:[]}function du(a){return typeof a=="function"?a:nr}function Gn(a,l){return Ft(a)?a:wu(a,l)?[a]:Hp(oe(a))}var cx=Wt;function Bn(a,l,h){var p=a.length;return h=h===t?p:h,!l&&h>=p?a:wr(a,l,h)}var mp=$_||function(a){return De.clearTimeout(a)};function _p(a,l){if(l)return a.slice();var h=a.length,p=Bd?Bd(h):new a.constructor(h);return a.copy(p),p}function pu(a){var l=new a.constructor(a.byteLength);return new Fs(l).set(new Fs(a)),l}function ux(a,l){var h=l?pu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function fx(a){var l=new a.constructor(a.source,ws.exec(a));return l.lastIndex=a.lastIndex,l}function hx(a){return fa?le(fa.call(a)):{}}function yp(a,l){var h=l?pu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function xp(a,l){if(a!==l){var h=a!==t,p=a===null,m=a===a,x=ur(a),C=l!==t,R=l===null,P=l===l,U=ur(l);if(!R&&!U&&!x&&a>l||x&&C&&P&&!R&&!U||p&&C&&P||!h&&P||!m)return 1;if(!p&&!x&&!U&&a<l||U&&h&&m&&!p&&!x||R&&h&&m||!C&&m||!P)return-1}return 0}function dx(a,l,h){for(var p=-1,m=a.criteria,x=l.criteria,C=m.length,R=h.length;++p<C;){var P=xp(m[p],x[p]);if(P){if(p>=R)return P;var U=h[p];return P*(U=="desc"?-1:1)}}return a.index-l.index}function wp(a,l,h,p){for(var m=-1,x=a.length,C=h.length,R=-1,P=l.length,U=Oe(x-C,0),Y=F(P+U),K=!p;++R<P;)Y[R]=l[R];for(;++m<C;)(K||m<x)&&(Y[h[m]]=a[m]);for(;U--;)Y[R++]=a[m++];return Y}function kp(a,l,h,p){for(var m=-1,x=a.length,C=-1,R=h.length,P=-1,U=l.length,Y=Oe(x-R,0),K=F(Y+U),it=!p;++m<Y;)K[m]=a[m];for(var bt=m;++P<U;)K[bt+P]=l[P];for(;++C<R;)(it||m<x)&&(K[bt+h[C]]=a[m++]);return K}function tr(a,l){var h=-1,p=a.length;for(l||(l=F(p));++h<p;)l[h]=a[h];return l}function Jr(a,l,h,p){var m=!h;h||(h={});for(var x=-1,C=l.length;++x<C;){var R=l[x],P=p?p(h[R],a[R],R,h,a):t;P===t&&(P=a[R]),m?fn(h,R,P):ha(h,R,P)}return h}function px(a,l){return Jr(a,xu(a),l)}function gx(a,l){return Jr(a,Dp(a),l)}function $s(a,l){return function(h,p){var m=Ft(h)?y_:Ny,x=l?l():{};return m(h,a,wt(p,2),x)}}function ui(a){return Wt(function(l,h){var p=-1,m=h.length,x=m>1?h[m-1]:t,C=m>2?h[2]:t;for(x=a.length>3&&typeof x=="function"?(m--,x):t,C&&Ke(h[0],h[1],C)&&(x=m<3?t:x,m=1),l=le(l);++p<m;){var R=h[p];R&&a(l,R,p,x)}return l})}function Ep(a,l){return function(h,p){if(h==null)return h;if(!er(h))return a(h,p);for(var m=h.length,x=l?m:-1,C=le(h);(l?x--:++x<m)&&p(C[x],x,C)!==!1;);return h}}function Cp(a){return function(l,h,p){for(var m=-1,x=le(l),C=p(l),R=C.length;R--;){var P=C[a?R:++m];if(h(x[P],P,x)===!1)break}return l}}function vx(a,l,h){var p=l&E,m=ba(a);function x(){var C=this&&this!==De&&this instanceof x?m:a;return C.apply(p?h:this,arguments)}return x}function Tp(a){return function(l){l=oe(l);var h=ni(l)?Mr(l):t,p=h?h[0]:l.charAt(0),m=h?Bn(h,1).join(""):l.slice(1);return p[a]()+m}}function fi(a){return function(l){return Gc(Eg(kg(l).replace(a_,"")),a,"")}}function ba(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=ci(a.prototype),p=a.apply(h,l);return me(p)?p:h}}function bx(a,l,h){var p=ba(a);function m(){for(var x=arguments.length,C=F(x),R=x,P=hi(m);R--;)C[R]=arguments[R];var U=x<3&&C[0]!==P&&C[x-1]!==P?[]:Fn(C,P);if(x-=U.length,x<h)return Sp(a,l,qs,m.placeholder,t,C,U,t,t,h-x);var Y=this&&this!==De&&this instanceof m?p:a;return sr(Y,this,C)}return m}function Rp(a){return function(l,h,p){var m=le(l);if(!er(l)){var x=wt(h,3);l=Se(l),h=function(R){return x(m[R],R,m)}}var C=a(l,h,p);return C>-1?m[x?l[C]:C]:t}}function Ap(a){return dn(function(l){var h=l.length,p=h,m=yr.prototype.thru;for(a&&l.reverse();p--;){var x=l[p];if(typeof x!="function")throw new _r(s);if(m&&!C&&el(x)=="wrapper")var C=new yr([],!0)}for(p=C?p:h;++p<h;){x=l[p];var R=el(x),P=R=="wrapper"?_u(x):t;P&&ku(P[0])&&P[1]==(G|O|D|B)&&!P[4].length&&P[9]==1?C=C[el(P[0])].apply(C,P[3]):C=x.length==1&&ku(x)?C[R]():C.thru(x)}return function(){var U=arguments,Y=U[0];if(C&&U.length==1&&Ft(Y))return C.plant(Y).value();for(var K=0,it=h?l[K].apply(this,U):Y;++K<h;)it=l[K].call(this,it);return it}})}function qs(a,l,h,p,m,x,C,R,P,U){var Y=l&G,K=l&E,it=l&T,bt=l&(O|L),Ct=l&Q,Bt=it?t:ba(a);function Tt(){for(var Vt=arguments.length,$t=F(Vt),fr=Vt;fr--;)$t[fr]=arguments[fr];if(bt)var je=hi(Tt),hr=I_($t,je);if(p&&($t=wp($t,p,m,bt)),x&&($t=kp($t,x,C,bt)),Vt-=hr,bt&&Vt<U){var Ee=Fn($t,je);return Sp(a,l,qs,Tt.placeholder,h,$t,Ee,R,P,U-Vt)}var Nr=K?h:this,bn=it?Nr[a]:a;return Vt=$t.length,R?$t=Nx($t,R):Ct&&Vt>1&&$t.reverse(),Y&&P<Vt&&($t.length=P),this&&this!==De&&this instanceof Tt&&(bn=Bt||ba(bn)),bn.apply(Nr,$t)}return Tt}function Ip(a,l){return function(h,p){return Vy(h,a,l(p),{})}}function Js(a,l){return function(h,p){var m;if(h===t&&p===t)return l;if(h!==t&&(m=h),p!==t){if(m===t)return p;typeof h=="string"||typeof p=="string"?(h=cr(h),p=cr(p)):(h=pp(h),p=pp(p)),m=a(h,p)}return m}}function gu(a){return dn(function(l){return l=ve(l,lr(wt())),Wt(function(h){var p=this;return a(l,function(m){return sr(m,p,h)})})})}function Qs(a,l){l=l===t?" ":cr(l);var h=l.length;if(h<2)return h?lu(l,a):l;var p=lu(l,Gs(a/oi(l)));return ni(l)?Bn(Mr(p),0,a).join(""):p.slice(0,a)}function mx(a,l,h,p){var m=l&E,x=ba(a);function C(){for(var R=-1,P=arguments.length,U=-1,Y=p.length,K=F(Y+P),it=this&&this!==De&&this instanceof C?x:a;++U<Y;)K[U]=p[U];for(;P--;)K[U++]=arguments[++R];return sr(it,m?h:this,K)}return C}function Op(a){return function(l,h,p){return p&&typeof p!="number"&&Ke(l,h,p)&&(h=p=t),l=vn(l),h===t?(h=l,l=0):h=vn(h),p=p===t?l<h?1:-1:vn(p),nx(l,h,p,a)}}function tl(a){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Er(l),h=Er(h)),a(l,h)}}function Sp(a,l,h,p,m,x,C,R,P,U){var Y=l&O,K=Y?C:t,it=Y?t:C,bt=Y?x:t,Ct=Y?t:x;l|=Y?D:X,l&=~(Y?X:D),l&I||(l&=~(E|T));var Bt=[a,l,m,bt,K,Ct,it,R,P,U],Tt=h.apply(t,Bt);return ku(a)&&Yp(Tt,Bt),Tt.placeholder=p,Xp(Tt,a,l)}function vu(a){var l=Ie[a];return function(h,p){if(h=Er(h),p=p==null?0:Be(zt(p),292),p&&Xd(h)){var m=(oe(h)+"e").split("e"),x=l(m[0]+"e"+(+m[1]+p));return m=(oe(x)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return l(h)}}var _x=si&&1/Is(new si([,-0]))[1]==tt?function(a){return new si(a)}:zu;function Pp(a){return function(l){var h=We(l);return h==A?Hc(l):h==$?D_(l):A_(l,a(l))}}function hn(a,l,h,p,m,x,C,R){var P=l&T;if(!P&&typeof a!="function")throw new _r(s);var U=p?p.length:0;if(U||(l&=~(D|X),p=m=t),C=C===t?C:Oe(zt(C),0),R=R===t?R:zt(R),U-=m?m.length:0,l&X){var Y=p,K=m;p=m=t}var it=P?t:_u(a),bt=[a,l,h,p,m,Y,K,x,C,R];if(it&&Mx(bt,it),a=bt[0],l=bt[1],h=bt[2],p=bt[3],m=bt[4],R=bt[9]=bt[9]===t?P?0:a.length:Oe(bt[9]-U,0),!R&&l&(O|L)&&(l&=~(O|L)),!l||l==E)var Ct=vx(a,l,h);else l==O||l==L?Ct=bx(a,l,R):(l==D||l==(E|D))&&!m.length?Ct=mx(a,l,h,p):Ct=qs.apply(t,bt);var Bt=it?hp:Yp;return Xp(Bt(Ct,bt),a,l)}function Lp(a,l,h,p){return a===t||Dr(a,ai[h])&&!ie.call(p,h)?l:a}function Mp(a,l,h,p,m,x){return me(a)&&me(l)&&(x.set(l,a),Ks(a,l,t,Mp,x),x.delete(l)),a}function yx(a){return ya(a)?t:a}function Fp(a,l,h,p,m,x){var C=h&_,R=a.length,P=l.length;if(R!=P&&!(C&&P>R))return!1;var U=x.get(a),Y=x.get(l);if(U&&Y)return U==l&&Y==a;var K=-1,it=!0,bt=h&w?new xo:t;for(x.set(a,l),x.set(l,a);++K<R;){var Ct=a[K],Bt=l[K];if(p)var Tt=C?p(Bt,Ct,K,l,a,x):p(Ct,Bt,K,a,l,x);if(Tt!==t){if(Tt)continue;it=!1;break}if(bt){if(!Bc(l,function(Vt,$t){if(!aa(bt,$t)&&(Ct===Vt||m(Ct,Vt,h,p,x)))return bt.push($t)})){it=!1;break}}else if(!(Ct===Bt||m(Ct,Bt,h,p,x))){it=!1;break}}return x.delete(a),x.delete(l),it}function xx(a,l,h,p,m,x,C){switch(h){case Lt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Pt:return!(a.byteLength!=l.byteLength||!x(new Fs(a),new Fs(l)));case ot:case It:case M:return Dr(+a,+l);case yt:return a.name==l.name&&a.message==l.message;case Z:case H:return a==l+"";case A:var R=Hc;case $:var P=p&_;if(R||(R=Is),a.size!=l.size&&!P)return!1;var U=C.get(a);if(U)return U==l;p|=w,C.set(a,l);var Y=Fp(R(a),R(l),p,m,x,C);return C.delete(a),Y;case ht:if(fa)return fa.call(a)==fa.call(l)}return!1}function wx(a,l,h,p,m,x){var C=h&_,R=bu(a),P=R.length,U=bu(l),Y=U.length;if(P!=Y&&!C)return!1;for(var K=P;K--;){var it=R[K];if(!(C?it in l:ie.call(l,it)))return!1}var bt=x.get(a),Ct=x.get(l);if(bt&&Ct)return bt==l&&Ct==a;var Bt=!0;x.set(a,l),x.set(l,a);for(var Tt=C;++K<P;){it=R[K];var Vt=a[it],$t=l[it];if(p)var fr=C?p($t,Vt,it,l,a,x):p(Vt,$t,it,a,l,x);if(!(fr===t?Vt===$t||m(Vt,$t,h,p,x):fr)){Bt=!1;break}Tt||(Tt=it=="constructor")}if(Bt&&!Tt){var je=a.constructor,hr=l.constructor;je!=hr&&"constructor"in a&&"constructor"in l&&!(typeof je=="function"&&je instanceof je&&typeof hr=="function"&&hr instanceof hr)&&(Bt=!1)}return x.delete(a),x.delete(l),Bt}function dn(a){return Cu(Wp(a,t,$p),a+"")}function bu(a){return ep(a,Se,xu)}function mu(a){return ep(a,rr,Dp)}var _u=Ws?function(a){return Ws.get(a)}:zu;function el(a){for(var l=a.name+"",h=li[l],p=ie.call(li,l)?h.length:0;p--;){var m=h[p],x=m.func;if(x==null||x==a)return m.name}return l}function hi(a){var l=ie.call(y,"placeholder")?y:a;return l.placeholder}function wt(){var a=y.iteratee||Du;return a=a===Du?op:a,arguments.length?a(arguments[0],arguments[1]):a}function rl(a,l){var h=a.__data__;return Ox(l)?h[typeof l=="string"?"string":"hash"]:h.map}function yu(a){for(var l=Se(a),h=l.length;h--;){var p=l[h],m=a[p];l[h]=[p,m,Gp(m)]}return l}function Eo(a,l){var h=L_(a,l);return np(h)?h:t}function kx(a){var l=ie.call(a,_o),h=a[_o];try{a[_o]=t;var p=!0}catch{}var m=Ls.call(a);return p&&(l?a[_o]=h:delete a[_o]),m}var xu=jc?function(a){return a==null?[]:(a=le(a),Ln(jc(a),function(l){return Ud.call(a,l)}))}:Gu,Dp=jc?function(a){for(var l=[];a;)Mn(l,xu(a)),a=Ds(a);return l}:Gu,We=He;(Zc&&We(new Zc(new ArrayBuffer(1)))!=Lt||la&&We(new la)!=A||$c&&We($c.resolve())!=J||si&&We(new si)!=$||ca&&We(new ca)!=vt)&&(We=function(a){var l=He(a),h=l==W?a.constructor:t,p=h?Co(h):"";if(p)switch(p){case iy:return Lt;case ay:return A;case sy:return J;case ly:return $;case cy:return vt}return l});function Ex(a,l,h){for(var p=-1,m=h.length;++p<m;){var x=h[p],C=x.size;switch(x.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=Be(l,a+C);break;case"takeRight":a=Oe(a,l-C);break}}return{start:a,end:l}}function Cx(a){var l=a.match($r);return l?l[1].split(Qo):[]}function Np(a,l,h){l=Gn(l,a);for(var p=-1,m=l.length,x=!1;++p<m;){var C=Qr(l[p]);if(!(x=a!=null&&h(a,C)))break;a=a[C]}return x||++p!=m?x:(m=a==null?0:a.length,!!m&&cl(m)&&pn(C,m)&&(Ft(a)||To(a)))}function Tx(a){var l=a.length,h=new a.constructor(l);return l&&typeof a[0]=="string"&&ie.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function zp(a){return typeof a.constructor=="function"&&!ma(a)?ci(Ds(a)):{}}function Rx(a,l,h){var p=a.constructor;switch(l){case Pt:return pu(a);case ot:case It:return new p(+a);case Lt:return ux(a,h);case Nt:case Xt:case we:case de:case Lr:case se:case ar:case pe:case Fe:return yp(a,h);case A:return new p;case M:case H:return new p(a);case Z:return fx(a);case $:return new p;case ht:return hx(a)}}function Ax(a,l){var h=l.length;if(!h)return a;var p=h-1;return l[p]=(h>1?"& ":"")+l[p],l=l.join(h>2?", ":" "),a.replace(bo,`{
/* [wrapped with `+l+`] */
`)}function Ix(a){return Ft(a)||To(a)||!!(Yd&&a&&a[Yd])}function pn(a,l){var h=typeof a;return l=l==null?st:l,!!l&&(h=="number"||h!="symbol"&&W0.test(a))&&a>-1&&a%1==0&&a<l}function Ke(a,l,h){if(!me(h))return!1;var p=typeof l;return(p=="number"?er(h)&&pn(l,h.length):p=="string"&&l in h)?Dr(h[l],a):!1}function wu(a,l){if(Ft(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||ur(a)?!0:go.test(a)||!po.test(a)||l!=null&&a in le(l)}function Ox(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function ku(a){var l=el(a),h=y[l];if(typeof h!="function"||!(l in Ht.prototype))return!1;if(a===h)return!0;var p=_u(h);return!!p&&a===p[0]}function Sx(a){return!!Gd&&Gd in a}var Px=Ss?gn:Bu;function ma(a){var l=a&&a.constructor,h=typeof l=="function"&&l.prototype||ai;return a===h}function Gp(a){return a===a&&!me(a)}function Bp(a,l){return function(h){return h==null?!1:h[a]===l&&(l!==t||a in le(h))}}function Lx(a){var l=sl(a,function(p){return h.size===f&&h.clear(),p}),h=l.cache;return l}function Mx(a,l){var h=a[1],p=l[1],m=h|p,x=m<(E|T|G),C=p==G&&h==O||p==G&&h==B&&a[7].length<=l[8]||p==(G|B)&&l[7].length<=l[8]&&h==O;if(!(x||C))return a;p&E&&(a[2]=l[2],m|=h&E?0:I);var R=l[3];if(R){var P=a[3];a[3]=P?wp(P,R,l[4]):R,a[4]=P?Fn(a[3],d):l[4]}return R=l[5],R&&(P=a[5],a[5]=P?kp(P,R,l[6]):R,a[6]=P?Fn(a[5],d):l[6]),R=l[7],R&&(a[7]=R),p&G&&(a[8]=a[8]==null?l[8]:Be(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=m,a}function Fx(a){var l=[];if(a!=null)for(var h in le(a))l.push(h);return l}function Dx(a){return Ls.call(a)}function Wp(a,l,h){return l=Oe(l===t?a.length-1:l,0),function(){for(var p=arguments,m=-1,x=Oe(p.length-l,0),C=F(x);++m<x;)C[m]=p[l+m];m=-1;for(var R=F(l+1);++m<l;)R[m]=p[m];return R[l]=h(C),sr(a,this,R)}}function Up(a,l){return l.length<2?a:ko(a,wr(l,0,-1))}function Nx(a,l){for(var h=a.length,p=Be(l.length,h),m=tr(a);p--;){var x=l[p];a[p]=pn(x,h)?m[x]:t}return a}function Eu(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var Yp=Vp(hp),_a=J_||function(a,l){return De.setTimeout(a,l)},Cu=Vp(ax);function Xp(a,l,h){var p=l+"";return Cu(a,Ax(p,zx(Cx(p),h)))}function Vp(a){var l=0,h=0;return function(){var p=ry(),m=pt-(p-h);if(h=p,m>0){if(++l>=gt)return arguments[0]}else l=0;return a.apply(t,arguments)}}function nl(a,l){var h=-1,p=a.length,m=p-1;for(l=l===t?p:l;++h<l;){var x=su(h,m),C=a[x];a[x]=a[h],a[h]=C}return a.length=l,a}var Hp=Lx(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(xs,function(h,p,m,x){l.push(m?x.replace(Qe,"$1"):p||h)}),l});function Qr(a){if(typeof a=="string"||ur(a))return a;var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function Co(a){if(a!=null){try{return Ps.call(a)}catch{}try{return a+""}catch{}}return""}function zx(a,l){return mr(kt,function(h){var p="_."+h[0];l&h[1]&&!Rs(a,p)&&a.push(p)}),a.sort()}function Kp(a){if(a instanceof Ht)return a.clone();var l=new yr(a.__wrapped__,a.__chain__);return l.__actions__=tr(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Gx(a,l,h){(h?Ke(a,l,h):l===t)?l=1:l=Oe(zt(l),0);var p=a==null?0:a.length;if(!p||l<1)return[];for(var m=0,x=0,C=F(Gs(p/l));m<p;)C[x++]=wr(a,m,m+=l);return C}function Bx(a){for(var l=-1,h=a==null?0:a.length,p=0,m=[];++l<h;){var x=a[l];x&&(m[p++]=x)}return m}function Wx(){var a=arguments.length;if(!a)return[];for(var l=F(a-1),h=arguments[0],p=a;p--;)l[p-1]=arguments[p];return Mn(Ft(h)?tr(h):[h],Ne(l,1))}var Ux=Wt(function(a,l){return ke(a)?da(a,Ne(l,1,ke,!0)):[]}),Yx=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?da(a,Ne(l,1,ke,!0),wt(h,2)):[]}),Xx=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?da(a,Ne(l,1,ke,!0),t,h):[]});function Vx(a,l,h){var p=a==null?0:a.length;return p?(l=h||l===t?1:zt(l),wr(a,l<0?0:l,p)):[]}function Hx(a,l,h){var p=a==null?0:a.length;return p?(l=h||l===t?1:zt(l),l=p-l,wr(a,0,l<0?0:l)):[]}function Kx(a,l){return a&&a.length?Zs(a,wt(l,3),!0,!0):[]}function jx(a,l){return a&&a.length?Zs(a,wt(l,3),!0):[]}function Zx(a,l,h,p){var m=a==null?0:a.length;return m?(h&&typeof h!="number"&&Ke(a,l,h)&&(h=0,p=m),Wy(a,l,h,p)):[]}function jp(a,l,h){var p=a==null?0:a.length;if(!p)return-1;var m=h==null?0:zt(h);return m<0&&(m=Oe(p+m,0)),As(a,wt(l,3),m)}function Zp(a,l,h){var p=a==null?0:a.length;if(!p)return-1;var m=p-1;return h!==t&&(m=zt(h),m=h<0?Oe(p+m,0):Be(m,p-1)),As(a,wt(l,3),m,!0)}function $p(a){var l=a==null?0:a.length;return l?Ne(a,1):[]}function $x(a){var l=a==null?0:a.length;return l?Ne(a,tt):[]}function qx(a,l){var h=a==null?0:a.length;return h?(l=l===t?1:zt(l),Ne(a,l)):[]}function Jx(a){for(var l=-1,h=a==null?0:a.length,p={};++l<h;){var m=a[l];p[m[0]]=m[1]}return p}function qp(a){return a&&a.length?a[0]:t}function Qx(a,l,h){var p=a==null?0:a.length;if(!p)return-1;var m=h==null?0:zt(h);return m<0&&(m=Oe(p+m,0)),ri(a,l,m)}function tw(a){var l=a==null?0:a.length;return l?wr(a,0,-1):[]}var ew=Wt(function(a){var l=ve(a,hu);return l.length&&l[0]===a[0]?ru(l):[]}),rw=Wt(function(a){var l=kr(a),h=ve(a,hu);return l===kr(h)?l=t:h.pop(),h.length&&h[0]===a[0]?ru(h,wt(l,2)):[]}),nw=Wt(function(a){var l=kr(a),h=ve(a,hu);return l=typeof l=="function"?l:t,l&&h.pop(),h.length&&h[0]===a[0]?ru(h,t,l):[]});function ow(a,l){return a==null?"":ty.call(a,l)}function kr(a){var l=a==null?0:a.length;return l?a[l-1]:t}function iw(a,l,h){var p=a==null?0:a.length;if(!p)return-1;var m=p;return h!==t&&(m=zt(h),m=m<0?Oe(p+m,0):Be(m,p-1)),l===l?z_(a,l,m):As(a,Sd,m,!0)}function aw(a,l){return a&&a.length?lp(a,zt(l)):t}var sw=Wt(Jp);function Jp(a,l){return a&&a.length&&l&&l.length?au(a,l):a}function lw(a,l,h){return a&&a.length&&l&&l.length?au(a,l,wt(h,2)):a}function cw(a,l,h){return a&&a.length&&l&&l.length?au(a,l,t,h):a}var uw=dn(function(a,l){var h=a==null?0:a.length,p=Jc(a,l);return fp(a,ve(l,function(m){return pn(m,h)?+m:m}).sort(xp)),p});function fw(a,l){var h=[];if(!(a&&a.length))return h;var p=-1,m=[],x=a.length;for(l=wt(l,3);++p<x;){var C=a[p];l(C,p,a)&&(h.push(C),m.push(p))}return fp(a,m),h}function Tu(a){return a==null?a:oy.call(a)}function hw(a,l,h){var p=a==null?0:a.length;return p?(h&&typeof h!="number"&&Ke(a,l,h)?(l=0,h=p):(l=l==null?0:zt(l),h=h===t?p:zt(h)),wr(a,l,h)):[]}function dw(a,l){return js(a,l)}function pw(a,l,h){return cu(a,l,wt(h,2))}function gw(a,l){var h=a==null?0:a.length;if(h){var p=js(a,l);if(p<h&&Dr(a[p],l))return p}return-1}function vw(a,l){return js(a,l,!0)}function bw(a,l,h){return cu(a,l,wt(h,2),!0)}function mw(a,l){var h=a==null?0:a.length;if(h){var p=js(a,l,!0)-1;if(Dr(a[p],l))return p}return-1}function _w(a){return a&&a.length?dp(a):[]}function yw(a,l){return a&&a.length?dp(a,wt(l,2)):[]}function xw(a){var l=a==null?0:a.length;return l?wr(a,1,l):[]}function ww(a,l,h){return a&&a.length?(l=h||l===t?1:zt(l),wr(a,0,l<0?0:l)):[]}function kw(a,l,h){var p=a==null?0:a.length;return p?(l=h||l===t?1:zt(l),l=p-l,wr(a,l<0?0:l,p)):[]}function Ew(a,l){return a&&a.length?Zs(a,wt(l,3),!1,!0):[]}function Cw(a,l){return a&&a.length?Zs(a,wt(l,3)):[]}var Tw=Wt(function(a){return zn(Ne(a,1,ke,!0))}),Rw=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),zn(Ne(a,1,ke,!0),wt(l,2))}),Aw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,zn(Ne(a,1,ke,!0),t,l)});function Iw(a){return a&&a.length?zn(a):[]}function Ow(a,l){return a&&a.length?zn(a,wt(l,2)):[]}function Sw(a,l){return l=typeof l=="function"?l:t,a&&a.length?zn(a,t,l):[]}function Ru(a){if(!(a&&a.length))return[];var l=0;return a=Ln(a,function(h){if(ke(h))return l=Oe(h.length,l),!0}),Xc(l,function(h){return ve(a,Wc(h))})}function Qp(a,l){if(!(a&&a.length))return[];var h=Ru(a);return l==null?h:ve(h,function(p){return sr(l,t,p)})}var Pw=Wt(function(a,l){return ke(a)?da(a,l):[]}),Lw=Wt(function(a){return fu(Ln(a,ke))}),Mw=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),fu(Ln(a,ke),wt(l,2))}),Fw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,fu(Ln(a,ke),t,l)}),Dw=Wt(Ru);function Nw(a,l){return bp(a||[],l||[],ha)}function zw(a,l){return bp(a||[],l||[],va)}var Gw=Wt(function(a){var l=a.length,h=l>1?a[l-1]:t;return h=typeof h=="function"?(a.pop(),h):t,Qp(a,h)});function tg(a){var l=y(a);return l.__chain__=!0,l}function Bw(a,l){return l(a),a}function ol(a,l){return l(a)}var Ww=dn(function(a){var l=a.length,h=l?a[0]:0,p=this.__wrapped__,m=function(x){return Jc(x,a)};return l>1||this.__actions__.length||!(p instanceof Ht)||!pn(h)?this.thru(m):(p=p.slice(h,+h+(l?1:0)),p.__actions__.push({func:ol,args:[m],thisArg:t}),new yr(p,this.__chain__).thru(function(x){return l&&!x.length&&x.push(t),x}))});function Uw(){return tg(this)}function Yw(){return new yr(this.value(),this.__chain__)}function Xw(){this.__values__===t&&(this.__values__=pg(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function Vw(){return this}function Hw(a){for(var l,h=this;h instanceof Ys;){var p=Kp(h);p.__index__=0,p.__values__=t,l?m.__wrapped__=p:l=p;var m=p;h=h.__wrapped__}return m.__wrapped__=a,l}function Kw(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:ol,args:[Tu],thisArg:t}),new yr(l,this.__chain__)}return this.thru(Tu)}function jw(){return vp(this.__wrapped__,this.__actions__)}var Zw=$s(function(a,l,h){ie.call(a,h)?++a[h]:fn(a,h,1)});function $w(a,l,h){var p=Ft(a)?Id:By;return h&&Ke(a,l,h)&&(l=t),p(a,wt(l,3))}function qw(a,l){var h=Ft(a)?Ln:Qd;return h(a,wt(l,3))}var Jw=Rp(jp),Qw=Rp(Zp);function t1(a,l){return Ne(il(a,l),1)}function e1(a,l){return Ne(il(a,l),tt)}function r1(a,l,h){return h=h===t?1:zt(h),Ne(il(a,l),h)}function eg(a,l){var h=Ft(a)?mr:Nn;return h(a,wt(l,3))}function rg(a,l){var h=Ft(a)?x_:Jd;return h(a,wt(l,3))}var n1=$s(function(a,l,h){ie.call(a,h)?a[h].push(l):fn(a,h,[l])});function o1(a,l,h,p){a=er(a)?a:pi(a),h=h&&!p?zt(h):0;var m=a.length;return h<0&&(h=Oe(m+h,0)),ul(a)?h<=m&&a.indexOf(l,h)>-1:!!m&&ri(a,l,h)>-1}var i1=Wt(function(a,l,h){var p=-1,m=typeof l=="function",x=er(a)?F(a.length):[];return Nn(a,function(C){x[++p]=m?sr(l,C,h):pa(C,l,h)}),x}),a1=$s(function(a,l,h){fn(a,h,l)});function il(a,l){var h=Ft(a)?ve:ip;return h(a,wt(l,3))}function s1(a,l,h,p){return a==null?[]:(Ft(l)||(l=l==null?[]:[l]),h=p?t:h,Ft(h)||(h=h==null?[]:[h]),cp(a,l,h))}var l1=$s(function(a,l,h){a[h?0:1].push(l)},function(){return[[],[]]});function c1(a,l,h){var p=Ft(a)?Gc:Ld,m=arguments.length<3;return p(a,wt(l,4),h,m,Nn)}function u1(a,l,h){var p=Ft(a)?w_:Ld,m=arguments.length<3;return p(a,wt(l,4),h,m,Jd)}function f1(a,l){var h=Ft(a)?Ln:Qd;return h(a,ll(wt(l,3)))}function h1(a){var l=Ft(a)?jd:ox;return l(a)}function d1(a,l,h){(h?Ke(a,l,h):l===t)?l=1:l=zt(l);var p=Ft(a)?Fy:ix;return p(a,l)}function p1(a){var l=Ft(a)?Dy:sx;return l(a)}function g1(a){if(a==null)return 0;if(er(a))return ul(a)?oi(a):a.length;var l=We(a);return l==A||l==$?a.size:ou(a).length}function v1(a,l,h){var p=Ft(a)?Bc:lx;return h&&Ke(a,l,h)&&(l=t),p(a,wt(l,3))}var b1=Wt(function(a,l){if(a==null)return[];var h=l.length;return h>1&&Ke(a,l[0],l[1])?l=[]:h>2&&Ke(l[0],l[1],l[2])&&(l=[l[0]]),cp(a,Ne(l,1),[])}),al=q_||function(){return De.Date.now()};function m1(a,l){if(typeof l!="function")throw new _r(s);return a=zt(a),function(){if(--a<1)return l.apply(this,arguments)}}function ng(a,l,h){return l=h?t:l,l=a&&l==null?a.length:l,hn(a,G,t,t,t,t,l)}function og(a,l){var h;if(typeof l!="function")throw new _r(s);return a=zt(a),function(){return--a>0&&(h=l.apply(this,arguments)),a<=1&&(l=t),h}}var Au=Wt(function(a,l,h){var p=E;if(h.length){var m=Fn(h,hi(Au));p|=D}return hn(a,p,l,h,m)}),ig=Wt(function(a,l,h){var p=E|T;if(h.length){var m=Fn(h,hi(ig));p|=D}return hn(l,p,a,h,m)});function ag(a,l,h){l=h?t:l;var p=hn(a,O,t,t,t,t,t,l);return p.placeholder=ag.placeholder,p}function sg(a,l,h){l=h?t:l;var p=hn(a,L,t,t,t,t,t,l);return p.placeholder=sg.placeholder,p}function lg(a,l,h){var p,m,x,C,R,P,U=0,Y=!1,K=!1,it=!0;if(typeof a!="function")throw new _r(s);l=Er(l)||0,me(h)&&(Y=!!h.leading,K="maxWait"in h,x=K?Oe(Er(h.maxWait)||0,l):x,it="trailing"in h?!!h.trailing:it);function bt(Ee){var Nr=p,bn=m;return p=m=t,U=Ee,C=a.apply(bn,Nr),C}function Ct(Ee){return U=Ee,R=_a(Vt,l),Y?bt(Ee):C}function Bt(Ee){var Nr=Ee-P,bn=Ee-U,Rg=l-Nr;return K?Be(Rg,x-bn):Rg}function Tt(Ee){var Nr=Ee-P,bn=Ee-U;return P===t||Nr>=l||Nr<0||K&&bn>=x}function Vt(){var Ee=al();if(Tt(Ee))return $t(Ee);R=_a(Vt,Bt(Ee))}function $t(Ee){return R=t,it&&p?bt(Ee):(p=m=t,C)}function fr(){R!==t&&mp(R),U=0,p=P=m=R=t}function je(){return R===t?C:$t(al())}function hr(){var Ee=al(),Nr=Tt(Ee);if(p=arguments,m=this,P=Ee,Nr){if(R===t)return Ct(P);if(K)return mp(R),R=_a(Vt,l),bt(P)}return R===t&&(R=_a(Vt,l)),C}return hr.cancel=fr,hr.flush=je,hr}var _1=Wt(function(a,l){return qd(a,1,l)}),y1=Wt(function(a,l,h){return qd(a,Er(l)||0,h)});function x1(a){return hn(a,Q)}function sl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new _r(s);var h=function(){var p=arguments,m=l?l.apply(this,p):p[0],x=h.cache;if(x.has(m))return x.get(m);var C=a.apply(this,p);return h.cache=x.set(m,C)||x,C};return h.cache=new(sl.Cache||un),h}sl.Cache=un;function ll(a){if(typeof a!="function")throw new _r(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function w1(a){return og(2,a)}var k1=cx(function(a,l){l=l.length==1&&Ft(l[0])?ve(l[0],lr(wt())):ve(Ne(l,1),lr(wt()));var h=l.length;return Wt(function(p){for(var m=-1,x=Be(p.length,h);++m<x;)p[m]=l[m].call(this,p[m]);return sr(a,this,p)})}),Iu=Wt(function(a,l){var h=Fn(l,hi(Iu));return hn(a,D,t,l,h)}),cg=Wt(function(a,l){var h=Fn(l,hi(cg));return hn(a,X,t,l,h)}),E1=dn(function(a,l){return hn(a,B,t,t,t,l)});function C1(a,l){if(typeof a!="function")throw new _r(s);return l=l===t?l:zt(l),Wt(a,l)}function T1(a,l){if(typeof a!="function")throw new _r(s);return l=l==null?0:Oe(zt(l),0),Wt(function(h){var p=h[l],m=Bn(h,0,l);return p&&Mn(m,p),sr(a,this,m)})}function R1(a,l,h){var p=!0,m=!0;if(typeof a!="function")throw new _r(s);return me(h)&&(p="leading"in h?!!h.leading:p,m="trailing"in h?!!h.trailing:m),lg(a,l,{leading:p,maxWait:l,trailing:m})}function A1(a){return ng(a,1)}function I1(a,l){return Iu(du(l),a)}function O1(){if(!arguments.length)return[];var a=arguments[0];return Ft(a)?a:[a]}function S1(a){return xr(a,b)}function P1(a,l){return l=typeof l=="function"?l:t,xr(a,b,l)}function L1(a){return xr(a,v|b)}function M1(a,l){return l=typeof l=="function"?l:t,xr(a,v|b,l)}function F1(a,l){return l==null||$d(a,l,Se(l))}function Dr(a,l){return a===l||a!==a&&l!==l}var D1=tl(eu),N1=tl(function(a,l){return a>=l}),To=rp(function(){return arguments}())?rp:function(a){return ye(a)&&ie.call(a,"callee")&&!Ud.call(a,"callee")},Ft=F.isArray,z1=kd?lr(kd):Hy;function er(a){return a!=null&&cl(a.length)&&!gn(a)}function ke(a){return ye(a)&&er(a)}function G1(a){return a===!0||a===!1||ye(a)&&He(a)==ot}var Wn=Q_||Bu,B1=Ed?lr(Ed):Ky;function W1(a){return ye(a)&&a.nodeType===1&&!ya(a)}function U1(a){if(a==null)return!0;if(er(a)&&(Ft(a)||typeof a=="string"||typeof a.splice=="function"||Wn(a)||di(a)||To(a)))return!a.length;var l=We(a);if(l==A||l==$)return!a.size;if(ma(a))return!ou(a).length;for(var h in a)if(ie.call(a,h))return!1;return!0}function Y1(a,l){return ga(a,l)}function X1(a,l,h){h=typeof h=="function"?h:t;var p=h?h(a,l):t;return p===t?ga(a,l,t,h):!!p}function Ou(a){if(!ye(a))return!1;var l=He(a);return l==yt||l==Zt||typeof a.message=="string"&&typeof a.name=="string"&&!ya(a)}function V1(a){return typeof a=="number"&&Xd(a)}function gn(a){if(!me(a))return!1;var l=He(a);return l==Et||l==k||l==q||l==rt}function ug(a){return typeof a=="number"&&a==zt(a)}function cl(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=st}function me(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function ye(a){return a!=null&&typeof a=="object"}var fg=Cd?lr(Cd):Zy;function H1(a,l){return a===l||nu(a,l,yu(l))}function K1(a,l,h){return h=typeof h=="function"?h:t,nu(a,l,yu(l),h)}function j1(a){return hg(a)&&a!=+a}function Z1(a){if(Px(a))throw new Mt(i);return np(a)}function $1(a){return a===null}function q1(a){return a==null}function hg(a){return typeof a=="number"||ye(a)&&He(a)==M}function ya(a){if(!ye(a)||He(a)!=W)return!1;var l=Ds(a);if(l===null)return!0;var h=ie.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Ps.call(h)==K_}var Su=Td?lr(Td):$y;function J1(a){return ug(a)&&a>=-st&&a<=st}var dg=Rd?lr(Rd):qy;function ul(a){return typeof a=="string"||!Ft(a)&&ye(a)&&He(a)==H}function ur(a){return typeof a=="symbol"||ye(a)&&He(a)==ht}var di=Ad?lr(Ad):Jy;function Q1(a){return a===t}function tk(a){return ye(a)&&We(a)==vt}function ek(a){return ye(a)&&He(a)==xt}var rk=tl(iu),nk=tl(function(a,l){return a<=l});function pg(a){if(!a)return[];if(er(a))return ul(a)?Mr(a):tr(a);if(sa&&a[sa])return F_(a[sa]());var l=We(a),h=l==A?Hc:l==$?Is:pi;return h(a)}function vn(a){if(!a)return a===0?a:0;if(a=Er(a),a===tt||a===-tt){var l=a<0?-1:1;return l*_t}return a===a?a:0}function zt(a){var l=vn(a),h=l%1;return l===l?h?l-h:l:0}function gg(a){return a?wo(zt(a),0,St):0}function Er(a){if(typeof a=="number")return a;if(ur(a))return Ot;if(me(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=me(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Md(a);var h=z0.test(a);return h||B0.test(a)?m_(a.slice(2),h?2:8):ks.test(a)?Ot:+a}function vg(a){return Jr(a,rr(a))}function ok(a){return a?wo(zt(a),-st,st):a===0?a:0}function oe(a){return a==null?"":cr(a)}var ik=ui(function(a,l){if(ma(l)||er(l)){Jr(l,Se(l),a);return}for(var h in l)ie.call(l,h)&&ha(a,h,l[h])}),bg=ui(function(a,l){Jr(l,rr(l),a)}),fl=ui(function(a,l,h,p){Jr(l,rr(l),a,p)}),ak=ui(function(a,l,h,p){Jr(l,Se(l),a,p)}),sk=dn(Jc);function lk(a,l){var h=ci(a);return l==null?h:Zd(h,l)}var ck=Wt(function(a,l){a=le(a);var h=-1,p=l.length,m=p>2?l[2]:t;for(m&&Ke(l[0],l[1],m)&&(p=1);++h<p;)for(var x=l[h],C=rr(x),R=-1,P=C.length;++R<P;){var U=C[R],Y=a[U];(Y===t||Dr(Y,ai[U])&&!ie.call(a,U))&&(a[U]=x[U])}return a}),uk=Wt(function(a){return a.push(t,Mp),sr(mg,t,a)});function fk(a,l){return Od(a,wt(l,3),qr)}function hk(a,l){return Od(a,wt(l,3),tu)}function dk(a,l){return a==null?a:Qc(a,wt(l,3),rr)}function pk(a,l){return a==null?a:tp(a,wt(l,3),rr)}function gk(a,l){return a&&qr(a,wt(l,3))}function vk(a,l){return a&&tu(a,wt(l,3))}function bk(a){return a==null?[]:Hs(a,Se(a))}function mk(a){return a==null?[]:Hs(a,rr(a))}function Pu(a,l,h){var p=a==null?t:ko(a,l);return p===t?h:p}function _k(a,l){return a!=null&&Np(a,l,Uy)}function Lu(a,l){return a!=null&&Np(a,l,Yy)}var yk=Ip(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ls.call(l)),a[l]=h},Fu(nr)),xk=Ip(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ls.call(l)),ie.call(a,l)?a[l].push(h):a[l]=[h]},wt),wk=Wt(pa);function Se(a){return er(a)?Kd(a):ou(a)}function rr(a){return er(a)?Kd(a,!0):Qy(a)}function kk(a,l){var h={};return l=wt(l,3),qr(a,function(p,m,x){fn(h,l(p,m,x),p)}),h}function Ek(a,l){var h={};return l=wt(l,3),qr(a,function(p,m,x){fn(h,m,l(p,m,x))}),h}var Ck=ui(function(a,l,h){Ks(a,l,h)}),mg=ui(function(a,l,h,p){Ks(a,l,h,p)}),Tk=dn(function(a,l){var h={};if(a==null)return h;var p=!1;l=ve(l,function(x){return x=Gn(x,a),p||(p=x.length>1),x}),Jr(a,mu(a),h),p&&(h=xr(h,v|g|b,yx));for(var m=l.length;m--;)uu(h,l[m]);return h});function Rk(a,l){return _g(a,ll(wt(l)))}var Ak=dn(function(a,l){return a==null?{}:ex(a,l)});function _g(a,l){if(a==null)return{};var h=ve(mu(a),function(p){return[p]});return l=wt(l),up(a,h,function(p,m){return l(p,m[0])})}function Ik(a,l,h){l=Gn(l,a);var p=-1,m=l.length;for(m||(m=1,a=t);++p<m;){var x=a==null?t:a[Qr(l[p])];x===t&&(p=m,x=h),a=gn(x)?x.call(a):x}return a}function Ok(a,l,h){return a==null?a:va(a,l,h)}function Sk(a,l,h,p){return p=typeof p=="function"?p:t,a==null?a:va(a,l,h,p)}var yg=Pp(Se),xg=Pp(rr);function Pk(a,l,h){var p=Ft(a),m=p||Wn(a)||di(a);if(l=wt(l,4),h==null){var x=a&&a.constructor;m?h=p?new x:[]:me(a)?h=gn(x)?ci(Ds(a)):{}:h={}}return(m?mr:qr)(a,function(C,R,P){return l(h,C,R,P)}),h}function Lk(a,l){return a==null?!0:uu(a,l)}function Mk(a,l,h){return a==null?a:gp(a,l,du(h))}function Fk(a,l,h,p){return p=typeof p=="function"?p:t,a==null?a:gp(a,l,du(h),p)}function pi(a){return a==null?[]:Vc(a,Se(a))}function Dk(a){return a==null?[]:Vc(a,rr(a))}function Nk(a,l,h){return h===t&&(h=l,l=t),h!==t&&(h=Er(h),h=h===h?h:0),l!==t&&(l=Er(l),l=l===l?l:0),wo(Er(a),l,h)}function zk(a,l,h){return l=vn(l),h===t?(h=l,l=0):h=vn(h),a=Er(a),Xy(a,l,h)}function Gk(a,l,h){if(h&&typeof h!="boolean"&&Ke(a,l,h)&&(l=h=t),h===t&&(typeof l=="boolean"?(h=l,l=t):typeof a=="boolean"&&(h=a,a=t)),a===t&&l===t?(a=0,l=1):(a=vn(a),l===t?(l=a,a=0):l=vn(l)),a>l){var p=a;a=l,l=p}if(h||a%1||l%1){var m=Vd();return Be(a+m*(l-a+b_("1e-"+((m+"").length-1))),l)}return su(a,l)}var Bk=fi(function(a,l,h){return l=l.toLowerCase(),a+(h?wg(l):l)});function wg(a){return Mu(oe(a).toLowerCase())}function kg(a){return a=oe(a),a&&a.replace(U0,O_).replace(s_,"")}function Wk(a,l,h){a=oe(a),l=cr(l);var p=a.length;h=h===t?p:wo(zt(h),0,p);var m=h;return h-=l.length,h>=0&&a.slice(h,m)==l}function Uk(a){return a=oe(a),a&&ra.test(a)?a.replace(ea,S_):a}function Yk(a){return a=oe(a),a&&Oc.test(a)?a.replace(Jo,"\\$&"):a}var Xk=fi(function(a,l,h){return a+(h?"-":"")+l.toLowerCase()}),Vk=fi(function(a,l,h){return a+(h?" ":"")+l.toLowerCase()}),Hk=Tp("toLowerCase");function Kk(a,l,h){a=oe(a),l=zt(l);var p=l?oi(a):0;if(!l||p>=l)return a;var m=(l-p)/2;return Qs(Bs(m),h)+a+Qs(Gs(m),h)}function jk(a,l,h){a=oe(a),l=zt(l);var p=l?oi(a):0;return l&&p<l?a+Qs(l-p,h):a}function Zk(a,l,h){a=oe(a),l=zt(l);var p=l?oi(a):0;return l&&p<l?Qs(l-p,h)+a:a}function $k(a,l,h){return h||l==null?l=0:l&&(l=+l),ny(oe(a).replace(oa,""),l||0)}function qk(a,l,h){return(h?Ke(a,l,h):l===t)?l=1:l=zt(l),lu(oe(a),l)}function Jk(){var a=arguments,l=oe(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var Qk=fi(function(a,l,h){return a+(h?"_":"")+l.toLowerCase()});function t5(a,l,h){return h&&typeof h!="number"&&Ke(a,l,h)&&(l=h=t),h=h===t?St:h>>>0,h?(a=oe(a),a&&(typeof l=="string"||l!=null&&!Su(l))&&(l=cr(l),!l&&ni(a))?Bn(Mr(a),0,h):a.split(l,h)):[]}var e5=fi(function(a,l,h){return a+(h?" ":"")+Mu(l)});function r5(a,l,h){return a=oe(a),h=h==null?0:wo(zt(h),0,a.length),l=cr(l),a.slice(h,h+l.length)==l}function n5(a,l,h){var p=y.templateSettings;h&&Ke(a,l,h)&&(l=t),a=oe(a),l=fl({},l,p,Lp);var m=fl({},l.imports,p.imports,Lp),x=Se(m),C=Vc(m,x),R,P,U=0,Y=l.interpolate||Es,K="__p += '",it=Kc((l.escape||Es).source+"|"+Y.source+"|"+(Y===Pn?ia:Es).source+"|"+(l.evaluate||Es).source+"|$","g"),bt="//# sourceURL="+(ie.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++h_+"]")+`
`;a.replace(it,function(Tt,Vt,$t,fr,je,hr){return $t||($t=fr),K+=a.slice(U,hr).replace(Y0,P_),Vt&&(R=!0,K+=`' +
__e(`+Vt+`) +
'`),je&&(P=!0,K+=`';
`+je+`;
__p += '`),$t&&(K+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),U=hr+Tt.length,Tt}),K+=`';
`;var Ct=ie.call(l,"variable")&&l.variable;if(!Ct)K=`with (obj) {
`+K+`
}
`;else if(Ge.test(Ct))throw new Mt(c);K=(P?K.replace(ho,""):K).replace(ta,"$1").replace(Ic,"$1;"),K="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var Bt=Cg(function(){return ee(x,bt+"return "+K).apply(t,C)});if(Bt.source=K,Ou(Bt))throw Bt;return Bt}function o5(a){return oe(a).toLowerCase()}function i5(a){return oe(a).toUpperCase()}function a5(a,l,h){if(a=oe(a),a&&(h||l===t))return Md(a);if(!a||!(l=cr(l)))return a;var p=Mr(a),m=Mr(l),x=Fd(p,m),C=Dd(p,m)+1;return Bn(p,x,C).join("")}function s5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.slice(0,zd(a)+1);if(!a||!(l=cr(l)))return a;var p=Mr(a),m=Dd(p,Mr(l))+1;return Bn(p,0,m).join("")}function l5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.replace(oa,"");if(!a||!(l=cr(l)))return a;var p=Mr(a),m=Fd(p,Mr(l));return Bn(p,m).join("")}function c5(a,l){var h=lt,p=ft;if(me(l)){var m="separator"in l?l.separator:m;h="length"in l?zt(l.length):h,p="omission"in l?cr(l.omission):p}a=oe(a);var x=a.length;if(ni(a)){var C=Mr(a);x=C.length}if(h>=x)return a;var R=h-oi(p);if(R<1)return p;var P=C?Bn(C,0,R).join(""):a.slice(0,R);if(m===t)return P+p;if(C&&(R+=P.length-R),Su(m)){if(a.slice(R).search(m)){var U,Y=P;for(m.global||(m=Kc(m.source,oe(ws.exec(m))+"g")),m.lastIndex=0;U=m.exec(Y);)var K=U.index;P=P.slice(0,K===t?R:K)}}else if(a.indexOf(cr(m),R)!=R){var it=P.lastIndexOf(m);it>-1&&(P=P.slice(0,it))}return P+p}function u5(a){return a=oe(a),a&&_s.test(a)?a.replace(ms,G_):a}var f5=fi(function(a,l,h){return a+(h?" ":"")+l.toUpperCase()}),Mu=Tp("toUpperCase");function Eg(a,l,h){return a=oe(a),l=h?t:l,l===t?M_(a)?U_(a):C_(a):a.match(l)||[]}var Cg=Wt(function(a,l){try{return sr(a,t,l)}catch(h){return Ou(h)?h:new Mt(h)}}),h5=dn(function(a,l){return mr(l,function(h){h=Qr(h),fn(a,h,Au(a[h],a))}),a});function d5(a){var l=a==null?0:a.length,h=wt();return a=l?ve(a,function(p){if(typeof p[1]!="function")throw new _r(s);return[h(p[0]),p[1]]}):[],Wt(function(p){for(var m=-1;++m<l;){var x=a[m];if(sr(x[0],this,p))return sr(x[1],this,p)}})}function p5(a){return Gy(xr(a,v))}function Fu(a){return function(){return a}}function g5(a,l){return a==null||a!==a?l:a}var v5=Ap(),b5=Ap(!0);function nr(a){return a}function Du(a){return op(typeof a=="function"?a:xr(a,v))}function m5(a){return ap(xr(a,v))}function _5(a,l){return sp(a,xr(l,v))}var y5=Wt(function(a,l){return function(h){return pa(h,a,l)}}),x5=Wt(function(a,l){return function(h){return pa(a,h,l)}});function Nu(a,l,h){var p=Se(l),m=Hs(l,p);h==null&&!(me(l)&&(m.length||!p.length))&&(h=l,l=a,a=this,m=Hs(l,Se(l)));var x=!(me(h)&&"chain"in h)||!!h.chain,C=gn(a);return mr(m,function(R){var P=l[R];a[R]=P,C&&(a.prototype[R]=function(){var U=this.__chain__;if(x||U){var Y=a(this.__wrapped__),K=Y.__actions__=tr(this.__actions__);return K.push({func:P,args:arguments,thisArg:a}),Y.__chain__=U,Y}return P.apply(a,Mn([this.value()],arguments))})}),a}function w5(){return De._===this&&(De._=j_),this}function zu(){}function k5(a){return a=zt(a),Wt(function(l){return lp(l,a)})}var E5=gu(ve),C5=gu(Id),T5=gu(Bc);function Tg(a){return wu(a)?Wc(Qr(a)):rx(a)}function R5(a){return function(l){return a==null?t:ko(a,l)}}var A5=Op(),I5=Op(!0);function Gu(){return[]}function Bu(){return!1}function O5(){return{}}function S5(){return""}function P5(){return!0}function L5(a,l){if(a=zt(a),a<1||a>st)return[];var h=St,p=Be(a,St);l=wt(l),a-=St;for(var m=Xc(p,l);++h<a;)l(h);return m}function M5(a){return Ft(a)?ve(a,Qr):ur(a)?[a]:tr(Hp(oe(a)))}function F5(a){var l=++H_;return oe(a)+l}var D5=Js(function(a,l){return a+l},0),N5=vu("ceil"),z5=Js(function(a,l){return a/l},1),G5=vu("floor");function B5(a){return a&&a.length?Vs(a,nr,eu):t}function W5(a,l){return a&&a.length?Vs(a,wt(l,2),eu):t}function U5(a){return Pd(a,nr)}function Y5(a,l){return Pd(a,wt(l,2))}function X5(a){return a&&a.length?Vs(a,nr,iu):t}function V5(a,l){return a&&a.length?Vs(a,wt(l,2),iu):t}var H5=Js(function(a,l){return a*l},1),K5=vu("round"),j5=Js(function(a,l){return a-l},0);function Z5(a){return a&&a.length?Yc(a,nr):0}function $5(a,l){return a&&a.length?Yc(a,wt(l,2)):0}return y.after=m1,y.ary=ng,y.assign=ik,y.assignIn=bg,y.assignInWith=fl,y.assignWith=ak,y.at=sk,y.before=og,y.bind=Au,y.bindAll=h5,y.bindKey=ig,y.castArray=O1,y.chain=tg,y.chunk=Gx,y.compact=Bx,y.concat=Wx,y.cond=d5,y.conforms=p5,y.constant=Fu,y.countBy=Zw,y.create=lk,y.curry=ag,y.curryRight=sg,y.debounce=lg,y.defaults=ck,y.defaultsDeep=uk,y.defer=_1,y.delay=y1,y.difference=Ux,y.differenceBy=Yx,y.differenceWith=Xx,y.drop=Vx,y.dropRight=Hx,y.dropRightWhile=Kx,y.dropWhile=jx,y.fill=Zx,y.filter=qw,y.flatMap=t1,y.flatMapDeep=e1,y.flatMapDepth=r1,y.flatten=$p,y.flattenDeep=$x,y.flattenDepth=qx,y.flip=x1,y.flow=v5,y.flowRight=b5,y.fromPairs=Jx,y.functions=bk,y.functionsIn=mk,y.groupBy=n1,y.initial=tw,y.intersection=ew,y.intersectionBy=rw,y.intersectionWith=nw,y.invert=yk,y.invertBy=xk,y.invokeMap=i1,y.iteratee=Du,y.keyBy=a1,y.keys=Se,y.keysIn=rr,y.map=il,y.mapKeys=kk,y.mapValues=Ek,y.matches=m5,y.matchesProperty=_5,y.memoize=sl,y.merge=Ck,y.mergeWith=mg,y.method=y5,y.methodOf=x5,y.mixin=Nu,y.negate=ll,y.nthArg=k5,y.omit=Tk,y.omitBy=Rk,y.once=w1,y.orderBy=s1,y.over=E5,y.overArgs=k1,y.overEvery=C5,y.overSome=T5,y.partial=Iu,y.partialRight=cg,y.partition=l1,y.pick=Ak,y.pickBy=_g,y.property=Tg,y.propertyOf=R5,y.pull=sw,y.pullAll=Jp,y.pullAllBy=lw,y.pullAllWith=cw,y.pullAt=uw,y.range=A5,y.rangeRight=I5,y.rearg=E1,y.reject=f1,y.remove=fw,y.rest=C1,y.reverse=Tu,y.sampleSize=d1,y.set=Ok,y.setWith=Sk,y.shuffle=p1,y.slice=hw,y.sortBy=b1,y.sortedUniq=_w,y.sortedUniqBy=yw,y.split=t5,y.spread=T1,y.tail=xw,y.take=ww,y.takeRight=kw,y.takeRightWhile=Ew,y.takeWhile=Cw,y.tap=Bw,y.throttle=R1,y.thru=ol,y.toArray=pg,y.toPairs=yg,y.toPairsIn=xg,y.toPath=M5,y.toPlainObject=vg,y.transform=Pk,y.unary=A1,y.union=Tw,y.unionBy=Rw,y.unionWith=Aw,y.uniq=Iw,y.uniqBy=Ow,y.uniqWith=Sw,y.unset=Lk,y.unzip=Ru,y.unzipWith=Qp,y.update=Mk,y.updateWith=Fk,y.values=pi,y.valuesIn=Dk,y.without=Pw,y.words=Eg,y.wrap=I1,y.xor=Lw,y.xorBy=Mw,y.xorWith=Fw,y.zip=Dw,y.zipObject=Nw,y.zipObjectDeep=zw,y.zipWith=Gw,y.entries=yg,y.entriesIn=xg,y.extend=bg,y.extendWith=fl,Nu(y,y),y.add=D5,y.attempt=Cg,y.camelCase=Bk,y.capitalize=wg,y.ceil=N5,y.clamp=Nk,y.clone=S1,y.cloneDeep=L1,y.cloneDeepWith=M1,y.cloneWith=P1,y.conformsTo=F1,y.deburr=kg,y.defaultTo=g5,y.divide=z5,y.endsWith=Wk,y.eq=Dr,y.escape=Uk,y.escapeRegExp=Yk,y.every=$w,y.find=Jw,y.findIndex=jp,y.findKey=fk,y.findLast=Qw,y.findLastIndex=Zp,y.findLastKey=hk,y.floor=G5,y.forEach=eg,y.forEachRight=rg,y.forIn=dk,y.forInRight=pk,y.forOwn=gk,y.forOwnRight=vk,y.get=Pu,y.gt=D1,y.gte=N1,y.has=_k,y.hasIn=Lu,y.head=qp,y.identity=nr,y.includes=o1,y.indexOf=Qx,y.inRange=zk,y.invoke=wk,y.isArguments=To,y.isArray=Ft,y.isArrayBuffer=z1,y.isArrayLike=er,y.isArrayLikeObject=ke,y.isBoolean=G1,y.isBuffer=Wn,y.isDate=B1,y.isElement=W1,y.isEmpty=U1,y.isEqual=Y1,y.isEqualWith=X1,y.isError=Ou,y.isFinite=V1,y.isFunction=gn,y.isInteger=ug,y.isLength=cl,y.isMap=fg,y.isMatch=H1,y.isMatchWith=K1,y.isNaN=j1,y.isNative=Z1,y.isNil=q1,y.isNull=$1,y.isNumber=hg,y.isObject=me,y.isObjectLike=ye,y.isPlainObject=ya,y.isRegExp=Su,y.isSafeInteger=J1,y.isSet=dg,y.isString=ul,y.isSymbol=ur,y.isTypedArray=di,y.isUndefined=Q1,y.isWeakMap=tk,y.isWeakSet=ek,y.join=ow,y.kebabCase=Xk,y.last=kr,y.lastIndexOf=iw,y.lowerCase=Vk,y.lowerFirst=Hk,y.lt=rk,y.lte=nk,y.max=B5,y.maxBy=W5,y.mean=U5,y.meanBy=Y5,y.min=X5,y.minBy=V5,y.stubArray=Gu,y.stubFalse=Bu,y.stubObject=O5,y.stubString=S5,y.stubTrue=P5,y.multiply=H5,y.nth=aw,y.noConflict=w5,y.noop=zu,y.now=al,y.pad=Kk,y.padEnd=jk,y.padStart=Zk,y.parseInt=$k,y.random=Gk,y.reduce=c1,y.reduceRight=u1,y.repeat=qk,y.replace=Jk,y.result=Ik,y.round=K5,y.runInContext=S,y.sample=h1,y.size=g1,y.snakeCase=Qk,y.some=v1,y.sortedIndex=dw,y.sortedIndexBy=pw,y.sortedIndexOf=gw,y.sortedLastIndex=vw,y.sortedLastIndexBy=bw,y.sortedLastIndexOf=mw,y.startCase=e5,y.startsWith=r5,y.subtract=j5,y.sum=Z5,y.sumBy=$5,y.template=n5,y.times=L5,y.toFinite=vn,y.toInteger=zt,y.toLength=gg,y.toLower=o5,y.toNumber=Er,y.toSafeInteger=ok,y.toString=oe,y.toUpper=i5,y.trim=a5,y.trimEnd=s5,y.trimStart=l5,y.truncate=c5,y.unescape=u5,y.uniqueId=F5,y.upperCase=f5,y.upperFirst=Mu,y.each=eg,y.eachRight=rg,y.first=qp,Nu(y,function(){var a={};return qr(y,function(l,h){ie.call(y.prototype,h)||(a[h]=l)}),a}(),{chain:!1}),y.VERSION=r,mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),mr(["drop","take"],function(a,l){Ht.prototype[a]=function(h){h=h===t?1:Oe(zt(h),0);var p=this.__filtered__&&!l?new Ht(this):this.clone();return p.__filtered__?p.__takeCount__=Be(h,p.__takeCount__):p.__views__.push({size:Be(h,St),type:a+(p.__dir__<0?"Right":"")}),p},Ht.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),mr(["filter","map","takeWhile"],function(a,l){var h=l+1,p=h==mt||h==ct;Ht.prototype[a]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:wt(m,3),type:h}),x.__filtered__=x.__filtered__||p,x}}),mr(["head","last"],function(a,l){var h="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[h](1).value()[0]}}),mr(["initial","tail"],function(a,l){var h="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[h](1)}}),Ht.prototype.compact=function(){return this.filter(nr)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Wt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(h){return pa(h,a,l)})}),Ht.prototype.reject=function(a){return this.filter(ll(wt(a)))},Ht.prototype.slice=function(a,l){a=zt(a);var h=this;return h.__filtered__&&(a>0||l<0)?new Ht(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),l!==t&&(l=zt(l),h=l<0?h.dropRight(-l):h.take(l-a)),h)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(St)},qr(Ht.prototype,function(a,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),p=/^(?:head|last)$/.test(l),m=y[p?"take"+(l=="last"?"Right":""):l],x=p||/^find/.test(l);!m||(y.prototype[l]=function(){var C=this.__wrapped__,R=p?[1]:arguments,P=C instanceof Ht,U=R[0],Y=P||Ft(C),K=function(Vt){var $t=m.apply(y,Mn([Vt],R));return p&&it?$t[0]:$t};Y&&h&&typeof U=="function"&&U.length!=1&&(P=Y=!1);var it=this.__chain__,bt=!!this.__actions__.length,Ct=x&&!it,Bt=P&&!bt;if(!x&&Y){C=Bt?C:new Ht(this);var Tt=a.apply(C,R);return Tt.__actions__.push({func:ol,args:[K],thisArg:t}),new yr(Tt,it)}return Ct&&Bt?a.apply(this,R):(Tt=this.thru(K),Ct?p?Tt.value()[0]:Tt.value():Tt)})}),mr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Os[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",p=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(p&&!this.__chain__){var x=this.value();return l.apply(Ft(x)?x:[],m)}return this[h](function(C){return l.apply(Ft(C)?C:[],m)})}}),qr(Ht.prototype,function(a,l){var h=y[l];if(h){var p=h.name+"";ie.call(li,p)||(li[p]=[]),li[p].push({name:l,func:h})}}),li[qs(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=uy,Ht.prototype.reverse=fy,Ht.prototype.value=hy,y.prototype.at=Ww,y.prototype.chain=Uw,y.prototype.commit=Yw,y.prototype.next=Xw,y.prototype.plant=Hw,y.prototype.reverse=Kw,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=jw,y.prototype.first=y.prototype.head,sa&&(y.prototype[sa]=Vw),y},ii=Y_();mo?((mo.exports=ii)._=ii,Dc._=ii):De._=ii}).call(ka)})(Xl,Xl.exports);var pr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Ir={};Ir[pr.RADIANS]=6370997/(2*Math.PI);Ir[pr.DEGREES]=2*Math.PI*6370997/360;Ir[pr.FEET]=.3048;Ir[pr.METERS]=1;Ir[pr.USFEET]=1200/3937;var GR=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Ir[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),vc=GR;function Ae(n,e,t){return Math.min(Math.max(n,e),t)}var BR=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),WR=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function UR(n,e,t,r,o,i){var s=o-t,c=i-r;if(s!==0||c!==0){var u=((n-t)*s+(e-r)*c)/(s*s+c*c);u>1?(t=o,r=i):u>0&&(t+=s*u,r+=c*u)}return Yo(n,e,t,r)}function Yo(n,e,t,r){var o=t-n,i=r-e;return o*o+i*i}function YR(n){for(var e=n.length,t=0;t<e;t++){for(var r=t,o=Math.abs(n[t][t]),i=t+1;i<e;i++){var s=Math.abs(n[i][t]);s>o&&(o=s,r=i)}if(o===0)return null;var c=n[r];n[r]=n[t],n[t]=c;for(var u=t+1;u<e;u++)for(var f=-n[u][t]/n[t][t],d=t;d<e+1;d++)t==d?n[u][d]=0:n[u][d]+=f*n[t][d]}for(var v=new Array(e),g=e-1;g>=0;g--){v[g]=n[g][e]/n[g][g];for(var b=g-1;b>=0;b--)n[b][e]-=n[b][g]*v[g]}return v}function Dl(n){return n*Math.PI/180}function Li(n,e){var t=n%e;return t*e<0?t+e:t}function En(n,e,t){return n+t*(e-n)}function xm(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function ml(n,e){return Math.floor(xm(n,e))}function _l(n,e){return Math.ceil(xm(n,e))}var XR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cs=6378137,Ii=Math.PI*cs,VR=[-Ii,-Ii,Ii,Ii],HR=[-180,-85,180,85],yl=cs*Math.log(Math.tan(Math.PI/2)),bi=function(n){XR(e,n);function e(t){return n.call(this,{code:t,units:pr.METERS,extent:VR,global:!0,worldExtent:HR,getPointResolution:function(r,o){return r/BR(o[1]/cs)}})||this}return e}(vc),yv=[new bi("EPSG:3857"),new bi("EPSG:102100"),new bi("EPSG:102113"),new bi("EPSG:900913"),new bi("http://www.opengis.net/def/crs/EPSG/0/3857"),new bi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function KR(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o){i[s]=Ii*n[s]/180;var c=cs*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));c>yl?c=yl:c<-yl&&(c=-yl),i[s+1]=c}return i}function jR(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o)i[s]=180*n[s]/Ii,i[s+1]=360*Math.atan(Math.exp(n[s+1]/cs))/Math.PI-90;return i}var ZR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$R=6378137,xv=[-180,-90,180,90],qR=Math.PI*$R/180,Io=function(n){ZR(e,n);function e(t,r){return n.call(this,{code:t,units:pr.DEGREES,extent:xv,axisOrientation:r,global:!0,metersPerUnit:qR,worldExtent:xv})||this}return e}(vc),wv=[new Io("CRS:84"),new Io("EPSG:4326","neu"),new Io("urn:ogc:def:crs:OGC:1.3:CRS84"),new Io("urn:ogc:def:crs:OGC:2:84"),new Io("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Io("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Io("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Lf={};function JR(n){return Lf[n]||Lf[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function QR(n,e){Lf[n]=e}var Me=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function us(n){for(var e in n)delete n[e]}var wm=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function qa(n){var e;for(e in n)return!1;return!e}var Mi={};function Vl(n,e,t){var r=n.getCode(),o=e.getCode();r in Mi||(Mi[r]={}),Mi[r][o]=t}function tA(n,e){var t;return n in Mi&&e in Mi[n]&&(t=Mi[n][e]),t}var Ia={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Pe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Kt(){return function(){throw new Error("Unimplemented abstract method.")}()}var eA=0;function re(n){return n.ol_uid||(n.ol_uid=String(++eA))}var rA="6.14.1",nA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oA=function(n){nA(e,n);function e(t){var r=this,o="v"+rA.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+t+" for details.";return r=n.call(this,i)||this,r.code=t,r.name="AssertionError",r.message=i,r}return e}(Error),km=oA;function jt(n,e){if(!n)throw new km(e)}function Mf(n){for(var e=Or(),t=0,r=n.length;t<r;++t)Ba(e,n[t]);return e}function iA(n,e,t){var r=Math.min.apply(null,n),o=Math.min.apply(null,e),i=Math.max.apply(null,n),s=Math.max.apply(null,e);return jr(r,o,i,s,t)}function Ch(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Em(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function $i(n,e,t){var r,o;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?o=n[1]-t:n[3]<t?o=t-n[3]:o=0,r*r+o*o}function fs(n,e){return Th(n,e[0],e[1])}function Oi(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Th(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Ff(n,e){var t=n[0],r=n[1],o=n[2],i=n[3],s=e[0],c=e[1],u=Pe.UNKNOWN;return s<t?u=u|Pe.LEFT:s>o&&(u=u|Pe.RIGHT),c<r?u=u|Pe.BELOW:c>i&&(u=u|Pe.ABOVE),u===Pe.UNKNOWN&&(u=Pe.INTERSECTING),u}function Or(){return[1/0,1/0,-1/0,-1/0]}function jr(n,e,t,r,o){return o?(o[0]=n,o[1]=e,o[2]=t,o[3]=r,o):[n,e,t,r]}function bc(n){return jr(1/0,1/0,-1/0,-1/0,n)}function aA(n,e){var t=n[0],r=n[1];return jr(t,r,t,r,e)}function Cm(n,e,t,r,o){var i=bc(o);return Tm(i,n,e,t,r)}function Ja(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function sA(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Ba(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Tm(n,e,t,r,o){for(;t<r;t+=o)lA(n,e[t],e[t+1]);return n}function lA(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Rh(n,e){var t;return t=e(Wi(n)),t||(t=e(hs(n)),t)||(t=e(ds(n)),t)||(t=e(uo(n)),t)?t:!1}function Df(n){var e=0;return Ah(n)||(e=xe(n)*Zr(n)),e}function Wi(n){return[n[0],n[1]]}function hs(n){return[n[2],n[1]]}function Ui(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function cA(n,e){var t;return e===Ia.BOTTOM_LEFT?t=Wi(n):e===Ia.BOTTOM_RIGHT?t=hs(n):e===Ia.TOP_LEFT?t=uo(n):e===Ia.TOP_RIGHT?t=ds(n):jt(!1,13),t}function Nf(n,e,t,r,o){var i=e*r[0]/2,s=e*r[1]/2,c=Math.cos(t),u=Math.sin(t),f=i*c,d=i*u,v=s*c,g=s*u,b=n[0],_=n[1],w=b-f+g,E=b-f-g,T=b+f-g,I=b+f+g,O=_-d-v,L=_-d+v,D=_+d+v,X=_+d-v;return jr(Math.min(w,E,T,I),Math.min(O,L,D,X),Math.max(w,E,T,I),Math.max(O,L,D,X),o)}function Zr(n){return n[3]-n[1]}function Wa(n,e,t){var r=t||Or();return $e(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):bc(r),r}function uo(n){return[n[0],n[3]]}function ds(n){return[n[2],n[3]]}function xe(n){return n[2]-n[0]}function $e(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Ah(n){return n[2]<n[0]||n[3]<n[1]}function uA(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function fA(n,e,t){var r=!1,o=Ff(n,e),i=Ff(n,t);if(o===Pe.INTERSECTING||i===Pe.INTERSECTING)r=!0;else{var s=n[0],c=n[1],u=n[2],f=n[3],d=e[0],v=e[1],g=t[0],b=t[1],_=(b-v)/(g-d),w=void 0,E=void 0;!!(i&Pe.ABOVE)&&!(o&Pe.ABOVE)&&(w=g-(b-f)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.RIGHT)&&!(o&Pe.RIGHT)&&(E=b-(g-u)*_,r=E>=c&&E<=f),!r&&!!(i&Pe.BELOW)&&!(o&Pe.BELOW)&&(w=g-(b-c)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.LEFT)&&!(o&Pe.LEFT)&&(E=b-(g-s)*_,r=E>=c&&E<=f)}return r}function hA(n,e,t,r){var o=[];if(r>1)for(var i=n[2]-n[0],s=n[3]-n[1],c=0;c<r;++c)o.push(n[0]+i*c/r,n[1],n[2],n[1]+s*c/r,n[2]-i*c/r,n[3],n[0],n[3]-s*c/r);else o=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(o,o,2);for(var u=[],f=[],c=0,d=o.length;c<d;c+=2)u.push(o[c]),f.push(o[c+1]);return iA(u,f,t)}function dA(n,e){var t=e.getExtent(),r=Ui(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var o=xe(t),i=Math.floor((r[0]-t[0])/o),s=i*o;n[0]-=s,n[2]-=s}return n}function pA(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function Hl(n,e){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function Ih(n,e){var t=Math.cos(e),r=Math.sin(e),o=n[0]*t-n[1]*r,i=n[1]*t+n[0]*r;return n[0]=o,n[1]=i,n}function gA(n,e){return n[0]*=e,n[1]*=e,n}function vA(n,e){var t=n[0]-e[0],r=n[1]-e[1];return t*t+r*r}function Rm(n,e){if(e.canWrapX()){var t=xe(e.getExtent()),r=bA(n,e,t);r&&(n[0]-=r*t)}return n}function bA(n,e,t){var r=e.getExtent(),o=0;if(e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var i=t||xe(r);o=Math.floor((n[0]-r[0])/i)}return o}var at={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},mA=63710088e-1;function kv(n,e,t){var r=t||mA,o=Dl(n[1]),i=Dl(e[1]),s=(i-o)/2,c=Dl(e[0]-n[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var zf=!0;function _A(n){var e=n===void 0?!0:n;zf=!e}function Oh(n,e,t){var r;if(e!==void 0){for(var o=0,i=n.length;o<i;++o)e[o]=n[o];r=e}else r=n.slice();return r}function Am(n,e,t){if(e!==void 0&&n!==e){for(var r=0,o=n.length;r<o;++r)e[r]=n[r];n=e}return n}function yA(n){QR(n.getCode(),n),Vl(n,n,Oh)}function xA(n){n.forEach(yA)}function vr(n){return typeof n=="string"?JR(n):n||null}function Ev(n,e,t,r){n=vr(n);var o,i=n.getPointResolutionFunc();if(i){if(o=i(e,t),r&&r!==n.getUnits()){var s=n.getMetersPerUnit();s&&(o=o*s/Ir[r])}}else{var c=n.getUnits();if(c==pr.DEGREES&&!r||r==pr.DEGREES)o=e;else{var u=mc(n,vr("EPSG:4326"));if(u===Am&&c!==pr.DEGREES)o=e*n.getMetersPerUnit();else{var f=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];f=u(f,f,2);var d=kv(f.slice(0,2),f.slice(2,4)),v=kv(f.slice(4,6),f.slice(6,8));o=(d+v)/2}var s=r?Ir[r]:n.getMetersPerUnit();s!==void 0&&(o/=s)}}return o}function Cv(n){xA(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Vl(e,t,Oh)})})}function wA(n,e,t,r){n.forEach(function(o){e.forEach(function(i){Vl(o,i,t),Vl(i,o,r)})})}function Sh(n,e){return n?typeof n=="string"?vr(n):n:vr(e)}function Ci(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var r=mc(n,e);return r===Oh&&t}function mc(n,e){var t=n.getCode(),r=e.getCode(),o=tA(t,r);return o||(o=Am),o}function Qa(n,e){var t=vr(n),r=vr(e);return mc(t,r)}function Ph(n,e,t){var r=Qa(e,t);return r(n,void 0,n.length)}function Im(n,e,t,r){var o=Qa(e,t);return hA(n,o,void 0,r)}var Sr=null;function kA(n){Sr=vr(n)}function _c(){return Sr}function EA(){kA("EPSG:4326")}function Gf(n,e){return Sr?Ph(n,e,Sr):n}function Tr(n,e){return Sr?Ph(n,Sr,e):(zf&&!Hl(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(zf=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Bf(n,e){return Sr?Im(n,e,Sr):n}function Do(n,e){return Sr?Im(n,Sr,e):n}function CA(n,e){if(!Sr)return n;var t=vr(e).getUnits(),r=Sr.getUnits();return t&&r?n*Ir[t]/Ir[r]:n}function TA(){Cv(yv),Cv(wv),wA(wv,yv,KR,jR)}TA();var RA=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),sn=RA,Yi={PROPERTYCHANGE:"propertychange"},AA=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),Lh=AA;function IA(n,e,t){for(var r,o,i=t||jo,s=0,c=n.length,u=!1;s<c;)r=s+(c-s>>1),o=+i(n[r],e),o<0?s=r+1:(c=r,u=!o);return u?s:~s}function jo(n,e){return n>e?1:n<e?-1:0}function Mh(n,e,t){var r=n.length;if(n[0]<=e)return 0;if(e<=n[r-1])return r-1;var o=void 0;if(t>0){for(o=1;o<r;++o)if(n[o]<e)return o-1}else if(t<0){for(o=1;o<r;++o)if(n[o]<=e)return o}else for(o=1;o<r;++o){if(n[o]==e)return o;if(n[o]<e)return typeof t=="function"?t(e,n[o-1],n[o])>0?o-1:o:n[o-1]-e<e-n[o]?o-1:o}return r-1}function OA(n,e,t){for(;e<t;){var r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function Rn(n,e){for(var t=Array.isArray(e)?e:[e],r=t.length,o=0;o<r;o++)n[n.length]=t[o]}function qo(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function SA(n,e,t){var r=e||jo;return n.every(function(o,i){if(i===0)return!0;var s=r(n[i-1],o);return!(s>0||t&&s===0)})}function Xo(){return!0}function ps(){return!1}function Zo(){}function PA(n){var e=!1,t,r,o;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==o||!qo(i,r))&&(e=!0,o=this,r=i,t=n.apply(this,arguments)),t}}var LA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MA=function(n){LA(e,n);function e(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(t,r){if(!(!t||!r)){var o=this.listeners_||(this.listeners_={}),i=o[t]||(o[t]=[]);i.indexOf(r)===-1&&i.push(r)}},e.prototype.dispatchEvent=function(t){var r=typeof t=="string",o=r?t:t.type,i=this.listeners_&&this.listeners_[o];if(!!i){var s=r?new sn(t):t;s.target||(s.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});o in c||(c[o]=0,u[o]=0),++c[o];for(var f,d=0,v=i.length;d<v;++d)if("handleEvent"in i[d]?f=i[d].handleEvent(s):f=i[d].call(this,s),f===!1||s.propagationStopped){f=!1;break}if(--c[o]===0){var g=u[o];for(delete u[o];g--;)this.removeEventListener(o,Zo);delete c[o]}return f}},e.prototype.disposeInternal=function(){this.listeners_&&us(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,r){var o=this.listeners_&&this.listeners_[t];if(o){var i=o.indexOf(r);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(o[i]=Zo,++this.pendingRemovals_[t]):(o.splice(i,1),o.length===0&&delete this.listeners_[t]))}},e}(Lh),qi=MA,Dt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function te(n,e,t,r,o){if(r&&r!==n&&(t=t.bind(r)),o){var i=t;t=function(){n.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function Kl(n,e,t,r){return te(n,e,t,r,!0)}function be(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),us(n))}var FA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yc=function(n){FA(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Dt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var o=t.length,i=new Array(o),s=0;s<o;++s)i[s]=te(this,t[s],r);return i}else return te(this,t,r)},e.prototype.onceInternal=function(t,r){var o;if(Array.isArray(t)){var i=t.length;o=new Array(i);for(var s=0;s<i;++s)o[s]=Kl(this,t[s],r)}else o=Kl(this,t,r);return r.ol_key=o,o},e.prototype.unInternal=function(t,r){var o=r.ol_key;if(o)DA(o);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],r);else this.removeEventListener(t,r)},e}(qi);yc.prototype.on;yc.prototype.once;yc.prototype.un;function DA(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)be(n[e]);else be(n)}var Om=yc,Sm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tv=function(n){Sm(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.key=r,i.oldValue=o,i}return e}(sn),NA=function(n){Sm(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,re(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return e.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Me({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,r){var o;o="change:".concat(t),this.hasListener(o)&&this.dispatchEvent(new Tv(o,t,r)),o=Yi.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new Tv(o,t,r))},e.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},e.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},e.prototype.set=function(t,r,o){var i=this.values_||(this.values_={});if(o)i[t]=r;else{var s=i[t];i[t]=r,s!==r&&this.notify(t,s)}},e.prototype.setProperties=function(t,r){for(var o in t)this.set(o,t[o],r)},e.prototype.applyProperties=function(t){!t.values_||Me(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var o=this.values_[t];delete this.values_[t],qa(this.values_)&&(this.values_=null),r||this.notify(t,o)}},e}(Om),ln=NA,co=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",zA=co.indexOf("firefox")!==-1,GA=co.indexOf("safari")!==-1&&co.indexOf("chrom")==-1;GA&&(co.indexOf("version/15.4")>=0||co.match(/cpu (os|iphone os) 15_4 like mac os x/));var BA=co.indexOf("webkit")!==-1&&co.indexOf("edge")==-1,WA=co.indexOf("macintosh")!==-1,Pm=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,xc=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,UA=typeof Image!="undefined"&&Image.prototype.decode,Lm=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function an(){return[1,0,0,1,0,0]}function YA(n,e,t,r,o,i,s){return n[0]=e,n[1]=t,n[2]=r,n[3]=o,n[4]=i,n[5]=s,n}function XA(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Re(n,e){var t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function VA(n,e,t){return YA(n,e,0,0,t,0,0)}function On(n,e,t,r,o,i,s,c){var u=Math.sin(i),f=Math.cos(i);return n[0]=r*f,n[1]=o*u,n[2]=-r*u,n[3]=o*f,n[4]=s*r*f-c*r*u+e,n[5]=s*o*u+c*o*f+t,n}function Fh(n,e){var t=HA(e);jt(t!==0,32);var r=e[0],o=e[1],i=e[2],s=e[3],c=e[4],u=e[5];return n[0]=s/t,n[1]=-o/t,n[2]=-i/t,n[3]=r/t,n[4]=(i*u-s*c)/t,n[5]=-(r*u-o*c)/t,n}function HA(n){return n[0]*n[3]-n[1]*n[2]}var Rv;function Mm(n){var e="matrix("+n.join(", ")+")";if(xc)return e;var t=Rv||(Rv=document.createElement("div"));return t.style.transform=e,t.style.transform}function Vo(n,e,t,r,o,i){for(var s=i||[],c=0,u=e;u<t;u+=r){var f=n[u],d=n[u+1];s[c++]=o[0]*f+o[2]*d+o[4],s[c++]=o[1]*f+o[3]*d+o[5]}return i&&s.length!=c&&(s.length=c),s}function Dh(n,e,t,r,o,i,s){for(var c=s||[],u=Math.cos(o),f=Math.sin(o),d=i[0],v=i[1],g=0,b=e;b<t;b+=r){var _=n[b]-d,w=n[b+1]-v;c[g++]=d+_*u-w*f,c[g++]=v+_*f+w*u;for(var E=b+2;E<b+r;++E)c[g++]=n[E]}return s&&c.length!=g&&(c.length=g),c}function KA(n,e,t,r,o,i,s,c){for(var u=c||[],f=s[0],d=s[1],v=0,g=e;g<t;g+=r){var b=n[g]-f,_=n[g+1]-d;u[v++]=f+o*b,u[v++]=d+i*_;for(var w=g+2;w<g+r;++w)u[v++]=n[w]}return c&&u.length!=v&&(u.length=v),u}function Fm(n,e,t,r,o,i,s){for(var c=s||[],u=0,f=e;f<t;f+=r){c[u++]=n[f]+o,c[u++]=n[f+1]+i;for(var d=f+2;d<f+r;++d)c[u++]=n[d]}return s&&c.length!=u&&(c.length=u),c}var jA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Av=an(),ZA=function(n){jA(e,n);function e(){var t=n.call(this)||this;return t.extent_=Or(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=PA(function(r,o,i){if(!i)return this.getSimplifiedGeometry(o);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(o)}),t}return e.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},e.prototype.clone=function(){return Kt()},e.prototype.closestPointXY=function(t,r,o,i){return Kt()},e.prototype.containsXY=function(t,r){var o=this.getClosestPoint([t,r]);return o[0]===t&&o[1]===r},e.prototype.getClosestPoint=function(t,r){var o=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],o,1/0),o},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Kt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&bc(r),this.extentRevision_=this.getRevision()}return uA(this.extent_,t)},e.prototype.rotate=function(t,r){Kt()},e.prototype.scale=function(t,r,o){Kt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Kt()},e.prototype.getType=function(){return Kt()},e.prototype.applyTransform=function(t){Kt()},e.prototype.intersectsExtent=function(t){return Kt()},e.prototype.translate=function(t,r){Kt()},e.prototype.transform=function(t,r){var o=vr(t),i=o.getUnits()==pr.TILE_PIXELS?function(s,c,u){var f=o.getExtent(),d=o.getWorldExtent(),v=Zr(d)/Zr(f);return On(Av,d[0],d[3],v,-v,0,0,0),Vo(s,0,s.length,u,Av,c),Qa(o,r)(s,c,u)}:Qa(o,r);return this.applyTransform(i),this},e}(ln),$A=ZA,Te={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},qA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JA=function(n){qA(e,n);function e(){var t=n.call(this)||this;return t.layout=Te.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Cm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Kt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),o=r.getFlatCoordinates();return o.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,r){this.stride=Iv(t),this.layout=t,this.flatCoordinates=r},e.prototype.setCoordinates=function(t,r){Kt()},e.prototype.setLayout=function(t,r,o){var i;if(t)i=Iv(t);else{for(var s=0;s<o;++s)if(r.length===0){this.layout=Te.XY,this.stride=2;return}else r=r[0];i=r.length,t=QA(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Dh(o,0,o.length,i,t,r,o),this.changed()}},e.prototype.scale=function(t,r,o){var i=r;i===void 0&&(i=t);var s=o;s||(s=Ui(this.getExtent()));var c=this.getFlatCoordinates();if(c){var u=this.getStride();KA(c,0,c.length,u,t,i,s,c),this.changed()}},e.prototype.translate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Fm(o,0,o.length,i,t,r,o),this.changed()}},e}($A);function QA(n){var e;return n==2?e=Te.XY:n==3?e=Te.XYZ:n==4&&(e=Te.XYZM),e}function Iv(n){var e;return n==Te.XY?e=2:n==Te.XYZ||n==Te.XYM?e=3:n==Te.XYZM&&(e=4),e}function t2(n,e,t){var r=n.getFlatCoordinates();if(r){var o=n.getStride();return Vo(r,0,r.length,o,e,t)}else return null}var fo=JA;function Dm(n,e,t,r){for(var o=0,i=t.length;o<i;++o)n[e++]=t[o];return e}function wc(n,e,t,r){for(var o=0,i=t.length;o<i;++o)for(var s=t[o],c=0;c<r;++c)n[e++]=s[c];return e}function Nh(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=wc(n,e,t[c],r);i[s++]=f,e=f}return i.length=s,i}function e2(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=Nh(n,e,t[c],r,i[s]);i[s++]=f,e=f[f.length-1]}return i.length=s,i}var r2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nm=function(n){r2(e,n);function e(t,r,o){var i=n.call(this)||this;if(o!==void 0&&r===void 0)i.setFlatCoordinates(o,t);else{var s=r||0;i.setCenterAndRadius(t,s,o)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=t-s[0],u=r-s[1],f=c*c+u*u;if(f<i){if(f===0)for(var d=0;d<this.stride;++d)o[d]=s[d];else{var v=this.getRadius()/Math.sqrt(f);o[0]=s[0]+v*c,o[1]=s[1]+v*u;for(var d=2;d<this.stride;++d)o[d]=s[d]}return o.length=this.stride,f}else return i},e.prototype.containsXY=function(t,r){var o=this.flatCoordinates,i=t-o[0],s=r-o[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var r=this.flatCoordinates,o=r[this.stride]-r[0];return jr(r[0]-o,r[1]-o,r[0]+o,r[1]+o,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],r=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+r*r},e.prototype.getType=function(){return at.CIRCLE},e.prototype.intersectsExtent=function(t){var r=this.getExtent();if($e(t,r)){var o=this.getCenter();return t[0]<=o[0]&&t[2]>=o[0]||t[1]<=o[1]&&t[3]>=o[1]?!0:Rh(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var r=this.stride,o=this.flatCoordinates[r]-this.flatCoordinates[0],i=t.slice();i[r]=i[0]+o;for(var s=1;s<r;++s)i[r+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,r,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=Dm(i,0,t,this.stride);i[s++]=i[0]+r;for(var c=1,u=this.stride;c<u;++c)i[s++]=i[c];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,r){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Dh(o,0,o.length,i,t,r,o)),this.changed()},e.prototype.translate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Fm(o,0,o.length,i,t,r,o)),this.changed()},e}(fo);Nm.prototype.transform;var zm=Nm;function Ov(n,e,t,r,o,i,s){var c=n[e],u=n[e+1],f=n[t]-c,d=n[t+1]-u,v;if(f===0&&d===0)v=e;else{var g=((o-c)*f+(i-u)*d)/(f*f+d*d);if(g>1)v=t;else if(g>0){for(var b=0;b<r;++b)s[b]=En(n[e+b],n[t+b],g);s.length=r;return}else v=e}for(var b=0;b<r;++b)s[b]=n[v+b];s.length=r}function zh(n,e,t,r,o){var i=n[e],s=n[e+1];for(e+=r;e<t;e+=r){var c=n[e],u=n[e+1],f=Yo(i,s,c,u);f>o&&(o=f),i=c,s=u}return o}function Gh(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=zh(n,e,c,r,o),e=c}return o}function n2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=Gh(n,e,c,r,o),e=c[c.length-1]}return o}function Bh(n,e,t,r,o,i,s,c,u,f,d){if(e==t)return f;var v,g;if(o===0)if(g=Yo(s,c,n[e],n[e+1]),g<f){for(v=0;v<r;++v)u[v]=n[e+v];return u.length=r,g}else return f;for(var b=d||[NaN,NaN],_=e+r;_<t;)if(Ov(n,_-r,_,r,s,c,b),g=Yo(s,c,b[0],b[1]),g<f){for(f=g,v=0;v<r;++v)u[v]=b[v];u.length=r,_+=r}else _+=r*Math.max((Math.sqrt(g)-Math.sqrt(f))/o|0,1);if(i&&(Ov(n,t-r,e,r,s,c,b),g=Yo(s,c,b[0],b[1]),g<f)){for(f=g,v=0;v<r;++v)u[v]=b[v];u.length=r}return f}function Wh(n,e,t,r,o,i,s,c,u,f,d){for(var v=d||[NaN,NaN],g=0,b=t.length;g<b;++g){var _=t[g];f=Bh(n,e,_,r,o,i,s,c,u,f,v),e=_}return f}function o2(n,e,t,r,o,i,s,c,u,f,d){for(var v=d||[NaN,NaN],g=0,b=t.length;g<b;++g){var _=t[g];f=Wh(n,e,_,r,o,i,s,c,u,f,v),e=_[_.length-1]}return f}function Uh(n,e,t,r,o,i,s){var c=(t-e)/r;if(c<3){for(;e<t;e+=r)i[s++]=n[e],i[s++]=n[e+1];return s}var u=new Array(c);u[0]=1,u[c-1]=1;for(var f=[e,t-r],d=0;f.length>0;){for(var v=f.pop(),g=f.pop(),b=0,_=n[g],w=n[g+1],E=n[v],T=n[v+1],I=g+r;I<v;I+=r){var O=n[I],L=n[I+1],D=UR(O,L,_,w,E,T);D>b&&(d=I,b=D)}b>o&&(u[(d-e)/r]=1,g+r<d&&f.push(g,d),d+r<v&&f.push(d,v))}for(var I=0;I<c;++I)u[I]&&(i[s++]=n[e+I*r],i[s++]=n[e+I*r+1]);return s}function i2(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=Uh(n,e,d,r,o,i,s),c.push(s),e=d}return s}function Po(n,e){return e*Math.round(n/e)}function a2(n,e,t,r,o,i,s){if(e==t)return s;var c=Po(n[e],o),u=Po(n[e+1],o);e+=r,i[s++]=c,i[s++]=u;var f,d;do if(f=Po(n[e],o),d=Po(n[e+1],o),e+=r,e==t)return i[s++]=f,i[s++]=d,s;while(f==c&&d==u);for(;e<t;){var v=Po(n[e],o),g=Po(n[e+1],o);if(e+=r,!(v==f&&g==d)){var b=f-c,_=d-u,w=v-c,E=g-u;if(b*E==_*w&&(b<0&&w<b||b==w||b>0&&w>b)&&(_<0&&E<_||_==E||_>0&&E>_)){f=v,d=g;continue}i[s++]=f,i[s++]=d,c=f,u=d,f=v,d=g}}return i[s++]=f,i[s++]=d,s}function Gm(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=a2(n,e,d,r,o,i,s),c.push(s),e=d}return s}function s2(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u],v=[];s=Gm(n,e,d,r,o,i,s,v),c.push(v),e=d[d.length-1]}return s}function ro(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=e;c<t;c+=r)i[s++]=n.slice(c,c+r);return i.length=s,i}function ts(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=ro(n,e,f,r,i[s]),e=f}return i.length=s,i}function Wf(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=ts(n,e,f,r,i[s]),e=f[f.length-1]}return i.length=s,i}function Bm(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=s*c-i*u,i=c,s=u}return o/2}function Wm(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=Bm(n,e,c,r),e=c}return o}function l2(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=Wm(n,e,c,r),e=c[c.length-1]}return o}var c2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),u2=function(n){c2(e,n);function e(t,r){var o=n.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,r,o,i){return i<$i(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.getArea=function(){return Bm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return at.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(fo),Sv=u2;function Um(n,e,t,r,o){var i;for(e+=r;e<t;e+=r)if(i=o(n.slice(e-r,e),n.slice(e,e+r)),i)return i;return!1}function Ym(n,e,t,r,o,i,s){var c,u,f=(t-e)/r;if(f===1)c=e;else if(f===2)c=e,u=o;else if(f!==0){for(var d=n[e],v=n[e+1],g=0,b=[0],_=e+r;_<t;_+=r){var w=n[_],E=n[_+1];g+=Math.sqrt((w-d)*(w-d)+(E-v)*(E-v)),b.push(g),d=w,v=E}var T=o*g,I=IA(b,T);I<0?(u=(T-b[-I-2])/(b[-I-1]-b[-I-2]),c=e+(-I-2)*r):c=e+I*r}for(var O=s>1?s:2,L=i||new Array(O),_=0;_<O;++_)L[_]=c===void 0?NaN:u===void 0?n[c+_]:En(n[c+_],n[c+r+_],u);return L}function Uf(n,e,t,r,o,i){if(t==e)return null;var s;if(o<n[e+r-1])return i?(s=n.slice(e,e+r),s[r-1]=o,s):null;if(n[t-1]<o)return i?(s=n.slice(t-r,t),s[r-1]=o,s):null;if(o==n[e+r-1])return n.slice(e,e+r);for(var c=e/r,u=t/r;c<u;){var f=c+u>>1;o<n[(f+1)*r-1]?u=f:c=f+1}var d=n[c*r-1];if(o==d)return n.slice((c-1)*r,(c-1)*r+r);var v=n[(c+1)*r-1],g=(o-d)/(v-d);s=[];for(var b=0;b<r-1;++b)s.push(En(n[(c-1)*r+b],n[c*r+b],g));return s.push(o),s}function f2(n,e,t,r,o,i,s){if(s)return Uf(n,e,t[t.length-1],r,o,i);var c;if(o<n[r-1])return i?(c=n.slice(0,r),c[r-1]=o,c):null;if(n[n.length-1]<o)return i?(c=n.slice(n.length-r),c[r-1]=o,c):null;for(var u=0,f=t.length;u<f;++u){var d=t[u];if(e!=d){if(o<n[e+r-1])return null;if(o<=n[d-1])return Uf(n,e,d,r,o,!1);e=d}}return null}function h2(n,e,t,r,o){var i=Rh(o,function(s){return!No(n,e,t,r,s[0],s[1])});return!i}function No(n,e,t,r,o,i){for(var s=0,c=n[t-r],u=n[t-r+1];e<t;e+=r){var f=n[e],d=n[e+1];u<=i?d>i&&(f-c)*(i-u)-(o-c)*(d-u)>0&&s++:d<=i&&(f-c)*(i-u)-(o-c)*(d-u)<0&&s--,c=f,u=d}return s!==0}function Yh(n,e,t,r,o,i){if(t.length===0||!No(n,e,t[0],r,o,i))return!1;for(var s=1,c=t.length;s<c;++s)if(No(n,t[s-1],t[s],r,o,i))return!1;return!0}function d2(n,e,t,r,o,i){if(t.length===0)return!1;for(var s=0,c=t.length;s<c;++s){var u=t[s];if(Yh(n,e,u,r,o,i))return!0;e=u[u.length-1]}return!1}function kc(n,e,t,r,o){var i=Tm(Or(),n,e,t,r);return $e(o,i)?Oi(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]?!0:Um(n,e,t,r,function(s,c){return fA(o,s,c)}):!1}function p2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){if(kc(n,e,t[i],r,o))return!0;e=t[i]}return!1}function g2(n,e,t,r,o){return!!(kc(n,e,t,r,o)||No(n,e,t,r,o[0],o[1])||No(n,e,t,r,o[0],o[3])||No(n,e,t,r,o[2],o[1])||No(n,e,t,r,o[2],o[3]))}function Xm(n,e,t,r,o){if(!g2(n,e,t[0],r,o))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(h2(n,t[i-1],t[i],r,o)&&!kc(n,t[i-1],t[i],r,o))return!1;return!0}function v2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(Xm(n,e,c,r,o))return!0;e=c[c.length-1]}return!1}function Vm(n,e,t,r){for(var o=n[e],i=n[e+1],s=0,c=e+r;c<t;c+=r){var u=n[c],f=n[c+1];s+=Math.sqrt((u-o)*(u-o)+(f-i)*(f-i)),o=u,i=f}return s}var b2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),m2=function(n){b2(e,n);function e(t,r){var o=n.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?Rn(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<$i(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.forEachSegment=function(t){return Um(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM)return null;var o=r!==void 0?r:!1;return Uf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},e.prototype.getCoordinates=function(){return ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,r){return Ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},e.prototype.getLength=function(){return Vm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return at.LINE_STRING},e.prototype.intersectsExtent=function(t){return kc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(fo),Ho=m2,_2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y2=function(n){_2(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,r);else if(r!==void 0&&o)i.setFlatCoordinates(r,t),i.ends_=o;else{for(var s=i.getLayout(),c=t,u=[],f=[],d=0,v=c.length;d<v;++d){var g=c[d];d===0&&(s=g.getLayout()),Rn(u,g.getFlatCoordinates()),f.push(u.length)}i.setFlatCoordinates(s,u),i.ends_=f}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?Rn(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<$i(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.getCoordinateAtM=function(t,r,o){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM||this.flatCoordinates.length===0)return null;var i=r!==void 0?r:!1,s=o!==void 0?o:!1;return f2(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return ts(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Ho(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,o=this.layout,i=[],s=0,c=0,u=r.length;c<u;++c){var f=r[c],d=new Ho(t.slice(s,f),o);i.push(d),s=f}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,o=0,i=this.ends_,s=this.stride,c=0,u=i.length;c<u;++c){var f=i[c],d=Ym(r,o,f,s,.5);Rn(t,d),o=f}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=i2(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return at.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return p2(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Nh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(fo),x2=y2,w2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k2=function(n){w2(e,n);function e(t,r){var o=n.call(this)||this;return o.setCoordinates(t,r),o}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=Yo(t,r,s[0],s[1]);if(c<i){for(var u=this.stride,f=0;f<u;++f)o[f]=s[f];return o.length=u,c}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return aA(this.flatCoordinates,t)},e.prototype.getType=function(){return at.POINT},e.prototype.intersectsExtent=function(t){return Th(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Dm(this.flatCoordinates,0,t,this.stride),this.changed()},e}(fo),Ko=k2,E2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),C2=function(n){E2(e,n);function e(t,r){var o=n.call(this)||this;return r&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendPoint=function(t){this.flatCoordinates?Rn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){if(i<$i(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,c=this.stride,u=0,f=s.length;u<f;u+=c){var d=Yo(t,r,s[u],s[u+1]);if(d<i){i=d;for(var v=0;v<c;++v)o[v]=s[u+v];o.length=c}}return i},e.prototype.getCoordinates=function(){return ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new Ko(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,o=this.stride,i=[],s=0,c=t.length;s<c;s+=o){var u=new Ko(t.slice(s,s+o),r);i.push(u)}return i},e.prototype.getType=function(){return at.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var c=r[i],u=r[i+1];if(Th(t,c,u))return!0}return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(fo),Hm=C2;function Km(n,e,t,r,o,i,s){for(var c,u,f,d,v,g,b,_=o[i+1],w=[],E=0,T=t.length;E<T;++E){var I=t[E];for(d=n[I-r],g=n[I-r+1],c=e;c<I;c+=r)v=n[c],b=n[c+1],(_<=g&&b<=_||g<=_&&_<=b)&&(f=(_-g)/(b-g)*(v-d)+d,w.push(f)),d=v,g=b}var O=NaN,L=-1/0;for(w.sort(jo),d=w[0],c=1,u=w.length;c<u;++c){v=w[c];var D=Math.abs(v-d);D>L&&(f=(d+v)/2,Yh(n,e,t,r,f,_)&&(O=f,L=D)),d=v}return isNaN(O)&&(O=o[i]),s?(s.push(O,_,L),s):[O,_,L]}function T2(n,e,t,r,o){for(var i=[],s=0,c=t.length;s<c;++s){var u=t[s];i=Km(n,e,u,r,o,2*s,i),e=u[u.length-1]}return i}function R2(n,e,t,r){for(;e<t-r;){for(var o=0;o<r;++o){var i=n[e+o];n[e+o]=n[t-r+o],n[t-r+o]=i}e+=r,t-=r}}function jm(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=(c-i)*(u+s),i=c,s=u}return o===0?void 0:o>0}function Zm(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=jm(n,e,u,r);if(s===0){if(i&&f||!i&&!f)return!1}else if(i&&!f||!i&&f)return!1;e=u}return!0}function A2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(!Zm(n,e,c,r,o))return!1;c.length&&(e=c[c.length-1])}return!0}function Yf(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=jm(n,e,u,r),d=s===0?i&&f||!i&&!f:i&&!f||!i&&f;d&&R2(n,e,u,r),e=u}return e}function Pv(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i)e=Yf(n,e,t[i],r,o);return e}var I2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$m=function(n){I2(e,n);function e(t,r,o){var i=n.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,r!==void 0&&o?(i.setFlatCoordinates(r,t),i.ends_=o):i.setCoordinates(t,r),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Rn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<$i(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return Yh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},e.prototype.getArea=function(){return Wm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Yf(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,ts(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Ui(this.getExtent());this.flatInteriorPoint_=Km(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ko(this.getFlatInteriorPoint(),Te.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Sv(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.ends_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c],d=new Sv(r.slice(s,f),t);i.push(d),s=f}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Zm(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Yf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=Gm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return at.POLYGON},e.prototype.intersectsExtent=function(t){return Xm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Nh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(fo),es=$m;function Lv(n){var e=n[0],t=n[1],r=n[2],o=n[3],i=[e,t,e,o,r,o,r,t,e,t];return new $m(i,Te.XY,[i.length])}function O2(n,e,t,r){for(var o=[],i=Or(),s=0,c=t.length;s<c;++s){var u=t[s];i=Cm(n,e,u[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return o}var S2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),P2=function(n){S2(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!o&&!Array.isArray(t[0])){for(var s=i.getLayout(),c=t,u=[],f=[],d=0,v=c.length;d<v;++d){var g=c[d];d===0&&(s=g.getLayout());for(var b=u.length,_=g.getEnds(),w=0,E=_.length;w<E;++w)_[w]+=b;Rn(u,g.getFlatCoordinates()),f.push(_)}r=s,t=u,o=f}return r!==void 0&&o?(i.setFlatCoordinates(r,t),i.endss_=o):i.setCoordinates(t,r),i}return e.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;Rn(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var i=0,s=r.length;i<s;++i)r[i]+=o}this.endss_.push(r),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),o=0;o<t;++o)r[o]=this.endss_[o].slice();var i=new e(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,r,o,i){return i<$i(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(n2(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),o2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return d2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},e.prototype.getArea=function(){return l2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Pv(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,Wf(r,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=O2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=T2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Hm(this.getFlatInteriorPoints().slice(),Te.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;A2(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Pv(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=s2(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var o=this.endss_[t-1];r=o[o.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(r!==0)for(var c=0,u=i.length;c<u;++c)i[c]-=r;return new es(this.flatCoordinates.slice(r,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.endss_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c].slice(),d=f[f.length-1];if(s!==0)for(var v=0,g=f.length;v<g;++v)f[v]-=s;var b=new es(r.slice(s,d),t,f);i.push(b),s=d}return i},e.prototype.getType=function(){return at.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return v2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=e2(this.flatCoordinates,0,t,this.stride,this.endss_);if(o.length===0)this.flatCoordinates.length=0;else{var i=o[o.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(fo),L2=P2;class Xh{constructor(e,t){hl(this,"x");hl(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new Xh(-this.y,this.x)}}const M2=new vc({code:"EPSG:4326"}),F2=new vc({code:"EPSG:900913"});function Mv(n){return new Ko(n).transform(M2,F2).getExtent()}function Nl(n,e){return new Ho([Mv(n),Mv(e)]).getLength()}function ju(n,e,t){const r=Math.ceil(Nl(n,e)/t),o=Xl.exports.range(0,r).map(i=>[n[0]+i/r*(e[0]-n[0]),n[1]+i/r*(e[1]-n[1])]);return o.push(e),o}function D2(n,e,t){const r=new Xh(n.path[0],n.path[3]),o=ju(n.path[0],n.path[1],e),i=o.map(c=>n.intersectOtherSide(c,r)),s=[];for(let c=0;c<o.length;c++){let u;c%2===0?u=ju(o[c],i[c],t):u=ju(i[c],o[c],t),u.forEach(f=>s.push(f))}return s}var N2=Ec("colinear"),z2=Ec("parallel"),G2=Ec("none");function B2(n,e,t,r,o,i,s,c){var u=(c-i)*(t-n)-(s-o)*(r-e),f=(s-o)*(e-i)-(c-i)*(n-o),d=(t-n)*(e-i)-(r-e)*(n-o);if(u==0)return f==0&&d==0?N2:z2;var v=f/u,g=d/u;return v>=0&&v<=1&&g>=0&&g<=1?W2({x:n+v*(t-n),y:e+v*(r-e)}):G2}function W2(n){var e=Ec("intersecting");return e.point=n,e}function Ec(n){return{type:n}}class U2{constructor(e){hl(this,"path");this.path=[...e]}width(){return Nl(this.path[0],this.path[1])}height(){return Nl(this.path[0],this.path[3])}diagonalLength(){return Nl(this.path[0],this.path[2])}intersectOtherSide(e,t){const r=Math.sqrt(t.x*t.x+t.y*t.y),o=t.x/r,i=t.y/r,s=this.diagonalLength()*1.1,c=[[e[0]-s*o,e[1]-s*i],[e[0]+s*o,e[1]+s*i]],u=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],f=Xl.exports.chain(u).map(d=>B2(c[0][0],c[0][1],c[1][0],c[1][1],d[0][0],d[0][1],d[1][0],d[1][1])).filter(d=>d.type==="intersecting").map("point").maxBy(d=>(d.x-e[0])*(d.x-e[0])+(d.y-e[1])*(d.y-e[1])).value();return[f.x,f.y]}}var Ye={ANIMATING:0,INTERACTING:1},zr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Y2=42,Vh=256;function Fv(n,e,t){return function(r,o,i,s,c){if(!!r){if(!o&&!e)return r;var u=e?0:i[0]*o,f=e?0:i[1]*o,d=c?c[0]:0,v=c?c[1]:0,g=n[0]+u/2+d,b=n[2]-u/2+d,_=n[1]+f/2+v,w=n[3]-f/2+v;g>b&&(g=(b+g)/2,b=g),_>w&&(_=(w+_)/2,w=_);var E=Ae(r[0],g,b),T=Ae(r[1],_,w);if(s&&t&&o){var I=30*o;E+=-I*Math.log(1+Math.max(0,g-r[0])/I)+I*Math.log(1+Math.max(0,r[0]-b)/I),T+=-I*Math.log(1+Math.max(0,_-r[1])/I)+I*Math.log(1+Math.max(0,r[1]-w)/I)}return[E,T]}}}function X2(n){return n}function Hh(n,e,t,r){var o=xe(e)/t[0],i=Zr(e)/t[1];return r?Math.min(n,Math.max(o,i)):Math.min(n,Math.min(o,i))}function Kh(n,e,t){var r=Math.min(n,e),o=50;return r*=Math.log(1+o*Math.max(0,n/e-1))/o+1,t&&(r=Math.max(r,t),r/=Math.log(1+o*Math.max(0,t/n-1))/o+1),Ae(r,t/2,e*2)}function V2(n,e,t,r){return function(o,i,s,c){if(o!==void 0){var u=n[0],f=n[n.length-1],d=t?Hh(u,t,s,r):u;if(c){var v=e!==void 0?e:!0;return v?Kh(o,d,f):Ae(o,f,d)}var g=Math.min(d,o),b=Math.floor(Mh(n,g,i));return n[b]>d&&b<n.length-1?n[b+1]:n[b]}else return}}function H2(n,e,t,r,o,i){return function(s,c,u,f){if(s!==void 0){var d=o?Hh(e,o,u,i):e,v=t!==void 0?t:0;if(f){var g=r!==void 0?r:!0;return g?Kh(s,d,v):Ae(s,v,d)}var b=1e-9,_=Math.ceil(Math.log(e/d)/Math.log(n)-b),w=-c*(.5-b)+.5,E=Math.min(d,s),T=Math.floor(Math.log(e/E)/Math.log(n)+w),I=Math.max(_,T),O=e/Math.pow(n,I);return Ae(O,v,d)}else return}}function Dv(n,e,t,r,o){return function(i,s,c,u){if(i!==void 0){var f=r?Hh(n,r,c,o):n,d=t!==void 0?t:!0;return!d||!u?Ae(i,e,f):Kh(i,f,e)}else return}}function jh(n){if(n!==void 0)return 0}function Nv(n){if(n!==void 0)return n}function K2(n){var e=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function j2(n){var e=n||Dl(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function qm(n){return Math.pow(n,3)}function Ji(n){return 1-qm(1-n)}function Z2(n){return 3*n*n-2*n*n*n}function $2(n){return n}var q2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zu=0,J2=function(n){q2(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=Me({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Sh(o.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,o.projection&&_A(),o.center&&(o.center=Tr(o.center,r.projection_)),o.extent&&(o.extent=Do(o.extent,r.projection_)),r.applyOptions_(o),r}return e.prototype.applyOptions_=function(t){var r=Me({},t);for(var o in zr)delete r[o];this.setProperties(r,!0);var i=tI(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=Q2(t),c=i.constraint,u=eI(t);this.constraints_={center:s,resolution:c,rotation:u},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var o=this.getCenter();if(o){var i=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),c=s/2*(i[3]-r[3]+r[1]-i[1]),u=s/2*(i[0]-r[0]+r[2]-i[2]);this.setCenterInternal([o[0]+c,o[1]-u])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Me({},r,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),o=0;o<r.length;++o){var i=arguments[o];i.center&&(i=Me({},i),i.center=Tr(i.center,this.getProjection())),i.anchor&&(i=Me({},i),i.anchor=Tr(i.anchor,this.getProjection())),r[o]=i}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(t){var r=arguments.length,o;r>1&&typeof arguments[r-1]=="function"&&(o=arguments[r-1],--r);for(var i=0;i<r&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===r){o&&xl(o,!0);return}for(var c=Date.now(),u=this.targetCenter_.slice(),f=this.targetResolution_,d=this.targetRotation_,v=[];i<r;++i){var g=arguments[i],b={start:c,complete:!1,anchor:g.anchor,duration:g.duration!==void 0?g.duration:1e3,easing:g.easing||Z2,callback:o};if(g.center&&(b.sourceCenter=u,b.targetCenter=g.center.slice(),u=b.targetCenter),g.zoom!==void 0?(b.sourceResolution=f,b.targetResolution=this.getResolutionForZoom(g.zoom),f=b.targetResolution):g.resolution&&(b.sourceResolution=f,b.targetResolution=g.resolution,f=b.targetResolution),g.rotation!==void 0){b.sourceRotation=d;var _=Li(g.rotation-d+Math.PI,2*Math.PI)-Math.PI;b.targetRotation=d+_,d=b.targetRotation}rI(b)?b.complete=!0:c+=b.duration,v.push(b)}this.animations_.push(v),this.setHint(Ye.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ye.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Ye.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Ye.ANIMATING,-this.hints_[Ye.ANIMATING]);for(var t,r=0,o=this.animations_.length;r<o;++r){var i=this.animations_[r];if(i[0].callback&&xl(i[0].callback,!1),!t)for(var s=0,c=i.length;s<c;++s){var u=i[s];if(!u.complete){t=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],s=!0,c=0,u=i.length;c<u;++c){var f=i[c];if(!f.complete){var d=t-f.start,v=f.duration>0?d/f.duration:1;v>=1?(f.complete=!0,v=1):s=!1;var g=f.easing(v);if(f.sourceCenter){var b=f.sourceCenter[0],_=f.sourceCenter[1],w=f.targetCenter[0],E=f.targetCenter[1];this.nextCenter_=f.targetCenter;var T=b+g*(w-b),I=_+g*(E-_);this.targetCenter_=[T,I]}if(f.sourceResolution&&f.targetResolution){var O=g===1?f.targetResolution:f.sourceResolution+g*(f.targetResolution-f.sourceResolution);if(f.anchor){var L=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(O,0,L,!0);this.targetCenter_=this.calculateCenterZoom(D,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){var X=g===1?Li(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+g*(f.targetRotation-f.sourceRotation);if(f.anchor){var G=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(G,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),r=!0,!f.complete)break}}if(s){this.animations_[o]=null,this.setHint(Ye.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var B=i[0].callback;B&&xl(B,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,r){var o,i=this.getCenterInternal();return i!==void 0&&(o=[i[0]-r[0],i[1]-r[1]],Ih(o,t-this.getRotation()),pA(o,r)),o},e.prototype.calculateCenterZoom=function(t,r){var o,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var c=r[0]-t*(r[0]-i[0])/s,u=r[1]-t*(r[1]-i[1])/s;o=[c,u]}return o},e.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var o=r[0],i=r[1];return[Math.abs(o*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(o*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return r},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Gf(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(zr.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return Bf(r,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();jt(o,1);var i=this.getResolution();jt(i!==void 0,2);var s=this.getRotation();return jt(s!==void 0,3),Nf(o,i,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(zr.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(Do(t,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(t,r){var o=r||this.getViewportSizeMinusPadding_(),i=xe(t)/o[0],s=Zr(t)/o[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var r=t||2,o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/Math.log(r);return function(c){var u=o/Math.pow(r,c*s);return u}},e.prototype.getRotation=function(){return this.get(zr.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/r;return function(c){var u=Math.log(o/c)/r/s;return u}},e.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),o=this.padding_;return o&&(r=[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]),r},e.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),o=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var c=this.getViewportSizeMinusPadding_();i=$u(i,this.getViewportSize_(),[c[0]/2+s[3],c[1]/2+s[0]],r,o)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},e.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,o,i;if(this.resolutions_){var s=Mh(this.resolutions_,t,1);r=s,o=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=o/this.resolutions_[s+1]}else o=this.maxResolution_,i=this.zoomFactor_;return r+Math.log(o/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Ae(Math.floor(t),0,this.resolutions_.length-2),o=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(o,Ae(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,r){var o;if(jt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){jt(!Ah(t),25);var i=Do(t,this.getProjection());o=Lv(i)}else if(t.getType()===at.CIRCLE){var i=Do(t.getExtent(),this.getProjection());o=Lv(i),o.rotate(this.getRotation(),Ui(i))}else{var s=_c();s?o=t.clone().transform(s,this.getProjection()):o=t}this.fitInternal(o,r)},e.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),o=Math.cos(r),i=Math.sin(-r),s=t.getFlatCoordinates(),c=t.getStride(),u=1/0,f=1/0,d=-1/0,v=-1/0,g=0,b=s.length;g<b;g+=c){var _=s[g]*o-s[g+1]*i,w=s[g]*i+s[g+1]*o;u=Math.min(u,_),f=Math.min(f,w),d=Math.max(d,_),v=Math.max(v,w)}return[u,f,d,v]},e.prototype.fitInternal=function(t,r){var o=r||{},i=o.size;i||(i=this.getViewportSizeMinusPadding_());var s=o.padding!==void 0?o.padding:[0,0,0,0],c=o.nearest!==void 0?o.nearest:!1,u;o.minResolution!==void 0?u=o.minResolution:o.maxZoom!==void 0?u=this.getResolutionForZoom(o.maxZoom):u=0;var f=this.rotatedExtentForGeometry(t),d=this.getResolutionForExtentInternal(f,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,c?0:1);var v=this.getRotation(),g=Math.sin(v),b=Math.cos(v),_=Ui(f);_[0]+=(s[1]-s[3])/2*d,_[1]+=(s[0]-s[2])/2*d;var w=_[0]*b-_[1]*g,E=_[1]*b+_[0]*g,T=this.getConstrainedCenter([w,E],d),I=o.callback?o.callback:Zo;o.duration!==void 0?this.animateInternal({resolution:d,center:T,duration:o.duration,easing:o.easing},I):(this.targetResolution_=d,this.targetCenter_=T,this.applyTargetState_(!1,!0),xl(I,!0))},e.prototype.centerOn=function(t,r,o){this.centerOnInternal(Tr(t,this.getProjection()),r,o)},e.prototype.centerOnInternal=function(t,r,o){this.setCenterInternal($u(t,r,o,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,r,o,i){var s,c=this.padding_;if(c&&t){var u=this.getViewportSizeMinusPadding_(-o),f=$u(t,i,[u[0]/2+c[3],u[1]/2+c[0]],r,o);s=[t[0]-f[0],t[1]-f[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var r=Gf(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustResolution=function(t,r){var o=r&&Tr(r,this.getProjection());this.adjustResolutionInternal(t,o)},e.prototype.adjustResolutionInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,o);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},e.prototype.adjustRotation=function(t,r){r&&(r=Tr(r,this.getProjection())),this.adjustRotationInternal(t,r)},e.prototype.adjustRotationInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,o);r&&(this.targetCenter_=this.calculateCenterRotate(i,r)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Tr(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,r){var o=this.getAnimating()||this.getInteracting()||r,i=this.constraints_.rotation(this.targetRotation_,o),s=this.getViewportSize_(i),c=this.constraints_.resolution(this.targetResolution_,0,s,o),u=this.constraints_.center(this.targetCenter_,c,s,o,this.calculateCenterShift(this.targetCenter_,c,i,s));this.get(zr.ROTATION)!==i&&this.set(zr.ROTATION,i),this.get(zr.RESOLUTION)!==c&&(this.set(zr.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(zr.CENTER)||!Hl(this.get(zr.CENTER),u))&&this.set(zr.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,r,o){var i=t!==void 0?t:200,s=r||0,c=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(c),f=this.constraints_.resolution(this.targetResolution_,s,u),d=this.constraints_.center(this.targetCenter_,f,u,!1,this.calculateCenterShift(this.targetCenter_,f,c,u));if(i===0&&!this.cancelAnchor_){this.targetResolution_=f,this.targetRotation_=c,this.targetCenter_=d,this.applyTargetState_();return}var v=o||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==f||this.getRotation()!==c||!this.getCenterInternal()||!Hl(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:d,resolution:f,duration:i,easing:Ji,anchor:v}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ye.INTERACTING,1)},e.prototype.endInteraction=function(t,r,o){var i=o&&Tr(o,this.getProjection());this.endInteractionInternal(t,r,i)},e.prototype.endInteractionInternal=function(t,r,o){this.setHint(Ye.INTERACTING,-1),this.resolveConstraints(t,r,o)},e.prototype.getConstrainedCenter=function(t,r){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),o)},e.prototype.getConstrainedZoom=function(t,r){var o=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(o,r))},e.prototype.getConstrainedResolution=function(t,r){var o=r||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,o,i)},e}(ln);function xl(n,e){setTimeout(function(){n(e)},0)}function Q2(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Fv(n.extent,n.constrainOnlyCenter,e)}var t=Sh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Fv(r,!1,!1)}return X2}function tI(n){var e,t,r,o=28,i=2,s=n.minZoom!==void 0?n.minZoom:Zu,c=n.maxZoom!==void 0?n.maxZoom:o,u=n.zoomFactor!==void 0?n.zoomFactor:i,f=n.multiWorld!==void 0?n.multiWorld:!1,d=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,v=n.showFullExtent!==void 0?n.showFullExtent:!1,g=Sh(n.projection,"EPSG:3857"),b=g.getExtent(),_=n.constrainOnlyCenter,w=n.extent;if(!f&&!w&&g.isGlobal()&&(_=!1,w=b),n.resolutions!==void 0){var E=n.resolutions;t=E[s],r=E[c]!==void 0?E[c]:E[E.length-1],n.constrainResolution?e=V2(E,d,!_&&w,v):e=Dv(t,r,d,!_&&w,v)}else{var T=b?Math.max(xe(b),Zr(b)):360*Ir[pr.DEGREES]/g.getMetersPerUnit(),I=T/Vh/Math.pow(i,Zu),O=I/Math.pow(i,o-Zu);t=n.maxResolution,t!==void 0?s=0:t=I/Math.pow(u,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(u,c):r=I/Math.pow(u,c):r=O),c=s+Math.floor(Math.log(t/r)/Math.log(u)),r=t/Math.pow(u,c-s),n.constrainResolution?e=H2(u,t,r,d,!_&&w,v):e=Dv(t,r,d,!_&&w,v)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:u}}function eI(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?j2():t===!1?Nv:typeof t=="number"?K2(t):Nv}else return jh}function rI(n){return!(n.sourceCenter&&n.targetCenter&&!Hl(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function $u(n,e,t,r,o){var i=Math.cos(-o),s=Math.sin(-o),c=n[0]*i-n[1]*s,u=n[1]*i+n[0]*s;c+=(e[0]/2-t[0])*r,u+=(t[1]-e[1]/2)*r,s=-s;var f=c*i-u*s,d=u*i+c*s;return[f,d]}var eo=J2,nI=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,oI=/^([a-z]*)$|^hsla?\(.*\)$/i;function Jm(n){return typeof n=="string"?n:Qm(n)}function iI(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var aI=function(){var n=1024,e={},t=0;return function(r){var o;if(e.hasOwnProperty(r))o=e[r];else{if(t>=n){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}o=sI(r),e[r]=o,++t}return o}}();function jl(n){return Array.isArray(n)?n:aI(n)}function sI(n){var e,t,r,o,i;if(oI.exec(n)&&(n=iI(n)),nI.exec(n)){var s=n.length-1,c=void 0;s<=4?c=1:c=2;var u=s===4||s===8;e=parseInt(n.substr(1+0*c,c),16),t=parseInt(n.substr(1+1*c,c),16),r=parseInt(n.substr(1+2*c,c),16),u?o=parseInt(n.substr(1+3*c,c),16):o=255,c==1&&(e=(e<<4)+e,t=(t<<4)+t,r=(r<<4)+r,u&&(o=(o<<4)+o)),i=[e,t,r,o/255]}else n.indexOf("rgba(")==0?(i=n.slice(5,-1).split(",").map(Number),zv(i)):n.indexOf("rgb(")==0?(i=n.slice(4,-1).split(",").map(Number),i.push(1),zv(i)):jt(!1,14);return i}function zv(n){return n[0]=Ae(n[0]+.5|0,0,255),n[1]=Ae(n[1]+.5|0,0,255),n[2]=Ae(n[2]+.5|0,0,255),n[3]=Ae(n[3],0,1),n}function Qm(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var o=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+r+","+o+")"}var lI=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,r){var o=Gv(e,t,r);return o in this.cache_?this.cache_[o]:null},n.prototype.set=function(e,t,r,o){var i=Gv(e,t,r);this.cache_[i]=o,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function Gv(n,e,t){var r=t?Jm(t):"null";return e+":"+n+":"+r}var Zl=new lI,ae={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},cI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uI=function(n){cI(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var o=Me({},t);return typeof t.properties=="object"&&(delete o.properties,Me(o,t.properties)),o[ae.OPACITY]=t.opacity!==void 0?t.opacity:1,jt(typeof o[ae.OPACITY]=="number",64),o[ae.VISIBLE]=t.visible!==void 0?t.visible:!0,o[ae.Z_INDEX]=t.zIndex,o[ae.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,o[ae.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,o[ae.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,o[ae.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,r.setProperties(o),r.state_=null,r}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},o=this.getZIndex();return r.opacity=Ae(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=o===void 0&&!r.managed?1/0:o,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(t){return Kt()},e.prototype.getLayerStatesArray=function(t){return Kt()},e.prototype.getExtent=function(){return this.get(ae.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ae.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ae.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(ae.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(ae.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(ae.OPACITY)},e.prototype.getSourceState=function(){return Kt()},e.prototype.getVisible=function(){return this.get(ae.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ae.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(ae.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ae.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ae.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(ae.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(ae.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){jt(typeof t=="number",64),this.set(ae.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ae.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ae.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(ln),t0=uI,so={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},$o={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},fI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hI=function(n){fI(e,n);function e(t){var r=this,o=Me({},t);delete o.source,r=n.call(this,o)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(ae.SOURCE,r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return e.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get(ae.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():$o.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(be(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=te(t,Dt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,r){var o=this.getRenderer();if(o.prepareFrame(t))return this.rendered=!0,o.renderFrame(t,r)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(ae.MAP,t)},e.prototype.getMapInternal=function(){return this.get(ae.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(be(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(be(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=te(t,so.PRECOMPOSE,function(r){var o=r,i=o.frameState.layerStatesArray,s=this.getLayerState(!1);jt(!i.some(function(c){return c.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=te(this,Dt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ae.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(t0);function $l(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var Cc=hI,dI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pI=function(n){dI(e,n);function e(t){var r=n.call(this)||this;return r.map_=t,r}return e.prototype.dispatchRenderEvent=function(t,r){Kt()},e.prototype.calculateMatrices2D=function(t){var r=t.viewState,o=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;On(o,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),Fh(i,o)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s,c,u,f){var d,v=r.viewState;function g(nt,ct,tt,st){return s.call(c,ct,nt?tt:null,st)}var b=v.projection,_=Rm(t.slice(),b),w=[[0,0]];if(b.canWrapX()&&i){var E=b.getExtent(),T=xe(E);w.push([-T,0],[T,0])}for(var I=r.layerStatesArray,O=I.length,L=[],D=[],X=0;X<w.length;X++)for(var G=O-1;G>=0;--G){var B=I[G],Q=B.layer;if(Q.hasRenderer()&&$l(B,v)&&u.call(f,Q)){var lt=Q.getRenderer(),ft=Q.getSource();if(lt&&ft){var gt=ft.getWrapX()?_:t,pt=g.bind(null,B.managed);D[0]=gt[0]+w[X][0],D[1]=gt[1]+w[X][1],d=lt.forEachFeatureAtCoordinate(D,r,o,pt,L)}if(d)return d}}if(L.length!==0){var mt=1/L.length;return L.forEach(function(nt,ct){return nt.distanceSq+=ct*mt}),L.sort(function(nt,ct){return nt.distanceSq-ct.distanceSq}),L.some(function(nt){return d=nt.callback(nt.feature,nt.layer,nt.geometry)}),d}},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){return Kt()},e.prototype.hasFeatureAtCoordinate=function(t,r,o,i,s,c){var u=this.forEachFeatureAtCoordinate(t,r,o,i,Xo,this,s,c);return u!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Kt()},e.prototype.scheduleExpireIconCache=function(t){Zl.canExpireCache()&&t.postRenderFunctions.push(gI)},e}(Lh);function gI(n,e){Zl.expire()}var vI=pI,bI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mI=function(n){bI(e,n);function e(t,r,o,i){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=o,s.context=i,s}return e}(sn),e0=mI,wl="ol-hidden",Tc="ol-unselectable",Zh="ol-control",Bv="ol-collapsed",_I=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Wv=["style","variant","weight","size","lineHeight","family"],r0=function(n){var e=n.match(_I);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=Wv.length;r<o;++r){var i=e[r+1];i!==void 0&&(t[Wv[r]]=i)}return t.families=t.family.split(/,\s?/),t};function n0(n){return n===1?"":String(Math.round(n*100)/100)}function Pr(n,e,t,r){var o;return t&&t.length?o=t.shift():xc?o=new OffscreenCanvas(n||300,e||300):o=document.createElement("canvas"),n&&(o.width=n),e&&(o.height=e),o.getContext("2d",r)}function Uv(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function Xf(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function yI(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function xI(n,e){for(var t=n.childNodes,r=0;;++r){var o=t[r],i=e[r];if(!o&&!i)break;if(o!==i){if(!o){n.appendChild(i);continue}if(!i){n.removeChild(o),--r;continue}n.insertBefore(i,o)}}}var o0="10px sans-serif",An="#000",ql="round",rs=[],ns=0,Xi="round",os=10,is="#000",as="center",Jl="middle",zo=[0,0,0,0],ss=1,xn=new ln,wI=new qi;wI.setSize=function(){console.warn("labelCache is deprecated.")};var Ti=null,Vf,Hf={},kI=function(){var n=100,e="32px ",t=["monospace","serif"],r=t.length,o="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function c(f,d,v){for(var g=!0,b=0;b<r;++b){var _=t[b];if(s=Ql(f+" "+d+" "+e+_,o),v!=_){var w=Ql(f+" "+d+" "+e+v+","+_,o);g=g&&w!=s}}return!!g}function u(){for(var f=!0,d=xn.getKeys(),v=0,g=d.length;v<g;++v){var b=d[v];xn.get(b)<n&&(c.apply(this,b.split(`
`))?(us(Hf),Ti=null,Vf=void 0,xn.set(b,n)):(xn.set(b,xn.get(b)+1,!0),f=!1))}f&&(clearInterval(i),i=void 0)}return function(f){var d=r0(f);if(!!d)for(var v=d.families,g=0,b=v.length;g<b;++g){var _=v[g],w=d.style+`
`+d.weight+`
`+_;xn.get(w)===void 0&&(xn.set(w,n,!0),c(d.style,d.weight,_)||(xn.set(w,0,!0),i===void 0&&(i=setInterval(u,32))))}}}(),EI=function(){var n;return function(e){var t=Hf[e];if(t==null){if(xc){var r=r0(e),o=i0(e,"\u017Dg"),i=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=i*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Hf[e]=t}return t}}();function i0(n,e){return Ti||(Ti=Pr(1,1)),n!=Vf&&(Ti.font=n,Vf=Ti.font),Ti.measureText(e)}function Ql(n,e){return i0(n,e).width}function Yv(n,e,t){if(e in t)return t[e];var r=Ql(n,e);return t[e]=r,r}function CI(n,e){for(var t=[],r=[],o=[],i=0,s=0,c=0,u=0,f=0,d=e.length;f<=d;f+=2){var v=e[f];if(v===`
`||f===d){i=Math.max(i,s),o.push(s),s=0,c+=u;continue}var g=e[f+1]||n.font,b=Ql(g,v);t.push(b),s+=b;var _=EI(g);r.push(_),u=Math.max(u,_)}return{width:i,height:c,widths:t,heights:r,lineWidths:o}}function TI(n,e,t,r,o,i,s,c,u,f,d){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),r.contextInstructions?(n.translate(u,f),n.scale(d[0],d[1]),RI(r,n)):d[0]<0||d[1]<0?(n.translate(u,f),n.scale(d[0],d[1]),n.drawImage(r,o,i,s,c,0,0,s,c)):n.drawImage(r,o,i,s,c,u,f,s*d[0],c*d[1]),n.restore()}function RI(n,e){for(var t=n.contextInstructions,r=0,o=t.length;r<o;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var AI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),II=function(n){AI(e,n);function e(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=te(xn,Yi.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var o=r.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",r.element_.className=Tc+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return e.prototype.dispatchRenderEvent=function(t,r){var o=this.getMap();if(o.hasListener(t)){var i=new e0(t,void 0,r);o.dispatchEvent(i)}},e.prototype.disposeInternal=function(){be(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(so.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(b,_){return b.zIndex-_.zIndex}),o=t.viewState;this.children_.length=0;for(var i=[],s=null,c=0,u=r.length;c<u;++c){var f=r[c];t.layerIndex=c;var d=f.layer,v=d.getSourceState();if(!$l(f,o)||v!=$o.READY&&v!=$o.UNDEFINED){d.unrender();continue}var g=d.render(t,s);!g||(g!==s&&(this.children_.push(g),s=g),"getDeclutter"in d&&i.push(d))}for(var c=i.length-1;c>=0;--c)i[c].renderDeclutter(t);xI(this.element_,this.children_),this.dispatchRenderEvent(so.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){for(var c=r.viewState,u=r.layerStatesArray,f=u.length,d=f-1;d>=0;--d){var v=u[d],g=v.layer;if(g.hasRenderer()&&$l(v,c)&&s(g)){var b=g.getRenderer(),_=b.getDataAtPixel(t,r,o);if(_){var w=i(g,_);if(w)return w}}}},e}(vI),OI=II,ir={ADD:"add",REMOVE:"remove"},a0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xv={LENGTH:"length"},kl=function(n){a0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.element=r,i.index=o,i}return e}(sn),SI=function(n){a0(e,n);function e(t,r){var o=n.call(this)||this;o.on,o.once,o.un;var i=r||{};if(o.unique_=!!i.unique,o.array_=t||[],o.unique_)for(var s=0,c=o.array_.length;s<c;++s)o.assertUnique_(o.array_[s],s);return o.updateLength_(),o}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var r=0,o=t.length;r<o;++r)this.push(t[r]);return this},e.prototype.forEach=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)t(r[o],o,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Xv.LENGTH)},e.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new kl(ir.ADD,r,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},e.prototype.remove=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)if(r[o]===t)return this.removeAt(o)},e.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new kl(ir.REMOVE,r,t)),r},e.prototype.setAt=function(t,r){var o=this.getLength();if(t<o){this.unique_&&this.assertUnique_(r,t);var i=this.array_[t];this.array_[t]=r,this.dispatchEvent(new kl(ir.REMOVE,i,t)),this.dispatchEvent(new kl(ir.ADD,r,t))}else{for(var s=o;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},e.prototype.updateLength_=function(){this.set(Xv.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,r){for(var o=0,i=this.array_.length;o<i;++o)if(this.array_[o]===t&&o!==r)throw new km(58)},e}(ln),Ar=SI,s0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qn=function(n){s0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.layer=r,o}return e}(sn),qu={LAYERS:"layers"},PI=function(n){s0(e,n);function e(t){var r=this,o=t||{},i=Me({},o);delete i.layers;var s=o.layers;return r=n.call(this,i)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(qu.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new Ar(s.slice(),{unique:!0}):jt(typeof s.getArray=="function",43):s=new Ar(void 0,{unique:!0}),r.setLayers(s),r}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(be),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(te(t,ir.ADD,this.handleLayersAdd_,this),te(t,ir.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(be);us(this.listenerKeys_);for(var o=t.getArray(),i=0,s=o.length;i<s;i++){var c=o[i];this.registerLayerListeners_(c),this.dispatchEvent(new Qn("addlayer",c))}this.changed()},e.prototype.registerLayerListeners_=function(t){var r=[te(t,Yi.PROPERTYCHANGE,this.handleLayerChange_,this),te(t,Dt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&r.push(te(t,"addlayer",this.handleLayerGroupAdd_,this),te(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[re(t)]=r},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Qn("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Qn("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new Qn("addlayer",r)),this.changed()},e.prototype.handleLayersRemove_=function(t){var r=t.element,o=re(r);this.listenerKeys_[o].forEach(be),delete this.listenerKeys_[o],this.dispatchEvent(new Qn("removelayer",r)),this.changed()},e.prototype.getLayers=function(){return this.get(qu.LAYERS)},e.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var o=r.getArray(),i=0,s=o.length;i<s;++i)this.dispatchEvent(new Qn("removelayer",o[i]));this.set(qu.LAYERS,t)},e.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(o){o.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],o=r.length;this.getLayers().forEach(function(d){d.getLayerStatesArray(r)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var c=o,u=r.length;c<u;c++){var f=r[c];f.opacity*=i.opacity,f.visible=f.visible&&i.visible,f.maxResolution=Math.min(f.maxResolution,i.maxResolution),f.minResolution=Math.max(f.minResolution,i.minResolution),f.minZoom=Math.max(f.minZoom,i.minZoom),f.maxZoom=Math.min(f.maxZoom,i.maxZoom),i.extent!==void 0&&(f.extent!==void 0?f.extent=Wa(f.extent,i.extent):f.extent=i.extent),f.zIndex===void 0&&(f.zIndex=s)}return r},e.prototype.getSourceState=function(){return $o.READY},e}(t0),Rc=PI,LI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MI=function(n){LI(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.map=r,i.frameState=o!==void 0?o:null,i}return e}(sn),Ri=MI,FI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DI=function(n){FI(e,n);function e(t,r,o,i,s){var c=n.call(this,t,r,s)||this;return c.originalEvent=o,c.pixel_=null,c.coordinate_=null,c.dragging=i!==void 0?i:!1,c}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Ri),kn=DI,Qt={SINGLECLICK:"singleclick",CLICK:Dt.CLICK,DBLCLICK:Dt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Kf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},NI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zI=function(n){NI(e,n);function e(t,r){var o=n.call(this,t)||this;o.map_=t,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=r===void 0?1:r,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=te(i,Kf.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=te(i,Kf.POINTERMOVE,o.relayEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(Dt.TOUCHMOVE,o.boundHandleTouchMove_,Lm?{passive:!1}:!1),o}return e.prototype.emulateClick_=function(t){var r=new kn(Qt.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new kn(Qt.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var o=new kn(Qt.SINGLECLICK,this.map_,t);this.dispatchEvent(o)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var r=t;r.type==Qt.POINTERUP||r.type==Qt.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==Qt.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new kn(Qt.POINTERUP,this.map_,t);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var r=new kn(Qt.POINTERDOWN,this.map_,t);this.dispatchEvent(r),this.down_={};for(var o in t){var i=t[o];this.down_[o]=typeof i=="function"?Zo:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(te(s,Qt.POINTERMOVE,this.handlePointerMove_,this),te(s,Qt.POINTERUP,this.handlePointerUp_,this),te(this.element_,Qt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(te(this.element_.getRootNode(),Qt.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var r=new kn(Qt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(r)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new kn(t.type,this.map_,t,r))},e.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(be(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Dt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(be(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(qi),GI=zI,$n={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ue={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},tc=1/0,BI=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,us(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var o=this.keyFunction_(r);return delete this.queuedElements_[o],r},n.prototype.enqueue=function(e){jt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=tc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,o=t.length,i=t[e],s=r[e],c=e;e<o>>1;){var u=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),d=f<o&&r[f]<r[u]?f:u;t[e]=t[d],r[e]=r[d],e=d}t[e]=i,r[e]=s,this.siftDown_(c,e)},n.prototype.siftDown_=function(e,t){for(var r=this.elements_,o=this.priorities_,i=r[t],s=o[t];t>e;){var c=this.getParentIndex_(t);if(o[c]>s)r[t]=r[c],o[t]=o[c],t=c;else break}r[t]=i,o[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,o=0,i=t.length,s,c,u;for(c=0;c<i;++c)s=t[c],u=e(s),u==tc?delete this.queuedElements_[this.keyFunction_(s)]:(r[o]=u,t[o++]=s);t.length=o,r.length=o,this.heapify_()},n}(),WI=BI,Rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},UI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YI=function(n){UI(e,n);function e(t,r){var o=n.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=r,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return e.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var o=t[0];o.addEventListener(Dt.CHANGE,this.boundHandleTileChange_)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var r=t.target,o=r.getState();if(o===Rt.LOADED||o===Rt.ERROR||o===Rt.EMPTY){r.removeEventListener(Dt.CHANGE,this.boundHandleTileChange_);var i=r.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,r){for(var o=0,i,s,c;this.tilesLoading_<t&&o<r&&this.getCount()>0;)s=this.dequeue()[0],c=s.getKey(),i=s.getState(),i===Rt.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++o,s.load())},e}(WI),XI=YI;function VI(n,e,t,r,o){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return tc;var i=n.viewState.center,s=r[0]-i[0],c=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(s*s+c*c)/o}function Vv(n){return n[0]>0&&n[1]>0}function HI(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Yr(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var KI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function l0(n){if(n instanceof Cc){n.setMapInternal(null);return}n instanceof Rc&&n.getLayers().forEach(l0)}function c0(n,e){if(n instanceof Cc){n.setMapInternal(e);return}if(n instanceof Rc)for(var t=n.getLayers().getArray(),r=0,o=t.length;r<o;++r)c0(t[r],e)}var jI=function(n){KI(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=ZI(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Pm,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=an(),r.pixelToCoordinateTransform_=an(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=o.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=o.controls||new Ar,r.interactions=o.interactions||new Ar,r.overlays_=o.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new XI(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Ue.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(Ue.VIEW,r.handleViewChanged_),r.addChangeListener(Ue.SIZE,r.handleSizeChanged_),r.addChangeListener(Ue.TARGET,r.handleTargetChanged_),r.setProperties(o.values);var i=r;return t.view&&!(t.view instanceof eo)&&t.view.then(function(s){i.setView(new eo(s))}),r.controls.addEventListener(ir.ADD,function(s){s.element.setMap(this)}.bind(r)),r.controls.addEventListener(ir.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.interactions.addEventListener(ir.ADD,function(s){s.element.setMap(this)}.bind(r)),r.interactions.addEventListener(ir.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(ir.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(r)),r.overlays_.addEventListener(ir.REMOVE,function(s){var c=s.element,u=c.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],s.element.setMap(null)}.bind(r)),r.controls.forEach(function(s){s.setMap(this)}.bind(r)),r.interactions.forEach(function(s){s.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},e.prototype.handleLayerAdd_=function(t){c0(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var s=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.layerFilter!==void 0?o.layerFilter:Xo,u=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,u,r,null,c,null)}},e.prototype.getFeaturesAtPixel=function(t,r){var o=[];return this.forEachFeatureAtPixel(t,function(i){o.push(i)},r),o},e.prototype.getAllLayers=function(){var t=[];function r(o){o.forEach(function(i){i instanceof Rc?r(i.getLayers()):t.push(i)})}return r(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=o||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter||Xo;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,c)}},e.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var o=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var i=r.layerFilter!==void 0?r.layerFilter:Xo,s=r.hitTolerance!==void 0?r.hitTolerance:0,c=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,s,c,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),o="changedTouches"in t?t.changedTouches[0]:t;return[o.clientX-r.left,o.clientY-r.top]},e.prototype.getTarget=function(){return this.get(Ue.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Gf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Re(r.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ue.LAYERGROUP)},e.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof Ar){r.setLayers(t);return}var o=r.getLayers();o.clear(),o.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var c=i.layer.getSource();if(c&&c.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var r=Tr(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Re(r.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ue.SIZE)},e.prototype.getView=function(){return this.get(Ue.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,r,o,i){return VI(this.frameState_,t,r,o,i)},e.prototype.handleBrowserEvent=function(t,r){var o=r||t.type,i=new kn(o,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var r=t.originalEvent,o=r.type;if(o===Kf.POINTERDOWN||o===Dt.WHEEL||o===Dt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,c=r.target;if(this.overlayContainerStopEvent_.contains(c)||!(s===i?i.documentElement:s).contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var u=this.getInteractions().getArray().slice(),f=u.length-1;f>=0;f--){var d=u[f];if(!(d.getMap()!==this||!d.getActive()||!this.getTargetElement())){var v=d.handleEvent(t);if(!v||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var o=this.maxTilesLoading_,i=o;if(t){var s=t.viewHints;if(s[Ye.ANIMATING]||s[Ye.INTERACTING]){var c=Date.now()-t.time>8;o=c?0:8,i=c?0:2}}r.getTilesLoading()<o&&(r.reprioritize(),r.loadMoreTiles(o,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(so.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(so.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ri($n.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ri($n.LOADSTART,this,t))));for(var u=this.postRenderFunctions_,f=0,d=u.length;f<d;++f)u[f](this,t);u.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)be(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Xf(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new GI(this,this.moveTolerance_);for(var i in Qt)this.mapBrowserEventHandler_.addEventListener(Qt[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_,Lm?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[te(c,Dt.KEYDOWN,this.handleBrowserEvent,this),te(c,Dt.KEYPRESS,this.handleBrowserEvent,this),te(s,Dt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(be(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(be(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=te(t,Yi.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=te(t,Dt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(be),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Qn("addlayer",t)),this.layerGroupPropertyListenerKeys_=[te(t,Yi.PROPERTYCHANGE,this.render,this),te(t,Dt.CHANGE,this.render,this),te(t,"addlayer",this.handleLayerAdd_,this),te(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},e.prototype.handleLayerRemove_=function(t){l0(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var r=this,o=this.getSize(),i=this.getView(),s=this.frameState_,c=null;if(o!==void 0&&Vv(o)&&i&&i.isDef()){var u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),f=i.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Nf(f.center,f.resolution,f.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:f,viewHints:u,wantedTiles:{},mapId:re(this),renderTargets:{}},f.nextCenter&&f.nextResolution){var d=isNaN(f.nextRotation)?f.rotation:f.nextRotation;c.nextExtent=Nf(f.nextCenter,f.nextResolution,d,o)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),s){var v=!this.previousExtent_||!Ah(this.previousExtent_)&&!Ja(c.extent,this.previousExtent_);v&&(this.dispatchEvent(new Ri($n.MOVESTART,this,s)),this.previousExtent_=bc(this.previousExtent_))}var g=this.previousExtent_&&!c.viewHints[Ye.ANIMATING]&&!c.viewHints[Ye.INTERACTING]&&!Ja(c.extent,this.previousExtent_);g&&(this.dispatchEvent(new Ri($n.MOVEEND,this,c)),Em(c.extent,this.previousExtent_))}this.dispatchEvent(new Ri($n.POSTRENDER,this,c)),this.renderComplete_=this.hasListener($n.LOADSTART)||this.hasListener($n.LOADEND)||this.hasListener(so.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new Qn("removelayer",r)),this.set(Ue.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ue.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ue.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof eo){this.set(Ue.VIEW,t);return}this.set(Ue.VIEW,new eo);var r=this;t.then(function(o){r.setView(new eo(o))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var o=getComputedStyle(t),i=t.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),s=t.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(r=[i,s],!Vv(r)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(r=[parseInt(o.width,10),parseInt(o.height,10)]),t.setViewportSize(r)}},e}(ln);function ZI(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Rc({layers:n.layers});t[Ue.LAYERGROUP]=r,t[Ue.TARGET]=n.target,t[Ue.VIEW]=n.view instanceof eo?n.view:new eo;var o;n.controls!==void 0&&(Array.isArray(n.controls)?o=new Ar(n.controls.slice()):(jt(typeof n.controls.getArray=="function",47),o=n.controls));var i;n.interactions!==void 0&&(Array.isArray(n.interactions)?i=new Ar(n.interactions.slice()):(jt(typeof n.interactions.getArray=="function",48),i=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Ar(n.overlays.slice()):(jt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Ar,{controls:o,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var $I=jI,qI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JI=function(n){qI(e,n);function e(t){var r=n.call(this)||this,o=t.element;return o&&!t.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),r.element=o||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return e.prototype.disposeInternal=function(){Xf(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Xf(this.element);for(var r=0,o=this.listenerKeys.length;r<o;++r)be(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==Zo&&this.listenerKeys.push(te(t,$n.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(ln),$h=JI,QI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tO=function(n){QI(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=o.collapsed!==void 0?o.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=o.collapsible!==void 0,r.collapsible_=o.collapsible!==void 0?o.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var i=o.className!==void 0?o.className:"ol-attribution",s=o.tipLabel!==void 0?o.tipLabel:"Attributions",c=o.expandClassName!==void 0?o.expandClassName:i+"-expand",u=o.collapseLabel!==void 0?o.collapseLabel:"\u203A",f=o.collapseClassName!==void 0?o.collapseClassName:i+"-collapse";typeof u=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=f):r.collapseLabel_=u;var d=o.label!==void 0?o.label:"i";typeof d=="string"?(r.label_=document.createElement("span"),r.label_.textContent=d,r.label_.className=c):r.label_=d;var v=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(v),r.toggleButton_.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var g=i+" "+Tc+" "+Zh+(r.collapsed_&&r.collapsible_?" "+Bv:"")+(r.collapsible_?"":" ol-uncollapsible"),b=r.element;return b.className=g,b.appendChild(r.toggleButton_),b.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return e.prototype.collectSourceAttributions_=function(t){for(var r={},o=[],i=!0,s=t.layerStatesArray,c=0,u=s.length;c<u;++c){var f=s[c];if(!!$l(f,t.viewState)){var d=f.layer.getSource();if(!!d){var v=d.getAttributions();if(!!v){var g=v(t);if(!!g)if(i=i&&d.getAttributionsCollapsible()!==!1,Array.isArray(g))for(var b=0,_=g.length;b<_;++b)g[b]in r||(o.push(g[b]),r[g[b]]=!0);else g in r||(o.push(g),r[g]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),o},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),o=r.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!qo(r,this.renderedAttributions_)){yI(this.ulElement_);for(var i=0,s=r.length;i<s;++i){var c=document.createElement("li");c.innerHTML=r[i],this.ulElement_.appendChild(c)}this.renderedAttributions_=r}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Bv),this.collapsed_?Uv(this.collapseLabel_,this.label_):Uv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}($h),eO=tO,rO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nO=function(n){rO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=o.className!==void 0?o.className:"ol-rotate",s=o.label!==void 0?o.label:"\u21E7",c=o.compassClassName!==void 0?o.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=c,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(c));var u=o.tipLabel?o.tipLabel:"Reset rotation",f=document.createElement("button");f.className=i+"-reset",f.setAttribute("type","button"),f.title=u,f.appendChild(r.label_),f.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var d=i+" "+Tc+" "+Zh,v=r.element;return v.className=d,v.appendChild(f),r.callResetNorth_=o.resetNorth?o.resetNorth:void 0,r.duration_=o.duration!==void 0?o.duration:250,r.autoHide_=o.autoHide!==void 0?o.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(wl),r}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(!!r){var o=r.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Ji}):r.setRotation(0))}},e.prototype.render=function(t){var r=t.frameState;if(!!r){var o=r.viewState.rotation;if(o!=this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var s=this.element.classList.contains(wl);!s&&o===0?this.element.classList.add(wl):s&&o!==0&&this.element.classList.remove(wl)}this.label_.style.transform=i}this.rotation_=o}},e}($h),oO=nO,iO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aO=function(n){iO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),target:o.target})||this;var i=o.className!==void 0?o.className:"ol-zoom",s=o.delta!==void 0?o.delta:1,c=o.zoomInClassName!==void 0?o.zoomInClassName:i+"-in",u=o.zoomOutClassName!==void 0?o.zoomOutClassName:i+"-out",f=o.zoomInLabel!==void 0?o.zoomInLabel:"+",d=o.zoomOutLabel!==void 0?o.zoomOutLabel:"\u2013",v=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",g=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",b=document.createElement("button");b.className=c,b.setAttribute("type","button"),b.title=v,b.appendChild(typeof f=="string"?document.createTextNode(f):f),b.addEventListener(Dt.CLICK,r.handleClick_.bind(r,s),!1);var _=document.createElement("button");_.className=u,_.setAttribute("type","button"),_.title=g,_.appendChild(typeof d=="string"?document.createTextNode(d):d),_.addEventListener(Dt.CLICK,r.handleClick_.bind(r,-s),!1);var w=i+" "+Tc+" "+Zh,E=r.element;return E.className=w,E.appendChild(b),E.appendChild(_),r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var r=this.getMap(),o=r.getView();if(!!o){var i=o.getZoom();if(i!==void 0){var s=o.getConstrainedZoom(i+t);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:s,duration:this.duration_,easing:Ji})):o.setZoom(s)}}},e}($h),sO=aO;function lO(n){var e=n||{},t=new Ar,r=e.zoom!==void 0?e.zoom:!0;r&&t.push(new sO(e.zoomOptions));var o=e.rotate!==void 0?e.rotate:!0;o&&t.push(new oO(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new eO(e.attributionOptions)),t}var jf={ACTIVE:"active"},cO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uO=function(n){cO(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return e.prototype.getActive=function(){return this.get(jf.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(jf.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(ln);function fO(n,e,t){var r=n.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:$2,center:n.getConstrainedCenter(o)})}}function qh(n,e,t,r){var o=n.getZoom();if(o!==void 0){var i=n.getConstrainedZoom(o+e),s=n.getResolutionForZoom(i);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Ji})}}var gs=uO,hO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dO=function(n){hO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Qt.DBLCLICK){var o=t.originalEvent,i=t.map,s=t.coordinate,c=o.shiftKey?-this.delta_:this.delta_,u=i.getView();qh(u,c,s,this.duration_),o.preventDefault(),r=!0}return!r},e}(gs),pO=dO,gO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vO=function(n){gO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,o)||this,o.handleDownEvent&&(r.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(r.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(r.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(r.handleUpEvent=o.handleUpEvent),o.stopDown&&(r.stopDown=o.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Qt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Qt.POINTERUP){var o=this.handleUpEvent(t);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(t.type==Qt.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,r=this.stopDown(i)}else t.type==Qt.POINTERMOVE&&this.handleMoveEvent(t);return!r},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(bO(t)){var r=t.originalEvent,o=r.pointerId.toString();t.type==Qt.POINTERUP?delete this.trackedPointers_[o]:t.type==Qt.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=wm(this.trackedPointers_)}},e}(gs);function Jh(n){for(var e=n.length,t=0,r=0,o=0;o<e;o++)t+=n[o].clientX,r+=n[o].clientY;return[t/e,r/e]}function bO(n){var e=n.type;return e===Qt.POINTERDOWN||e===Qt.POINTERDRAG||e===Qt.POINTERUP}var Qi=vO;function Zf(n){var e=arguments;return function(t){for(var r=!0,o=0,i=e.length;o<i&&(r=r&&e[o](t),!!r);++o);return r}}var mO=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_O=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},u0=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?_O(n):!0},f0=Xo,h0=function(n){var e=n.originalEvent;return e.button==0&&!(BA&&WA&&e.ctrlKey)},Qh=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},d0=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},p0=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Ju=function(n){var e=n.originalEvent;return jt(e!==void 0,56),e.pointerType=="mouse"},yO=function(n){var e=n.originalEvent;return jt(e!==void 0,56),e.isPrimary&&e.button===0},xO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wO=function(n){xO(e,n);function e(t){var r=n.call(this,{stopDown:ps})||this,o=t||{};r.kinetic_=o.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var i=o.condition?o.condition:Zf(Qh,yO);return r.condition_=o.onFocusOnly?Zf(u0,i):i,r.noKinetic_=!1,r}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,o=Jh(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map,c=s.getView();gA(i,c.getResolution()),Ih(i,c.getRotation()),c.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var r=t.map,o=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),c=o.getCenterInternal(),u=r.getPixelFromCoordinateInternal(c),f=r.getCoordinateFromPixelInternal([u[0]-i*Math.cos(s),u[1]-i*Math.sin(s)]);o.animateInternal({center:o.getConstrainedCenter(f),duration:500,easing:Ji})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,o=r.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(Qi),kO=wO,EO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CO=function(n){EO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,{stopDown:ps})||this,r.condition_=o.condition?o.condition:mO,r.lastAngle_=void 0,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){if(!!Ju(t)){var r=t.map,o=r.getView();if(o.getConstraints().rotation!==jh){var i=r.getSize(),s=t.pixel,c=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var u=c-this.lastAngle_;o.adjustRotationInternal(-u)}this.lastAngle_=c}}},e.prototype.handleUpEvent=function(t){if(!Ju(t))return!0;var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Ju(t))return!1;if(h0(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(Qi),TO=CO,RO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AO=function(n){RO(e,n);function e(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,o="px",i=this.element_.style;i.left=Math.min(t[0],r[0])+o,i.top=Math.min(t[1],r[1])+o,i.width=Math.abs(r[0]-t[0])+o,i.height=Math.abs(r[1]-t[1])+o},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,o=[t,[t[0],r[1]],r,[r[0],t[1]]],i=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new es([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(Lh),IO=AO,g0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),El={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Qu=function(n){g0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=o,i}return e}(sn),OO=function(n){g0(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=t||{};return r.box_=new IO(o.className||"ol-dragbox"),r.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(r.onBoxEnd=o.onBoxEnd),r.startPixel_=null,r.condition_=o.condition?o.condition:h0,r.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:r.defaultBoxEndCondition,r}return e.prototype.defaultBoxEndCondition=function(t,r,o){var i=o[0]-r[0],s=o[1]-r[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Qu(El.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new Qu(r?El.BOXEND:El.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Qu(El.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(Qi),SO=OO,PO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LO=function(n){PO(e,n);function e(t){var r=this,o=t||{},i=o.condition?o.condition:d0;return r=n.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,r.duration_=o.duration!==void 0?o.duration:200,r.out_=o.out!==void 0?o.out:!1,r}return e.prototype.onBoxEnd=function(t){var r=this.getMap(),o=r.getView(),i=this.getGeometry();if(this.out_){var s=o.rotatedExtentForGeometry(i),c=o.getResolutionForExtentInternal(s),u=o.getResolution()/c;i=i.clone(),i.scale(u*u)}o.fitInternal(i,{duration:this.duration_,easing:Ji})},e}(SO),MO=LO,Oo={LEFT:37,UP:38,RIGHT:39,DOWN:40},FO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DO=function(n){FO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.defaultCondition_=function(i){return Qh(i)&&p0(i)},r.condition_=o.condition!==void 0?o.condition:r.defaultCondition_,r.duration_=o.duration!==void 0?o.duration:100,r.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN){var o=t.originalEvent,i=o.keyCode;if(this.condition_(t)&&(i==Oo.DOWN||i==Oo.LEFT||i==Oo.RIGHT||i==Oo.UP)){var s=t.map,c=s.getView(),u=c.getResolution()*this.pixelDelta_,f=0,d=0;i==Oo.DOWN?d=-u:i==Oo.LEFT?f=-u:i==Oo.RIGHT?f=u:d=u;var v=[f,d];Ih(v,c.getRotation()),fO(c,v,this.duration_),o.preventDefault(),r=!0}}return!r},e}(gs),NO=DO,zO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GO=function(n){zO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.condition_=o.condition?o.condition:p0,r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:100,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN||t.type==Dt.KEYPRESS){var o=t.originalEvent,i=o.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,c=i=="+".charCodeAt(0)?this.delta_:-this.delta_,u=s.getView();qh(u,c,void 0,this.duration_),o.preventDefault(),r=!0}}return!r},e}(gs),BO=GO,WO=function(){function n(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var o=this.points_[t+2]-this.points_[r+2];if(o<1e3/60)return!1;var i=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/o,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),UO=WO,YO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tf={TRACKPAD:"trackpad",WHEEL:"wheel"},XO=function(n){YO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,o)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,r.duration_=o.duration!==void 0?o.duration:250,r.timeout_=o.timeout!==void 0?o.timeout:80,r.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,r.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var i=o.condition?o.condition:f0;return r.condition_=o.onFocusOnly?Zf(u0,i):i,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Dt.WHEEL)return!0;var o=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Dt.WHEEL&&(s=i.deltaY,zA&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Pm),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?tf.TRACKPAD:tf.WHEEL);var u=o.getView();if(this.mode_===tf.TRACKPAD&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=s;var f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),f),!1},e.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var o=-Ae(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),qh(r,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(gs),VO=XO,HO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KO=function(n){HO(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=ps),r=n.call(this,i)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=o.threshold!==void 0?o.threshold:.3,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){var r=0,o=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(this.lastAngle_!==void 0){var c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=c}this.lastAngle_=s;var u=t.map,f=u.getView();if(f.getConstraints().rotation!==jh){var d=u.getViewport().getBoundingClientRect(),v=Jh(this.targetPointers);v[0]-=d.left,v[1]-=d.top,this.anchor_=u.getCoordinateFromPixelInternal(v),this.rotating_&&(u.render(),f.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(Qi),jO=KO,ZO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$O=function(n){ZO(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=ps),r=n.call(this,i)||this,r.anchor_=null,r.duration_=o.duration!==void 0?o.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return e.prototype.handleDragEvent=function(t){var r=1,o=this.targetPointers[0],i=this.targetPointers[1],s=o.clientX-i.clientX,c=o.clientY-i.clientY,u=Math.sqrt(s*s+c*c);this.lastDistance_!==void 0&&(r=this.lastDistance_/u),this.lastDistance_=u;var f=t.map,d=f.getView();r!=1&&(this.lastScaleDelta_=r);var v=f.getViewport().getBoundingClientRect(),g=Jh(this.targetPointers);g[0]-=v.left,g[1]-=v.top,this.anchor_=f.getCoordinateFromPixelInternal(g),f.render(),d.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView(),i=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(Qi),qO=$O,Ea={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},JO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QO=function(n){JO(e,n);function e(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var o=t;r.setGeometry(o)}else{var i=t;r.setProperties(i)}return r}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(be(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=te(t,Dt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?tS(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ln);function tS(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{jt(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var Mo=QO;function eS(n,e,t,r,o){v0(n,e,t||0,r||n.length-1,o||rS)}function v0(n,e,t,r,o){for(;r>t;){if(r-t>600){var i=r-t+1,s=e-t+1,c=Math.log(i),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(i-u)/i)*(s-i/2<0?-1:1),d=Math.max(t,Math.floor(e-s*u/i+f)),v=Math.min(r,Math.floor(e+(i-s)*u/i+f));v0(n,e,d,v,o)}var g=n[e],b=t,_=r;for(Ca(n,t,e),o(n[r],g)>0&&Ca(n,t,r);b<_;){for(Ca(n,b,_),b++,_--;o(n[b],g)<0;)b++;for(;o(n[_],g)>0;)_--}o(n[t],g)===0?Ca(n,t,_):(_++,Ca(n,_,r)),_<=e&&(t=_+1),e<=_&&(r=_-1)}}function Ca(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function rS(n,e){return n<e?-1:n>e?1:0}class b0{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!Tl(e,t))return r;const o=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const c=t.children[s],u=t.leaf?o(c):c;Tl(e,u)&&(t.leaf?r.push(c):rf(e,u)?this._all(c,r):i.push(c))}t=i.pop()}return r}collides(e){let t=this.data;if(!Tl(e,t))return!1;const r=[];for(;t;){for(let o=0;o<t.children.length;o++){const i=t.children[o],s=t.leaf?this.toBBox(i):i;if(Tl(e,s)){if(t.leaf||rf(e,s))return!0;r.push(i)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ai([]),this}remove(e,t){if(!e)return this;let r=this.data;const o=this.toBBox(e),i=[],s=[];let c,u,f;for(;r||i.length;){if(r||(r=i.pop(),u=i[i.length-1],c=s.pop(),f=!0),r.leaf){const d=nS(e,r.children,t);if(d!==-1)return r.children.splice(d,1),i.push(r),this._condense(i),this}!f&&!r.leaf&&rf(r,o)?(i.push(r),s.push(c),c=0,u=r,r=r.children[0]):u?(c++,r=u.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,o){const i=r-t+1;let s=this._maxEntries,c;if(i<=s)return c=Ai(e.slice(t,r+1)),mi(c,this.toBBox),c;o||(o=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,o-1))),c=Ai([]),c.leaf=!1,c.height=o;const u=Math.ceil(i/s),f=u*Math.ceil(Math.sqrt(s));Hv(e,t,r,f,this.compareMinX);for(let d=t;d<=r;d+=f){const v=Math.min(d+f-1,r);Hv(e,d,v,u,this.compareMinY);for(let g=d;g<=v;g+=u){const b=Math.min(g+u-1,v);c.children.push(this._build(e,g,b,o-1))}}return mi(c,this.toBBox),c}_chooseSubtree(e,t,r,o){for(;o.push(t),!(t.leaf||o.length-1===r);){let i=1/0,s=1/0,c;for(let u=0;u<t.children.length;u++){const f=t.children[u],d=ef(f),v=aS(e,f)-d;v<s?(s=v,i=d<i?d:i,c=f):v===s&&d<i&&(i=d,c=f)}t=c||t.children[0]}return t}_insert(e,t,r){const o=r?e:this.toBBox(e),i=[],s=this._chooseSubtree(o,this.data,t,i);for(s.children.push(e),Sa(s,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)}_split(e,t){const r=e[t],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);const s=this._chooseSplitIndex(r,i,o),c=Ai(r.children.splice(s,r.children.length-s));c.height=r.height,c.leaf=r.leaf,mi(r,this.toBBox),mi(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,t){this.data=Ai([e,t]),this.data.height=e.height+1,this.data.leaf=!1,mi(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let o,i=1/0,s=1/0;for(let c=t;c<=r-t;c++){const u=Oa(e,0,c,this.toBBox),f=Oa(e,c,r,this.toBBox),d=sS(u,f),v=ef(u)+ef(f);d<i?(i=d,o=c,s=v<s?v:s):d===i&&v<s&&(s=v,o=c)}return o||r-t}_chooseSplitAxis(e,t,r){const o=e.leaf?this.compareMinX:oS,i=e.leaf?this.compareMinY:iS,s=this._allDistMargin(e,t,r,o),c=this._allDistMargin(e,t,r,i);s<c&&e.children.sort(o)}_allDistMargin(e,t,r,o){e.children.sort(o);const i=this.toBBox,s=Oa(e,0,t,i),c=Oa(e,r-t,r,i);let u=Cl(s)+Cl(c);for(let f=t;f<r-t;f++){const d=e.children[f];Sa(s,e.leaf?i(d):d),u+=Cl(s)}for(let f=r-t-1;f>=t;f--){const d=e.children[f];Sa(c,e.leaf?i(d):d),u+=Cl(c)}return u}_adjustParentBBoxes(e,t,r){for(let o=r;o>=0;o--)Sa(t[o],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():mi(e[t],this.toBBox)}}function nS(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function mi(n,e){Oa(n,0,n.children.length,e,n)}function Oa(n,e,t,r,o){o||(o=Ai(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=e;i<t;i++){const s=n.children[i];Sa(o,n.leaf?r(s):s)}return o}function Sa(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function oS(n,e){return n.minX-e.minX}function iS(n,e){return n.minY-e.minY}function ef(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Cl(n){return n.maxX-n.minX+(n.maxY-n.minY)}function aS(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function sS(n,e){const t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),o=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,o-t)*Math.max(0,i-r)}function rf(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Tl(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Ai(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Hv(n,e,t,r,o){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=r)continue;const s=e+Math.ceil((t-e)/r/2)*r;eS(n,s,e,t,o),i.push(e,s,s,t)}}var he={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},lS=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Yr(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Kt()},n.prototype.getImage=function(e){return Kt()},n.prototype.getHitDetectionImage=function(){return Kt()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return Kt()},n.prototype.getImageSize=function(){return Kt()},n.prototype.getOrigin=function(){return Kt()},n.prototype.getSize=function(){return Kt()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Yr(e)},n.prototype.listenImageChange=function(e){Kt()},n.prototype.load=function(){Kt()},n.prototype.unlistenImageChange=function(e){Kt()},n}(),m0=lS;function on(n){return Array.isArray(n)?Qm(n):n}var cS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uS=function(n){cS(e,n);function e(t){var r=this,o=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:o,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var o=this.renderOptions_,i=Pr(o.size*t,o.size*t);this.draw_(o,i,t),r=i.canvas,this.canvas_[t]=r}return r},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return he.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,r,o){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var c=i;i=s,s=c}var u=this.radius2_===void 0?this.points_:this.points_*2,f=2*Math.PI/u,d=s*Math.sin(f),v=Math.sqrt(s*s-d*d),g=i-v,b=Math.sqrt(d*d+g*g),_=b/d;if(t==="miter"&&_<=o)return _*r;var w=r/2/_,E=r/2*(g/b),T=Math.sqrt((i+w)*(i+w)+E*E),I=T-i;if(this.radius2_===void 0||t==="bevel")return I*2;var O=i*Math.sin(f),L=Math.sqrt(i*i-O*O),D=s-L,X=Math.sqrt(O*O+D*D),G=X/O;if(G<=o){var B=G*r/2-s-i;return 2*Math.max(I,B)}return I*2},e.prototype.createRenderOptions=function(){var t=Xi,r=0,o=null,i=0,s,c=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=is),s=on(s),c=this.stroke_.getWidth(),c===void 0&&(c=ss),o=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Xi),r=this.stroke_.getMiterLimit(),r===void 0&&(r=os));var u=this.calculateLineJoinSize_(t,c,r),f=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*f+u);return{strokeStyle:s,strokeWidth:c,size:d,lineDash:o,lineDashOffset:i,lineJoin:t,miterLimit:r}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,r,o){if(r.scale(o,o),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var i=this.fill_.getColor();i===null&&(i=An),r.fillStyle=on(i),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),o=0;if(typeof r=="string"&&(r=jl(r)),r===null?o=1:Array.isArray(r)&&(o=r.length===4?r[3]:1),o===0){var i=Pr(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var r=this.points_,o=this.radius_;if(r===1/0)t.arc(0,0,o,0,2*Math.PI);else{var i=this.radius2_===void 0?o:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,c=2*Math.PI/r,u=0;u<r;u++){var f=s+u*c,d=u%2===0?o:i;t.lineTo(d*Math.cos(f),d*Math.sin(f))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=An,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e}(m0),fS=uS,hS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dS=function(n){hS(e,n);function e(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(fS),_0=dS,pS=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),ec=pS,gS=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),Ua=gS,Si=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=Kv,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Kv,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function vS(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{jt(typeof n.getZIndex=="function",41);var r=n;t=[r]}e=function(){return t}}return e}var nf=null;function bS(n,e){if(!nf){var t=new ec({color:"rgba(255,255,255,0.4)"}),r=new Ua({color:"#3399CC",width:1.25});nf=[new Si({image:new _0({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return nf}function mS(){var n={},e=[255,255,255,1],t=[0,153,255,1],r=3;return n[at.POLYGON]=[new Si({fill:new ec({color:[255,255,255,.5]})})],n[at.MULTI_POLYGON]=n[at.POLYGON],n[at.LINE_STRING]=[new Si({stroke:new Ua({color:e,width:r+2})}),new Si({stroke:new Ua({color:t,width:r})})],n[at.MULTI_LINE_STRING]=n[at.LINE_STRING],n[at.CIRCLE]=n[at.POLYGON].concat(n[at.LINE_STRING]),n[at.POINT]=[new Si({image:new _0({radius:r*2,fill:new ec({color:t}),stroke:new Ua({color:e,width:r/2})}),zIndex:1/0})],n[at.MULTI_POINT]=n[at.POINT],n[at.GEOMETRY_COLLECTION]=n[at.POLYGON].concat(n[at.LINE_STRING],n[at.POINT]),n}function Kv(n){return n.getGeometry()}var _S=Si,yS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jv={RENDER_ORDER:"renderOrder"},xS=function(n){yS(e,n);function e(t){var r=this,o=t||{},i=Me({},o);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,r=n.call(this,i)||this,r.declutter_=o.declutter!==void 0?o.declutter:!1,r.renderBuffer_=o.renderBuffer!==void 0?o.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(o.style),r.updateWhileAnimating_=o.updateWhileAnimating!==void 0?o.updateWhileAnimating:!1,r.updateWhileInteracting_=o.updateWhileInteracting!==void 0?o.updateWhileInteracting:!1,r}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(jv.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new b0(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(jv.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:bS,this.styleFunction_=t===null?void 0:vS(this.style_),this.changed()},e}(Cc),wS=xS,vs={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Rl=[vs.FILL],no=[vs.STROKE],Go=[vs.BEGIN_PATH],Zv=[vs.CLOSE_PATH],At=vs,kS=function(){function n(){}return n.prototype.drawCustom=function(e,t,r,o){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),y0=kS,ES=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CS=function(n){ES(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=o,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(o){return o*r})},e.prototype.appendFlatPointCoordinates=function(t,r){for(var o=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,c=s.length,u=0,f=t.length;u<f;u+=r)i[0]=t[u],i[1]=t[u+1],fs(o,i)&&(s[c++]=i[0],s[c++]=i[1]);return c},e.prototype.appendFlatLineCoordinates=function(t,r,o,i,s,c){var u=this.coordinates,f=u.length,d=this.getBufferedMaxExtent();c&&(r+=i);var v=t[r],g=t[r+1],b=this.tmpCoordinate_,_=!0,w,E,T;for(w=r+i;w<o;w+=i)b[0]=t[w],b[1]=t[w+1],T=Ff(d,b),T!==E?(_&&(u[f++]=v,u[f++]=g,_=!1),u[f++]=b[0],u[f++]=b[1]):T===Pe.INTERSECTING?(u[f++]=b[0],u[f++]=b[1],_=!1):_=!0,v=b[0],g=b[1],E=T;return(s&&_||w===r+i)&&(u[f++]=v,u[f++]=g),f},e.prototype.drawCustomCoordinates_=function(t,r,o,i,s){for(var c=0,u=o.length;c<u;++c){var f=o[c],d=this.appendFlatLineCoordinates(t,r,f,i,!1,!1);s.push(d),r=f}return r},e.prototype.drawCustom=function(t,r,o,i){this.beginGeometry(t,r);var s=t.getType(),c=t.getStride(),u=this.coordinates.length,f,d,v,g,b;switch(s){case at.MULTI_POLYGON:f=t.getOrientedFlatCoordinates(),g=[];var _=t.getEndss();b=0;for(var w=0,E=_.length;w<E;++w){var T=[];b=this.drawCustomCoordinates_(f,b,_[w],c,T),g.push(T)}this.instructions.push([At.CUSTOM,u,g,t,o,Wf]),this.hitDetectionInstructions.push([At.CUSTOM,u,g,t,i||o,Wf]);break;case at.POLYGON:case at.MULTI_LINE_STRING:v=[],f=s==at.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),b=this.drawCustomCoordinates_(f,0,t.getEnds(),c,v),this.instructions.push([At.CUSTOM,u,v,t,o,ts]),this.hitDetectionInstructions.push([At.CUSTOM,u,v,t,i||o,ts]);break;case at.LINE_STRING:case at.CIRCLE:f=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([At.CUSTOM,u,d,t,o,ro]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,ro]);break;case at.MULTI_POINT:f=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(f,c),d>u&&(this.instructions.push([At.CUSTOM,u,d,t,o,ro]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,ro]));break;case at.POINT:f=t.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),d=this.coordinates.length,this.instructions.push([At.CUSTOM,u,d,t,o]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o]);break}this.endGeometry(r)},e.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[At.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[At.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,o=t.length,i,s,c=-1;for(r=0;r<o;++r)i=t[r],s=i[0],s==At.END_GEOMETRY?c=r:s==At.BEGIN_GEOMETRY&&(i[2]=r,OA(this.hitDetectionInstructions,c,r),c=-1)},e.prototype.setFillStrokeStyle=function(t,r){var o=this.state;if(t){var i=t.getColor();o.fillStyle=on(i||An)}else o.fillStyle=void 0;if(r){var s=r.getColor();o.strokeStyle=on(s||is);var c=r.getLineCap();o.lineCap=c!==void 0?c:ql;var u=r.getLineDash();o.lineDash=u?u.slice():rs;var f=r.getLineDashOffset();o.lineDashOffset=f||ns;var d=r.getLineJoin();o.lineJoin=d!==void 0?d:Xi;var v=r.getWidth();o.lineWidth=v!==void 0?v:ss;var g=r.getMiterLimit();o.miterLimit=g!==void 0?g:os,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},e.prototype.createFill=function(t){var r=t.fillStyle,o=[At.SET_FILL_STYLE,r];return typeof r!="string"&&o.push(!0),o},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[At.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,r){var o=t.fillStyle;(typeof o!="string"||t.currentFillStyle!=o)&&(o!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=o)},e.prototype.updateStrokeStyle=function(t,r){var o=t.strokeStyle,i=t.lineCap,s=t.lineDash,c=t.lineDashOffset,u=t.lineJoin,f=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=o||t.currentLineCap!=i||s!=t.currentLineDash&&!qo(t.currentLineDash,s)||t.currentLineDashOffset!=c||t.currentLineJoin!=u||t.currentLineWidth!=f||t.currentMiterLimit!=d)&&(o!==void 0&&r.call(this,t),t.currentStrokeStyle=o,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=c,t.currentLineJoin=u,t.currentLineWidth=f,t.currentMiterLimit=d)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[At.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Em(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ch(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(y0),bs=CS,TS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RS=function(n){TS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.drawMultiPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,r){var o=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),c=t.getImage(this.pixelRatio),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=s,this.image_=c,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=u[0]*this.imagePixelRatio_,this.originY_=u[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=r},e}(bs),AS=RS,IS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OS=function(n){IS(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinates_=function(t,r,o,i){var s=this.coordinates.length,c=this.appendFlatLineCoordinates(t,r,o,i,!1,!1),u=[At.MOVE_TO_LINE_TO,s,c];return this.instructions.push(u),this.hitDetectionInstructions.push(u),o},e.prototype.drawLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,rs,ns],Go);var c=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(c,0,c.length,u),this.hitDetectionInstructions.push(no),this.endGeometry(r)}},e.prototype.drawMultiLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],Go);for(var c=t.getEnds(),u=t.getFlatCoordinates(),f=t.getStride(),d=0,v=0,g=c.length;v<g;++v)d=this.drawFlatCoordinates_(u,d,c[v],f);this.hitDetectionInstructions.push(no),this.endGeometry(r)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(no),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(no),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Go)},e}(bs),SS=OS,PS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LS=function(n){PS(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,r,o,i){var s=this.state,c=s.fillStyle!==void 0,u=s.strokeStyle!==void 0,f=o.length;this.instructions.push(Go),this.hitDetectionInstructions.push(Go);for(var d=0;d<f;++d){var v=o[d],g=this.coordinates.length,b=this.appendFlatLineCoordinates(t,r,v,i,!0,!u),_=[At.MOVE_TO_LINE_TO,g,b];this.instructions.push(_),this.hitDetectionInstructions.push(_),u&&(this.instructions.push(Zv),this.hitDetectionInstructions.push(Zv)),r=v}return c&&(this.instructions.push(Rl),this.hitDetectionInstructions.push(Rl)),u&&(this.instructions.push(no),this.hitDetectionInstructions.push(no)),r},e.prototype.drawCircle=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,An]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getFlatCoordinates(),u=t.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,u,!1,!1);var d=[At.CIRCLE,f];this.instructions.push(Go,d),this.hitDetectionInstructions.push(Go,d),o.fillStyle!==void 0&&(this.instructions.push(Rl),this.hitDetectionInstructions.push(Rl)),o.strokeStyle!==void 0&&(this.instructions.push(no),this.hitDetectionInstructions.push(no)),this.endGeometry(r)}},e.prototype.drawPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,An]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getEnds(),u=t.getOrientedFlatCoordinates(),f=t.getStride();this.drawFlatCoordinatess_(u,0,c,f),this.endGeometry(r)}},e.prototype.drawMultiPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,An]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var c=t.getEndss(),u=t.getOrientedFlatCoordinates(),f=t.getStride(),d=0,v=0,g=c.length;v<g;++v)d=this.drawFlatCoordinatess_(u,d,c[v],f);this.endGeometry(r)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,o=0,i=r.length;o<i;++o)r[o]=Po(r[o],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(bs),$v=LS,MS={POINT:"point",LINE:"line"};function FS(n,e,t,r,o){var i=t,s=t,c=0,u=0,f=t,d,v,g,b,_,w,E,T,I,O;for(v=t;v<r;v+=o){var L=e[v],D=e[v+1];_!==void 0&&(I=L-_,O=D-w,b=Math.sqrt(I*I+O*O),E!==void 0&&(u+=g,d=Math.acos((E*I+T*O)/(g*b)),d>n&&(u>c&&(c=u,i=f,s=v),u=0,f=v-o)),g=b,E=I,T=O),_=L,w=D}return u+=b,u>c?[f,v]:[i,s]}var DS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rc={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},NS=function(n){DS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,r){var o=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!o&&!i)){var c=this.coordinates,u=c.length,f=t.getType(),d=null,v=t.getStride();if(s.placement===MS.LINE&&(f==at.LINE_STRING||f==at.MULTI_LINE_STRING||f==at.POLYGON||f==at.MULTI_POLYGON)){if(!$e(this.getBufferedMaxExtent(),t.getExtent()))return;var g=void 0;if(d=t.getFlatCoordinates(),f==at.LINE_STRING)g=[d.length];else if(f==at.MULTI_LINE_STRING)g=t.getEnds();else if(f==at.POLYGON)g=t.getEnds().slice(0,1);else if(f==at.MULTI_POLYGON){var b=t.getEndss();g=[];for(var _=0,w=b.length;_<w;++_)g.push(b[_][0])}this.beginGeometry(t,r);for(var E=s.textAlign,T=0,I=void 0,O=0,L=g.length;O<L;++O){if(E==null){var D=FS(s.maxAngle,d,T,g[O],v);T=D[0],I=D[1]}else I=g[O];for(var _=T;_<I;_+=v)c.push(d[_],d[_+1]);var X=c.length;T=g[O],this.drawChars_(u,X),u=X}this.endGeometry(r)}else{var G=s.overflow?null:[];switch(f){case at.POINT:case at.MULTI_POINT:d=t.getFlatCoordinates();break;case at.LINE_STRING:d=t.getFlatMidpoint();break;case at.CIRCLE:d=t.getCenter();break;case at.MULTI_LINE_STRING:d=t.getFlatMidpoints(),v=2;break;case at.POLYGON:d=t.getFlatInteriorPoint(),s.overflow||G.push(d[2]/this.resolution),v=3;break;case at.MULTI_POLYGON:var B=t.getFlatInteriorPoints();d=[];for(var _=0,w=B.length;_<w;_+=3)s.overflow||G.push(B[_+2]/this.resolution),d.push(B[_],B[_+1]);if(d.length===0)return;v=2;break}var X=this.appendFlatPointCoordinates(d,v);if(X===u)return;if(G&&(X-u)/2!==d.length/v){var Q=u/2;G=G.filter(function(st,_t){var Ot=c[(Q+_t)*2]===d[_t*v]&&c[(Q+_t)*2+1]===d[_t*v+1];return Ot||--Q,Ot})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var lt=s.padding;if(lt!=zo&&(s.scale[0]<0||s.scale[1]<0)){var ft=s.padding[0],gt=s.padding[1],pt=s.padding[2],mt=s.padding[3];s.scale[0]<0&&(gt=-gt,mt=-mt),s.scale[1]<0&&(ft=-ft,pt=-pt),lt=[ft,gt,pt,mt]}var nt=this.pixelRatio;this.instructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,lt==zo?zo:lt.map(function(st){return st*nt}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]);var ct=1/nt;this.hitDetectionInstructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ct,ct],NaN,this.declutterImageWithText_,lt,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]),this.endGeometry(r)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,o=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||as,textBaseline:r.textBaseline||Jl,scale:r.scale});var c=this.fillKey_;o&&(c in this.fillStates||(this.fillStates[c]={fillStyle:o.fillStyle}))},e.prototype.drawChars_=function(t,r){var o=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,c=this.textKey_,u=this.fillKey_;this.saveTextStates_();var f=this.pixelRatio,d=rc[i.textBaseline],v=this.textOffsetY_*f,g=this.text_,b=o?o.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,f,v,s,b*f,g,c,1]),this.hitDetectionInstructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,1,v,s,b,g,c,1/f])},e.prototype.setTextStyle=function(t,r){var o,i,s;if(!t)this.text_="";else{var c=t.getFill();c?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=on(c.getColor()||An)):(i=null,this.textFillState_=i);var u=t.getStroke();if(!u)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var f=u.getLineDash(),d=u.getLineDashOffset(),v=u.getWidth(),g=u.getMiterLimit();s.lineCap=u.getLineCap()||ql,s.lineDash=f?f.slice():rs,s.lineDashOffset=d===void 0?ns:d,s.lineJoin=u.getLineJoin()||Xi,s.lineWidth=v===void 0?ss:v,s.miterLimit=g===void 0?os:g,s.strokeStyle=on(u.getColor()||is)}o=this.textState_;var b=t.getFont()||o0;kI(b);var _=t.getScaleArray();o.overflow=t.getOverflow(),o.font=b,o.maxAngle=t.getMaxAngle(),o.placement=t.getPlacement(),o.textAlign=t.getTextAlign(),o.textBaseline=t.getTextBaseline()||Jl,o.backgroundFill=t.getBackgroundFill(),o.backgroundStroke=t.getBackgroundStroke(),o.padding=t.getPadding()||zo,o.scale=_===void 0?[1,1]:_;var w=t.getOffsetX(),E=t.getOffsetY(),T=t.getRotateWithView(),I=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=w===void 0?0:w,this.textOffsetY_=E===void 0?0:E,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=I===void 0?0:I,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:re(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+re(i.fillStyle):""}this.declutterImageWithText_=r},e}(bs),zS=NS,GS={Circle:$v,Default:bs,Image:AS,LineString:SS,Polygon:$v,Text:zS},BS=function(){function n(e,t,r,o){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var o in r){var i=r[o].finish();e[t][o]=i}}return e},n.prototype.getBuilder=function(e,t){var r=e!==void 0?e.toString():"0",o=this.buildersByZIndex_[r];o===void 0&&(o={},this.buildersByZIndex_[r]=o);var i=o[t];if(i===void 0){var s=GS[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=i}return i},n}(),qv=BS,WS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),US=function(n){WS(e,n);function e(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return e.prototype.getFeatures=function(t){return Kt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Kt()},e.prototype.renderFrame=function(t,r){return Kt()},e.prototype.loadedTileCallback=function(t,r,o){t[r]||(t[r]={}),t[r][o.tileCoord.toString()]=o},e.prototype.createLoadedTileFinder=function(t,r,o){return function(i,s){var c=this.loadedTileCallback.bind(this,o,i);return t.forEachLoadedTile(r,i,s,c)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){},e.prototype.getDataAtPixel=function(t,r,o){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===he.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var r=t.getState();return r!=he.LOADED&&r!=he.ERROR&&t.addEventListener(Dt.CHANGE,this.boundHandleImageChange_),r==he.IDLE&&(t.load(),r=t.getState()),r==he.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==$o.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(Om),YS=US,XS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pa=null;function VS(){var n=document.createElement("canvas");n.width=1,n.height=1,Pa=n.getContext("2d")}var HS=function(n){XS(e,n);function e(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=an(),r.pixelTransform=an(),r.inversePixelTransform=an(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return e.prototype.getImageData=function(t,r,o){Pa||VS(),Pa.clearRect(0,0,1,1);var i;try{Pa.drawImage(t,r,o,1,1,0,0,1,1),i=Pa.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var r=this.getLayer(),o=r.getBackground();return typeof o=="function"&&(o=o(t.viewState.resolution)),o||void 0},e.prototype.useContainer=function(t,r,o,i){var s=this.getLayer().getClassName(),c,u;if(t&&t.className===s&&t.style.opacity===""&&o===1&&(!i||t.style.backgroundColor&&qo(jl(t.style.backgroundColor),jl(i)))){var f=t.firstElementChild;f instanceof HTMLCanvasElement&&(u=f.getContext("2d"))}if(u&&u.canvas.style.transform===r?(this.container=t,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){c=document.createElement("div"),c.className=s;var d=c.style;d.position="absolute",d.width="100%",d.height="100%",i&&(d.backgroundColor=i),u=Pr();var f=u.canvas;c.appendChild(f),d=f.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=c,this.context=u}},e.prototype.clipUnrotated=function(t,r,o){var i=uo(o),s=ds(o),c=hs(o),u=Wi(o);Re(r.coordinateToPixelTransform,i),Re(r.coordinateToPixelTransform,s),Re(r.coordinateToPixelTransform,c),Re(r.coordinateToPixelTransform,u);var f=this.inversePixelTransform;Re(f,i),Re(f,s),Re(f,c),Re(f,u),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,r,o){var i=this.getLayer();if(i.hasListener(t)){var s=new e0(t,this.inversePixelTransform,o,r);i.dispatchEvent(s)}},e.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(so.PRERENDER,t,r)},e.prototype.postRender=function(t,r){this.dispatchRenderEvent_(so.POSTRENDER,t,r)},e.prototype.getRenderTransform=function(t,r,o,i,s,c,u){var f=s/2,d=c/2,v=i/r,g=-v,b=-t[0]+u,_=-t[1];return On(this.tempTransform,f,d,v,g,-o,b,_)},e.prototype.getDataAtPixel=function(t,r,o){var i=Re(this.inversePixelTransform,t.slice()),s=this.context,c=this.getLayer(),u=c.getExtent();if(u){var f=Re(r.pixelToCoordinateTransform,t.slice());if(!fs(u,f))return null}var d=Math.round(i[0]),v=Math.round(i[1]),g=this.pixelContext_;if(!g){var b=document.createElement("canvas");b.width=1,b.height=1,g=b.getContext("2d"),this.pixelContext_=g}g.clearRect(0,0,1,1);var _;try{g.drawImage(s.canvas,d,v,1,1,0,0,1,1),_=g.getImageData(0,0,1,1).data}catch(w){return w.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):_}return _[3]===0?null:_},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(YS),x0=HS,_e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function KS(n,e,t,r,o,i,s,c,u,f,d,v){var g=n[e],b=n[e+1],_=0,w=0,E=0,T=0;function I(){_=g,w=b,e+=r,g=n[e],b=n[e+1],T+=E,E=Math.sqrt((g-_)*(g-_)+(b-w)*(b-w))}do I();while(e<t-r&&T+E<i);for(var O=E===0?0:(i-T)/E,L=En(_,g,O),D=En(w,b,O),X=e-r,G=T,B=i+c*u(f,o,d);e<t-r&&T+E<B;)I();O=E===0?0:(B-T)/E;var Q=En(_,g,O),lt=En(w,b,O),ft;if(v){var gt=[L,D,Q,lt];Dh(gt,0,4,2,v,gt,gt),ft=gt[0]>gt[2]}else ft=L>Q;var pt=Math.PI,mt=[],nt=X+r===e;e=X,E=0,T=G,g=n[e],b=n[e+1];var ct;if(nt){I(),ct=Math.atan2(b-w,g-_),ft&&(ct+=ct>0?-pt:pt);var tt=(Q+L)/2,st=(lt+D)/2;return mt[0]=[tt,st,(B-i)/2,ct,o],mt}for(var _t=0,Ot=o.length;_t<Ot;){I();var St=Math.atan2(b-w,g-_);if(ft&&(St+=St>0?-pt:pt),ct!==void 0){var j=St-ct;if(j+=j>pt?-2*pt:j<-pt?2*pt:0,Math.abs(j)>s)return null}ct=St;for(var Yt=_t,kt=0;_t<Ot;++_t){var N=ft?Ot-_t-1:_t,et=c*u(f,o[N],d);if(e+r<t&&T+E<i+kt+et/2)break;kt+=et}if(_t!==Yt){var q=ft?o.substring(Ot-Yt,Ot-_t):o.substring(Yt,_t);O=E===0?0:(i+kt/2-T)/E;var tt=En(_,g,O),st=En(w,b,O);mt.push([tt,st,kt/2,St,q]),i+=kt}}return mt}var _i=Or(),Vn=[],mn=[],_n=[],Hn=[];function Jv(n){return n[3].declutterBox}var jS=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Qv(n,e){return(e==="start"||e==="end")&&!jS.test(n)&&(e=e==="start"?"left":"right"),rc[e]}function ZS(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var $S=function(){function n(e,t,r,o){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=an(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,r,o){var i=e+t+r+o;if(this.labels_[i])return this.labels_[i];var s=o?this.strokeStates[o]:null,c=r?this.fillStates[r]:null,u=this.textStates[t],f=this.pixelRatio,d=[u.scale[0]*f,u.scale[1]*f],v=Array.isArray(e),g=Qv(v?e[0]:e,u.textAlign||as),b=o&&s.lineWidth?s.lineWidth:0,_=v?e:e.split(`
`).reduce(ZS,[]),w=CI(u,_),E=w.width,T=w.height,I=w.widths,O=w.heights,L=w.lineWidths,D=E+b,X=[],G=(D+2)*d[0],B=(T+b)*d[1],Q={width:G<0?Math.floor(G):Math.ceil(G),height:B<0?Math.floor(B):Math.ceil(B),contextInstructions:X};if((d[0]!=1||d[1]!=1)&&X.push("scale",d),o){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",b),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var lt=xc?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;lt.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}r&&X.push("fillStyle",c.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var ft=.5-g,gt=g*D+ft*b,pt=[],mt=[],nt=0,ct=0,tt=0,st=0,_t,Ot=0,St=_.length;Ot<St;Ot+=2){var j=_[Ot];if(j===`
`){ct+=nt,nt=0,gt=g*D+ft*b,++st;continue}var Yt=_[Ot+1]||u.font;Yt!==_t&&(o&&pt.push("font",Yt),r&&mt.push("font",Yt),_t=Yt),nt=Math.max(nt,O[tt]);var kt=[j,gt+ft*I[tt]+g*(I[tt]-L[st]),.5*(b+nt)+ct];gt+=I[tt],o&&pt.push("strokeText",kt),r&&mt.push("fillText",kt),++tt}return Array.prototype.push.apply(X,pt),Array.prototype.push.apply(X,mt),this.labels_[i]=Q,Q},n.prototype.replayTextBackground_=function(e,t,r,o,i,s,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,r,o,i,s,c,u,f,d,v,g,b,_,w,E){c*=g[0],u*=g[1];var T=r-c,I=o-u,O=i+f>e?e-f:i,L=s+d>t?t-d:s,D=_[3]+O*g[0]+_[1],X=_[0]+L*g[1]+_[2],G=T-_[3],B=I-_[0];(w||v!==0)&&(Vn[0]=G,Hn[0]=G,Vn[1]=B,mn[1]=B,mn[0]=G+D,_n[0]=mn[0],_n[1]=B+X,Hn[1]=_n[1]);var Q;return v!==0?(Q=On(an(),r,o,1,1,v,-r,-o),Re(Q,Vn),Re(Q,mn),Re(Q,_n),Re(Q,Hn),jr(Math.min(Vn[0],mn[0],_n[0],Hn[0]),Math.min(Vn[1],mn[1],_n[1],Hn[1]),Math.max(Vn[0],mn[0],_n[0],Hn[0]),Math.max(Vn[1],mn[1],_n[1],Hn[1]),_i)):jr(Math.min(G,G+D),Math.min(B,B+X),Math.max(G,G+D),Math.max(B,B+X),_i),b&&(T=Math.round(T),I=Math.round(I)),{drawImageX:T,drawImageY:I,drawImageW:O,drawImageH:L,originX:f,originY:d,declutterBox:{minX:_i[0],minY:_i[1],maxX:_i[2],maxY:_i[3],value:E},canvasTransform:Q,scale:g}},n.prototype.replayImageOrLabel_=function(e,t,r,o,i,s,c){var u=!!(s||c),f=o.declutterBox,d=e.canvas,v=c?c[2]*o.scale[0]/2:0,g=f.minX-v<=d.width/t&&f.maxX+v>=0&&f.minY-v<=d.height/t&&f.maxY+v>=0;return g&&(u&&this.replayTextBackground_(e,Vn,mn,_n,Hn,s,c),TI(e,o.canvasTransform,i,r,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Re(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,r,o){var i=this.textStates[t],s=this.createLabel(e,t,o,r),c=this.strokeStates[r],u=this.pixelRatio,f=Qv(Array.isArray(e)?e[0]:e,i.textAlign||as),d=rc[i.textBaseline||Jl],v=c&&c.lineWidth?c.lineWidth:0,g=s.width/u-2*i.scale[0],b=f*g+2*(.5-f)*v,_=d*s.height/u+2*(.5-d)*v;return{label:s,anchorX:b,anchorY:_}},n.prototype.execute_=function(e,t,r,o,i,s,c,u){var f;this.pixelCoordinates_&&qo(r,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Vo(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),XA(this.renderedTransform_,r));for(var d=0,v=o.length,g=0,b,_,w,E,T,I,O,L,D,X,G,B,Q=0,lt=0,ft=null,gt=null,pt=this.coordinateCache_,mt=this.viewRotation_,nt=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,ct={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:mt},tt=this.instructions!=o||this.overlaps?0:200,st,_t,Ot,St;d<v;){var j=o[d],Yt=j[0];switch(Yt){case At.BEGIN_GEOMETRY:st=j[1],St=j[3],st.getGeometry()?c!==void 0&&!$e(c,St.getExtent())?d=j[2]+1:++d:d=j[2];break;case At.BEGIN_PATH:Q>tt&&(this.fill_(e),Q=0),lt>tt&&(e.stroke(),lt=0),!Q&&!lt&&(e.beginPath(),E=NaN,T=NaN),++d;break;case At.CIRCLE:g=j[1];var kt=f[g],N=f[g+1],et=f[g+2],q=f[g+3],ot=et-kt,It=q-N,Zt=Math.sqrt(ot*ot+It*It);e.moveTo(kt+Zt,N),e.arc(kt,N,Zt,0,2*Math.PI,!0),++d;break;case At.CLOSE_PATH:e.closePath(),++d;break;case At.CUSTOM:g=j[1],b=j[2];var yt=j[3],Et=j[4],k=j.length==6?j[5]:void 0;ct.geometry=yt,ct.feature=st,d in pt||(pt[d]=[]);var A=pt[d];k?k(f,g,b,2,A):(A[0]=f[g],A[1]=f[g+1],A.length=2),Et(A,ct),++d;break;case At.DRAW_IMAGE:g=j[1],b=j[2],L=j[3],_=j[4],w=j[5];var M=j[6],V=j[7],W=j[8],J=j[9],rt=j[10],Z=j[11],$=j[12],H=j[13],ht=j[14];if(!L&&j.length>=19){D=j[18],X=j[19],G=j[20],B=j[21];var ut=this.drawLabelWithPointPlacement_(D,X,G,B);L=ut.label,j[3]=L;var vt=j[22];_=(ut.anchorX-vt)*this.pixelRatio,j[4]=_;var xt=j[23];w=(ut.anchorY-xt)*this.pixelRatio,j[5]=w,M=L.height,j[6]=M,H=L.width,j[13]=H}var Pt=void 0;j.length>24&&(Pt=j[24]);var Lt=void 0,Nt=void 0,Xt=void 0;j.length>16?(Lt=j[15],Nt=j[16],Xt=j[17]):(Lt=zo,Nt=!1,Xt=!1),rt&&nt?Z+=mt:!rt&&!nt&&(Z-=mt);for(var we=0;g<b;g+=2)if(!(Pt&&Pt[we++]<H/this.pixelRatio)){var de=this.calculateImageOrLabelDimensions_(L.width,L.height,f[g],f[g+1],H,M,_,w,W,J,Z,$,i,Lt,Nt||Xt,st),Lr=[e,t,L,de,V,Nt?ft:null,Xt?gt:null],se=void 0,ar=void 0;if(u&&ht){var pe=b-g;if(!ht[pe]){ht[pe]=Lr;continue}if(se=ht[pe],delete ht[pe],ar=Jv(se),u.collides(ar))continue}u&&u.collides(de.declutterBox)||(se&&(u&&u.insert(ar),this.replayImageOrLabel_.apply(this,se)),u&&u.insert(de.declutterBox),this.replayImageOrLabel_.apply(this,Lr))}++d;break;case At.DRAW_CHARS:var Fe=j[1],ho=j[2],ta=j[3],Ic=j[4];B=j[5];var ms=j[6],ea=j[7],_s=j[8];G=j[9];var ra=j[10];D=j[11],X=j[12];var ys=[j[13],j[13]],na=this.textStates[X],Pn=na.font,po=[na.scale[0]*ea,na.scale[1]*ea],go=void 0;Pn in this.widths_?go=this.widths_[Pn]:(go={},this.widths_[Pn]=go);var xs=Vm(f,Fe,ho,2),Jo=Math.abs(po[0])*Yv(Pn,D,go);if(Ic||Jo<=xs){var Oc=this.textStates[X].textAlign,oa=(xs-Jo)*rc[Oc],vo=KS(f,Fe,ho,2,D,oa,ms,Math.abs(po[0]),Yv,Pn,go,nt?0:this.viewRotation_);t:if(vo){var bo=[],$r=void 0,Qo=void 0,ti=void 0,Ge=void 0,Qe=void 0;if(G)for($r=0,Qo=vo.length;$r<Qo;++$r){Qe=vo[$r],ti=Qe[4],Ge=this.createLabel(ti,X,"",G),_=Qe[2]+(po[0]<0?-ra:ra),w=ta*Ge.height+(.5-ta)*2*ra*po[1]/po[0]-_s;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Qe[0],Qe[1],Ge.width,Ge.height,_,w,0,0,Qe[3],ys,!1,zo,!1,st);if(u&&u.collides(de.declutterBox))break t;bo.push([e,t,Ge,de,1,null,null])}if(B)for($r=0,Qo=vo.length;$r<Qo;++$r){Qe=vo[$r],ti=Qe[4],Ge=this.createLabel(ti,X,B,""),_=Qe[2],w=ta*Ge.height-_s;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Qe[0],Qe[1],Ge.width,Ge.height,_,w,0,0,Qe[3],ys,!1,zo,!1,st);if(u&&u.collides(de.declutterBox))break t;bo.push([e,t,Ge,de,1,null,null])}u&&u.load(bo.map(Jv));for(var ia=0,ws=bo.length;ia<ws;++ia)this.replayImageOrLabel_.apply(this,bo[ia])}}++d;break;case At.END_GEOMETRY:if(s!==void 0){st=j[1];var ks=s(st,St);if(ks)return ks}++d;break;case At.FILL:tt?Q++:this.fill_(e),++d;break;case At.MOVE_TO_LINE_TO:for(g=j[1],b=j[2],_t=f[g],Ot=f[g+1],I=_t+.5|0,O=Ot+.5|0,(I!==E||O!==T)&&(e.moveTo(_t,Ot),E=I,T=O),g+=2;g<b;g+=2)_t=f[g],Ot=f[g+1],I=_t+.5|0,O=Ot+.5|0,(g==b-2||I!==E||O!==T)&&(e.lineTo(_t,Ot),E=I,T=O);++d;break;case At.SET_FILL_STYLE:ft=j,this.alignFill_=j[2],Q&&(this.fill_(e),Q=0,lt&&(e.stroke(),lt=0)),e.fillStyle=j[1],++d;break;case At.SET_STROKE_STYLE:gt=j,lt&&(e.stroke(),lt=0),this.setStrokeStyle_(e,j),++d;break;case At.STROKE:tt?lt++:e.stroke(),++d;break;default:++d;break}}Q&&this.fill_(e),lt&&e.stroke()},n.prototype.execute=function(e,t,r,o,i,s){this.viewRotation_=o,this.execute_(e,t,r,this.instructions,i,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,r,o,i){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,o,i)},n}(),qS=$S,of=[_e.POLYGON,_e.CIRCLE,_e.LINE_STRING,_e.IMAGE,_e.TEXT,_e.DEFAULT],JS=function(){function n(e,t,r,o,i,s){this.maxExtent_=e,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=an(),this.createExecutors_(i)}return n.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var o=e[t];for(var i in o){var s=o[i];r[i]=new qS(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,i=e.length;o<i;++o)if(e[o]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,s){o=Math.round(o);var c=o*2+1,u=On(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-r,-e[0],-e[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Pr(c,c));var d=this.hitDetectionContext_;d.canvas.width!==c||d.canvas.height!==c?(d.canvas.width=c,d.canvas.height=c):f||d.clearRect(0,0,c,c);var v;this.renderBuffer_!==void 0&&(v=Or(),Ba(v,e),Ch(v,t*(this.renderBuffer_+o),v));var g=QS(o),b;function _(X,G){for(var B=d.getImageData(0,0,c,c).data,Q=0,lt=g.length;Q<lt;Q++)if(B[g[Q]]>0){if(!s||b!==_e.IMAGE&&b!==_e.TEXT||s.indexOf(X)!==-1){var ft=(g[Q]-3)/4,gt=o-ft%c,pt=o-(ft/c|0),mt=i(X,G,gt*gt+pt*pt);if(mt)return mt}d.clearRect(0,0,c,c);break}}var w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(jo);var E,T,I,O,L;for(E=w.length-1;E>=0;--E){var D=w[E].toString();for(I=this.executorsByZIndex_[D],T=of.length-1;T>=0;--T)if(b=of[T],O=I[b],O!==void 0&&(L=O.executeHitDetection(d,u,r,_,v),L))return L}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],o=t[1],i=t[2],s=t[3],c=[r,o,r,s,i,s,i,o];return Vo(c,0,8,2,e,c),c},n.prototype.isEmpty=function(){return qa(this.executorsByZIndex_)},n.prototype.execute=function(e,t,r,o,i,s,c){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(jo),this.maxExtent_&&(e.save(),this.clip(e,r));var f=s||of,d,v,g,b,_,w;for(c&&u.reverse(),d=0,v=u.length;d<v;++d){var E=u[d].toString();for(_=this.executorsByZIndex_[E],g=0,b=f.length;g<b;++g){var T=f[g];w=_[T],w!==void 0&&w.execute(e,t,r,o,i,c)}}this.maxExtent_&&e.restore()},n}(),af={};function QS(n){if(af[n]!==void 0)return af[n];for(var e=n*2+1,t=n*n,r=new Array(t+1),o=0;o<=n;++o)for(var i=0;i<=n;++i){var s=o*o+i*i;if(s>t)break;var c=r[s];c||(c=[],r[s]=c),c.push(((n+o)*e+(n+i))*4+3),o>0&&c.push(((n-o)*e+(n+i))*4+3),i>0&&(c.push(((n+o)*e+(n-i))*4+3),o>0&&c.push(((n-o)*e+(n-i))*4+3))}for(var u=[],o=0,f=r.length;o<f;++o)r[o]&&u.push.apply(u,r[o]);return af[n]=u,u}var tb=JS,tP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eP=function(n){tP(e,n);function e(t,r,o,i,s,c,u){var f=n.call(this)||this;return f.context_=t,f.pixelRatio_=r,f.extent_=o,f.transform_=i,f.viewRotation_=s,f.squaredTolerance_=c,f.userTransform_=u,f.contextFillState_=null,f.contextStrokeState_=null,f.contextTextState_=null,f.fillState_=null,f.strokeState_=null,f.image_=null,f.imageAnchorX_=0,f.imageAnchorY_=0,f.imageHeight_=0,f.imageOpacity_=0,f.imageOriginX_=0,f.imageOriginY_=0,f.imageRotateWithView_=!1,f.imageRotation_=0,f.imageScale_=[0,0],f.imageWidth_=0,f.text_="",f.textOffsetX_=0,f.textOffsetY_=0,f.textRotateWithView_=!1,f.textRotation_=0,f.textScale_=[0,0],f.textFillState_=null,f.textStrokeState_=null,f.textState_=null,f.pixelCoordinates_=[],f.tmpLocalTransform_=an(),f}return e.prototype.drawImages_=function(t,r,o,i){if(!!this.image_){var s=Vo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var v=0,g=s.length;v<g;v+=2){var b=s[v]-this.imageAnchorX_,_=s[v+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var w=b+this.imageAnchorX_,E=_+this.imageAnchorY_;On(u,w,E,1,1,d,-w,-E),c.setTransform.apply(c,u),c.translate(w,E),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,b,_,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}},e.prototype.drawText_=function(t,r,o,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Vo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);r<o;r+=i){var f=s[r]+this.textOffsetX_,d=s[r+1]+this.textOffsetY_;if(u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var v=On(this.tmpLocalTransform_,f,d,1,1,u,-f,-d);c.setTransform.apply(c,v),c.translate(f,d),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&c.strokeText(this.text_,f,d),this.textFillState_&&c.fillText(this.text_,f,d)}}},e.prototype.moveToLineTo_=function(t,r,o,i,s){var c=this.context_,u=Vo(t,r,o,i,this.transform_,this.pixelCoordinates_);c.moveTo(u[0],u[1]);var f=u.length;s&&(f-=2);for(var d=2;d<f;d+=2)c.lineTo(u[d],u[d+1]);return s&&c.closePath(),o},e.prototype.drawRings_=function(t,r,o,i){for(var s=0,c=o.length;s<c;++s)r=this.moveToLineTo_(t,r,o[s],i,!0);return r},e.prototype.drawCircle=function(t){if(!!$e(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=t2(t,this.transform_,this.pixelCoordinates_),o=r[2]-r[0],i=r[3]-r[1],s=Math.sqrt(o*o+i*i),c=this.context_;c.beginPath(),c.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case at.POINT:this.drawPoint(t);break;case at.LINE_STRING:this.drawLineString(t);break;case at.POLYGON:this.drawPolygon(t);break;case at.MULTI_POINT:this.drawMultiPoint(t);break;case at.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case at.MULTI_POLYGON:this.drawMultiPolygon(t);break;case at.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case at.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,r){var o=r.getGeometryFunction()(t);!o||!$e(this.extent_,o.getExtent())||(this.setStyle(r),this.drawGeometry(o))},e.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),o=0,i=r.length;o<i;++o)this.drawGeometry(r[o])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(o,0,o.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(!!$e(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,i=t.getFlatCoordinates(),s=0,c=t.getEnds(),u=t.getStride();o.beginPath();for(var f=0,d=c.length;f<d;++f)s=this.moveToLineTo_(i,s,c[f],u,!1);o.stroke()}if(this.text_!==""){var v=t.getFlatMidpoints();this.drawText_(v,0,v.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var o=t.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),c=t.getStride();r.beginPath();for(var u=0,f=s.length;u<f;++u){var d=s[u];i=this.drawRings_(o,i,d,c)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var v=t.getFlatInteriorPoints();this.drawText_(v,0,v.length,2)}}},e.prototype.setContextFillState_=function(t){var r=this.context_,o=this.contextFillState_;o?o.fillStyle!=t.fillStyle&&(o.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var r=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=t.lineCap&&(o.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(qo(o.lineDash,t.lineDash)||r.setLineDash(o.lineDash=t.lineDash),o.lineDashOffset!=t.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),o.lineJoin!=t.lineJoin&&(o.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),o.lineWidth!=t.lineWidth&&(o.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),o.miterLimit!=t.miterLimit&&(o.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),o.strokeStyle!=t.strokeStyle&&(o.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var r=this.context_,o=this.contextTextState_,i=t.textAlign?t.textAlign:as;o?(o.font!=t.font&&(o.font=t.font,r.font=t.font),o.textAlign!=i&&(o.textAlign=i,r.textAlign=i),o.textBaseline!=t.textBaseline&&(o.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=i,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,r){var o=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:on(i||An)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),c=r.getLineCap(),u=r.getLineDash(),f=r.getLineDashOffset(),d=r.getLineJoin(),v=r.getWidth(),g=r.getMiterLimit(),b=u||rs;this.strokeState_={lineCap:c!==void 0?c:ql,lineDash:this.pixelRatio_===1?b:b.map(function(_){return _*o.pixelRatio_}),lineDashOffset:(f||ns)*this.pixelRatio_,lineJoin:d!==void 0?d:Xi,lineWidth:(v!==void 0?v:ss)*this.pixelRatio_,miterLimit:g!==void 0?g:os,strokeStyle:on(s||is)}}},e.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var o=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var o=r.getColor();this.textFillState_={fillStyle:on(o||An)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),c=i.getLineCap(),u=i.getLineDash(),f=i.getLineDashOffset(),d=i.getLineJoin(),v=i.getWidth(),g=i.getMiterLimit();this.textStrokeState_={lineCap:c!==void 0?c:ql,lineDash:u||rs,lineDashOffset:f||ns,lineJoin:d!==void 0?d:Xi,lineWidth:v!==void 0?v:ss,miterLimit:g!==void 0?g:os,strokeStyle:on(s||is)}}var b=t.getFont(),_=t.getOffsetX(),w=t.getOffsetY(),E=t.getRotateWithView(),T=t.getRotation(),I=t.getScaleArray(),O=t.getText(),L=t.getTextAlign(),D=t.getTextBaseline();this.textState_={font:b!==void 0?b:o0,textAlign:L!==void 0?L:as,textBaseline:D!==void 0?D:Jl},this.text_=O!==void 0?Array.isArray(O)?O.reduce(function(X,G,B){return X+=B%2?" ":G},""):O:"",this.textOffsetX_=_!==void 0?this.pixelRatio_*_:0,this.textOffsetY_=w!==void 0?this.pixelRatio_*w:0,this.textRotateWithView_=E!==void 0?E:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*I[0],this.pixelRatio_*I[1]]}},e}(y0),rP=eP,to={FRACTION:"fraction",PIXELS:"pixels"},Cr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},nP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oP=function(n){nP(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=o,s.resolution=r,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Kt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Kt()},e}(qi),iP=oP,aP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){aP(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,o,he.IDLE)||this;return u.src_=i,u.image_=new Image,s!==null&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=he.IDLE,u.imageLoadFunction_=c,u}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=he.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Zr(this.extent)/this.image_.height),this.state=he.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==he.IDLE||this.state==he.ERROR)&&(this.state=he.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=td(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Zr(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(iP);function td(n,e,t){var r=n,o=!0,i=!1,s=!1,c=[Kl(r,Dt.LOAD,function(){s=!0,i||e()})];return r.src&&UA?(i=!0,r.decode().then(function(){o&&e()}).catch(function(u){o&&(s?e():t())})):c.push(Kl(r,Dt.ERROR,t)),function(){o=!1,c.forEach(be)}}var sP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ta=null,lP=function(n){sP(e,n);function e(t,r,o,i,s,c){var u=n.call(this)||this;return u.hitDetectionImage_=null,u.image_=t||new Image,i!==null&&(u.image_.crossOrigin=i),u.canvas_={},u.color_=c,u.unlisten_=null,u.imageState_=s,u.size_=o,u.src_=r,u.tainted_,u}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===he.LOADED){Ta||(Ta=Pr(1,1)),Ta.drawImage(this.image_,0,0);try{Ta.getImageData(0,0,1,1),this.tainted_=!1}catch{Ta=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=he.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=he.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],o=Pr(t,r);o.fillRect(0,0,t,r),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==he.IDLE){this.imageState_=he.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=td(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==he.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var o=r.getContext("2d");if(o.scale(t,t),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply",o.globalCompositeOperation==="multiply"||this.isTainted_())o.fillStyle=Jm(this.color_),o.fillRect(0,0,r.width/t,r.height/t),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var i=o.getImageData(0,0,r.width,r.height),s=i.data,c=this.color_[0]/255,u=this.color_[1]/255,f=this.color_[2]/255,d=this.color_[3],v=0,g=s.length;v<g;v+=4)s[v]*=c,s[v+1]*=u,s[v+2]*=f,s[v+3]*=d;o.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(qi);function cP(n,e,t,r,o,i){var s=Zl.get(e,r,i);return s||(s=new lP(n,e,t,r,o,i),Zl.set(e,r,i,s)),s}var uP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fP=function(n){uP(e,n);function e(t){var r=this,o=t||{},i=o.opacity!==void 0?o.opacity:1,s=o.rotation!==void 0?o.rotation:0,c=o.scale!==void 0?o.scale:1,u=o.rotateWithView!==void 0?o.rotateWithView:!1;r=n.call(this,{opacity:i,rotation:s,scale:c,displacement:o.displacement!==void 0?o.displacement:[0,0],rotateWithView:u})||this,r.anchor_=o.anchor!==void 0?o.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=o.anchorOrigin!==void 0?o.anchorOrigin:Cr.TOP_LEFT,r.anchorXUnits_=o.anchorXUnits!==void 0?o.anchorXUnits:to.FRACTION,r.anchorYUnits_=o.anchorYUnits!==void 0?o.anchorYUnits:to.FRACTION,r.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null;var f=o.img!==void 0?o.img:null;r.imgSize_=o.imgSize;var d=o.src;jt(!(d!==void 0&&f),4),jt(!f||f&&r.imgSize_,5),(d===void 0||d.length===0)&&f&&(d=f.src||re(f)),jt(d!==void 0&&d.length>0,6);var v=o.src!==void 0?he.IDLE:he.LOADED;return r.color_=o.color!==void 0?jl(o.color):null,r.iconImage_=cP(f,d,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,v,r.color_),r.offset_=o.offset!==void 0?o.offset:[0,0],r.offsetOrigin_=o.offsetOrigin!==void 0?o.offsetOrigin:Cr.TOP_LEFT,r.origin_=null,r.size_=o.size!==void 0?o.size:null,r}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==to.FRACTION||this.anchorYUnits_==to.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==to.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==to.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=Cr.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Cr.TOP_RIGHT||this.anchorOrigin_==Cr.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==Cr.BOTTOM_LEFT||this.anchorOrigin_==Cr.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var o=this.getDisplacement();return[t[0]-o[0],t[1]+o[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Cr.TOP_LEFT){var r=this.getSize(),o=this.iconImage_.getSize();if(!r||!o)return null;t=t.slice(),(this.offsetOrigin_==Cr.TOP_RIGHT||this.offsetOrigin_==Cr.BOTTOM_RIGHT)&&(t[0]=o[0]-r[0]-t[0]),(this.offsetOrigin_==Cr.BOTTOM_LEFT||this.offsetOrigin_==Cr.BOTTOM_RIGHT)&&(t[1]=o[1]-r[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Dt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Dt.CHANGE,t)},e}(m0),hP=fP,nn=.5;function dP(n,e,t,r,o,i,s){var c=n[0]*nn,u=n[1]*nn,f=Pr(c,u);f.imageSmoothingEnabled=!1;for(var d=f.canvas,v=new rP(f,nn,o,null,s),g=t.length,b=Math.floor((256*256*256-1)/g),_={},w=1;w<=g;++w){var E=t[w-1],T=E.getStyleFunction()||r;if(!!r){var I=T(E,i);if(!!I){Array.isArray(I)||(I=[I]);for(var O=w*b,L="#"+("000000"+O.toString(16)).slice(-6),D=0,X=I.length;D<X;++D){var G=I[D],B=G.getGeometryFunction()(E);if(!(!B||!$e(o,B.getExtent()))){var Q=G.clone(),lt=Q.getFill();lt&&lt.setColor(L);var ft=Q.getStroke();ft&&(ft.setColor(L),ft.setLineDash(null)),Q.setText(void 0);var gt=G.getImage();if(gt&&gt.getOpacity()!==0){var pt=gt.getImageSize();if(!pt)continue;var mt=Pr(pt[0],pt[1],void 0,{alpha:!1}),nt=mt.canvas;mt.fillStyle=L,mt.fillRect(0,0,nt.width,nt.height),Q.setImage(new hP({img:nt,imgSize:pt,anchor:gt.getAnchor(),anchorXUnits:to.PIXELS,anchorYUnits:to.PIXELS,offset:gt.getOrigin(),opacity:1,size:gt.getSize(),scale:gt.getScale(),rotation:gt.getRotation(),rotateWithView:gt.getRotateWithView()}))}var ct=Q.getZIndex()||0,tt=_[ct];tt||(tt={},_[ct]=tt,tt[at.POLYGON]=[],tt[at.CIRCLE]=[],tt[at.LINE_STRING]=[],tt[at.POINT]=[]),tt[B.getType().replace("Multi","")].push(B,Q)}}}}}for(var st=Object.keys(_).map(Number).sort(jo),w=0,_t=st.length;w<_t;++w){var tt=_[st[w]];for(var Ot in tt)for(var St=tt[Ot],D=0,X=St.length;D<X;D+=2){v.setStyle(St[D+1]);for(var j=0,Yt=e.length;j<Yt;++j)v.setTransform(e[j]),v.drawGeometry(St[D])}}return f.getImageData(0,0,d.width,d.height)}function pP(n,e,t){var r=[];if(t){var o=Math.floor(Math.round(n[0])*nn),i=Math.floor(Math.round(n[1])*nn),s=(Ae(o,0,t.width-1)+Ae(i,0,t.height-1)*t.width)*4,c=t.data[s],u=t.data[s+1],f=t.data[s+2],d=f+256*(u+256*c),v=Math.floor((256*256*256-1)/e.length);d&&d%v===0&&r.push(e[d/v-1])}return r}var gP=.5,w0={Point:EP,LineString:xP,Polygon:TP,MultiPoint:CP,MultiLineString:wP,MultiPolygon:kP,GeometryCollection:yP,Circle:mP};function vP(n,e){return parseInt(re(n),10)-parseInt(re(e),10)}function bP(n,e){var t=$f(n,e);return t*t}function $f(n,e){return gP*n/e}function mP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.CIRCLE);c.setFillStrokeStyle(i,s),c.drawCircle(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function eb(n,e,t,r,o,i,s){var c=!1,u=t.getImage();if(u){var f=u.getImageState();f==he.LOADED||f==he.ERROR?u.unlistenImageChange(o):(f==he.IDLE&&u.load(),f=u.getImageState(),u.listenImageChange(o),c=!0)}return _P(n,e,t,r,i,s),c}function _P(n,e,t,r,o,i){var s=t.getGeometryFunction()(e);if(!!s){var c=s.simplifyTransformed(r,o),u=t.getRenderer();if(u)k0(n,c,t,e);else{var f=w0[c.getType()];f(n,c,t,e,i)}}}function k0(n,e,t,r){if(e.getType()==at.GEOMETRY_COLLECTION){for(var o=e.getGeometries(),i=0,s=o.length;i<s;++i)k0(n,o[i],t,r);return}var c=n.getBuilder(t.getZIndex(),_e.DEFAULT);c.drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer())}function yP(n,e,t,r,o){var i=e.getGeometriesArray(),s,c;for(s=0,c=i.length;s<c;++s){var u=w0[i[s].getType()];u(n,i[s],t,r,o)}}function xP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function wP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function kP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(s||i){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawMultiPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function EP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawPoint(e,r)}if(s&&s.getText()){var f=n.getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function CP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawMultiPoint(e,r)}if(s&&s.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function TP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}var RP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AP=function(n){RP(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Or(),r.wrappedRenderedExtent_=Or(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return e.prototype.renderWorlds=function(t,r,o){var i=r.extent,s=r.viewState,c=s.center,u=s.resolution,f=s.projection,d=s.rotation,v=f.getExtent(),g=this.getLayer().getSource(),b=r.pixelRatio,_=r.viewHints,w=!(_[Ye.ANIMATING]||_[Ye.INTERACTING]),E=this.context,T=Math.round(r.size[0]*b),I=Math.round(r.size[1]*b),O=g.getWrapX()&&f.canWrapX(),L=O?xe(v):null,D=O?Math.ceil((i[2]-v[2])/L)+1:1,X=O?Math.floor((i[0]-v[0])/L):0;do{var G=this.getRenderTransform(c,u,d,b,T,I,X*L);t.execute(E,1,G,d,w,void 0,o)}while(++X<D)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,r){var o=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];VA(this.pixelTransform,1/o,1/o),Fh(this.inversePixelTransform,this.pixelTransform);var s=Mm(this.pixelTransform);this.useContainer(r,s,i.opacity,this.getBackground(t));var c=this.context,u=c.canvas,f=this.replayGroup_,d=this.declutterExecutorGroup;if((!f||f.isEmpty())&&(!d||d.isEmpty()))return null;var v=Math.round(t.size[0]*o),g=Math.round(t.size[1]*o);u.width!=v||u.height!=g?(u.width=v,u.height=g,u.style.transform!==s&&(u.style.transform=s)):this.containerReused||c.clearRect(0,0,v,g),this.preRender(c,t);var b=t.viewState,_=b.projection,w=!1,E=!0;if(i.extent&&this.clipping){var T=Do(i.extent,_);E=$e(T,t.extent),w=E&&!Oi(T,t.extent),w&&this.clipUnrotated(c,t,T)}E&&this.renderWorlds(f,t),w&&c.restore(),this.postRender(c,t);var I=n0(i.opacity),O=this.container;return I!==O.style.opacity&&(O.style.opacity=I),this.renderedRotation_!==b.rotation&&(this.renderedRotation_=b.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];Re(this.pixelTransform,o);var i=this.renderedCenter_,s=this.renderedResolution_,c=this.renderedRotation_,u=this.renderedProjection_,f=this.wrappedRenderedExtent_,d=this.getLayer(),v=[],g=o[0]*nn,b=o[1]*nn;v.push(this.getRenderTransform(i,s,c,nn,g,b,0).slice());var _=d.getSource(),w=u.getExtent();if(_.getWrapX()&&u.canWrapX()&&!Oi(w,f)){for(var E=f[0],T=xe(w),I=0,O=void 0;E<w[0];)--I,O=T*I,v.push(this.getRenderTransform(i,s,c,nn,g,b,O).slice()),E+=T;for(I=0,E=f[2];E>w[2];)++I,O=T*I,v.push(this.getRenderTransform(i,s,c,nn,g,b,O).slice()),E-=T}this.hitDetectionImageData_=dP(o,v,this.renderedFeatures_,d.getStyleFunction(),f,s,c)}r(pP(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){var c=this;if(!!this.replayGroup_){var u=r.viewState.resolution,f=r.viewState.rotation,d=this.getLayer(),v={},g=function(w,E,T){var I=re(w),O=v[I];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return v[I]=!0,s.splice(s.lastIndexOf(O),1),i(w,d,E);O.geometry=E,O.distanceSq=T}}else{if(T===0)return v[I]=!0,i(w,d,E);s.push(v[I]={feature:w,layer:d,geometry:E,distanceSq:T,callback:i})}},b,_=[this.replayGroup_];return this.declutterExecutorGroup&&_.push(this.declutterExecutorGroup),_.some(function(w){return b=w.forEachFeatureAtCoordinate(t,u,f,o,g,w===c.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(E){return E.value}):null)}),b}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var r=this.getLayer(),o=r.getSource();if(!o)return!1;var i=t.viewHints[Ye.ANIMATING],s=t.viewHints[Ye.INTERACTING],c=r.getUpdateWhileAnimating(),u=r.getUpdateWhileInteracting();if(!this.dirty_&&!c&&i||!u&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=t.extent,d=t.viewState,v=d.projection,g=d.resolution,b=t.pixelRatio,_=r.getRevision(),w=r.getRenderBuffer(),E=r.getRenderOrder();E===void 0&&(E=vP);var T=d.center.slice(),I=Ch(f,w*g),O=I.slice(),L=[I.slice()],D=v.getExtent();if(o.getWrapX()&&v.canWrapX()&&!Oi(D,t.extent)){var X=xe(D),G=Math.max(xe(I)/2,X);I[0]=D[0]-G,I[2]=D[2]+G,Rm(T,v);var B=dA(L[0],v);B[0]<D[0]&&B[2]<D[2]?L.push([B[0]+X,B[1],B[2]+X,B[3]]):B[0]>D[0]&&B[2]>D[2]&&L.push([B[0]-X,B[1],B[2]-X,B[3]])}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==_&&this.renderedRenderOrder_==E&&Oi(this.wrappedRenderedExtent_,I))return qo(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var Q=new qv($f(g,b),I,g,b),lt;this.getLayer().getDeclutter()&&(lt=new qv($f(g,b),I,g,b));var ft=_c(),gt;if(ft){for(var pt=0,mt=L.length;pt<mt;++pt){var nt=L[pt],ct=Bf(nt,v);o.loadFeatures(ct,CA(g,v),ft)}gt=mc(ft,v)}else for(var pt=0,mt=L.length;pt<mt;++pt)o.loadFeatures(L[pt],g,v);var tt=bP(g,b),st=function(Yt){var kt,N=Yt.getStyleFunction()||r.getStyleFunction();if(N&&(kt=N(Yt,g)),kt){var et=this.renderFeature(Yt,tt,kt,Q,gt,lt);this.dirty_=this.dirty_||et}}.bind(this),_t=Bf(I,v),Ot=o.getFeaturesInExtent(_t);E&&Ot.sort(E);for(var pt=0,mt=Ot.length;pt<mt;++pt)st(Ot[pt]);this.renderedFeatures_=Ot;var St=Q.finish(),j=new tb(I,g,b,o.getOverlaps(),St,r.getRenderBuffer());return lt&&(this.declutterExecutorGroup=new tb(I,g,b,o.getOverlaps(),lt.finish(),r.getRenderBuffer())),this.renderedResolution_=g,this.renderedRevision_=_,this.renderedRenderOrder_=E,this.renderedExtent_=O,this.wrappedRenderedExtent_=I,this.renderedCenter_=T,this.renderedProjection_=v,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,r,o,i,s,c){if(!o)return!1;var u=!1;if(Array.isArray(o))for(var f=0,d=o.length;f<d;++f)u=eb(i,t,o[f],r,this.boundHandleStyleImageChange_,s,c)||u;else u=eb(i,t,o,r,this.boundHandleStyleImageChange_,s,c);return u},e}(x0),IP=AP,OP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SP=function(n){OP(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new IP(this)},e}(wS),qf=SP,PP=function(){function n(e){this.rbush_=new b0(e),this.items_={}}return n.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[re(t)]=r},n.prototype.load=function(e,t){for(var r=new Array(t.length),o=0,i=t.length;o<i;o++){var s=e[o],c=t[o],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:c};r[o]=u,this.items_[re(c)]=u}this.rbush_.load(r)},n.prototype.remove=function(e){var t=re(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(e,t){var r=this.items_[re(t)],o=[r.minX,r.minY,r.maxX,r.maxY];Ja(o,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(o){return o.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var r,o=0,i=e.length;o<i;o++)if(r=t(e[o]),r)return r;return r},n.prototype.isEmpty=function(){return qa(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return jr(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),rb=PP,LP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MP=function(n){LP(e,n);function e(t){var r=n.call(this)||this;r.projection=vr(t.projection),r.attributions_=nb(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:$o.READY,r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var o=r;return r.viewPromise_=new Promise(function(i,s){o.viewResolver=i,o.viewRejector=s}),r}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Kt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=nb(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ln);function nb(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var E0=MP,Gr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function FP(n,e){return[[-1/0,-1/0,1/0,1/0]]}var DP=!1;function NP(n,e,t,r,o,i,s){var c=new XMLHttpRequest;c.open("GET",typeof n=="function"?n(t,r,o):n,!0),e.getType()==Ea.ARRAY_BUFFER&&(c.responseType="arraybuffer"),c.withCredentials=DP,c.onload=function(u){if(!c.status||c.status>=200&&c.status<300){var f=e.getType(),d=void 0;f==Ea.JSON||f==Ea.TEXT?d=c.responseText:f==Ea.XML?(d=c.responseXML,d||(d=new DOMParser().parseFromString(c.responseText,"application/xml"))):f==Ea.ARRAY_BUFFER&&(d=c.response),d?i(e.readFeatures(d,{extent:t,featureProjection:o}),e.readProjection(d)):s()}else s()},c.onerror=s,c.send()}function ob(n,e){return function(t,r,o,i,s){var c=this;NP(n,e,t,r,o,function(u,f){c.addFeatures(u),i!==void 0&&i(u)},s||Zo)}}var C0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kn=function(n){C0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.feature=r,i.features=o,i}return e}(sn),zP=function(n){C0(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:$o.READY,wrapX:o.wrapX!==void 0?o.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=Zo,r.format_=o.format,r.overlaps_=o.overlaps===void 0?!0:o.overlaps,r.url_=o.url,o.loader!==void 0?r.loader_=o.loader:r.url_!==void 0&&(jt(r.format_,7),r.loader_=ob(r.url_,r.format_)),r.strategy_=o.strategy!==void 0?o.strategy:FP;var i=o.useSpatialIndex!==void 0?o.useSpatialIndex:!0;r.featuresRtree_=i?new rb:null,r.loadedExtentsRtree_=new rb,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,c;return Array.isArray(o.features)?c=o.features:o.features&&(s=o.features,c=s.getArray()),!i&&s===void 0&&(s=new Ar(c)),c!==void 0&&r.addFeaturesInternal(c),s!==void 0&&r.bindFeaturesCollection_(s),r}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var r=re(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var o=t.getGeometry();if(o){var i=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Kn(Gr.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[te(r,Dt.CHANGE,this.handleFeatureChange_,this),te(r,Yi.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,r){var o=!0,i=r.getId();return i!==void 0&&(i.toString()in this.idIndex_?o=!1:this.idIndex_[i.toString()]=r),o&&(jt(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),o},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var r=[],o=[],i=[],s=0,c=t.length;s<c;s++){var u=t[s],f=re(u);this.addToIndex_(f,u)&&o.push(u)}for(var s=0,d=o.length;s<d;s++){var u=o[s],f=re(u);this.setupChangeEvents_(f,u);var v=u.getGeometry();if(v){var g=v.getExtent();r.push(g),i.push(u)}else this.nullGeometryFeatures_[f]=u}if(this.featuresRtree_&&this.featuresRtree_.load(r,i),this.hasListener(Gr.ADDFEATURE))for(var s=0,b=o.length;s<b;s++)this.dispatchEvent(new Kn(Gr.ADDFEATURE,o[s]))},e.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(Gr.ADDFEATURE,function(o){r||(r=!0,t.push(o.feature),r=!1)}),this.addEventListener(Gr.REMOVEFEATURE,function(o){r||(r=!0,t.remove(o.feature),r=!1)}),t.addEventListener(ir.ADD,function(o){r||(r=!0,this.addFeature(o.element),r=!1)}.bind(this)),t.addEventListener(ir.REMOVE,function(o){r||(r=!0,this.removeFeature(o.element),r=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var o=this.featureChangeKeys_[r];o.forEach(be)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(u){this.removeFeatureInternal(u)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var c=new Kn(Gr.CLEAR);this.dispatchEvent(c),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var o=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(o,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return r(i)})},e.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},e.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(o){var i=o.getGeometry();if(i.intersectsExtent(t)){var s=r(o);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),qa(this.nullGeometryFeatures_)||Rn(t,wm(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(o){r.push(o)}),r},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,r){var o=t[0],i=t[1],s=null,c=[NaN,NaN],u=1/0,f=[-1/0,-1/0,1/0,1/0],d=r||Xo;return this.featuresRtree_.forEachInExtent(f,function(v){if(d(v)){var g=v.getGeometry(),b=u;if(u=g.closestPointXY(o,i,c,u),u<b){s=v;var _=Math.sqrt(u);f[0]=o-_,f[1]=i-_,f[2]=o+_,f[3]=i+_}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var r=t.target,o=re(r),i=r.getGeometry();if(!i)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[o]=r);else{var s=i.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var c=r.getId();if(c!==void 0){var u=c.toString();this.idIndex_[u]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[u]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[o]=r;this.changed(),this.dispatchEvent(new Kn(Gr.CHANGEFEATURE,r))},e.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:re(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&qa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,r,o){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,r,o),c=function(v,g){var b=s[v],_=i.forEachInExtent(b,function(w){return Oi(w.extent,b)});_||(++u.loadingExtentsCount_,u.dispatchEvent(new Kn(Gr.FEATURESLOADSTART)),u.loader_.call(u,b,r,o,function(w){--this.loadingExtentsCount_,this.dispatchEvent(new Kn(Gr.FEATURESLOADEND,void 0,w))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Kn(Gr.FEATURESLOADERROR))}.bind(u)),i.insert(b,{extent:b.slice()}))},u=this,f=0,d=s.length;f<d;++f)c(f);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,o;r.forEachInExtent(t,function(i){if(Ja(i.extent,t))return o=i,!0}),o&&r.remove(o)},e.prototype.removeFeature=function(t){if(!!t){var r=re(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var o=this.removeFeatureInternal(t);o&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var r=re(t),o=this.featureChangeKeys_[r];if(!!o){o.forEach(be),delete this.featureChangeKeys_[r];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Kn(Gr.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var r=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===t){delete this.idIndex_[o],r=!0;break}return r},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){jt(this.format_,7),this.url_=t,this.setLoader(ob(t,this.format_))},e}(E0),Jf=zP,T0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jt={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Al={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Il=function(n){T0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.feature=r,o}return e}(sn),GP=function(n){T0(e,n);function e(t){var r=this,o=t;o.stopDown||(o.stopDown=ps),r=n.call(this,o)||this,r.on,r.once,r.un,r.shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.pointerType_,r.freehand_=!1,r.source_=t.source?t.source:null,r.features_=t.features?t.features:null,r.snapTolerance_=t.snapTolerance?t.snapTolerance:12,r.type_=t.type,r.mode_=UP(r.type_),r.stopClick_=!!t.stopClick,r.minPoints_=t.minPoints?t.minPoints:r.mode_===Jt.POLYGON?3:2,r.maxPoints_=r.mode_===Jt.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,r.finishCondition_=t.finishCondition?t.finishCondition:Xo;var i=t.geometryFunction;if(!i){var s=r.mode_;if(s===Jt.CIRCLE)i=function(u,f,d){var v=f||new zm([NaN,NaN]),g=Tr(u[0],d),b=vA(g,Tr(u[u.length-1],d));v.setCenterAndRadius(g,Math.sqrt(b));var _=_c();return _&&v.transform(d,_),v};else{var c;s===Jt.POINT?c=Ko:s===Jt.LINE_STRING?c=Ho:s===Jt.POLYGON&&(c=es),i=function(u,f,d){return f?s===Jt.POLYGON?u[0].length?f.setCoordinates([u[0].concat([u[0][0]])]):f.setCoordinates([]):f.setCoordinates(u):f=new c(u),f}}}return r.geometryFunction_=i,r.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,r.overlay_=new qf({source:new Jf({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:BP(),updateWhileInteracting:!0}),r.geometryName_=t.geometryName,r.condition_=t.condition?t.condition:Qh,r.freehandCondition_,t.freehand?r.freehandCondition_=f0:r.freehandCondition_=t.freehandCondition?t.freehandCondition:d0,r.addChangeListener(jf.ACTIVE,r.updateState_),r}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===Dt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Jt.POINT&&this.freehandCondition_(t);var r=t.type===Qt.POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===Qt.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===Qt.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),o=!1):this.freehand_&&t.type===Qt.POINTERDOWN?o=!1:r&&this.getPointerCount()<2?(o=t.type===Qt.POINTERMOVE,o&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===Qt.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===Qt.DBLCLICK&&(o=!1),n.prototype.handleEvent.call(this,t)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new kn(Qt.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var r=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(t.coordinate),!o&&this.freehand_?this.finishDrawing():!this.freehand_&&(!o||this.mode_===Jt.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),r=!1}else this.freehand_&&this.abortDrawing();return!r&&this.stopClick_&&t.preventDefault(),r},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var r=this.downPx_,o=t.pixel,i=r[0]-o[0],s=r[1]-o[1],c=i*i+s*s;if(this.shouldHandle_=this.freehand_?c>this.squaredClickTolerance_:c<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var r=!1;if(this.sketchFeature_){var o=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===Jt.POINT)r=!0;else if(s===Jt.CIRCLE)r=this.sketchCoords_.length===2;else if(s===Jt.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(s===Jt.POLYGON){var c=this.sketchCoords_;o=c[0].length>this.minPoints_,i=[c[0][0],c[0][c[0].length-2]]}if(o)for(var u=this.getMap(),f=0,d=i.length;f<d;f++){var v=i[f],g=u.getPixelFromCoordinate(v),b=t[0]-g[0],_=t[1]-g[1],w=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(b*b+_*_)<=w,r){this.finishCoordinate_=v;break}}}return r},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Mo(new Ko(t)),this.updateSketchFeatures_();else{var r=this.sketchPoint_.getGeometry();r.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Mo);var r=t.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(r.getLayout(),r.getFlatCoordinates()),o.changed()):(o=new Ho(r.getFlatCoordinates(),r.getLayout()),this.sketchLine_.setGeometry(o))},e.prototype.startDrawing_=function(t){var r=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Jt.POINT?this.sketchCoords_=t.slice():this.mode_===Jt.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Mo(new Ho(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new Mo,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new Il(Al.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var r=this.getMap(),o=this.sketchFeature_.getGeometry(),i=r.getView().getProjection(),s,c;if(this.mode_===Jt.POINT?c=this.sketchCoords_:this.mode_===Jt.POLYGON?(s=this.sketchCoords_[0],c=s[s.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,c=s[s.length-1]),c[0]=t[0],c[1]=t[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_){var u=this.sketchPoint_.getGeometry();u.setCoordinates(t)}if(o.getType()===at.POLYGON&&this.mode_!==Jt.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var f=this.sketchLine_.getGeometry();f.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i,s,c=this.mode_;c===Jt.LINE_STRING||c===Jt.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,r,o)):c===Jt.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,r,o)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o,i=this.mode_;if(i===Jt.LINE_STRING||i===Jt.CIRCLE){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();var s=this.finishCoordinate_.slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(o,t,r),t.getType()===at.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===Jt.POLYGON){o=this.sketchCoords_[0],o.splice(-2,1);var c=this.sketchLine_.getGeometry();if(o.length>=2){var s=o[o.length-2].slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}c.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,r)}o.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var r=this.sketchCoords_,o=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===Jt.LINE_STRING?(r.pop(),this.geometryFunction_(r,o,i)):this.mode_===Jt.POLYGON&&(r[0].pop(),this.geometryFunction_(r,o,i),r=o.getCoordinates()),this.type_===at.MULTI_POINT?t.setGeometry(new Hm([r])):this.type_===at.MULTI_LINE_STRING?t.setGeometry(new x2([r])):this.type_===at.MULTI_POLYGON&&t.setGeometry(new L2([r])),this.dispatchEvent(new Il(Al.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Il(Al.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var r=this.mode_,o=!this.sketchFeature_;o&&this.startDrawing_(t[0]);var i;if(r===Jt.LINE_STRING||r===Jt.CIRCLE)i=this.sketchCoords_;else if(r===Jt.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;o&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var c=t[t.length-1];this.addToDrawing_(c),this.modifyDrawing_(c)},e.prototype.extend=function(t){var r=t.getGeometry(),o=r;this.sketchFeature_=t,this.sketchCoords_=o.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Mo(new Ko(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Il(Al.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var r=this.overlay_.getSource();r.clear(!0),r.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),r=this.getActive();(!t||!r)&&this.abortDrawing(),this.overlay_.setMap(r?t:null)},e}(Qi);function BP(){var n=mS();return function(e,t){return n[e.getGeometry().getType()]}}function WP(){return function(n,e,t){var r=Mf([n[0],n[n.length-1]].map(function(c){return Tr(c,t)})),o=[[Wi(r),hs(r),ds(r),uo(r),Wi(r)]],i=e;i?i.setCoordinates(o):i=new es(o);var s=_c();return s&&i.transform(t,s),i}}function UP(n){switch(n){case at.POINT:case at.MULTI_POINT:return Jt.POINT;case at.LINE_STRING:case at.MULTI_LINE_STRING:return Jt.LINE_STRING;case at.POLYGON:case at.MULTI_POLYGON:return Jt.POLYGON;case at.CIRCLE:return Jt.CIRCLE;default:throw new Error("Invalid type: "+n)}}var YP=GP;function XP(n){var e=n||{},t=new Ar,r=new UO(-.005,.05,100),o=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;o&&t.push(new TO);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new pO({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new kO({onFocusOnly:e.onFocusOnly,kinetic:r}));var c=e.pinchRotate!==void 0?e.pinchRotate:!0;c&&t.push(new jO);var u=e.pinchZoom!==void 0?e.pinchZoom:!0;u&&t.push(new qO({duration:e.zoomDuration}));var f=e.keyboard!==void 0?e.keyboard:!0;f&&(t.push(new NO),t.push(new BO({delta:e.zoomDelta,duration:e.zoomDuration})));var d=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;d&&t.push(new VO({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var v=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return v&&t.push(new MO({duration:e.zoomDuration})),t}var VP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HP=function(n){VP(e,n);function e(t){return t=Me({},t),t.controls||(t.controls=lO()),t.interactions||(t.interactions=XP({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new OI(this)},e}($I),KP=HP,jP=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var r=this.entries_[e];return jt(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(e){var t=this.entries_[e];return jt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){jt(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),ZP=jP,$P=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qP=function(n){$P(e,n);function e(t,r,o){var i=n.call(this)||this,s=o||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Rt.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==Rt.LOADED){t.interimTile=null;break}else t.getState()==Rt.LOADING?r=t:t.getState()==Rt.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Rt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Kt()},e.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var o=this.transitionStarts_[t];if(!o)o=r,this.transitionStarts_[t]=o;else if(o===-1)return 1;var i=r-o+1e3/60;return i>=this.transition_?1:qm(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(qi),R0=qP,JP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QP=function(n){JP(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,c)||this;return u.crossOrigin_=i,u.src_=o,u.key=o,u.image_=new Image,i!==null&&(u.image_.crossOrigin=i),u.unlisten_=null,u.tileLoadFunction_=s,u}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=Rt.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=Rt.ERROR,this.unlistenImage_(),this.image_=tL(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Rt.LOADED:this.state=Rt.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Rt.ERROR&&(this.state=Rt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Rt.IDLE&&(this.state=Rt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=td(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(R0);function tL(){var n=Pr(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var A0=QP,eL=.5,yn=!0,rL=10,ib=.25,nL=function(){function n(e,t,r,o,i,s){this.sourceProj_=e,this.targetProj_=t;var c={},u=Qa(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){var L=O[0]+"/"+O[1];return c[L]||(c[L]=u(O)),c[L]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&xe(o)==xe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xe(this.targetProj_.getExtent()):null;var f=uo(r),d=ds(r),v=hs(r),g=Wi(r),b=this.transformInv_(f),_=this.transformInv_(d),w=this.transformInv_(v),E=this.transformInv_(g),T=rL+(s?Math.max(0,Math.ceil(WR(Df(r)/(s*s*256*256)))):0);if(this.addQuad_(f,d,v,g,b,_,w,E,T),this.wrapsXInSource_){var I=1/0;this.triangles_.forEach(function(O,L,D){I=Math.min(I,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(function(O){if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-I>this.sourceWorldWidth_/2){var L=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];L[0][0]-I>this.sourceWorldWidth_/2&&(L[0][0]-=this.sourceWorldWidth_),L[1][0]-I>this.sourceWorldWidth_/2&&(L[1][0]-=this.sourceWorldWidth_),L[2][0]-I>this.sourceWorldWidth_/2&&(L[2][0]-=this.sourceWorldWidth_);var D=Math.min(L[0][0],L[1][0],L[2][0]),X=Math.max(L[0][0],L[1][0],L[2][0]);X-D<this.sourceWorldWidth_/2&&(O.source=L)}}.bind(this))}c={}}return n.prototype.addTriangle_=function(e,t,r,o,i,s){this.triangles_.push({source:[o,i,s],target:[e,t,r]})},n.prototype.addQuad_=function(e,t,r,o,i,s,c,u,f){var d=Mf([i,s,c,u]),v=this.sourceWorldWidth_?xe(d)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,b=this.sourceProj_.canWrapX()&&v>.5&&v<1,_=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var w=Mf([e,t,r,o]),E=xe(w)/this.targetWorldWidth_;_=E>ib||_}!b&&this.sourceProj_.isGlobal()&&v&&(_=v>ib||_)}if(!(!_&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!$e(d,this.maxSourceExtent_))){var T=0;if(!_&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(u[0])||!isFinite(u[1]))){if(f>0)_=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(f>0){if(!_){var I=[(e[0]+r[0])/2,(e[1]+r[1])/2],O=this.transformInv_(I),L=void 0;if(b){var D=(Li(i[0],g)+Li(c[0],g))/2;L=D-Li(O[0],g)}else L=(i[0]+c[0])/2-O[0];var X=(i[1]+c[1])/2-O[1],G=L*L+X*X;_=G>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var B=[(t[0]+r[0])/2,(t[1]+r[1])/2],Q=this.transformInv_(B),lt=[(o[0]+e[0])/2,(o[1]+e[1])/2],ft=this.transformInv_(lt);this.addQuad_(e,t,B,lt,i,s,Q,ft,f-1),this.addQuad_(lt,B,r,o,ft,Q,c,u,f-1)}else{var gt=[(e[0]+t[0])/2,(e[1]+t[1])/2],pt=this.transformInv_(gt),mt=[(r[0]+o[0])/2,(r[1]+o[1])/2],nt=this.transformInv_(mt);this.addQuad_(e,gt,mt,o,i,pt,nt,u,f-1),this.addQuad_(gt,t,r,mt,pt,s,c,nt,f-1)}return}}if(b){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,r,o,i,c,u),(T&14)==0&&this.addTriangle_(e,r,t,i,c,s),T&&((T&13)==0&&this.addTriangle_(t,o,e,s,u,i),(T&7)==0&&this.addTriangle_(t,o,r,s,u,c))}},n.prototype.calculateSourceExtent=function(){var e=Or();return this.triangles_.forEach(function(t,r,o){var i=t.source;Ba(e,i[0]),Ba(e,i[1]),Ba(e,i[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),oL=nL,Qf={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},iL={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},sf;function ab(n,e,t,r,o){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,o),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,o)),n.restore()}function lf(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function aL(){if(sf===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",ab(n,4,5,4,0),ab(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;sf=lf(e,0)||lf(e,4)||lf(e,8)}return sf}function sb(n,e,t,r){var o=Ph(t,e,n),i=Ev(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var c=n.getMetersPerUnit();c!==void 0&&(i/=c);var u=n.getExtent();if(!u||fs(u,o)){var f=Ev(n,i,o)/i;isFinite(f)&&f>0&&(i/=f)}return i}function sL(n,e,t,r){var o=Ui(t),i=sb(n,e,o,r);return(!isFinite(i)||i<=0)&&Rh(t,function(s){return i=sb(n,e,s,r),isFinite(i)&&i>0}),i}function lL(n,e,t,r,o,i,s,c,u,f,d,v){var g=Pr(Math.round(t*n),Math.round(t*e));if(v||Me(g,Qf),u.length===0)return g.canvas;g.scale(t,t);function b(L){return Math.round(L*t)/t}g.globalCompositeOperation="lighter";var _=Or();u.forEach(function(L,D,X){sA(_,L.extent)});var w=xe(_),E=Zr(_),T=Pr(Math.round(t*w/r),Math.round(t*E/r));v||Me(T,Qf);var I=t/r;u.forEach(function(L,D,X){var G=L.extent[0]-_[0],B=-(L.extent[3]-_[3]),Q=xe(L.extent),lt=Zr(L.extent);L.image.width>0&&L.image.height>0&&T.drawImage(L.image,f,f,L.image.width-2*f,L.image.height-2*f,G*I,B*I,Q*I,lt*I)});var O=uo(s);return c.getTriangles().forEach(function(L,D,X){var G=L.source,B=L.target,Q=G[0][0],lt=G[0][1],ft=G[1][0],gt=G[1][1],pt=G[2][0],mt=G[2][1],nt=b((B[0][0]-O[0])/i),ct=b(-(B[0][1]-O[1])/i),tt=b((B[1][0]-O[0])/i),st=b(-(B[1][1]-O[1])/i),_t=b((B[2][0]-O[0])/i),Ot=b(-(B[2][1]-O[1])/i),St=Q,j=lt;Q=0,lt=0,ft-=St,gt-=j,pt-=St,mt-=j;var Yt=[[ft,gt,0,0,tt-nt],[pt,mt,0,0,_t-nt],[0,0,ft,gt,st-ct],[0,0,pt,mt,Ot-ct]],kt=YR(Yt);if(!!kt){if(g.save(),g.beginPath(),aL()||!v){g.moveTo(tt,st);for(var N=4,et=nt-tt,q=ct-st,ot=0;ot<N;ot++)g.lineTo(tt+b((ot+1)*et/N),st+b(ot*q/(N-1))),ot!=N-1&&g.lineTo(tt+b((ot+1)*et/N),st+b((ot+1)*q/(N-1)));g.lineTo(_t,Ot)}else g.moveTo(tt,st),g.lineTo(nt,ct),g.lineTo(_t,Ot);g.clip(),g.transform(kt[0],kt[2],kt[1],kt[3],nt,ct),g.translate(_[0]-St,_[3]-j),g.scale(r/t,-r/t),g.drawImage(T.canvas,0,0),g.restore()}}),d&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,c.getTriangles().forEach(function(L,D,X){var G=L.target,B=(G[0][0]-O[0])/i,Q=-(G[0][1]-O[1])/i,lt=(G[1][0]-O[0])/i,ft=-(G[1][1]-O[1])/i,gt=(G[2][0]-O[0])/i,pt=-(G[2][1]-O[1])/i;g.beginPath(),g.moveTo(lt,ft),g.lineTo(B,Q),g.lineTo(gt,pt),g.closePath(),g.stroke()}),g.restore()),g.canvas}var cL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uL=function(n){cL(e,n);function e(t,r,o,i,s,c,u,f,d,v,g,b){var _=n.call(this,s,Rt.IDLE,{interpolate:!!b})||this;_.renderEdges_=g!==void 0?g:!1,_.pixelRatio_=u,_.gutter_=f,_.canvas_=null,_.sourceTileGrid_=r,_.targetTileGrid_=i,_.wrappedTileCoord_=c||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var w=i.getTileCoordExtent(_.wrappedTileCoord_),E=_.targetTileGrid_.getExtent(),T=_.sourceTileGrid_.getExtent(),I=E?Wa(w,E):w;if(Df(I)===0)return _.state=Rt.EMPTY,_;var O=t.getExtent();O&&(T?T=Wa(T,O):T=O);var L=i.getResolution(_.wrappedTileCoord_[0]),D=sL(t,o,I,L);if(!isFinite(D)||D<=0)return _.state=Rt.EMPTY,_;var X=v!==void 0?v:eL;if(_.triangulation_=new oL(t,o,I,T,D*X,L),_.triangulation_.getTriangles().length===0)return _.state=Rt.EMPTY,_;_.sourceZ_=r.getZForResolution(D);var G=_.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(G[1]=Ae(G[1],T[1],T[3]),G[3]=Ae(G[3],T[1],T[3])):G=Wa(G,T)),!Df(G))_.state=Rt.EMPTY;else{for(var B=r.getTileRangeForExtentAndZ(G,_.sourceZ_),Q=B.minX;Q<=B.maxX;Q++)for(var lt=B.minY;lt<=B.maxY;lt++){var ft=d(_.sourceZ_,Q,lt,u);ft&&_.sourceTiles_.push(ft)}_.sourceTiles_.length===0&&(_.state=Rt.EMPTY)}return _}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(d,v,g){d&&d.getState()==Rt.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Rt.ERROR;else{var r=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(r),i=typeof o=="number"?o:o[0],s=typeof o=="number"?o:o[1],c=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=lL(i,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Rt.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Rt.IDLE){this.state=Rt.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();if(s==Rt.IDLE||s==Rt.LOADING){t++;var c=te(r,Dt.CHANGE,function(u){var f=r.getState();(f==Rt.LOADED||f==Rt.ERROR||f==Rt.EMPTY)&&(be(c),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();s==Rt.IDLE&&r.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(be),this.sourcesListenerKeys_=null},e}(R0),I0=uL;function lb(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function Ac(n,e,t){return n+"/"+e+"/"+t}function O0(n){return Ac(n[0],n[1],n[2])}function fL(n){return n.split("/").map(Number)}function hL(n){return(n[1]<<n[0])+n[2]}function dL(n,e){var t=n[0],r=n[1],o=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(r,o):!0}var pL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gL=function(n){pL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=fL(t),o=r[0];this.forEach(function(i){i.tileCoord[0]!==o&&(this.remove(O0(i.tileCoord)),i.release())}.bind(this))}},e}(ZP),S0=gL,cf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},P0=function(){function n(e,t,r,o){this.minX=e,this.maxX=t,this.minY=r,this.maxY=o}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function yi(n,e,t,r,o){return o!==void 0?(o.minX=n,o.maxX=e,o.minY=t,o.maxY=r,o):new P0(n,e,t,r)}var L0=P0,vL=[0,0,0],jn=5,bL=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,jt(SA(this.resolutions_,function(s,c){return c-s},!0),17);var t;if(!e.origins){for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,jt(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=uo(i)),jt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,jt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Vh,jt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,c){var u=new L0(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var f=this.getTileRangeForExtentAndZ(i,c);u.minX=Math.max(f.minX,u.minX),u.maxX=Math.min(f.maxX,u.maxX),u.minY=Math.max(f.minY,u.minY),u.maxY=Math.min(f.maxY,u.maxY)}return u},this):i&&this.calculateTileRanges_(i)}return n.prototype.forEachTileCoord=function(e,t,r){for(var o=this.getTileRangeForExtentAndZ(e,t),i=o.minX,s=o.maxX;i<=s;++i)for(var c=o.minY,u=o.maxY;c<=u;++c)r([t,i,c])},n.prototype.forEachTileCoordParentTileRange=function(e,t,r,o){var i,s,c,u=null,f=e[0]-1;for(this.zoomFactor_===2?(s=e[1],c=e[2]):u=this.getTileCoordExtent(e,o);f>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),c=Math.floor(c/2),i=yi(s,s,c,c,r)):i=this.getTileRangeForExtentAndZ(u,f,r),t(f,i))return!0;--f}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var o=e[1]*2,i=e[2]*2;return yi(o,o+1,i,i+1,t)}var s=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var o=e[0],i=e[1],s=e[2];if(t===o)return yi(i,s,i,s,r);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,t-o),u=Math.floor(i*c),f=Math.floor(s*c);if(t<o)return yi(u,u,f,f,r);var d=Math.floor(c*(i+1))-1,v=Math.floor(c*(s+1))-1;return yi(u,d,f,v,r)}var g=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(g,t,r)},n.prototype.getTileRangeExtent=function(e,t,r){var o=this.getOrigin(e),i=this.getResolution(e),s=Yr(this.getTileSize(e),this.tmpSize_),c=o[0]+t.minX*s[0]*i,u=o[0]+(t.maxX+1)*s[0]*i,f=o[1]+t.minY*s[1]*i,d=o[1]+(t.maxY+1)*s[1]*i;return jr(c,f,u,d,r)},n.prototype.getTileRangeForExtentAndZ=function(e,t,r){var o=vL;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,o);var i=o[1],s=o[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,o),yi(i,o[1],s,o[2],r)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Yr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*r,t[1]-(e[2]+.5)*o[1]*r]},n.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),o=this.getResolution(e[0]),i=Yr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*i[0]*o,c=r[1]-(e[2]+1)*i[1]*o,u=s+i[0]*o,f=c+i[1]*o;return jr(s,c,u,f,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,r,o,i){var s=this.getZForResolution(r),c=r/this.getResolution(s),u=this.getOrigin(s),f=Yr(this.getTileSize(s),this.tmpSize_),d=c*(e-u[0])/r/f[0],v=c*(u[1]-t)/r/f[1];return o?(d=_l(d,jn)-1,v=_l(v,jn)-1):(d=ml(d,jn),v=ml(v,jn)),lb(s,d,v,i)},n.prototype.getTileCoordForXYAndZ_=function(e,t,r,o,i){var s=this.getOrigin(r),c=this.getResolution(r),u=Yr(this.getTileSize(r),this.tmpSize_),f=(e-s[0])/c/u[0],d=(s[1]-t)/c/u[1];return o?(f=_l(f,jn)-1,d=_l(d,jn)-1):(f=ml(f,jn),d=ml(d,jn)),lb(r,f,d,i)},n.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var r=Mh(this.resolutions_,e,t||0);return Ae(r,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),o=this.minZoom;o<t;++o)r[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=r},n}(),M0=bL;function F0(n){var e=n.getDefaultTileGrid();return e||(e=xL(n),n.setDefaultTileGrid(e)),e}function mL(n,e,t){var r=e[0],o=n.getTileCoordCenter(e),i=ed(t);if(fs(i,o))return e;var s=xe(i),c=Math.ceil((i[0]-o[0])/s);return o[0]+=s*c,n.getTileCoordForCoordAndZ(o,r)}function _L(n,e,t,r){var o=r!==void 0?r:Ia.TOP_LEFT,i=D0(n,e,t);return new M0({extent:n,origin:cA(n,o),resolutions:i,tileSize:t})}function yL(n){var e=n||{},t=e.extent||vr("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:D0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new M0(r)}function D0(n,e,t,r){for(var o=e!==void 0?e:Y2,i=Zr(n),s=xe(n),c=Yr(t!==void 0?t:Vh),u=r>0?r:Math.max(s/c[0],i/c[1]),f=o+1,d=new Array(f),v=0;v<f;++v)d[v]=u/Math.pow(2,v);return d}function xL(n,e,t,r){var o=ed(n);return _L(o,e,t,r)}function ed(n){n=vr(n);var e=n.getExtent();if(!e){var t=180*Ir[pr.DEGREES]/n.getMetersPerUnit();e=jr(-t,-t,t,t)}return e}var N0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wL=function(n){N0(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var o=[256,256];return r.tileGrid&&Yr(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),o),r.tileCache=new S0(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,r){var o=this.getTileCacheForProjection(t);o&&o.expireCache(r)},e.prototype.forEachLoadedTile=function(t,r,o,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var c=!0,u,f,d,v=o.minX;v<=o.maxX;++v)for(var g=o.minY;g<=o.maxY;++g)f=Ac(r,v,g),d=!1,s.containsKey(f)&&(u=s.get(f),d=u.getState()===Rt.LOADED,d&&(d=i(u)!==!1)),d||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,r,o,i,s){return Kt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:F0(t)},e.prototype.getTileCacheForProjection=function(t){return jt(Ci(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,r,o){var i=this.getTileGridForProjection(o),s=this.getTilePixelRatio(r),c=Yr(i.getTileSize(t),this.tmpSize);return s==1?c:HI(c,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,r){var o=r!==void 0?r:this.getProjection(),i=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(t=mL(i,t,o)),dL(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,r){var o=this.getTileCacheForProjection(r);t>o.highWaterMark&&(o.highWaterMark=t)},e.prototype.useTile=function(t,r,o,i){},e}(E0),kL=function(n){N0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.tile=r,o}return e}(sn),EL=wL;function CL(n,e){var t=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(s,c,u){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(o,s[2].toString()).replace(i,function(){var f=s[0],d=e.getFullTileRange(f);jt(d,55);var v=d.getHeight()-s[2]-1;return v.toString()})}}function TL(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;++o)r[o]=CL(n[o],e);return RL(r)}function RL(n){return n.length===1?n[0]:function(e,t,r){if(e){var o=hL(e),i=Li(o,n.length);return n[i](e,t,r)}else return}}function AL(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),o=t[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(n.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),c=parseInt(t[1],10);c<=s;c++)e.push(n.replace(t[0],c.toString()));return e}return e.push(n),e}var IL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OL=function(n){IL(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var r=t.target,o=re(r),i=r.getState(),s;i==Rt.LOADING?(this.tileLoadingKeys_[o]=!0,s=cf.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],s=i==Rt.ERROR?cf.TILELOADERROR:i==Rt.LOADED?cf.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new kL(s,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r!="undefined"?this.setKey(r):this.changed()},e.prototype.setUrl=function(t){var r=AL(t);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(TL(t,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(t,r,o){},e.prototype.useTile=function(t,r,o){var i=Ac(t,r,o);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(EL),SL=OL,PL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LL=function(n){PL(e,n);function e(t){var r=this,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(o=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ML,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:o,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:A0,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return e.prototype.canExpireCache=function(){if(!yn)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,r){if(!yn){n.prototype.expireCache.call(this,t,r);return}var o=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==o?r:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==o?r:{})}},e.prototype.getGutterForProjection=function(t){return yn&&this.getProjection()&&t&&!Ci(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return yn&&this.getProjection()&&t&&!Ci(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!yn)return n.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(this.tileGrid&&(!r||Ci(r,t)))return this.tileGrid;var o=re(t);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=F0(t)),this.tileGridForProjection[o]},e.prototype.getTileCacheForProjection=function(t){if(!yn)return n.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||Ci(r,t))return this.tileCache;var o=re(t);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new S0(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,r,o,i,s,c){var u=[t,r,o],f=this.getTileCoordForTileUrlFunction(u,s),d=f?this.tileUrlFunction(f,i,s):void 0,v=new this.tileClass(u,d!==void 0?Rt.IDLE:Rt.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return v.key=c,v.addEventListener(Dt.CHANGE,this.handleTileChange.bind(this)),v},e.prototype.getTile=function(t,r,o,i,s){var c=this.getProjection();if(!yn||!c||!s||Ci(c,s))return this.getTileInternal(t,r,o,i,c||s);var u=this.getTileCacheForProjection(s),f=[t,r,o],d=void 0,v=O0(f);u.containsKey(v)&&(d=u.get(v));var g=this.getKey();if(d&&d.key==g)return d;var b=this.getTileGridForProjection(c),_=this.getTileGridForProjection(s),w=this.getTileCoordForTileUrlFunction(f,s),E=new I0(c,b,s,_,f,w,this.getTilePixelRatio(i),this.getGutter(),function(T,I,O,L){return this.getTileInternal(T,I,O,L,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return E.key=g,d?(E.interimTile=d,E.refreshInterimChain(),u.replace(v,E)):u.set(v,E),E},e.prototype.getTileInternal=function(t,r,o,i,s){var c=null,u=Ac(t,r,o),f=this.getKey();if(!this.tileCache.containsKey(u))c=this.createTile_(t,r,o,i,s,f),this.tileCache.set(u,c);else if(c=this.tileCache.get(u),c.key!=f){var d=c;c=this.createTile_(t,r,o,i,s,f),d.getState()==Rt.IDLE?c.interimTile=d.interimTile:c.interimTile=d,c.refreshInterimChain(),this.tileCache.replace(u,c)}return c},e.prototype.setRenderReprojectionEdges=function(t){if(!(!yn||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,r){if(yn){var o=vr(t);if(o){var i=re(o);i in this.tileGridForProjection||(this.tileGridForProjection[i]=r)}}},e}(SL);function ML(n,e){n.getImage().src=e}var FL=LL,DL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NL=function(n){DL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i=r.projection!==void 0?r.projection:"EPSG:3857",s=r.tileGrid!==void 0?r.tileGrid:yL({extent:ed(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX!==void 0?r.wrapX:!0,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return e}(FL),zL=NL,GL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BL='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',WL=function(n){GL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i;r.attributions!==void 0?i=r.attributions:i=[BL];var s=r.crossOrigin!==void 0?r.crossOrigin:"anonymous",c=r.url!==void 0?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:s,interpolate:o,maxZoom:r.maxZoom!==void 0?r.maxZoom:19,opaque:r.opaque!==void 0?r.opaque:!0,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:c,wrapX:r.wrapX,zDirection:r.zDirection})||this}return e}(zL),UL=WL,Ol={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},YL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XL=function(n){YL(e,n);function e(t){var r=this,o=t||{},i=Me({},o);return delete i.preload,delete i.useInterimTilesOnError,r=n.call(this,i)||this,r.on,r.once,r.un,r.setPreload(o.preload!==void 0?o.preload:0),r.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),r}return e.prototype.getPreload=function(){return this.get(Ol.PRELOAD)},e.prototype.setPreload=function(t){this.set(Ol.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Ol.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Ol.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Cc),VL=XL,HL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KL=function(n){HL(e,n);function e(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Or(),r.tmpTileRange_=new L0(0,0,0,0),r}return e.prototype.isDrawableTile=function(t){var r=this.getLayer(),o=t.getState(),i=r.getUseInterimTilesOnError();return o==Rt.LOADED||o==Rt.EMPTY||o==Rt.ERROR&&!i},e.prototype.getTile=function(t,r,o,i){var s=i.pixelRatio,c=i.viewState.projection,u=this.getLayer(),f=u.getSource(),d=f.getTile(t,r,o,s,c);return d.getState()==Rt.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):d.setState(Rt.LOADED)),this.isDrawableTile(d)||(d=d.getInterimTile()),d},e.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var o=this.getLayer(),i=Re(r.pixelToCoordinateTransform,t.slice()),s=o.getExtent();if(s&&!fs(s,i))return null;for(var c=r.pixelRatio,u=r.viewState.projection,f=r.viewState,d=o.getRenderSource(),v=d.getTileGridForProjection(f.projection),g=d.getTilePixelRatio(r.pixelRatio),b=v.getZForResolution(f.resolution);b>=v.getMinZoom();--b){var _=v.getTileCoordForCoordAndZ(i,b),w=d.getTile(b,_[1],_[2],c,u);if(!(w instanceof A0||w instanceof I0))return null;if(w.getState()===Rt.LOADED){var E=v.getOrigin(b),T=Yr(v.getTileSize(b)),I=v.getResolution(b),O=Math.floor(g*((i[0]-E[0])/I-_[1]*T[0])),L=Math.floor(g*((E[1]-i[1])/I-_[2]*T[1]));return this.getImageData(w.getImage(),O,L)}}return null},e.prototype.loadedTileCallback=function(t,r,o){return this.isDrawableTile(o)?n.prototype.loadedTileCallback.call(this,t,r,o):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,r){var o=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,c=i.resolution,u=i.center,f=i.rotation,d=t.pixelRatio,v=this.getLayer(),g=v.getSource(),b=g.getRevision(),_=g.getTileGridForProjection(s),w=_.getZForResolution(c,g.zDirection),E=_.getResolution(w),T=t.extent,I=o.extent&&Do(o.extent,s);I&&(T=Wa(T,Do(o.extent,s)));var O=g.getTilePixelRatio(d),L=Math.round(t.size[0]*O),D=Math.round(t.size[1]*O);if(f){var X=Math.round(Math.sqrt(L*L+D*D));L=X,D=X}var G=E*L/2/O,B=E*D/2/O,Q=[u[0]-G,u[1]-B,u[0]+G,u[1]+B],lt=_.getTileRangeForExtentAndZ(T,w),ft={};ft[w]={};var gt=this.createLoadedTileFinder(g,s,ft),pt=this.tmpExtent,mt=this.tmpTileRange_;this.newTiles_=!1;for(var nt=lt.minX;nt<=lt.maxX;++nt)for(var ct=lt.minY;ct<=lt.maxY;++ct){var tt=this.getTile(w,nt,ct,t);if(this.isDrawableTile(tt)){var st=re(this);if(tt.getState()==Rt.LOADED){ft[w][tt.tileCoord.toString()]=tt;var _t=tt.inTransition(st);!this.newTiles_&&(_t||this.renderedTiles.indexOf(tt)===-1)&&(this.newTiles_=!0)}if(tt.getAlpha(st,t.time)===1)continue}var Ot=_.getTileCoordChildTileRange(tt.tileCoord,mt,pt),St=!1;Ot&&(St=gt(w+1,Ot)),St||_.forEachTileCoordParentTileRange(tt.tileCoord,gt,mt,pt)}var j=E/c;On(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/O,1/O,f,-L/2,-D/2);var Yt=Mm(this.pixelTransform);this.useContainer(r,Yt,o.opacity,this.getBackground(t));var kt=this.context,N=kt.canvas;Fh(this.inversePixelTransform,this.pixelTransform),On(this.tempTransform,L/2,D/2,j,j,0,-L/2,-D/2),N.width!=L||N.height!=D?(N.width=L,N.height=D):this.containerReused||kt.clearRect(0,0,L,D),I&&this.clipUnrotated(kt,t,I),g.getInterpolate()||Me(kt,Qf),this.preRender(kt,t),this.renderedTiles.length=0;var et=Object.keys(ft).map(Number);et.sort(jo);var q,ot,It;o.opacity===1&&(!this.containerReused||g.getOpaque(t.viewState.projection))?et=et.reverse():(q=[],ot=[]);for(var Zt=et.length-1;Zt>=0;--Zt){var yt=et[Zt],Et=g.getTilePixelSize(yt,d,s),k=_.getResolution(yt),A=k/E,M=Et[0]*A*j,V=Et[1]*A*j,W=_.getTileCoordForCoordAndZ(uo(Q),yt),J=_.getTileCoordExtent(W),rt=Re(this.tempTransform,[O*(J[0]-Q[0])/E,O*(Q[3]-J[3])/E]),Z=O*g.getGutterForProjection(s),$=ft[yt];for(var H in $){var tt=$[H],ht=tt.tileCoord,ut=W[1]-ht[1],vt=Math.round(rt[0]-(ut-1)*M),xt=W[2]-ht[2],Pt=Math.round(rt[1]-(xt-1)*V),nt=Math.round(rt[0]-ut*M),ct=Math.round(rt[1]-xt*V),Lt=vt-nt,Nt=Pt-ct,Xt=w===yt,_t=Xt&&tt.getAlpha(re(this),t.time)!==1,we=!1;if(!_t)if(q){It=[nt,ct,nt+Lt,ct,nt+Lt,ct+Nt,nt,ct+Nt];for(var de=0,Lr=q.length;de<Lr;++de)if(w!==yt&&yt<ot[de]){var se=q[de];$e([nt,ct,nt+Lt,ct+Nt],[se[0],se[3],se[4],se[7]])&&(we||(kt.save(),we=!0),kt.beginPath(),kt.moveTo(It[0],It[1]),kt.lineTo(It[2],It[3]),kt.lineTo(It[4],It[5]),kt.lineTo(It[6],It[7]),kt.moveTo(se[6],se[7]),kt.lineTo(se[4],se[5]),kt.lineTo(se[2],se[3]),kt.lineTo(se[0],se[1]),kt.clip())}q.push(It),ot.push(yt)}else kt.clearRect(nt,ct,Lt,Nt);this.drawTileImage(tt,t,nt,ct,Lt,Nt,Z,Xt),q&&!_t?(we&&kt.restore(),this.renderedTiles.unshift(tt)):this.renderedTiles.push(tt),this.updateUsedTiles(t.usedTiles,g,tt)}}this.renderedRevision=b,this.renderedResolution=E,this.extentChanged=!this.renderedExtent_||!Ja(this.renderedExtent_,Q),this.renderedExtent_=Q,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(t,g,_,d,s,T,w,v.getPreload()),this.scheduleExpireCache(t,g),this.postRender(kt,t),o.extent&&kt.restore(),Me(kt,iL),Yt!==N.style.transform&&(N.style.transform=Yt);var ar=n0(o.opacity),pe=this.container;return ar!==pe.style.opacity&&(pe.style.opacity=ar),this.container},e.prototype.drawTileImage=function(t,r,o,i,s,c,u,f){var d=this.getTileImage(t);if(!!d){var v=re(this),g=f?t.getAlpha(v,r.time):1,b=g!==this.context.globalAlpha;b&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(d,u,u,d.width-2*u,d.height-2*u,o,i,s,c),b&&this.context.restore(),g!==1?r.animate=!0:f&&t.endTransition(v)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var o=function(i,s,c){var u=re(i);u in c.usedTiles&&i.expireCache(c.viewState.projection,c.usedTiles[u])}.bind(null,r);t.postRenderFunctions.push(o)}},e.prototype.updateUsedTiles=function(t,r,o){var i=re(r);i in t||(t[i]={}),t[i][o.getKey()]=!0},e.prototype.manageTilePyramid=function(t,r,o,i,s,c,u,f,d){var v=re(r);v in t.wantedTiles||(t.wantedTiles[v]={});var g=t.wantedTiles[v],b=t.tileQueue,_=o.getMinZoom(),w=0,E,T,I,O,L,D;for(D=_;D<=u;++D)for(T=o.getTileRangeForExtentAndZ(c,D,T),I=o.getResolution(D),O=T.minX;O<=T.maxX;++O)for(L=T.minY;L<=T.maxY;++L)u-D<=f?(++w,E=r.getTile(D,O,L,i,s),E.getState()==Rt.IDLE&&(g[E.getKey()]=!0,b.isKeyQueued(E.getKey())||b.enqueue([E,v,o.getTileCoordCenter(E.tileCoord),I])),d!==void 0&&d(E)):r.useTile(D,O,L,s);r.updateCacheSize(w,s)},e}(x0),jL=KL,ZL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$L=function(n){ZL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new jL(this)},e}(VL),qL=$L;const JL={class:"field is-grouped"},QL={class:"control"},t3=Le("label",{class:"label"},"Band width ",-1),e3={class:"control"},r3=Le("label",{class:"label"},"Point leap",-1),n3=Le("div",null,[Le("div",{id:"mapViewport",class:"mapViewport map-viewport"})],-1),o3=ls({__name:"MapLayer",setup(n){const e=zR();Wo(()=>e.bandWidth,f),Wo(()=>e.pointLeap,f),sc("mapViewport"),EA();const t=new qL({source:new UL}),r=new Jf({wrapX:!1}),o=new qf({source:r}),i=new Jf({wrapX:!1}),s=new qf({source:i,style:[new _S({stroke:new Ua({color:"orangered",width:2}),fill:new ec({color:"orangered"})})]});let c;Ub(()=>{c=new KP({layers:[t,o,s],target:"mapViewport",view:new eo({center:[23.1319788,37.4283254],zoom:17})})});function u(){r.clear(),i.clear();const d=new YP({source:r,type:"Circle",geometryFunction:WP()});c.addInteraction(d),d.on("drawend",function(v){c.removeInteraction(d);const g=v.feature.getGeometry().getCoordinates()[0];g.pop();const b=new U2(g.map(_=>[..._]));e.perimeter=b,f()})}function f(){if(i.clear(),!(e.bandWidth&&e.pointLeap&&e.perimeter))return;const d=D2(e.perimeter,e.bandWidth,e.pointLeap);e.trajectory=d;const v=new Ho(d),g=new Mo(v);i.addFeature(g),d.forEach(b=>i.addFeature(new Mo(new zm(b,2e-6))))}return(d,v)=>(_h(),yh(Br,null,[Le("div",null,[Le("div",JL,[Le("div",{class:"control"},[Le("button",{class:"button is-primary",onClick:u},"Draw perimeter")]),Le("div",QL,[t3,zg(Le("input",{"onUpdate:modelValue":v[0]||(v[0]=g=>Rr(e).bandWidth=g),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[rv,Rr(e).bandWidth]])]),Le("div",e3,[r3,zg(Le("input",{"onUpdate:modelValue":v[1]||(v[1]=g=>Rr(e).pointLeap=g),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[rv,Rr(e).pointLeap]])])])]),n3],64))}}),i3=ls({__name:"HomeView",setup(n){return(e,t)=>(_h(),yh("main",null,[qe(o3)]))}}),a3=AR({history:HT("/coordinates-lawnmower/"),routes:[{path:"/",name:"home",component:i3},{path:"/about",name:"about",component:()=>NR(()=>import("./AboutView.9f3d6bf2.js"),["assets/AboutView.9f3d6bf2.js","assets/AboutView.ab071ea6.css"])}]});const rd=_T(MR);rd.use(wT());rd.use(a3);rd.mount("#app");export{Le as a,yh as c,_h as o};
