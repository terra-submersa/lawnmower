var oE=Object.defineProperty;var iE=(n,e,t)=>e in n?oE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var vl=(n,e,t)=>(iE(n,typeof e!="symbol"?e+"":e,t),t);const aE=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};aE();function ih(n,e){const t=Object.create(null),r=n.split(",");for(let o=0;o<r.length;o++)t[r[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const sE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lE=ih(sE);function vb(n){return!!n||n===""}function ah(n){if(zt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Ve(r)?fE(r):ah(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(Ve(n))return n;if(He(n))return n}}const cE=/;(?![^(]*\))/g,uE=/:(.+)/;function fE(n){const e={};return n.split(cE).forEach(t=>{if(t){const r=t.split(uE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function sh(n){let e="";if(Ve(n))e=n;else if(zt(n))for(let t=0;t<n.length;t++){const r=sh(n[t]);r&&(e+=r+" ")}else if(He(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const ue={},Di=[],jr=()=>{},hE=()=>!1,dE=/^on[^a-z]/,sc=n=>dE.test(n),lh=n=>n.startsWith("onUpdate:"),Xe=Object.assign,ch=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},pE=Object.prototype.hasOwnProperty,Jt=(n,e)=>pE.call(n,e),zt=Array.isArray,Da=n=>lc(n)==="[object Map]",gE=n=>lc(n)==="[object Set]",Ut=n=>typeof n=="function",Ve=n=>typeof n=="string",uh=n=>typeof n=="symbol",He=n=>n!==null&&typeof n=="object",bb=n=>He(n)&&Ut(n.then)&&Ut(n.catch),vE=Object.prototype.toString,lc=n=>vE.call(n),bE=n=>lc(n).slice(8,-1),mE=n=>lc(n)==="[object Object]",fh=n=>Ve(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Fl=ih(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cc=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},_E=/-(\w)/g,Gi=cc(n=>n.replace(_E,(e,t)=>t?t.toUpperCase():"")),yE=/\B([A-Z])/g,Zi=cc(n=>n.replace(yE,"-$1").toLowerCase()),mb=cc(n=>n.charAt(0).toUpperCase()+n.slice(1)),Vu=cc(n=>n?`on${mb(n)}`:""),Ha=(n,e)=>!Object.is(n,e),Dl=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},Ul=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},vf=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Mg;const xE=()=>Mg||(Mg=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class _b{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(e){if(this.active){const t=en;try{return en=this,e()}finally{en=t}}}on(){en=this}off(){en=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function yb(n){return new _b(n)}function wE(n,e=en){e&&e.active&&e.effects.push(n)}const hh=n=>{const e=new Set(n);return e.w=0,e.n=0,e},xb=n=>(n.w&uo)>0,wb=n=>(n.n&uo)>0,kE=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=uo},EE=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const o=e[r];xb(o)&&!wb(o)?o.delete(n):e[t++]=o,o.w&=~uo,o.n&=~uo}e.length=t}},bf=new WeakMap;let Oa=0,uo=1;const mf=30;let Ur;const Xo=Symbol(""),_f=Symbol("");class dh{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,wE(this,r)}run(){if(!this.active)return this.fn();let e=Ur,t=ao;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ur,Ur=this,ao=!0,uo=1<<++Oa,Oa<=mf?kE(this):Fg(this),this.fn()}finally{Oa<=mf&&EE(this),uo=1<<--Oa,Ur=this.parent,ao=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ur===this?this.deferStop=!0:this.active&&(Fg(this),this.onStop&&this.onStop(),this.active=!1)}}function Fg(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let ao=!0;const kb=[];function $i(){kb.push(ao),ao=!1}function qi(){const n=kb.pop();ao=n===void 0?!0:n}function vr(n,e,t){if(ao&&Ur){let r=bf.get(n);r||bf.set(n,r=new Map);let o=r.get(t);o||r.set(t,o=hh()),Eb(o)}}function Eb(n,e){let t=!1;Oa<=mf?wb(n)||(n.n|=uo,t=!xb(n)):t=!n.has(Ur),t&&(n.add(Ur),Ur.deps.push(n))}function Sn(n,e,t,r,o,i){const s=bf.get(n);if(!s)return;let c=[];if(e==="clear")c=[...s.values()];else if(t==="length"&&zt(n))s.forEach((u,f)=>{(f==="length"||f>=r)&&c.push(u)});else switch(t!==void 0&&c.push(s.get(t)),e){case"add":zt(n)?fh(t)&&c.push(s.get("length")):(c.push(s.get(Xo)),Da(n)&&c.push(s.get(_f)));break;case"delete":zt(n)||(c.push(s.get(Xo)),Da(n)&&c.push(s.get(_f)));break;case"set":Da(n)&&c.push(s.get(Xo));break}if(c.length===1)c[0]&&yf(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);yf(hh(u))}}function yf(n,e){const t=zt(n)?n:[...n];for(const r of t)r.computed&&Dg(r);for(const r of t)r.computed||Dg(r)}function Dg(n,e){(n!==Ur||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const CE=ih("__proto__,__v_isRef,__isVue"),Cb=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(uh)),TE=ph(),RE=ph(!1,!0),AE=ph(!0),Ng=IE();function IE(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=ee(this);for(let i=0,s=this.length;i<s;i++)vr(r,"get",i+"");const o=r[e](...t);return o===-1||o===!1?r[e](...t.map(ee)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){$i();const r=ee(this)[e].apply(this,t);return qi(),r}}),n}function ph(n=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(n?e?VE:Ob:e?Ib:Ab).get(r))return r;const s=zt(r);if(!n&&s&&Jt(Ng,o))return Reflect.get(Ng,o,i);const c=Reflect.get(r,o,i);return(uh(o)?Cb.has(o):CE(o))||(n||vr(r,"get",o),e)?c:Ce(c)?s&&fh(o)?c:c.value:He(c)?n?Sb(c):Ji(c):c}}const OE=Tb(),SE=Tb(!0);function Tb(n=!1){return function(t,r,o,i){let s=t[r];if(ja(s)&&Ce(s)&&!Ce(o))return!1;if(!n&&!ja(o)&&(xf(o)||(o=ee(o),s=ee(s)),!zt(t)&&Ce(s)&&!Ce(o)))return s.value=o,!0;const c=zt(t)&&fh(r)?Number(r)<t.length:Jt(t,r),u=Reflect.set(t,r,o,i);return t===ee(i)&&(c?Ha(o,s)&&Sn(t,"set",r,o):Sn(t,"add",r,o)),u}}function PE(n,e){const t=Jt(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&Sn(n,"delete",e,void 0),r}function LE(n,e){const t=Reflect.has(n,e);return(!uh(e)||!Cb.has(e))&&vr(n,"has",e),t}function ME(n){return vr(n,"iterate",zt(n)?"length":Xo),Reflect.ownKeys(n)}const Rb={get:TE,set:OE,deleteProperty:PE,has:LE,ownKeys:ME},FE={get:AE,set(n,e){return!0},deleteProperty(n,e){return!0}},DE=Xe({},Rb,{get:RE,set:SE}),gh=n=>n,uc=n=>Reflect.getPrototypeOf(n);function bl(n,e,t=!1,r=!1){n=n.__v_raw;const o=ee(n),i=ee(e);t||(e!==i&&vr(o,"get",e),vr(o,"get",i));const{has:s}=uc(o),c=r?gh:t?mh:Ka;if(s.call(o,e))return c(n.get(e));if(s.call(o,i))return c(n.get(i));n!==o&&n.get(e)}function ml(n,e=!1){const t=this.__v_raw,r=ee(t),o=ee(n);return e||(n!==o&&vr(r,"has",n),vr(r,"has",o)),n===o?t.has(n):t.has(n)||t.has(o)}function _l(n,e=!1){return n=n.__v_raw,!e&&vr(ee(n),"iterate",Xo),Reflect.get(n,"size",n)}function zg(n){n=ee(n);const e=ee(this);return uc(e).has.call(e,n)||(e.add(n),Sn(e,"add",n,n)),this}function Gg(n,e){e=ee(e);const t=ee(this),{has:r,get:o}=uc(t);let i=r.call(t,n);i||(n=ee(n),i=r.call(t,n));const s=o.call(t,n);return t.set(n,e),i?Ha(e,s)&&Sn(t,"set",n,e):Sn(t,"add",n,e),this}function Bg(n){const e=ee(this),{has:t,get:r}=uc(e);let o=t.call(e,n);o||(n=ee(n),o=t.call(e,n)),r&&r.call(e,n);const i=e.delete(n);return o&&Sn(e,"delete",n,void 0),i}function Wg(){const n=ee(this),e=n.size!==0,t=n.clear();return e&&Sn(n,"clear",void 0,void 0),t}function yl(n,e){return function(r,o){const i=this,s=i.__v_raw,c=ee(s),u=e?gh:n?mh:Ka;return!n&&vr(c,"iterate",Xo),s.forEach((f,d)=>r.call(o,u(f),u(d),i))}}function xl(n,e,t){return function(...r){const o=this.__v_raw,i=ee(o),s=Da(i),c=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,f=o[n](...r),d=t?gh:e?mh:Ka;return!e&&vr(i,"iterate",u?_f:Xo),{next(){const{value:g,done:p}=f.next();return p?{value:g,done:p}:{value:c?[d(g[0]),d(g[1])]:d(g),done:p}},[Symbol.iterator](){return this}}}}function Xn(n){return function(...e){return n==="delete"?!1:this}}function NE(){const n={get(i){return bl(this,i)},get size(){return _l(this)},has:ml,add:zg,set:Gg,delete:Bg,clear:Wg,forEach:yl(!1,!1)},e={get(i){return bl(this,i,!1,!0)},get size(){return _l(this)},has:ml,add:zg,set:Gg,delete:Bg,clear:Wg,forEach:yl(!1,!0)},t={get(i){return bl(this,i,!0)},get size(){return _l(this,!0)},has(i){return ml.call(this,i,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:yl(!0,!1)},r={get(i){return bl(this,i,!0,!0)},get size(){return _l(this,!0)},has(i){return ml.call(this,i,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:yl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=xl(i,!1,!1),t[i]=xl(i,!0,!1),e[i]=xl(i,!1,!0),r[i]=xl(i,!0,!0)}),[n,t,e,r]}const[zE,GE,BE,WE]=NE();function vh(n,e){const t=e?n?WE:BE:n?GE:zE;return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(Jt(t,o)&&o in r?t:r,o,i)}const UE={get:vh(!1,!1)},YE={get:vh(!1,!0)},XE={get:vh(!0,!1)},Ab=new WeakMap,Ib=new WeakMap,Ob=new WeakMap,VE=new WeakMap;function HE(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jE(n){return n.__v_skip||!Object.isExtensible(n)?0:HE(bE(n))}function Ji(n){return ja(n)?n:bh(n,!1,Rb,UE,Ab)}function KE(n){return bh(n,!1,DE,YE,Ib)}function Sb(n){return bh(n,!0,FE,XE,Ob)}function bh(n,e,t,r,o){if(!He(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const s=jE(n);if(s===0)return n;const c=new Proxy(n,s===2?r:t);return o.set(n,c),c}function so(n){return ja(n)?so(n.__v_raw):!!(n&&n.__v_isReactive)}function ja(n){return!!(n&&n.__v_isReadonly)}function xf(n){return!!(n&&n.__v_isShallow)}function Pb(n){return so(n)||ja(n)}function ee(n){const e=n&&n.__v_raw;return e?ee(e):n}function Bi(n){return Ul(n,"__v_skip",!0),n}const Ka=n=>He(n)?Ji(n):n,mh=n=>He(n)?Sb(n):n;function Lb(n){ao&&Ur&&(n=ee(n),Eb(n.dep||(n.dep=hh())))}function Mb(n,e){n=ee(n),n.dep&&yf(n.dep)}function Ce(n){return!!(n&&n.__v_isRef===!0)}function fc(n){return Fb(n,!1)}function ZE(n){return Fb(n,!0)}function Fb(n,e){return Ce(n)?n:new $E(n,e)}class $E{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ee(e),this._value=t?e:Ka(e)}get value(){return Lb(this),this._value}set value(e){e=this.__v_isShallow?e:ee(e),Ha(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ka(e),Mb(this))}}function on(n){return Ce(n)?n.value:n}const qE={get:(n,e,t)=>on(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return Ce(o)&&!Ce(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function Db(n){return so(n)?n:new Proxy(n,qE)}function JE(n){const e=zt(n)?new Array(n.length):{};for(const t in n)e[t]=tC(n,t);return e}class QE{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function tC(n,e,t){const r=n[e];return Ce(r)?r:new QE(n,e,t)}class eC{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new dh(e,()=>{this._dirty||(this._dirty=!0,Mb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=ee(this);return Lb(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rC(n,e,t=!1){let r,o;const i=Ut(n);return i?(r=n,o=jr):(r=n.get,o=n.set),new eC(r,o,i||!o,t)}function lo(n,e,t,r){let o;try{o=r?n(...r):n()}catch(i){hc(i,e,t)}return o}function Or(n,e,t,r){if(Ut(n)){const i=lo(n,e,t,r);return i&&bb(i)&&i.catch(s=>{hc(s,e,t)}),i}const o=[];for(let i=0;i<n.length;i++)o.push(Or(n[i],e,t,r));return o}function hc(n,e,t,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,c=t;for(;i;){const f=i.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](n,s,c)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){lo(u,null,10,[n,s,c]);return}}nC(n,t,o,r)}function nC(n,e,t,r=!0){console.error(n)}let Yl=!1,wf=!1;const dr=[];let Tn=0;const Na=[];let Sa=null,Ci=0;const za=[];let qn=null,Ti=0;const Nb=Promise.resolve();let _h=null,kf=null;function yh(n){const e=_h||Nb;return n?e.then(this?n.bind(this):n):e}function oC(n){let e=Tn+1,t=dr.length;for(;e<t;){const r=e+t>>>1;Za(dr[r])<n?e=r+1:t=r}return e}function zb(n){(!dr.length||!dr.includes(n,Yl&&n.allowRecurse?Tn+1:Tn))&&n!==kf&&(n.id==null?dr.push(n):dr.splice(oC(n.id),0,n),Gb())}function Gb(){!Yl&&!wf&&(wf=!0,_h=Nb.then(Ub))}function iC(n){const e=dr.indexOf(n);e>Tn&&dr.splice(e,1)}function Bb(n,e,t,r){zt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?r+1:r))&&t.push(n),Gb()}function aC(n){Bb(n,Sa,Na,Ci)}function sC(n){Bb(n,qn,za,Ti)}function dc(n,e=null){if(Na.length){for(kf=e,Sa=[...new Set(Na)],Na.length=0,Ci=0;Ci<Sa.length;Ci++)Sa[Ci]();Sa=null,Ci=0,kf=null,dc(n,e)}}function Wb(n){if(dc(),za.length){const e=[...new Set(za)];if(za.length=0,qn){qn.push(...e);return}for(qn=e,qn.sort((t,r)=>Za(t)-Za(r)),Ti=0;Ti<qn.length;Ti++)qn[Ti]();qn=null,Ti=0}}const Za=n=>n.id==null?1/0:n.id;function Ub(n){wf=!1,Yl=!0,dc(n),dr.sort((t,r)=>Za(t)-Za(r));const e=jr;try{for(Tn=0;Tn<dr.length;Tn++){const t=dr[Tn];t&&t.active!==!1&&lo(t,null,14)}}finally{Tn=0,dr.length=0,Wb(),Yl=!1,_h=null,(dr.length||Na.length||za.length)&&Ub(n)}}function lC(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ue;let o=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:p}=r[d]||ue;p&&(o=t.map(b=>b.trim())),g&&(o=t.map(vf))}let c,u=r[c=Vu(e)]||r[c=Vu(Gi(e))];!u&&i&&(u=r[c=Vu(Zi(e))]),u&&Or(u,n,6,o);const f=r[c+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,Or(f,n,6,o)}}function Yb(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},c=!1;if(!Ut(n)){const u=f=>{const d=Yb(f,e,!0);d&&(c=!0,Xe(s,d))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!i&&!c?(r.set(n,null),null):(zt(i)?i.forEach(u=>s[u]=null):Xe(s,i),r.set(n,s),s)}function pc(n,e){return!n||!sc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(n,e[0].toLowerCase()+e.slice(1))||Jt(n,Zi(e))||Jt(n,e))}let Vr=null,Xb=null;function Xl(n){const e=Vr;return Vr=n,Xb=n&&n.type.__scopeId||null,e}function cC(n,e=Vr,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&Jg(-1);const i=Xl(e),s=n(...o);return Xl(i),r._d&&Jg(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Hu(n){const{type:e,vnode:t,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:c,attrs:u,emit:f,render:d,renderCache:g,data:p,setupState:b,ctx:_,inheritAttrs:w}=n;let k,T;const A=Xl(n);try{if(t.shapeFlag&4){const P=o||r;k=rn(d.call(P,P,g,i,b,p,_)),T=u}else{const P=e;k=rn(P.length>1?P(i,{attrs:u,slots:c,emit:f}):P(i,null)),T=e.props?u:uC(u)}}catch(P){Ga.length=0,hc(P,n,1),k=pr(An)}let O=k;if(T&&w!==!1){const P=Object.keys(T),{shapeFlag:D}=O;P.length&&D&7&&(s&&P.some(lh)&&(T=fC(T,s)),O=fo(O,T))}return t.dirs&&(O=fo(O),O.dirs=O.dirs?O.dirs.concat(t.dirs):t.dirs),t.transition&&(O.transition=t.transition),k=O,Xl(A),k}const uC=n=>{let e;for(const t in n)(t==="class"||t==="style"||sc(t))&&((e||(e={}))[t]=n[t]);return e},fC=(n,e)=>{const t={};for(const r in n)(!lh(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function hC(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:c,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?Ug(r,s,f):!!s;if(u&8){const d=e.dynamicProps;for(let g=0;g<d.length;g++){const p=d[g];if(s[p]!==r[p]&&!pc(f,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?Ug(r,s,f):!0:!!s;return!1}function Ug(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!pc(t,i))return!0}return!1}function dC({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const pC=n=>n.__isSuspense;function gC(n,e){e&&e.pendingBranch?zt(n)?e.effects.push(...n):e.effects.push(n):sC(n)}function Nl(n,e){if(ze){let t=ze.provides;const r=ze.parent&&ze.parent.provides;r===t&&(t=ze.provides=Object.create(r)),t[n]=e}}function Rn(n,e,t=!1){const r=ze||Vr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&n in o)return o[n];if(arguments.length>1)return t&&Ut(e)?e.call(r.proxy):e}}const Yg={};function Vo(n,e,t){return Vb(n,e,t)}function Vb(n,e,{immediate:t,deep:r,flush:o,onTrack:i,onTrigger:s}=ue){const c=ze;let u,f=!1,d=!1;if(Ce(n)?(u=()=>n.value,f=xf(n)):so(n)?(u=()=>n,r=!0):zt(n)?(d=!0,f=n.some(T=>so(T)||xf(T)),u=()=>n.map(T=>{if(Ce(T))return T.value;if(so(T))return Go(T);if(Ut(T))return lo(T,c,2)})):Ut(n)?e?u=()=>lo(n,c,2):u=()=>{if(!(c&&c.isUnmounted))return g&&g(),Or(n,c,3,[p])}:u=jr,e&&r){const T=u;u=()=>Go(T())}let g,p=T=>{g=k.onStop=()=>{lo(T,c,4)}};if(qa)return p=jr,e?t&&Or(e,c,3,[u(),d?[]:void 0,p]):u(),jr;let b=d?[]:Yg;const _=()=>{if(!!k.active)if(e){const T=k.run();(r||f||(d?T.some((A,O)=>Ha(A,b[O])):Ha(T,b)))&&(g&&g(),Or(e,c,3,[T,b===Yg?void 0:b,p]),b=T)}else k.run()};_.allowRecurse=!!e;let w;o==="sync"?w=_:o==="post"?w=()=>nr(_,c&&c.suspense):w=()=>aC(_);const k=new dh(u,w);return e?t?_():b=k.run():o==="post"?nr(k.run.bind(k),c&&c.suspense):k.run(),()=>{k.stop(),c&&c.scope&&ch(c.scope.effects,k)}}function vC(n,e,t){const r=this.proxy,o=Ve(n)?n.includes(".")?Hb(r,n):()=>r[n]:n.bind(r,r);let i;Ut(e)?i=e:(i=e.handler,t=e);const s=ze;Wi(this);const c=Vb(o,i.bind(r),t);return s?Wi(s):Ho(),c}function Hb(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function Go(n,e){if(!He(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ce(n))Go(n.value,e);else if(zt(n))for(let t=0;t<n.length;t++)Go(n[t],e);else if(gE(n)||Da(n))n.forEach(t=>{Go(t,e)});else if(mE(n))for(const t in n)Go(n[t],e);return n}function bC(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xh(()=>{n.isMounted=!0}),$b(()=>{n.isUnmounting=!0}),n}const Cr=[Function,Array],mC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},setup(n,{slots:e}){const t=Ah(),r=bC();let o;return()=>{const i=e.default&&Kb(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const w of i)if(w.type!==An){s=w;break}}const c=ee(n),{mode:u}=c;if(r.isLeaving)return ju(s);const f=Xg(s);if(!f)return ju(s);const d=Ef(f,c,r,t);Cf(f,d);const g=t.subTree,p=g&&Xg(g);let b=!1;const{getTransitionKey:_}=f.type;if(_){const w=_();o===void 0?o=w:w!==o&&(o=w,b=!0)}if(p&&p.type!==An&&(!Do(f,p)||b)){const w=Ef(p,c,r,t);if(Cf(p,w),u==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,t.update()},ju(s);u==="in-out"&&f.type!==An&&(w.delayLeave=(k,T,A)=>{const O=jb(r,p);O[String(p.key)]=p,k._leaveCb=()=>{T(),k._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=A})}return s}}},_C=mC;function jb(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Ef(n,e,t,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:g,onLeave:p,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:w,onAppear:k,onAfterAppear:T,onAppearCancelled:A}=e,O=String(n.key),P=jb(t,n),D=(F,j)=>{F&&Or(F,r,9,j)},X=(F,j)=>{const et=j[1];D(F,j),zt(F)?F.every(at=>at.length<=1)&&et():F.length<=1&&et()},G={mode:i,persisted:s,beforeEnter(F){let j=c;if(!t.isMounted)if(o)j=w||c;else return;F._leaveCb&&F._leaveCb(!0);const et=P[O];et&&Do(n,et)&&et.el._leaveCb&&et.el._leaveCb(),D(j,[F])},enter(F){let j=u,et=f,at=d;if(!t.isMounted)if(o)j=k||u,et=T||f,at=A||d;else return;let ut=!1;const ft=F._enterCb=bt=>{ut||(ut=!0,bt?D(at,[F]):D(et,[F]),G.delayedLeave&&G.delayedLeave(),F._enterCb=void 0)};j?X(j,[F,ft]):ft()},leave(F,j){const et=String(n.key);if(F._enterCb&&F._enterCb(!0),t.isUnmounting)return j();D(g,[F]);let at=!1;const ut=F._leaveCb=ft=>{at||(at=!0,j(),ft?D(_,[F]):D(b,[F]),F._leaveCb=void 0,P[et]===n&&delete P[et])};P[et]=n,p?X(p,[F,ut]):ut()},clone(F){return Ef(F,e,t,r)}};return G}function ju(n){if(gc(n))return n=fo(n),n.children=null,n}function Xg(n){return gc(n)?n.children?n.children[0]:void 0:n}function Cf(n,e){n.shapeFlag&6&&n.component?Cf(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Kb(n,e=!1,t){let r=[],o=0;for(let i=0;i<n.length;i++){let s=n[i];const c=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===Ar?(s.patchFlag&128&&o++,r=r.concat(Kb(s.children,e,c))):(e||s.type!==An)&&r.push(c!=null?fo(s,{key:c}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function fs(n){return Ut(n)?{setup:n,name:n.name}:n}const zl=n=>!!n.type.__asyncLoader,gc=n=>n.type.__isKeepAlive;function yC(n,e){Zb(n,"a",e)}function xC(n,e){Zb(n,"da",e)}function Zb(n,e,t=ze){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(vc(e,r,t),t){let o=t.parent;for(;o&&o.parent;)gc(o.parent.vnode)&&wC(r,e,t,o),o=o.parent}}function wC(n,e,t,r){const o=vc(e,n,r,!0);wh(()=>{ch(r[e],o)},t)}function vc(n,e,t=ze,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;$i(),Wi(t);const c=Or(e,t,n,s);return Ho(),qi(),c});return r?o.unshift(i):o.push(i),i}}const Ln=n=>(e,t=ze)=>(!qa||n==="sp")&&vc(n,e,t),kC=Ln("bm"),xh=Ln("m"),EC=Ln("bu"),CC=Ln("u"),$b=Ln("bum"),wh=Ln("um"),TC=Ln("sp"),RC=Ln("rtg"),AC=Ln("rtc");function IC(n,e=ze){vc("ec",n,e)}function Vg(n,e){const t=Vr;if(t===null)return n;const r=mc(t)||t.proxy,o=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,c,u,f=ue]=e[i];Ut(s)&&(s={mounted:s,updated:s}),s.deep&&Go(c),o.push({dir:s,instance:r,value:c,oldValue:void 0,arg:u,modifiers:f})}return n}function Oo(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const c=o[s];i&&(c.oldValue=i[s].value);let u=c.dir[r];u&&($i(),Or(u,t,8,[n.el,c,n,e]),qi())}}const OC=Symbol(),Tf=n=>n?sm(n)?mc(n)||n.proxy:Tf(n.parent):null,Vl=Xe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Tf(n.parent),$root:n=>Tf(n.root),$emit:n=>n.emit,$options:n=>Jb(n),$forceUpdate:n=>n.f||(n.f=()=>zb(n.update)),$nextTick:n=>n.n||(n.n=yh.bind(n.proxy)),$watch:n=>vC.bind(n)}),SC={get({_:n},e){const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:c,appContext:u}=n;let f;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(r!==ue&&Jt(r,e))return s[e]=1,r[e];if(o!==ue&&Jt(o,e))return s[e]=2,o[e];if((f=n.propsOptions[0])&&Jt(f,e))return s[e]=3,i[e];if(t!==ue&&Jt(t,e))return s[e]=4,t[e];Rf&&(s[e]=0)}}const d=Vl[e];let g,p;if(d)return e==="$attrs"&&vr(n,"get",e),d(n);if((g=c.__cssModules)&&(g=g[e]))return g;if(t!==ue&&Jt(t,e))return s[e]=4,t[e];if(p=u.config.globalProperties,Jt(p,e))return p[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return o!==ue&&Jt(o,e)?(o[e]=t,!0):r!==ue&&Jt(r,e)?(r[e]=t,!0):Jt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let c;return!!t[s]||n!==ue&&Jt(n,s)||e!==ue&&Jt(e,s)||(c=i[0])&&Jt(c,s)||Jt(r,s)||Jt(Vl,s)||Jt(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Jt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let Rf=!0;function PC(n){const e=Jb(n),t=n.proxy,r=n.ctx;Rf=!1,e.beforeCreate&&Hg(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:c,provide:u,inject:f,created:d,beforeMount:g,mounted:p,beforeUpdate:b,updated:_,activated:w,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:O,unmounted:P,render:D,renderTracked:X,renderTriggered:G,errorCaptured:F,serverPrefetch:j,expose:et,inheritAttrs:at,components:ut,directives:ft,filters:bt}=e;if(f&&LC(f,r,null,n.appContext.config.unwrapInjectedRef),s)for(const tt in s){const ct=s[tt];Ut(ct)&&(r[tt]=ct.bind(t))}if(o){const tt=o.call(t,t);He(tt)&&(n.data=Ji(tt))}if(Rf=!0,i)for(const tt in i){const ct=i[tt],_t=Ut(ct)?ct.bind(t,t):Ut(ct.get)?ct.get.bind(t,t):jr,Ot=!Ut(ct)&&Ut(ct.set)?ct.set.bind(t):jr,St=Yr({get:_t,set:Ot});Object.defineProperty(r,tt,{enumerable:!0,configurable:!0,get:()=>St.value,set:Z=>St.value=Z})}if(c)for(const tt in c)qb(c[tt],r,t,tt);if(u){const tt=Ut(u)?u.call(t):u;Reflect.ownKeys(tt).forEach(ct=>{Nl(ct,tt[ct])})}d&&Hg(d,n,"c");function ht(tt,ct){zt(ct)?ct.forEach(_t=>tt(_t.bind(t))):ct&&tt(ct.bind(t))}if(ht(kC,g),ht(xh,p),ht(EC,b),ht(CC,_),ht(yC,w),ht(xC,k),ht(IC,F),ht(AC,X),ht(RC,G),ht($b,A),ht(wh,P),ht(TC,j),zt(et))if(et.length){const tt=n.exposed||(n.exposed={});et.forEach(ct=>{Object.defineProperty(tt,ct,{get:()=>t[ct],set:_t=>t[ct]=_t})})}else n.exposed||(n.exposed={});D&&n.render===jr&&(n.render=D),at!=null&&(n.inheritAttrs=at),ut&&(n.components=ut),ft&&(n.directives=ft)}function LC(n,e,t=jr,r=!1){zt(n)&&(n=Af(n));for(const o in n){const i=n[o];let s;He(i)?"default"in i?s=Rn(i.from||o,i.default,!0):s=Rn(i.from||o):s=Rn(i),Ce(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):e[o]=s}}function Hg(n,e,t){Or(zt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function qb(n,e,t,r){const o=r.includes(".")?Hb(t,r):()=>t[r];if(Ve(n)){const i=e[n];Ut(i)&&Vo(o,i)}else if(Ut(n))Vo(o,n.bind(t));else if(He(n))if(zt(n))n.forEach(i=>qb(i,e,t,r));else{const i=Ut(n.handler)?n.handler.bind(t):e[n.handler];Ut(i)&&Vo(o,i,n)}}function Jb(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,c=i.get(e);let u;return c?u=c:!o.length&&!t&&!r?u=e:(u={},o.length&&o.forEach(f=>Hl(u,f,s,!0)),Hl(u,e,s)),i.set(e,u),u}function Hl(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Hl(n,i,t,!0),o&&o.forEach(s=>Hl(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const c=MC[s]||t&&t[s];n[s]=c?c(n[s],e[s]):e[s]}return n}const MC={data:jg,props:Mo,emits:Mo,methods:Mo,computed:Mo,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Mo,directives:Mo,watch:DC,provide:jg,inject:FC};function jg(n,e){return e?n?function(){return Xe(Ut(n)?n.call(this,this):n,Ut(e)?e.call(this,this):e)}:e:n}function FC(n,e){return Mo(Af(n),Af(e))}function Af(n){if(zt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function $e(n,e){return n?[...new Set([].concat(n,e))]:e}function Mo(n,e){return n?Xe(Xe(Object.create(null),n),e):e}function DC(n,e){if(!n)return e;if(!e)return n;const t=Xe(Object.create(null),n);for(const r in e)t[r]=$e(n[r],e[r]);return t}function NC(n,e,t,r=!1){const o={},i={};Ul(i,bc,1),n.propsDefaults=Object.create(null),Qb(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:KE(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function zC(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,c=ee(o),[u]=n.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=n.vnode.dynamicProps;for(let g=0;g<d.length;g++){let p=d[g];if(pc(n.emitsOptions,p))continue;const b=e[p];if(u)if(Jt(i,p))b!==i[p]&&(i[p]=b,f=!0);else{const _=Gi(p);o[_]=If(u,c,_,b,n,!1)}else b!==i[p]&&(i[p]=b,f=!0)}}}else{Qb(n,e,o,i)&&(f=!0);let d;for(const g in c)(!e||!Jt(e,g)&&((d=Zi(g))===g||!Jt(e,d)))&&(u?t&&(t[g]!==void 0||t[d]!==void 0)&&(o[g]=If(u,c,g,void 0,n,!0)):delete o[g]);if(i!==c)for(const g in i)(!e||!Jt(e,g)&&!0)&&(delete i[g],f=!0)}f&&Sn(n,"set","$attrs")}function Qb(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,c;if(e)for(let u in e){if(Fl(u))continue;const f=e[u];let d;o&&Jt(o,d=Gi(u))?!i||!i.includes(d)?t[d]=f:(c||(c={}))[d]=f:pc(n.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(i){const u=ee(t),f=c||ue;for(let d=0;d<i.length;d++){const g=i[d];t[g]=If(o,u,g,f[g],n,!Jt(f,g))}}return s}function If(n,e,t,r,o,i){const s=n[t];if(s!=null){const c=Jt(s,"default");if(c&&r===void 0){const u=s.default;if(s.type!==Function&&Ut(u)){const{propsDefaults:f}=o;t in f?r=f[t]:(Wi(o),r=f[t]=u.call(null,e),Ho())}else r=u}s[0]&&(i&&!c?r=!1:s[1]&&(r===""||r===Zi(t))&&(r=!0))}return r}function tm(n,e,t=!1){const r=e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},c=[];let u=!1;if(!Ut(n)){const d=g=>{u=!0;const[p,b]=tm(g,e,!0);Xe(s,p),b&&c.push(...b)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!i&&!u)return r.set(n,Di),Di;if(zt(i))for(let d=0;d<i.length;d++){const g=Gi(i[d]);Kg(g)&&(s[g]=ue)}else if(i)for(const d in i){const g=Gi(d);if(Kg(g)){const p=i[d],b=s[g]=zt(p)||Ut(p)?{type:p}:p;if(b){const _=qg(Boolean,b.type),w=qg(String,b.type);b[0]=_>-1,b[1]=w<0||_<w,(_>-1||Jt(b,"default"))&&c.push(g)}}}const f=[s,c];return r.set(n,f),f}function Kg(n){return n[0]!=="$"}function Zg(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function $g(n,e){return Zg(n)===Zg(e)}function qg(n,e){return zt(e)?e.findIndex(t=>$g(t,n)):Ut(e)&&$g(e,n)?0:-1}const em=n=>n[0]==="_"||n==="$stable",kh=n=>zt(n)?n.map(rn):[rn(n)],GC=(n,e,t)=>{if(e._n)return e;const r=cC((...o)=>kh(e(...o)),t);return r._c=!1,r},rm=(n,e,t)=>{const r=n._ctx;for(const o in n){if(em(o))continue;const i=n[o];if(Ut(i))e[o]=GC(o,i,r);else if(i!=null){const s=kh(i);e[o]=()=>s}}},nm=(n,e)=>{const t=kh(e);n.slots.default=()=>t},BC=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ee(e),Ul(e,"_",t)):rm(e,n.slots={})}else n.slots={},e&&nm(n,e);Ul(n.slots,bc,1)},WC=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=ue;if(r.shapeFlag&32){const c=e._;c?t&&c===1?i=!1:(Xe(o,e),!t&&c===1&&delete o._):(i=!e.$stable,rm(e,o)),s=e}else e&&(nm(n,e),s={default:1});if(i)for(const c in o)!em(c)&&!(c in s)&&delete o[c]};function om(){return{app:null,config:{isNativeTag:hE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UC=0;function YC(n,e){return function(r,o=null){Ut(r)||(r=Object.assign({},r)),o!=null&&!He(o)&&(o=null);const i=om(),s=new Set;let c=!1;const u=i.app={_uid:UC++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:lT,get config(){return i.config},set config(f){},use(f,...d){return s.has(f)||(f&&Ut(f.install)?(s.add(f),f.install(u,...d)):Ut(f)&&(s.add(f),f(u,...d))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,d){return d?(i.components[f]=d,u):i.components[f]},directive(f,d){return d?(i.directives[f]=d,u):i.directives[f]},mount(f,d,g){if(!c){const p=pr(r,o);return p.appContext=i,d&&e?e(p,f):n(p,f,g),c=!0,u._container=f,f.__vue_app__=u,mc(p.component)||p.component.proxy}},unmount(){c&&(n(null,u._container),delete u._container.__vue_app__)},provide(f,d){return i.provides[f]=d,u}};return u}}function Of(n,e,t,r,o=!1){if(zt(n)){n.forEach((p,b)=>Of(p,e&&(zt(e)?e[b]:e),t,r,o));return}if(zl(r)&&!o)return;const i=r.shapeFlag&4?mc(r.component)||r.component.proxy:r.el,s=o?null:i,{i:c,r:u}=n,f=e&&e.r,d=c.refs===ue?c.refs={}:c.refs,g=c.setupState;if(f!=null&&f!==u&&(Ve(f)?(d[f]=null,Jt(g,f)&&(g[f]=null)):Ce(f)&&(f.value=null)),Ut(u))lo(u,c,12,[s,d]);else{const p=Ve(u),b=Ce(u);if(p||b){const _=()=>{if(n.f){const w=p?d[u]:u.value;o?zt(w)&&ch(w,i):zt(w)?w.includes(i)||w.push(i):p?(d[u]=[i],Jt(g,u)&&(g[u]=d[u])):(u.value=[i],n.k&&(d[n.k]=u.value))}else p?(d[u]=s,Jt(g,u)&&(g[u]=s)):b&&(u.value=s,n.k&&(d[n.k]=s))};s?(_.id=-1,nr(_,t)):_()}}}const nr=gC;function XC(n){return VC(n)}function VC(n,e){const t=xE();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:c,createComment:u,setText:f,setElementText:d,parentNode:g,nextSibling:p,setScopeId:b=jr,cloneNode:_,insertStaticContent:w}=n,k=(E,I,M,V=null,W=null,Q=null,nt=!1,$=null,q=!!I.dynamicChildren)=>{if(E===I)return;E&&!Do(E,I)&&(V=it(E),Yt(E,W,Q,!0),E=null),I.patchFlag===-2&&(q=!1,I.dynamicChildren=null);const{type:H,ref:pt,shapeFlag:dt}=I;switch(H){case Eh:T(E,I,M,V);break;case An:A(E,I,M,V);break;case Ku:E==null&&O(I,M,V,nt);break;case Ar:ft(E,I,M,V,W,Q,nt,$,q);break;default:dt&1?X(E,I,M,V,W,Q,nt,$,q):dt&6?bt(E,I,M,V,W,Q,nt,$,q):(dt&64||dt&128)&&H.process(E,I,M,V,W,Q,nt,$,q,Zt)}pt!=null&&W&&Of(pt,E&&E.ref,Q,I||E,!I)},T=(E,I,M,V)=>{if(E==null)r(I.el=c(I.children),M,V);else{const W=I.el=E.el;I.children!==E.children&&f(W,I.children)}},A=(E,I,M,V)=>{E==null?r(I.el=u(I.children||""),M,V):I.el=E.el},O=(E,I,M,V)=>{[E.el,E.anchor]=w(E.children,I,M,V,E.el,E.anchor)},P=({el:E,anchor:I},M,V)=>{let W;for(;E&&E!==I;)W=p(E),r(E,M,V),E=W;r(I,M,V)},D=({el:E,anchor:I})=>{let M;for(;E&&E!==I;)M=p(E),o(E),E=M;o(I)},X=(E,I,M,V,W,Q,nt,$,q)=>{nt=nt||I.type==="svg",E==null?G(I,M,V,W,Q,nt,$,q):et(E,I,W,Q,nt,$,q)},G=(E,I,M,V,W,Q,nt,$)=>{let q,H;const{type:pt,props:dt,shapeFlag:vt,transition:xt,patchFlag:Pt,dirs:Lt}=E;if(E.el&&_!==void 0&&Pt===-1)q=E.el=_(E.el);else{if(q=E.el=s(E.type,Q,dt&&dt.is,dt),vt&8?d(q,E.children):vt&16&&j(E.children,q,null,V,W,Q&&pt!=="foreignObject",nt,$),Lt&&Oo(E,null,V,"created"),dt){for(const Xt in dt)Xt!=="value"&&!Fl(Xt)&&i(q,Xt,null,dt[Xt],Q,E.children,V,W,J);"value"in dt&&i(q,"value",null,dt.value),(H=dt.onVnodeBeforeMount)&&tn(H,V,E)}F(q,E,E.scopeId,nt,V)}Lt&&Oo(E,null,V,"beforeMount");const Nt=(!W||W&&!W.pendingBranch)&&xt&&!xt.persisted;Nt&&xt.beforeEnter(q),r(q,I,M),((H=dt&&dt.onVnodeMounted)||Nt||Lt)&&nr(()=>{H&&tn(H,V,E),Nt&&xt.enter(q),Lt&&Oo(E,null,V,"mounted")},W)},F=(E,I,M,V,W)=>{if(M&&b(E,M),V)for(let Q=0;Q<V.length;Q++)b(E,V[Q]);if(W){let Q=W.subTree;if(I===Q){const nt=W.vnode;F(E,nt,nt.scopeId,nt.slotScopeIds,W.parent)}}},j=(E,I,M,V,W,Q,nt,$,q=0)=>{for(let H=q;H<E.length;H++){const pt=E[H]=$?Qn(E[H]):rn(E[H]);k(null,pt,I,M,V,W,Q,nt,$)}},et=(E,I,M,V,W,Q,nt)=>{const $=I.el=E.el;let{patchFlag:q,dynamicChildren:H,dirs:pt}=I;q|=E.patchFlag&16;const dt=E.props||ue,vt=I.props||ue;let xt;M&&So(M,!1),(xt=vt.onVnodeBeforeUpdate)&&tn(xt,M,I,E),pt&&Oo(I,E,M,"beforeUpdate"),M&&So(M,!0);const Pt=W&&I.type!=="foreignObject";if(H?at(E.dynamicChildren,H,$,M,V,Pt,Q):nt||_t(E,I,$,null,M,V,Pt,Q,!1),q>0){if(q&16)ut($,I,dt,vt,M,V,W);else if(q&2&&dt.class!==vt.class&&i($,"class",null,vt.class,W),q&4&&i($,"style",dt.style,vt.style,W),q&8){const Lt=I.dynamicProps;for(let Nt=0;Nt<Lt.length;Nt++){const Xt=Lt[Nt],we=dt[Xt],de=vt[Xt];(de!==we||Xt==="value")&&i($,Xt,we,de,W,E.children,M,V,J)}}q&1&&E.children!==I.children&&d($,I.children)}else!nt&&H==null&&ut($,I,dt,vt,M,V,W);((xt=vt.onVnodeUpdated)||pt)&&nr(()=>{xt&&tn(xt,M,I,E),pt&&Oo(I,E,M,"updated")},V)},at=(E,I,M,V,W,Q,nt)=>{for(let $=0;$<I.length;$++){const q=E[$],H=I[$],pt=q.el&&(q.type===Ar||!Do(q,H)||q.shapeFlag&70)?g(q.el):M;k(q,H,pt,null,V,W,Q,nt,!0)}},ut=(E,I,M,V,W,Q,nt)=>{if(M!==V){for(const $ in V){if(Fl($))continue;const q=V[$],H=M[$];q!==H&&$!=="value"&&i(E,$,H,q,nt,I.children,W,Q,J)}if(M!==ue)for(const $ in M)!Fl($)&&!($ in V)&&i(E,$,M[$],null,nt,I.children,W,Q,J);"value"in V&&i(E,"value",M.value,V.value)}},ft=(E,I,M,V,W,Q,nt,$,q)=>{const H=I.el=E?E.el:c(""),pt=I.anchor=E?E.anchor:c("");let{patchFlag:dt,dynamicChildren:vt,slotScopeIds:xt}=I;xt&&($=$?$.concat(xt):xt),E==null?(r(H,M,V),r(pt,M,V),j(I.children,M,pt,W,Q,nt,$,q)):dt>0&&dt&64&&vt&&E.dynamicChildren?(at(E.dynamicChildren,vt,M,W,Q,nt,$),(I.key!=null||W&&I===W.subTree)&&im(E,I,!0)):_t(E,I,M,pt,W,Q,nt,$,q)},bt=(E,I,M,V,W,Q,nt,$,q)=>{I.slotScopeIds=$,E==null?I.shapeFlag&512?W.ctx.activate(I,M,V,nt,q):ot(I,M,V,W,Q,nt,q):ht(E,I,q)},ot=(E,I,M,V,W,Q,nt)=>{const $=E.component=rT(E,V,W);if(gc(E)&&($.ctx.renderer=Zt),nT($),$.asyncDep){if(W&&W.registerDep($,tt),!E.el){const q=$.subTree=pr(An);A(null,q,I,M)}return}tt($,E,I,M,W,Q,nt)},ht=(E,I,M)=>{const V=I.component=E.component;if(hC(E,I,M))if(V.asyncDep&&!V.asyncResolved){ct(V,I,M);return}else V.next=I,iC(V.update),V.update();else I.el=E.el,V.vnode=I},tt=(E,I,M,V,W,Q,nt)=>{const $=()=>{if(E.isMounted){let{next:pt,bu:dt,u:vt,parent:xt,vnode:Pt}=E,Lt=pt,Nt;So(E,!1),pt?(pt.el=Pt.el,ct(E,pt,nt)):pt=Pt,dt&&Dl(dt),(Nt=pt.props&&pt.props.onVnodeBeforeUpdate)&&tn(Nt,xt,pt,Pt),So(E,!0);const Xt=Hu(E),we=E.subTree;E.subTree=Xt,k(we,Xt,g(we.el),it(we),E,W,Q),pt.el=Xt.el,Lt===null&&dC(E,Xt.el),vt&&nr(vt,W),(Nt=pt.props&&pt.props.onVnodeUpdated)&&nr(()=>tn(Nt,xt,pt,Pt),W)}else{let pt;const{el:dt,props:vt}=I,{bm:xt,m:Pt,parent:Lt}=E,Nt=zl(I);if(So(E,!1),xt&&Dl(xt),!Nt&&(pt=vt&&vt.onVnodeBeforeMount)&&tn(pt,Lt,I),So(E,!0),dt&&Et){const Xt=()=>{E.subTree=Hu(E),Et(dt,E.subTree,E,W,null)};Nt?I.type.__asyncLoader().then(()=>!E.isUnmounted&&Xt()):Xt()}else{const Xt=E.subTree=Hu(E);k(null,Xt,M,V,E,W,Q),I.el=Xt.el}if(Pt&&nr(Pt,W),!Nt&&(pt=vt&&vt.onVnodeMounted)){const Xt=I;nr(()=>tn(pt,Lt,Xt),W)}(I.shapeFlag&256||Lt&&zl(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&E.a&&nr(E.a,W),E.isMounted=!0,I=M=V=null}},q=E.effect=new dh($,()=>zb(H),E.scope),H=E.update=()=>q.run();H.id=E.uid,So(E,!0),H()},ct=(E,I,M)=>{I.component=E;const V=E.vnode.props;E.vnode=I,E.next=null,zC(E,I.props,V,M),WC(E,I.children,M),$i(),dc(void 0,E.update),qi()},_t=(E,I,M,V,W,Q,nt,$,q=!1)=>{const H=E&&E.children,pt=E?E.shapeFlag:0,dt=I.children,{patchFlag:vt,shapeFlag:xt}=I;if(vt>0){if(vt&128){St(H,dt,M,V,W,Q,nt,$,q);return}else if(vt&256){Ot(H,dt,M,V,W,Q,nt,$,q);return}}xt&8?(pt&16&&J(H,W,Q),dt!==H&&d(M,dt)):pt&16?xt&16?St(H,dt,M,V,W,Q,nt,$,q):J(H,W,Q,!0):(pt&8&&d(M,""),xt&16&&j(dt,M,V,W,Q,nt,$,q))},Ot=(E,I,M,V,W,Q,nt,$,q)=>{E=E||Di,I=I||Di;const H=E.length,pt=I.length,dt=Math.min(H,pt);let vt;for(vt=0;vt<dt;vt++){const xt=I[vt]=q?Qn(I[vt]):rn(I[vt]);k(E[vt],xt,M,null,W,Q,nt,$,q)}H>pt?J(E,W,Q,!0,!1,dt):j(I,M,V,W,Q,nt,$,q,dt)},St=(E,I,M,V,W,Q,nt,$,q)=>{let H=0;const pt=I.length;let dt=E.length-1,vt=pt-1;for(;H<=dt&&H<=vt;){const xt=E[H],Pt=I[H]=q?Qn(I[H]):rn(I[H]);if(Do(xt,Pt))k(xt,Pt,M,null,W,Q,nt,$,q);else break;H++}for(;H<=dt&&H<=vt;){const xt=E[dt],Pt=I[vt]=q?Qn(I[vt]):rn(I[vt]);if(Do(xt,Pt))k(xt,Pt,M,null,W,Q,nt,$,q);else break;dt--,vt--}if(H>dt){if(H<=vt){const xt=vt+1,Pt=xt<pt?I[xt].el:V;for(;H<=vt;)k(null,I[H]=q?Qn(I[H]):rn(I[H]),M,Pt,W,Q,nt,$,q),H++}}else if(H>vt)for(;H<=dt;)Yt(E[H],W,Q,!0),H++;else{const xt=H,Pt=H,Lt=new Map;for(H=Pt;H<=vt;H++){const pe=I[H]=q?Qn(I[H]):rn(I[H]);pe.key!=null&&Lt.set(pe.key,H)}let Nt,Xt=0;const we=vt-Pt+1;let de=!1,Fr=0;const se=new Array(we);for(H=0;H<we;H++)se[H]=0;for(H=xt;H<=dt;H++){const pe=E[H];if(Xt>=we){Yt(pe,W,Q,!0);continue}let Fe;if(pe.key!=null)Fe=Lt.get(pe.key);else for(Nt=Pt;Nt<=vt;Nt++)if(se[Nt-Pt]===0&&Do(pe,I[Nt])){Fe=Nt;break}Fe===void 0?Yt(pe,W,Q,!0):(se[Fe-Pt]=H+1,Fe>=Fr?Fr=Fe:de=!0,k(pe,I[Fe],M,null,W,Q,nt,$,q),Xt++)}const ar=de?HC(se):Di;for(Nt=ar.length-1,H=we-1;H>=0;H--){const pe=Pt+H,Fe=I[pe],vo=pe+1<pt?I[pe+1].el:V;se[H]===0?k(null,Fe,M,vo,W,Q,nt,$,q):de&&(Nt<0||H!==ar[Nt]?Z(Fe,M,vo,2):Nt--)}}},Z=(E,I,M,V,W=null)=>{const{el:Q,type:nt,transition:$,children:q,shapeFlag:H}=E;if(H&6){Z(E.component.subTree,I,M,V);return}if(H&128){E.suspense.move(I,M,V);return}if(H&64){nt.move(E,I,M,Zt);return}if(nt===Ar){r(Q,I,M);for(let dt=0;dt<q.length;dt++)Z(q[dt],I,M,V);r(E.anchor,I,M);return}if(nt===Ku){P(E,I,M);return}if(V!==2&&H&1&&$)if(V===0)$.beforeEnter(Q),r(Q,I,M),nr(()=>$.enter(Q),W);else{const{leave:dt,delayLeave:vt,afterLeave:xt}=$,Pt=()=>r(Q,I,M),Lt=()=>{dt(Q,()=>{Pt(),xt&&xt()})};vt?vt(Q,Pt,Lt):Lt()}else r(Q,I,M)},Yt=(E,I,M,V=!1,W=!1)=>{const{type:Q,props:nt,ref:$,children:q,dynamicChildren:H,shapeFlag:pt,patchFlag:dt,dirs:vt}=E;if($!=null&&Of($,null,M,E,!0),pt&256){I.ctx.deactivate(E);return}const xt=pt&1&&vt,Pt=!zl(E);let Lt;if(Pt&&(Lt=nt&&nt.onVnodeBeforeUnmount)&&tn(Lt,I,E),pt&6)rt(E.component,M,V);else{if(pt&128){E.suspense.unmount(M,V);return}xt&&Oo(E,null,I,"beforeUnmount"),pt&64?E.type.remove(E,I,M,W,Zt,V):H&&(Q!==Ar||dt>0&&dt&64)?J(H,I,M,!1,!0):(Q===Ar&&dt&384||!W&&pt&16)&&J(q,I,M),V&&kt(E)}(Pt&&(Lt=nt&&nt.onVnodeUnmounted)||xt)&&nr(()=>{Lt&&tn(Lt,I,E),xt&&Oo(E,null,I,"unmounted")},M)},kt=E=>{const{type:I,el:M,anchor:V,transition:W}=E;if(I===Ar){z(M,V);return}if(I===Ku){D(E);return}const Q=()=>{o(M),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(E.shapeFlag&1&&W&&!W.persisted){const{leave:nt,delayLeave:$}=W,q=()=>nt(M,Q);$?$(E.el,Q,q):q()}else Q()},z=(E,I)=>{let M;for(;E!==I;)M=p(E),o(E),E=M;o(I)},rt=(E,I,M)=>{const{bum:V,scope:W,update:Q,subTree:nt,um:$}=E;V&&Dl(V),W.stop(),Q&&(Q.active=!1,Yt(nt,E,I,M)),$&&nr($,I),nr(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},J=(E,I,M,V=!1,W=!1,Q=0)=>{for(let nt=Q;nt<E.length;nt++)Yt(E[nt],I,M,V,W)},it=E=>E.shapeFlag&6?it(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el),It=(E,I,M)=>{E==null?I._vnode&&Yt(I._vnode,null,null,!0):k(I._vnode||null,E,I,null,null,null,M),Wb(),I._vnode=E},Zt={p:k,um:Yt,m:Z,r:kt,mt:ot,mc:j,pc:_t,pbc:at,n:it,o:n};let yt,Et;return e&&([yt,Et]=e(Zt)),{render:It,hydrate:yt,createApp:YC(It,yt)}}function So({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function im(n,e,t=!1){const r=n.children,o=e.children;if(zt(r)&&zt(o))for(let i=0;i<r.length;i++){const s=r[i];let c=o[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[i]=Qn(o[i]),c.el=s.el),t||im(s,c))}}function HC(n){const e=n.slice(),t=[0];let r,o,i,s,c;const u=n.length;for(r=0;r<u;r++){const f=n[r];if(f!==0){if(o=t[t.length-1],n[o]<f){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)c=i+s>>1,n[t[c]]<f?i=c+1:s=c;f<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const jC=n=>n.__isTeleport,Ar=Symbol(void 0),Eh=Symbol(void 0),An=Symbol(void 0),Ku=Symbol(void 0),Ga=[];let Hr=null;function Ch(n=!1){Ga.push(Hr=n?null:[])}function KC(){Ga.pop(),Hr=Ga[Ga.length-1]||null}let $a=1;function Jg(n){$a+=n}function ZC(n){return n.dynamicChildren=$a>0?Hr||Di:null,KC(),$a>0&&Hr&&Hr.push(n),n}function Th(n,e,t,r,o,i){return ZC(Le(n,e,t,r,o,i,!0))}function Sf(n){return n?n.__v_isVNode===!0:!1}function Do(n,e){return n.type===e.type&&n.key===e.key}const bc="__vInternal",am=({key:n})=>n!=null?n:null,Gl=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ve(n)||Ce(n)||Ut(n)?{i:Vr,r:n,k:e,f:!!t}:n:null;function Le(n,e=null,t=null,r=0,o=null,i=n===Ar?0:1,s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&am(e),ref:e&&Gl(e),scopeId:Xb,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(Rh(u,t),i&128&&n.normalize(u)):t&&(u.shapeFlag|=Ve(t)?8:16),$a>0&&!s&&Hr&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Hr.push(u),u}const pr=$C;function $C(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===OC)&&(n=An),Sf(n)){const c=fo(n,e,!0);return t&&Rh(c,t),$a>0&&!i&&Hr&&(c.shapeFlag&6?Hr[Hr.indexOf(n)]=c:Hr.push(c)),c.patchFlag|=-2,c}if(sT(n)&&(n=n.__vccOpts),e){e=qC(e);let{class:c,style:u}=e;c&&!Ve(c)&&(e.class=sh(c)),He(u)&&(Pb(u)&&!zt(u)&&(u=Xe({},u)),e.style=ah(u))}const s=Ve(n)?1:pC(n)?128:jC(n)?64:He(n)?4:Ut(n)?2:0;return Le(n,e,t,r,o,s,i,!0)}function qC(n){return n?Pb(n)||bc in n?Xe({},n):n:null}function fo(n,e,t=!1){const{props:r,ref:o,patchFlag:i,children:s}=n,c=e?QC(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&am(c),ref:e&&e.ref?t&&o?zt(o)?o.concat(Gl(e)):[o,Gl(e)]:Gl(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ar?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fo(n.ssContent),ssFallback:n.ssFallback&&fo(n.ssFallback),el:n.el,anchor:n.anchor}}function JC(n=" ",e=0){return pr(Eh,null,n,e)}function rn(n){return n==null||typeof n=="boolean"?pr(An):zt(n)?pr(Ar,null,n.slice()):typeof n=="object"?Qn(n):pr(Eh,null,String(n))}function Qn(n){return n.el===null||n.memo?n:fo(n)}function Rh(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(zt(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Rh(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(bc in e)?e._ctx=Vr:o===3&&Vr&&(Vr.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:Vr},t=32):(e=String(e),r&64?(t=16,e=[JC(e)]):t=8);n.children=e,n.shapeFlag|=t}function QC(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=sh([e.class,r.class]));else if(o==="style")e.style=ah([e.style,r.style]);else if(sc(o)){const i=e[o],s=r[o];s&&i!==s&&!(zt(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function tn(n,e,t,r=null){Or(n,e,7,[t,r])}const tT=om();let eT=0;function rT(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||tT,i={uid:eT++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new _b(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tm(r,o),emitsOptions:Yb(r,o),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:r.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=lC.bind(null,i),n.ce&&n.ce(i),i}let ze=null;const Ah=()=>ze||Vr,Wi=n=>{ze=n,n.scope.on()},Ho=()=>{ze&&ze.scope.off(),ze=null};function sm(n){return n.vnode.shapeFlag&4}let qa=!1;function nT(n,e=!1){qa=e;const{props:t,children:r}=n.vnode,o=sm(n);NC(n,t,o,e),BC(n,r);const i=o?oT(n,e):void 0;return qa=!1,i}function oT(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Bi(new Proxy(n.ctx,SC));const{setup:r}=t;if(r){const o=n.setupContext=r.length>1?aT(n):null;Wi(n),$i();const i=lo(r,n,0,[n.props,o]);if(qi(),Ho(),bb(i)){if(i.then(Ho,Ho),e)return i.then(s=>{Qg(n,s,e)}).catch(s=>{hc(s,n,0)});n.asyncDep=i}else Qg(n,i,e)}else lm(n,e)}function Qg(n,e,t){Ut(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:He(e)&&(n.setupState=Db(e)),lm(n,t)}let tv;function lm(n,e,t){const r=n.type;if(!n.render){if(!e&&tv&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:c,compilerOptions:u}=r,f=Xe(Xe({isCustomElement:i,delimiters:c},s),u);r.render=tv(o,f)}}n.render=r.render||jr}Wi(n),$i(),PC(n),qi(),Ho()}function iT(n){return new Proxy(n.attrs,{get(e,t){return vr(n,"get","$attrs"),e[t]}})}function aT(n){const e=r=>{n.exposed=r||{}};let t;return{get attrs(){return t||(t=iT(n))},slots:n.slots,emit:n.emit,expose:e}}function mc(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Db(Bi(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Vl)return Vl[t](n)}}))}function sT(n){return Ut(n)&&"__vccOpts"in n}const Yr=(n,e)=>rC(n,e,qa);function cm(n,e,t){const r=arguments.length;return r===2?He(e)&&!zt(e)?Sf(e)?pr(n,null,[e]):pr(n,e):pr(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Sf(t)&&(t=[t]),pr(n,e,t))}const lT="3.2.37",cT="http://www.w3.org/2000/svg",No=typeof document!="undefined"?document:null,ev=No&&No.createElement("template"),uT={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e?No.createElementNS(cT,n):No.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>No.createTextNode(n),createComment:n=>No.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>No.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{ev.innerHTML=r?`<svg>${n}</svg>`:n;const c=ev.content;if(r){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function fT(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function hT(n,e,t){const r=n.style,o=Ve(t);if(t&&!o){for(const i in t)Pf(r,i,t[i]);if(e&&!Ve(e))for(const i in e)t[i]==null&&Pf(r,i,"")}else{const i=r.display;o?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=i)}}const rv=/\s*!important$/;function Pf(n,e,t){if(zt(t))t.forEach(r=>Pf(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=dT(n,e);rv.test(t)?n.setProperty(Zi(r),t.replace(rv,""),"important"):n[r]=t}}const nv=["Webkit","Moz","ms"],Zu={};function dT(n,e){const t=Zu[e];if(t)return t;let r=Gi(e);if(r!=="filter"&&r in n)return Zu[e]=r;r=mb(r);for(let o=0;o<nv.length;o++){const i=nv[o]+r;if(i in n)return Zu[e]=i}return e}const ov="http://www.w3.org/1999/xlink";function pT(n,e,t,r,o){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(ov,e.slice(6,e.length)):n.setAttributeNS(ov,e,t);else{const i=lE(e);t==null||i&&!vb(t)?n.removeAttribute(e):n.setAttribute(e,i?"":t)}}function gT(n,e,t,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const u=t==null?"":t;(n.value!==u||n.tagName==="OPTION")&&(n.value=u),t==null&&n.removeAttribute(e);return}let c=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=vb(t):t==null&&u==="string"?(t="",c=!0):u==="number"&&(t=0,c=!0)}try{n[e]=t}catch{}c&&n.removeAttribute(e)}const[um,vT]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Lf=0;const bT=Promise.resolve(),mT=()=>{Lf=0},_T=()=>Lf||(bT.then(mT),Lf=um());function Ri(n,e,t,r){n.addEventListener(e,t,r)}function yT(n,e,t,r){n.removeEventListener(e,t,r)}function xT(n,e,t,r,o=null){const i=n._vei||(n._vei={}),s=i[e];if(r&&s)s.value=r;else{const[c,u]=wT(e);if(r){const f=i[e]=kT(r,o);Ri(n,c,f,u)}else s&&(yT(n,c,s,u),i[e]=void 0)}}const iv=/(?:Once|Passive|Capture)$/;function wT(n){let e;if(iv.test(n)){e={};let t;for(;t=n.match(iv);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Zi(n.slice(2)),e]}function kT(n,e){const t=r=>{const o=r.timeStamp||um();(vT||o>=t.attached-1)&&Or(ET(r,t.value),e,5,[r])};return t.value=n,t.attached=_T(),t}function ET(n,e){if(zt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const av=/^on[a-z]/,CT=(n,e,t,r,o=!1,i,s,c,u)=>{e==="class"?fT(n,r,o):e==="style"?hT(n,t,r):sc(e)?lh(e)||xT(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):TT(n,e,r,o))?gT(n,e,r,i,s,c,u):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),pT(n,e,r,o))};function TT(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&av.test(e)&&Ut(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||av.test(e)&&Ve(t)?!1:e in n}const RT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};_C.props;const sv=n=>{const e=n.props["onUpdate:modelValue"]||!1;return zt(e)?t=>Dl(e,t):e};function AT(n){n.target.composing=!0}function lv(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cv={created(n,{modifiers:{lazy:e,trim:t,number:r}},o){n._assign=sv(o);const i=r||o.props&&o.props.type==="number";Ri(n,e?"change":"input",s=>{if(s.target.composing)return;let c=n.value;t&&(c=c.trim()),i&&(c=vf(c)),n._assign(c)}),t&&Ri(n,"change",()=>{n.value=n.value.trim()}),e||(Ri(n,"compositionstart",AT),Ri(n,"compositionend",lv),Ri(n,"change",lv))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:o}},i){if(n._assign=sv(i),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(o||n.type==="number")&&vf(n.value)===e))return;const s=e==null?"":e;n.value!==s&&(n.value=s)}},IT=Xe({patchProp:CT},uT);let uv;function OT(){return uv||(uv=XC(IT))}const ST=(...n)=>{const e=OT().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=PT(r);if(!o)return;const i=e._component;!Ut(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function PT(n){return Ve(n)?document.querySelector(n):n}var LT=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let fm;const _c=n=>fm=n,hm=Symbol();function Mf(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ba;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ba||(Ba={}));function MT(){const n=yb(!0),e=n.run(()=>fc({}));let t=[],r=[];const o=Bi({install(i){_c(o),o._a=i,i.provide(hm,o),i.config.globalProperties.$pinia=o,r.forEach(s=>t.push(s)),r=[]},use(i){return!this._a&&!LT?r.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return o}const dm=()=>{};function fv(n,e,t,r=dm){n.push(e);const o=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),r())};return!t&&Ah()&&wh(o),o}function _i(n,...e){n.slice().forEach(t=>{t(...e)})}function Ff(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],o=n[t];Mf(o)&&Mf(r)&&n.hasOwnProperty(t)&&!Ce(r)&&!so(r)?n[t]=Ff(o,r):n[t]=r}return n}const FT=Symbol();function DT(n){return!Mf(n)||!n.hasOwnProperty(FT)}const{assign:kn}=Object;function NT(n){return!!(Ce(n)&&n.effect)}function zT(n,e,t,r){const{state:o,actions:i,getters:s}=e,c=t.state.value[n];let u;function f(){c||(t.state.value[n]=o?o():{});const d=JE(t.state.value[n]);return kn(d,i,Object.keys(s||{}).reduce((g,p)=>(g[p]=Bi(Yr(()=>{_c(t);const b=t._s.get(n);return s[p].call(b,b)})),g),{}))}return u=pm(n,f,e,t,r,!0),u.$reset=function(){const g=o?o():{};this.$patch(p=>{kn(p,g)})},u}function pm(n,e,t={},r,o,i){let s;const c=kn({actions:{}},t),u={deep:!0};let f,d,g=Bi([]),p=Bi([]),b;const _=r.state.value[n];!i&&!_&&(r.state.value[n]={}),fc({});let w;function k(G){let F;f=d=!1,typeof G=="function"?(G(r.state.value[n]),F={type:Ba.patchFunction,storeId:n,events:b}):(Ff(r.state.value[n],G),F={type:Ba.patchObject,payload:G,storeId:n,events:b});const j=w=Symbol();yh().then(()=>{w===j&&(f=!0)}),d=!0,_i(g,F,r.state.value[n])}const T=dm;function A(){s.stop(),g=[],p=[],r._s.delete(n)}function O(G,F){return function(){_c(r);const j=Array.from(arguments),et=[],at=[];function ut(ot){et.push(ot)}function ft(ot){at.push(ot)}_i(p,{args:j,name:G,store:D,after:ut,onError:ft});let bt;try{bt=F.apply(this&&this.$id===n?this:D,j)}catch(ot){throw _i(at,ot),ot}return bt instanceof Promise?bt.then(ot=>(_i(et,ot),ot)).catch(ot=>(_i(at,ot),Promise.reject(ot))):(_i(et,bt),bt)}}const P={_p:r,$id:n,$onAction:fv.bind(null,p),$patch:k,$reset:T,$subscribe(G,F={}){const j=fv(g,G,F.detached,()=>et()),et=s.run(()=>Vo(()=>r.state.value[n],at=>{(F.flush==="sync"?d:f)&&G({storeId:n,type:Ba.direct,events:b},at)},kn({},u,F)));return j},$dispose:A},D=Ji(kn({},P));r._s.set(n,D);const X=r._e.run(()=>(s=yb(),s.run(()=>e())));for(const G in X){const F=X[G];if(Ce(F)&&!NT(F)||so(F))i||(_&&DT(F)&&(Ce(F)?F.value=_[G]:Ff(F,_[G])),r.state.value[n][G]=F);else if(typeof F=="function"){const j=O(G,F);X[G]=j,c.actions[G]=F}}return kn(D,X),kn(ee(D),X),Object.defineProperty(D,"$state",{get:()=>r.state.value[n],set:G=>{k(F=>{kn(F,G)})}}),r._p.forEach(G=>{kn(D,s.run(()=>G({store:D,app:r._a,pinia:r,options:c})))}),_&&i&&t.hydrate&&t.hydrate(D.$state,_),f=!0,d=!0,D}function GT(n,e,t){let r,o;const i=typeof e=="function";typeof n=="string"?(r=n,o=i?t:e):(o=n,r=n.id);function s(c,u){const f=Ah();return c=c||f&&Rn(hm),c&&_c(c),c=fm,c._s.has(r)||(i?pm(r,e,o,c):zT(r,o,c)),c._s.get(r)}return s.$id=r,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const gm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Qi=n=>gm?Symbol(n):"_vr_"+n,BT=Qi("rvlm"),hv=Qi("rvd"),Ih=Qi("r"),vm=Qi("rl"),Df=Qi("rvl"),Ai=typeof window!="undefined";function WT(n){return n.__esModule||gm&&n[Symbol.toStringTag]==="Module"}const ce=Object.assign;function $u(n,e){const t={};for(const r in e){const o=e[r];t[r]=Array.isArray(o)?o.map(n):n(o)}return t}const Wa=()=>{},UT=/\/$/,YT=n=>n.replace(UT,"");function qu(n,e,t="/"){let r,o={},i="",s="";const c=e.indexOf("?"),u=e.indexOf("#",c>-1?c:0);return c>-1&&(r=e.slice(0,c),i=e.slice(c+1,u>-1?u:e.length),o=n(i)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=jT(r!=null?r:e,t),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function XT(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function dv(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function VT(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&Ui(e.matched[r],t.matched[o])&&bm(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ui(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function bm(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!HT(n[t],e[t]))return!1;return!0}function HT(n,e){return Array.isArray(n)?pv(n,e):Array.isArray(e)?pv(e,n):n===e}function pv(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function jT(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/");let o=t.length-1,i,s;for(i=0;i<r.length;i++)if(s=r[i],!(o===1||s==="."))if(s==="..")o--;else break;return t.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Ja;(function(n){n.pop="pop",n.push="push"})(Ja||(Ja={}));var Ua;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ua||(Ua={}));function KT(n){if(!n)if(Ai){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),YT(n)}const ZT=/^[^#]+#/;function $T(n,e){return n.replace(ZT,"#")+e}function qT(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const yc=()=>({left:window.pageXOffset,top:window.pageYOffset});function JT(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=qT(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function gv(n,e){return(history.state?history.state.position-e:-1)+n}const Nf=new Map;function QT(n,e){Nf.set(n,e)}function tR(n){const e=Nf.get(n);return Nf.delete(n),e}let eR=()=>location.protocol+"//"+location.host;function mm(n,e){const{pathname:t,search:r,hash:o}=e,i=n.indexOf("#");if(i>-1){let c=o.includes(n.slice(i))?n.slice(i).length:1,u=o.slice(c);return u[0]!=="/"&&(u="/"+u),dv(u,"")}return dv(t,n)+r+o}function rR(n,e,t,r){let o=[],i=[],s=null;const c=({state:p})=>{const b=mm(n,location),_=t.value,w=e.value;let k=0;if(p){if(t.value=b,e.value=p,s&&s===_){s=null;return}k=w?p.position-w.position:0}else r(b);o.forEach(T=>{T(t.value,_,{delta:k,type:Ja.pop,direction:k?k>0?Ua.forward:Ua.back:Ua.unknown})})};function u(){s=t.value}function f(p){o.push(p);const b=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return i.push(b),b}function d(){const{history:p}=window;!p.state||p.replaceState(ce({},p.state,{scroll:yc()}),"")}function g(){for(const p of i)p();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:f,destroy:g}}function vv(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?yc():null}}function nR(n){const{history:e,location:t}=window,r={value:mm(n,t)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,d){const g=n.indexOf("#"),p=g>-1?(t.host&&document.querySelector("base")?n:n.slice(g))+u:eR()+n+u;try{e[d?"replaceState":"pushState"](f,"",p),o.value=f}catch(b){console.error(b),t[d?"replace":"assign"](p)}}function s(u,f){const d=ce({},e.state,vv(o.value.back,u,o.value.forward,!0),f,{position:o.value.position});i(u,d,!0),r.value=u}function c(u,f){const d=ce({},o.value,e.state,{forward:u,scroll:yc()});i(d.current,d,!0);const g=ce({},vv(r.value,u,null),{position:d.position+1},f);i(u,g,!1),r.value=u}return{location:r,state:o,push:c,replace:s}}function oR(n){n=KT(n);const e=nR(n),t=rR(n,e.state,e.location,e.replace);function r(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=ce({location:"",base:n,go:r,createHref:$T.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function iR(n){return typeof n=="string"||n&&typeof n=="object"}function _m(n){return typeof n=="string"||typeof n=="symbol"}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ym=Qi("nf");var bv;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(bv||(bv={}));function Yi(n,e){return ce(new Error,{type:n,[ym]:!0},e)}function Hn(n,e){return n instanceof Error&&ym in n&&(e==null||!!(n.type&e))}const mv="[^/]+?",aR={sensitive:!1,strict:!1,start:!0,end:!0},sR=/[.+*?^${}()[\]/\\]/g;function lR(n,e){const t=ce({},aR,e),r=[];let o=t.start?"^":"";const i=[];for(const f of n){const d=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let g=0;g<f.length;g++){const p=f[g];let b=40+(t.sensitive?.25:0);if(p.type===0)g||(o+="/"),o+=p.value.replace(sR,"\\$&"),b+=40;else if(p.type===1){const{value:_,repeatable:w,optional:k,regexp:T}=p;i.push({name:_,repeatable:w,optional:k});const A=T||mv;if(A!==mv){b+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${_}" (${A}): `+P.message)}}let O=w?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;g||(O=k&&f.length<2?`(?:/${O})`:"/"+O),k&&(O+="?"),o+=O,b+=20,k&&(b+=-8),w&&(b+=-20),A===".*"&&(b+=-50)}d.push(b)}r.push(d)}if(t.strict&&t.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function c(f){const d=f.match(s),g={};if(!d)return null;for(let p=1;p<d.length;p++){const b=d[p]||"",_=i[p-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function u(f){let d="",g=!1;for(const p of n){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const b of p)if(b.type===0)d+=b.value;else if(b.type===1){const{value:_,repeatable:w,optional:k}=b,T=_ in f?f[_]:"";if(Array.isArray(T)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(k)p.length<2&&n.length>1&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);d+=A}}return d}return{re:s,score:r,keys:i,parse:c,stringify:u}}function cR(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function uR(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const i=cR(r[t],o[t]);if(i)return i;t++}return o.length-r.length}const fR={type:0,value:""},hR=/[a-zA-Z0-9_]/;function dR(n){if(!n)return[[]];if(n==="/")return[[fR]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${f}": ${b}`)}let t=0,r=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let c=0,u,f="",d="";function g(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function p(){f+=u}for(;c<n.length;){if(u=n[c++],u==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:u==="/"?(f&&g(),s()):u===":"?(g(),t=1):p();break;case 4:p(),t=r;break;case 1:u==="("?t=2:hR.test(u)?p():(g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:t=3:d+=u;break;case 3:g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),s(),o}function pR(n,e,t){const r=lR(dR(n.path),t),o=ce(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function gR(n,e){const t=[],r=new Map;e=yv({strict:!1,end:!0,sensitive:!1},e);function o(d){return r.get(d)}function i(d,g,p){const b=!p,_=bR(d);_.aliasOf=p&&p.record;const w=yv(e,d),k=[_];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of O)k.push(ce({},_,{components:p?p.record.components:_.components,path:P,aliasOf:p?p.record:_}))}let T,A;for(const O of k){const{path:P}=O;if(g&&P[0]!=="/"){const D=g.record.path,X=D[D.length-1]==="/"?"":"/";O.path=g.record.path+(P&&X+P)}if(T=pR(O,g,w),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),b&&d.name&&!_v(T)&&s(d.name)),"children"in _){const D=_.children;for(let X=0;X<D.length;X++)i(D[X],T,p&&p.children[X])}p=p||T,u(T)}return A?()=>{s(A)}:Wa}function s(d){if(_m(d)){const g=r.get(d);g&&(r.delete(d),t.splice(t.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=t.indexOf(d);g>-1&&(t.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function c(){return t}function u(d){let g=0;for(;g<t.length&&uR(d,t[g])>=0&&(d.record.path!==t[g].record.path||!xm(d,t[g]));)g++;t.splice(g,0,d),d.record.name&&!_v(d)&&r.set(d.record.name,d)}function f(d,g){let p,b={},_,w;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw Yi(1,{location:d});w=p.record.name,b=ce(vR(g.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),d.params),_=p.stringify(b)}else if("path"in d)_=d.path,p=t.find(A=>A.re.test(_)),p&&(b=p.parse(_),w=p.record.name);else{if(p=g.name?r.get(g.name):t.find(A=>A.re.test(g.path)),!p)throw Yi(1,{location:d,currentLocation:g});w=p.record.name,b=ce({},g.params,d.params),_=p.stringify(b)}const k=[];let T=p;for(;T;)k.unshift(T.record),T=T.parent;return{name:w,path:_,params:b,matched:k,meta:_R(k)}}return n.forEach(d=>i(d)),{addRoute:i,resolve:f,removeRoute:s,getRoutes:c,getRecordMatcher:o}}function vR(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function bR(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:mR(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function mR(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="boolean"?t:t[r];return e}function _v(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function _R(n){return n.reduce((e,t)=>ce(e,t.meta),{})}function yv(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function xm(n,e){return e.children.some(t=>t===n||xm(n,t))}const wm=/#/g,yR=/&/g,xR=/\//g,wR=/=/g,kR=/\?/g,km=/\+/g,ER=/%5B/g,CR=/%5D/g,Em=/%5E/g,TR=/%60/g,Cm=/%7B/g,RR=/%7C/g,Tm=/%7D/g,AR=/%20/g;function Oh(n){return encodeURI(""+n).replace(RR,"|").replace(ER,"[").replace(CR,"]")}function IR(n){return Oh(n).replace(Cm,"{").replace(Tm,"}").replace(Em,"^")}function zf(n){return Oh(n).replace(km,"%2B").replace(AR,"+").replace(wm,"%23").replace(yR,"%26").replace(TR,"`").replace(Cm,"{").replace(Tm,"}").replace(Em,"^")}function OR(n){return zf(n).replace(wR,"%3D")}function SR(n){return Oh(n).replace(wm,"%23").replace(kR,"%3F")}function PR(n){return n==null?"":SR(n).replace(xR,"%2F")}function jl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function LR(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(km," "),s=i.indexOf("="),c=jl(s<0?i:i.slice(0,s)),u=s<0?null:jl(i.slice(s+1));if(c in e){let f=e[c];Array.isArray(f)||(f=e[c]=[f]),f.push(u)}else e[c]=u}return e}function xv(n){let e="";for(let t in n){const r=n[t];if(t=OR(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(r)?r.map(i=>i&&zf(i)):[r&&zf(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function MR(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function Ca(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function to(n,e,t,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,c)=>{const u=g=>{g===!1?c(Yi(4,{from:t,to:e})):g instanceof Error?c(g):iR(g)?c(Yi(2,{from:e,to:g})):(i&&r.enterCallbacks[o]===i&&typeof g=="function"&&i.push(g),s())},f=n.call(r&&r.instances[o],e,t,u);let d=Promise.resolve(f);n.length<3&&(d=d.then(u)),d.catch(g=>c(g))})}function Ju(n,e,t,r){const o=[];for(const i of n)for(const s in i.components){let c=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(FR(c)){const f=(c.__vccOpts||c)[e];f&&o.push(to(f,t,r,i,s))}else{let u=c();o.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const d=WT(f)?f.default:f;i.components[s]=d;const p=(d.__vccOpts||d)[e];return p&&to(p,t,r,i,s)()}))}}return o}function FR(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function wv(n){const e=Rn(Ih),t=Rn(vm),r=Yr(()=>e.resolve(on(n.to))),o=Yr(()=>{const{matched:u}=r.value,{length:f}=u,d=u[f-1],g=t.matched;if(!d||!g.length)return-1;const p=g.findIndex(Ui.bind(null,d));if(p>-1)return p;const b=kv(u[f-2]);return f>1&&kv(d)===b&&g[g.length-1].path!==b?g.findIndex(Ui.bind(null,u[f-2])):p}),i=Yr(()=>o.value>-1&&GR(t.params,r.value.params)),s=Yr(()=>o.value>-1&&o.value===t.matched.length-1&&bm(t.params,r.value.params));function c(u={}){return zR(u)?e[on(n.replace)?"replace":"push"](on(n.to)).catch(Wa):Promise.resolve()}return{route:r,href:Yr(()=>r.value.href),isActive:i,isExactActive:s,navigate:c}}const DR=fs({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wv,setup(n,{slots:e}){const t=Ji(wv(n)),{options:r}=Rn(Ih),o=Yr(()=>({[Ev(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[Ev(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:cm("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),NR=DR;function zR(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function GR(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function kv(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Ev=(n,e,t)=>n!=null?n:e!=null?e:t,BR=fs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Rn(Df),o=Yr(()=>n.route||r.value),i=Rn(hv,0),s=Yr(()=>o.value.matched[i]);Nl(hv,i+1),Nl(BT,s),Nl(Df,o);const c=fc();return Vo(()=>[c.value,s.value,n.name],([u,f,d],[g,p,b])=>{f&&(f.instances[d]=u,p&&p!==f&&u&&u===g&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),u&&f&&(!p||!Ui(f,p)||!g)&&(f.enterCallbacks[d]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=o.value,f=s.value,d=f&&f.components[n.name],g=n.name;if(!d)return Cv(t.default,{Component:d,route:u});const p=f.props[n.name],b=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=cm(d,ce({},b,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[g]=null)},ref:c}));return Cv(t.default,{Component:w,route:u})||w}}});function Cv(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Rm=BR;function WR(n){const e=gR(n.routes,n),t=n.parseQuery||LR,r=n.stringifyQuery||xv,o=n.history,i=Ca(),s=Ca(),c=Ca(),u=ZE(Vn);let f=Vn;Ai&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=$u.bind(null,z=>""+z),g=$u.bind(null,PR),p=$u.bind(null,jl);function b(z,rt){let J,it;return _m(z)?(J=e.getRecordMatcher(z),it=rt):it=z,e.addRoute(it,J)}function _(z){const rt=e.getRecordMatcher(z);rt&&e.removeRoute(rt)}function w(){return e.getRoutes().map(z=>z.record)}function k(z){return!!e.getRecordMatcher(z)}function T(z,rt){if(rt=ce({},rt||u.value),typeof z=="string"){const Et=qu(t,z,rt.path),E=e.resolve({path:Et.path},rt),I=o.createHref(Et.fullPath);return ce(Et,E,{params:p(E.params),hash:jl(Et.hash),redirectedFrom:void 0,href:I})}let J;if("path"in z)J=ce({},z,{path:qu(t,z.path,rt.path).path});else{const Et=ce({},z.params);for(const E in Et)Et[E]==null&&delete Et[E];J=ce({},z,{params:g(z.params)}),rt.params=g(rt.params)}const it=e.resolve(J,rt),It=z.hash||"";it.params=d(p(it.params));const Zt=XT(r,ce({},z,{hash:IR(It),path:it.path})),yt=o.createHref(Zt);return ce({fullPath:Zt,hash:It,query:r===xv?MR(z.query):z.query||{}},it,{redirectedFrom:void 0,href:yt})}function A(z){return typeof z=="string"?qu(t,z,u.value.path):ce({},z)}function O(z,rt){if(f!==z)return Yi(8,{from:rt,to:z})}function P(z){return G(z)}function D(z){return P(ce(A(z),{replace:!0}))}function X(z){const rt=z.matched[z.matched.length-1];if(rt&&rt.redirect){const{redirect:J}=rt;let it=typeof J=="function"?J(z):J;return typeof it=="string"&&(it=it.includes("?")||it.includes("#")?it=A(it):{path:it},it.params={}),ce({query:z.query,hash:z.hash,params:z.params},it)}}function G(z,rt){const J=f=T(z),it=u.value,It=z.state,Zt=z.force,yt=z.replace===!0,Et=X(J);if(Et)return G(ce(A(Et),{state:It,force:Zt,replace:yt}),rt||J);const E=J;E.redirectedFrom=rt;let I;return!Zt&&VT(r,it,J)&&(I=Yi(16,{to:E,from:it}),Ot(it,it,!0,!1)),(I?Promise.resolve(I):j(E,it)).catch(M=>Hn(M)?Hn(M,2)?M:_t(M):tt(M,E,it)).then(M=>{if(M){if(Hn(M,2))return G(ce(A(M.to),{state:It,force:Zt,replace:yt}),rt||E)}else M=at(E,it,!0,yt,It);return et(E,it,M),M})}function F(z,rt){const J=O(z,rt);return J?Promise.reject(J):Promise.resolve()}function j(z,rt){let J;const[it,It,Zt]=UR(z,rt);J=Ju(it.reverse(),"beforeRouteLeave",z,rt);for(const Et of it)Et.leaveGuards.forEach(E=>{J.push(to(E,z,rt))});const yt=F.bind(null,z,rt);return J.push(yt),yi(J).then(()=>{J=[];for(const Et of i.list())J.push(to(Et,z,rt));return J.push(yt),yi(J)}).then(()=>{J=Ju(It,"beforeRouteUpdate",z,rt);for(const Et of It)Et.updateGuards.forEach(E=>{J.push(to(E,z,rt))});return J.push(yt),yi(J)}).then(()=>{J=[];for(const Et of z.matched)if(Et.beforeEnter&&!rt.matched.includes(Et))if(Array.isArray(Et.beforeEnter))for(const E of Et.beforeEnter)J.push(to(E,z,rt));else J.push(to(Et.beforeEnter,z,rt));return J.push(yt),yi(J)}).then(()=>(z.matched.forEach(Et=>Et.enterCallbacks={}),J=Ju(Zt,"beforeRouteEnter",z,rt),J.push(yt),yi(J))).then(()=>{J=[];for(const Et of s.list())J.push(to(Et,z,rt));return J.push(yt),yi(J)}).catch(Et=>Hn(Et,8)?Et:Promise.reject(Et))}function et(z,rt,J){for(const it of c.list())it(z,rt,J)}function at(z,rt,J,it,It){const Zt=O(z,rt);if(Zt)return Zt;const yt=rt===Vn,Et=Ai?history.state:{};J&&(it||yt?o.replace(z.fullPath,ce({scroll:yt&&Et&&Et.scroll},It)):o.push(z.fullPath,It)),u.value=z,Ot(z,rt,J,yt),_t()}let ut;function ft(){ut||(ut=o.listen((z,rt,J)=>{const it=T(z),It=X(it);if(It){G(ce(It,{replace:!0}),it).catch(Wa);return}f=it;const Zt=u.value;Ai&&QT(gv(Zt.fullPath,J.delta),yc()),j(it,Zt).catch(yt=>Hn(yt,12)?yt:Hn(yt,2)?(G(yt.to,it).then(Et=>{Hn(Et,20)&&!J.delta&&J.type===Ja.pop&&o.go(-1,!1)}).catch(Wa),Promise.reject()):(J.delta&&o.go(-J.delta,!1),tt(yt,it,Zt))).then(yt=>{yt=yt||at(it,Zt,!1),yt&&(J.delta?o.go(-J.delta,!1):J.type===Ja.pop&&Hn(yt,20)&&o.go(-1,!1)),et(it,Zt,yt)}).catch(Wa)}))}let bt=Ca(),ot=Ca(),ht;function tt(z,rt,J){_t(z);const it=ot.list();return it.length?it.forEach(It=>It(z,rt,J)):console.error(z),Promise.reject(z)}function ct(){return ht&&u.value!==Vn?Promise.resolve():new Promise((z,rt)=>{bt.add([z,rt])})}function _t(z){return ht||(ht=!z,ft(),bt.list().forEach(([rt,J])=>z?J(z):rt()),bt.reset()),z}function Ot(z,rt,J,it){const{scrollBehavior:It}=n;if(!Ai||!It)return Promise.resolve();const Zt=!J&&tR(gv(z.fullPath,0))||(it||!J)&&history.state&&history.state.scroll||null;return yh().then(()=>It(z,rt,Zt)).then(yt=>yt&&JT(yt)).catch(yt=>tt(yt,z,rt))}const St=z=>o.go(z);let Z;const Yt=new Set;return{currentRoute:u,addRoute:b,removeRoute:_,hasRoute:k,getRoutes:w,resolve:T,options:n,push:P,replace:D,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:i.add,beforeResolve:s.add,afterEach:c.add,onError:ot.add,isReady:ct,install(z){const rt=this;z.component("RouterLink",NR),z.component("RouterView",Rm),z.config.globalProperties.$router=rt,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>on(u)}),Ai&&!Z&&u.value===Vn&&(Z=!0,P(o.location).catch(It=>{}));const J={};for(const It in Vn)J[It]=Yr(()=>u.value[It]);z.provide(Ih,rt),z.provide(vm,Ji(J)),z.provide(Df,u);const it=z.unmount;Yt.add(z),z.unmount=function(){Yt.delete(z),Yt.size<1&&(f=Vn,ut&&ut(),ut=null,u.value=Vn,Z=!1,ht=!1),it()}}}}function yi(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function UR(n,e){const t=[],r=[],o=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const c=e.matched[s];c&&(n.matched.find(f=>Ui(f,c))?r.push(c):t.push(c));const u=n.matched[s];u&&(e.matched.find(f=>Ui(f,u))||o.push(u))}return[t,r,o]}const YR=Le("header",null,[Le("div",{class:"wrapper"})],-1),XR={class:"container"},VR=fs({__name:"App",setup(n){return(e,t)=>(Ch(),Th(Ar,null,[YR,Le("div",XR,[pr(on(Rm))])],64))}}),HR=GT({id:"mappingArea",state:()=>({perimeter:null,trajectory:[],bandWidth:10,pointLeap:5}),getters:{},actions:{}});var Ta=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Kl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",g=1,p=2,b=4,_=1,w=2,k=1,T=2,A=4,O=8,P=16,D=32,X=64,G=128,F=256,j=512,et=30,at="...",ut=800,ft=16,bt=1,ot=2,ht=3,tt=1/0,ct=9007199254740991,_t=17976931348623157e292,Ot=0/0,St=4294967295,Z=St-1,Yt=St>>>1,kt=[["ary",G],["bind",k],["bindKey",T],["curry",O],["curryRight",P],["flip",j],["partial",D],["partialRight",X],["rearg",F]],z="[object Arguments]",rt="[object Array]",J="[object AsyncFunction]",it="[object Boolean]",It="[object Date]",Zt="[object DOMException]",yt="[object Error]",Et="[object Function]",E="[object GeneratorFunction]",I="[object Map]",M="[object Number]",V="[object Null]",W="[object Object]",Q="[object Promise]",nt="[object Proxy]",$="[object RegExp]",q="[object Set]",H="[object String]",pt="[object Symbol]",dt="[object Undefined]",vt="[object WeakMap]",xt="[object WeakSet]",Pt="[object ArrayBuffer]",Lt="[object DataView]",Nt="[object Float32Array]",Xt="[object Float64Array]",we="[object Int8Array]",de="[object Int16Array]",Fr="[object Int32Array]",se="[object Uint8Array]",ar="[object Uint8ClampedArray]",pe="[object Uint16Array]",Fe="[object Uint32Array]",vo=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,Lc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ws=/&(?:amp|lt|gt|quot|#39);/g,ia=/[&<>"']/g,ks=RegExp(ws.source),aa=RegExp(ia.source),Es=/<%-([\s\S]+?)%>/g,sa=/<%([\s\S]+?)%>/g,Mn=/<%=([\s\S]+?)%>/g,bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mo=/^\w*$/,Cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,Mc=RegExp(ri.source),la=/^\s+/,_o=/\s/,yo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,ni=/,? & /,oi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ts=/\w*$/,Rs=/^[-+]0x[0-9a-f]+$/i,V0=/^0b[01]+$/i,H0=/^\[object .+?Constructor\]$/,j0=/^0o[0-7]+$/i,K0=/^(?:0|[1-9]\d*)$/,Z0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,As=/($^)/,$0=/['\n\r\u2028\u2029\\]/g,Is="\\ud800-\\udfff",q0="\\u0300-\\u036f",J0="\\ufe20-\\ufe2f",Q0="\\u20d0-\\u20ff",cd=q0+J0+Q0,ud="\\u2700-\\u27bf",fd="a-z\\xdf-\\xf6\\xf8-\\xff",t_="\\xac\\xb1\\xd7\\xf7",e_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r_="\\u2000-\\u206f",n_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hd="A-Z\\xc0-\\xd6\\xd8-\\xde",dd="\\ufe0e\\ufe0f",pd=t_+e_+r_+n_,Fc="['\u2019]",o_="["+Is+"]",gd="["+pd+"]",Os="["+cd+"]",vd="\\d+",i_="["+ud+"]",bd="["+fd+"]",md="[^"+Is+pd+vd+ud+fd+hd+"]",Dc="\\ud83c[\\udffb-\\udfff]",a_="(?:"+Os+"|"+Dc+")",_d="[^"+Is+"]",Nc="(?:\\ud83c[\\udde6-\\uddff]){2}",zc="[\\ud800-\\udbff][\\udc00-\\udfff]",ii="["+hd+"]",yd="\\u200d",xd="(?:"+bd+"|"+md+")",s_="(?:"+ii+"|"+md+")",wd="(?:"+Fc+"(?:d|ll|m|re|s|t|ve))?",kd="(?:"+Fc+"(?:D|LL|M|RE|S|T|VE))?",Ed=a_+"?",Cd="["+dd+"]?",l_="(?:"+yd+"(?:"+[_d,Nc,zc].join("|")+")"+Cd+Ed+")*",c_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Td=Cd+Ed+l_,f_="(?:"+[i_,Nc,zc].join("|")+")"+Td,h_="(?:"+[_d+Os+"?",Os,Nc,zc,o_].join("|")+")",d_=RegExp(Fc,"g"),p_=RegExp(Os,"g"),Gc=RegExp(Dc+"(?="+Dc+")|"+h_+Td,"g"),g_=RegExp([ii+"?"+bd+"+"+wd+"(?="+[gd,ii,"$"].join("|")+")",s_+"+"+kd+"(?="+[gd,ii+xd,"$"].join("|")+")",ii+"?"+xd+"+"+wd,ii+"+"+kd,u_,c_,vd,f_].join("|"),"g"),v_=RegExp("["+yd+Is+cd+dd+"]"),b_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,m_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],__=-1,ge={};ge[Nt]=ge[Xt]=ge[we]=ge[de]=ge[Fr]=ge[se]=ge[ar]=ge[pe]=ge[Fe]=!0,ge[z]=ge[rt]=ge[Pt]=ge[it]=ge[Lt]=ge[It]=ge[yt]=ge[Et]=ge[I]=ge[M]=ge[W]=ge[$]=ge[q]=ge[H]=ge[vt]=!1;var fe={};fe[z]=fe[rt]=fe[Pt]=fe[Lt]=fe[it]=fe[It]=fe[Nt]=fe[Xt]=fe[we]=fe[de]=fe[Fr]=fe[I]=fe[M]=fe[W]=fe[$]=fe[q]=fe[H]=fe[pt]=fe[se]=fe[ar]=fe[pe]=fe[Fe]=!0,fe[yt]=fe[Et]=fe[vt]=!1;var y_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},x_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},k_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},E_=parseFloat,C_=parseInt,Rd=typeof Ta=="object"&&Ta&&Ta.Object===Object&&Ta,T_=typeof self=="object"&&self&&self.Object===Object&&self,De=Rd||T_||Function("return this")(),Bc=e&&!e.nodeType&&e,xo=Bc&&!0&&n&&!n.nodeType&&n,Ad=xo&&xo.exports===Bc,Wc=Ad&&Rd.process,br=function(){try{var S=xo&&xo.require&&xo.require("util").types;return S||Wc&&Wc.binding&&Wc.binding("util")}catch{}}(),Id=br&&br.isArrayBuffer,Od=br&&br.isDate,Sd=br&&br.isMap,Pd=br&&br.isRegExp,Ld=br&&br.isSet,Md=br&&br.isTypedArray;function sr(S,B,N){switch(N.length){case 0:return S.call(B);case 1:return S.call(B,N[0]);case 2:return S.call(B,N[0],N[1]);case 3:return S.call(B,N[0],N[1],N[2])}return S.apply(B,N)}function R_(S,B,N,gt){for(var Mt=-1,re=S==null?0:S.length;++Mt<re;){var Ie=S[Mt];B(gt,Ie,N(Ie),S)}return gt}function mr(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt&&B(S[N],N,S)!==!1;);return S}function A_(S,B){for(var N=S==null?0:S.length;N--&&B(S[N],N,S)!==!1;);return S}function Fd(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(!B(S[N],N,S))return!1;return!0}function Fn(S,B){for(var N=-1,gt=S==null?0:S.length,Mt=0,re=[];++N<gt;){var Ie=S[N];B(Ie,N,S)&&(re[Mt++]=Ie)}return re}function Ss(S,B){var N=S==null?0:S.length;return!!N&&ai(S,B,0)>-1}function Uc(S,B,N){for(var gt=-1,Mt=S==null?0:S.length;++gt<Mt;)if(N(B,S[gt]))return!0;return!1}function ve(S,B){for(var N=-1,gt=S==null?0:S.length,Mt=Array(gt);++N<gt;)Mt[N]=B(S[N],N,S);return Mt}function Dn(S,B){for(var N=-1,gt=B.length,Mt=S.length;++N<gt;)S[Mt+N]=B[N];return S}function Yc(S,B,N,gt){var Mt=-1,re=S==null?0:S.length;for(gt&&re&&(N=S[++Mt]);++Mt<re;)N=B(N,S[Mt],Mt,S);return N}function I_(S,B,N,gt){var Mt=S==null?0:S.length;for(gt&&Mt&&(N=S[--Mt]);Mt--;)N=B(N,S[Mt],Mt,S);return N}function Xc(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(B(S[N],N,S))return!0;return!1}var O_=Vc("length");function S_(S){return S.split("")}function P_(S){return S.match(oi)||[]}function Dd(S,B,N){var gt;return N(S,function(Mt,re,Ie){if(B(Mt,re,Ie))return gt=re,!1}),gt}function Ps(S,B,N,gt){for(var Mt=S.length,re=N+(gt?1:-1);gt?re--:++re<Mt;)if(B(S[re],re,S))return re;return-1}function ai(S,B,N){return B===B?X_(S,B,N):Ps(S,Nd,N)}function L_(S,B,N,gt){for(var Mt=N-1,re=S.length;++Mt<re;)if(gt(S[Mt],B))return Mt;return-1}function Nd(S){return S!==S}function zd(S,B){var N=S==null?0:S.length;return N?jc(S,B)/N:Ot}function Vc(S){return function(B){return B==null?t:B[S]}}function Hc(S){return function(B){return S==null?t:S[B]}}function Gd(S,B,N,gt,Mt){return Mt(S,function(re,Ie,le){N=gt?(gt=!1,re):B(N,re,Ie,le)}),N}function M_(S,B){var N=S.length;for(S.sort(B);N--;)S[N]=S[N].value;return S}function jc(S,B){for(var N,gt=-1,Mt=S.length;++gt<Mt;){var re=B(S[gt]);re!==t&&(N=N===t?re:N+re)}return N}function Kc(S,B){for(var N=-1,gt=Array(S);++N<S;)gt[N]=B(N);return gt}function F_(S,B){return ve(B,function(N){return[N,S[N]]})}function Bd(S){return S&&S.slice(0,Xd(S)+1).replace(la,"")}function lr(S){return function(B){return S(B)}}function Zc(S,B){return ve(B,function(N){return S[N]})}function ua(S,B){return S.has(B)}function Wd(S,B){for(var N=-1,gt=S.length;++N<gt&&ai(B,S[N],0)>-1;);return N}function Ud(S,B){for(var N=S.length;N--&&ai(B,S[N],0)>-1;);return N}function D_(S,B){for(var N=S.length,gt=0;N--;)S[N]===B&&++gt;return gt}var N_=Hc(y_),z_=Hc(x_);function G_(S){return"\\"+k_[S]}function B_(S,B){return S==null?t:S[B]}function si(S){return v_.test(S)}function W_(S){return b_.test(S)}function U_(S){for(var B,N=[];!(B=S.next()).done;)N.push(B.value);return N}function $c(S){var B=-1,N=Array(S.size);return S.forEach(function(gt,Mt){N[++B]=[Mt,gt]}),N}function Yd(S,B){return function(N){return S(B(N))}}function Nn(S,B){for(var N=-1,gt=S.length,Mt=0,re=[];++N<gt;){var Ie=S[N];(Ie===B||Ie===d)&&(S[N]=d,re[Mt++]=N)}return re}function Ls(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=gt}),N}function Y_(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=[gt,gt]}),N}function X_(S,B,N){for(var gt=N-1,Mt=S.length;++gt<Mt;)if(S[gt]===B)return gt;return-1}function V_(S,B,N){for(var gt=N+1;gt--;)if(S[gt]===B)return gt;return gt}function li(S){return si(S)?j_(S):O_(S)}function Dr(S){return si(S)?K_(S):S_(S)}function Xd(S){for(var B=S.length;B--&&_o.test(S.charAt(B)););return B}var H_=Hc(w_);function j_(S){for(var B=Gc.lastIndex=0;Gc.test(S);)++B;return B}function K_(S){return S.match(Gc)||[]}function Z_(S){return S.match(g_)||[]}var $_=function S(B){B=B==null?De:ci.defaults(De.Object(),B,ci.pick(De,m_));var N=B.Array,gt=B.Date,Mt=B.Error,re=B.Function,Ie=B.Math,le=B.Object,qc=B.RegExp,q_=B.String,_r=B.TypeError,Ms=N.prototype,J_=re.prototype,ui=le.prototype,Fs=B["__core-js_shared__"],Ds=J_.toString,ie=ui.hasOwnProperty,Q_=0,Vd=function(){var a=/[^.]+$/.exec(Fs&&Fs.keys&&Fs.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ns=ui.toString,ty=Ds.call(le),ey=De._,ry=qc("^"+Ds.call(ie).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zs=Ad?B.Buffer:t,zn=B.Symbol,Gs=B.Uint8Array,Hd=zs?zs.allocUnsafe:t,Bs=Yd(le.getPrototypeOf,le),jd=le.create,Kd=ui.propertyIsEnumerable,Ws=Ms.splice,Zd=zn?zn.isConcatSpreadable:t,fa=zn?zn.iterator:t,wo=zn?zn.toStringTag:t,Us=function(){try{var a=Ro(le,"defineProperty");return a({},"",{}),a}catch{}}(),ny=B.clearTimeout!==De.clearTimeout&&B.clearTimeout,oy=gt&&gt.now!==De.Date.now&&gt.now,iy=B.setTimeout!==De.setTimeout&&B.setTimeout,Ys=Ie.ceil,Xs=Ie.floor,Jc=le.getOwnPropertySymbols,ay=zs?zs.isBuffer:t,$d=B.isFinite,sy=Ms.join,ly=Yd(le.keys,le),Oe=Ie.max,Be=Ie.min,cy=gt.now,uy=B.parseInt,qd=Ie.random,fy=Ms.reverse,Qc=Ro(B,"DataView"),ha=Ro(B,"Map"),tu=Ro(B,"Promise"),fi=Ro(B,"Set"),da=Ro(B,"WeakMap"),pa=Ro(le,"create"),Vs=da&&new da,hi={},hy=Ao(Qc),dy=Ao(ha),py=Ao(tu),gy=Ao(fi),vy=Ao(da),Hs=zn?zn.prototype:t,ga=Hs?Hs.valueOf:t,Jd=Hs?Hs.toString:t;function y(a){if(ye(a)&&!Ft(a)&&!(a instanceof Ht)){if(a instanceof yr)return a;if(ie.call(a,"__wrapped__"))return Qp(a)}return new yr(a)}var di=function(){function a(){}return function(l){if(!me(l))return{};if(jd)return jd(l);a.prototype=l;var h=new a;return a.prototype=t,h}}();function js(){}function yr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}y.templateSettings={escape:Es,evaluate:sa,interpolate:Mn,variable:"",imports:{_:y}},y.prototype=js.prototype,y.prototype.constructor=y,yr.prototype=di(js.prototype),yr.prototype.constructor=yr;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function by(){var a=new Ht(this.__wrapped__);return a.__actions__=Qe(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Qe(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Qe(this.__views__),a}function my(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function _y(){var a=this.__wrapped__.value(),l=this.__dir__,h=Ft(a),v=l<0,m=h?a.length:0,x=Sx(0,m,this.__views__),C=x.start,R=x.end,L=R-C,U=v?R:C-1,Y=this.__iteratees__,K=Y.length,st=0,mt=Be(L,this.__takeCount__);if(!h||!v&&m==L&&mt==L)return wp(a,this.__actions__);var Ct=[];t:for(;L--&&st<mt;){U+=l;for(var Bt=-1,Tt=a[U];++Bt<K;){var Vt=Y[Bt],$t=Vt.iteratee,fr=Vt.type,Ze=$t(Tt);if(fr==ot)Tt=Ze;else if(!Ze){if(fr==bt)continue t;break t}}Ct[st++]=Tt}return Ct}Ht.prototype=di(js.prototype),Ht.prototype.constructor=Ht;function ko(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function yy(){this.__data__=pa?pa(null):{},this.size=0}function xy(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function wy(a){var l=this.__data__;if(pa){var h=l[a];return h===u?t:h}return ie.call(l,a)?l[a]:t}function ky(a){var l=this.__data__;return pa?l[a]!==t:ie.call(l,a)}function Ey(a,l){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=pa&&l===t?u:l,this}ko.prototype.clear=yy,ko.prototype.delete=xy,ko.prototype.get=wy,ko.prototype.has=ky,ko.prototype.set=Ey;function un(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function Cy(){this.__data__=[],this.size=0}function Ty(a){var l=this.__data__,h=Ks(l,a);if(h<0)return!1;var v=l.length-1;return h==v?l.pop():Ws.call(l,h,1),--this.size,!0}function Ry(a){var l=this.__data__,h=Ks(l,a);return h<0?t:l[h][1]}function Ay(a){return Ks(this.__data__,a)>-1}function Iy(a,l){var h=this.__data__,v=Ks(h,a);return v<0?(++this.size,h.push([a,l])):h[v][1]=l,this}un.prototype.clear=Cy,un.prototype.delete=Ty,un.prototype.get=Ry,un.prototype.has=Ay,un.prototype.set=Iy;function fn(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function Oy(){this.size=0,this.__data__={hash:new ko,map:new(ha||un),string:new ko}}function Sy(a){var l=al(this,a).delete(a);return this.size-=l?1:0,l}function Py(a){return al(this,a).get(a)}function Ly(a){return al(this,a).has(a)}function My(a,l){var h=al(this,a),v=h.size;return h.set(a,l),this.size+=h.size==v?0:1,this}fn.prototype.clear=Oy,fn.prototype.delete=Sy,fn.prototype.get=Py,fn.prototype.has=Ly,fn.prototype.set=My;function Eo(a){var l=-1,h=a==null?0:a.length;for(this.__data__=new fn;++l<h;)this.add(a[l])}function Fy(a){return this.__data__.set(a,u),this}function Dy(a){return this.__data__.has(a)}Eo.prototype.add=Eo.prototype.push=Fy,Eo.prototype.has=Dy;function Nr(a){var l=this.__data__=new un(a);this.size=l.size}function Ny(){this.__data__=new un,this.size=0}function zy(a){var l=this.__data__,h=l.delete(a);return this.size=l.size,h}function Gy(a){return this.__data__.get(a)}function By(a){return this.__data__.has(a)}function Wy(a,l){var h=this.__data__;if(h instanceof un){var v=h.__data__;if(!ha||v.length<o-1)return v.push([a,l]),this.size=++h.size,this;h=this.__data__=new fn(v)}return h.set(a,l),this.size=h.size,this}Nr.prototype.clear=Ny,Nr.prototype.delete=zy,Nr.prototype.get=Gy,Nr.prototype.has=By,Nr.prototype.set=Wy;function Qd(a,l){var h=Ft(a),v=!h&&Io(a),m=!h&&!v&&Yn(a),x=!h&&!v&&!m&&bi(a),C=h||v||m||x,R=C?Kc(a.length,q_):[],L=R.length;for(var U in a)(l||ie.call(a,U))&&!(C&&(U=="length"||m&&(U=="offset"||U=="parent")||x&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||gn(U,L)))&&R.push(U);return R}function tp(a){var l=a.length;return l?a[fu(0,l-1)]:t}function Uy(a,l){return sl(Qe(a),Co(l,0,a.length))}function Yy(a){return sl(Qe(a))}function eu(a,l,h){(h!==t&&!zr(a[l],h)||h===t&&!(l in a))&&hn(a,l,h)}function va(a,l,h){var v=a[l];(!(ie.call(a,l)&&zr(v,h))||h===t&&!(l in a))&&hn(a,l,h)}function Ks(a,l){for(var h=a.length;h--;)if(zr(a[h][0],l))return h;return-1}function Xy(a,l,h,v){return Gn(a,function(m,x,C){l(v,m,h(m),C)}),v}function ep(a,l){return a&&Jr(l,Se(l),a)}function Vy(a,l){return a&&Jr(l,er(l),a)}function hn(a,l,h){l=="__proto__"&&Us?Us(a,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[l]=h}function ru(a,l){for(var h=-1,v=l.length,m=N(v),x=a==null;++h<v;)m[h]=x?t:Du(a,l[h]);return m}function Co(a,l,h){return a===a&&(h!==t&&(a=a<=h?a:h),l!==t&&(a=a>=l?a:l)),a}function xr(a,l,h,v,m,x){var C,R=l&g,L=l&p,U=l&b;if(h&&(C=m?h(a,v,m,x):h(a)),C!==t)return C;if(!me(a))return a;var Y=Ft(a);if(Y){if(C=Lx(a),!R)return Qe(a,C)}else{var K=We(a),st=K==Et||K==E;if(Yn(a))return Cp(a,R);if(K==W||K==z||st&&!m){if(C=L||st?{}:Xp(a),!R)return L?wx(a,Vy(C,a)):xx(a,ep(C,a))}else{if(!fe[K])return m?a:{};C=Mx(a,K,R)}}x||(x=new Nr);var mt=x.get(a);if(mt)return mt;x.set(a,C),_g(a)?a.forEach(function(Tt){C.add(xr(Tt,l,h,Tt,a,x))}):bg(a)&&a.forEach(function(Tt,Vt){C.set(Vt,xr(Tt,l,h,Vt,a,x))});var Ct=U?L?wu:xu:L?er:Se,Bt=Y?t:Ct(a);return mr(Bt||a,function(Tt,Vt){Bt&&(Vt=Tt,Tt=a[Vt]),va(C,Vt,xr(Tt,l,h,Vt,a,x))}),C}function Hy(a){var l=Se(a);return function(h){return rp(h,a,l)}}function rp(a,l,h){var v=h.length;if(a==null)return!v;for(a=le(a);v--;){var m=h[v],x=l[m],C=a[m];if(C===t&&!(m in a)||!x(C))return!1}return!0}function np(a,l,h){if(typeof a!="function")throw new _r(s);return ka(function(){a.apply(t,h)},l)}function ba(a,l,h,v){var m=-1,x=Ss,C=!0,R=a.length,L=[],U=l.length;if(!R)return L;h&&(l=ve(l,lr(h))),v?(x=Uc,C=!1):l.length>=o&&(x=ua,C=!1,l=new Eo(l));t:for(;++m<R;){var Y=a[m],K=h==null?Y:h(Y);if(Y=v||Y!==0?Y:0,C&&K===K){for(var st=U;st--;)if(l[st]===K)continue t;L.push(Y)}else x(l,K,v)||L.push(Y)}return L}var Gn=Op(qr),op=Op(ou,!0);function jy(a,l){var h=!0;return Gn(a,function(v,m,x){return h=!!l(v,m,x),h}),h}function Zs(a,l,h){for(var v=-1,m=a.length;++v<m;){var x=a[v],C=l(x);if(C!=null&&(R===t?C===C&&!ur(C):h(C,R)))var R=C,L=x}return L}function Ky(a,l,h,v){var m=a.length;for(h=Gt(h),h<0&&(h=-h>m?0:m+h),v=v===t||v>m?m:Gt(v),v<0&&(v+=m),v=h>v?0:xg(v);h<v;)a[h++]=l;return a}function ip(a,l){var h=[];return Gn(a,function(v,m,x){l(v,m,x)&&h.push(v)}),h}function Ne(a,l,h,v,m){var x=-1,C=a.length;for(h||(h=Dx),m||(m=[]);++x<C;){var R=a[x];l>0&&h(R)?l>1?Ne(R,l-1,h,v,m):Dn(m,R):v||(m[m.length]=R)}return m}var nu=Sp(),ap=Sp(!0);function qr(a,l){return a&&nu(a,l,Se)}function ou(a,l){return a&&ap(a,l,Se)}function $s(a,l){return Fn(l,function(h){return vn(a[h])})}function To(a,l){l=Wn(l,a);for(var h=0,v=l.length;a!=null&&h<v;)a=a[Qr(l[h++])];return h&&h==v?a:t}function sp(a,l,h){var v=l(a);return Ft(a)?v:Dn(v,h(a))}function je(a){return a==null?a===t?dt:V:wo&&wo in le(a)?Ox(a):Yx(a)}function iu(a,l){return a>l}function Zy(a,l){return a!=null&&ie.call(a,l)}function $y(a,l){return a!=null&&l in le(a)}function qy(a,l,h){return a>=Be(l,h)&&a<Oe(l,h)}function au(a,l,h){for(var v=h?Uc:Ss,m=a[0].length,x=a.length,C=x,R=N(x),L=1/0,U=[];C--;){var Y=a[C];C&&l&&(Y=ve(Y,lr(l))),L=Be(Y.length,L),R[C]=!h&&(l||m>=120&&Y.length>=120)?new Eo(C&&Y):t}Y=a[0];var K=-1,st=R[0];t:for(;++K<m&&U.length<L;){var mt=Y[K],Ct=l?l(mt):mt;if(mt=h||mt!==0?mt:0,!(st?ua(st,Ct):v(U,Ct,h))){for(C=x;--C;){var Bt=R[C];if(!(Bt?ua(Bt,Ct):v(a[C],Ct,h)))continue t}st&&st.push(Ct),U.push(mt)}}return U}function Jy(a,l,h,v){return qr(a,function(m,x,C){l(v,h(m),x,C)}),v}function ma(a,l,h){l=Wn(l,a),a=Kp(a,l);var v=a==null?a:a[Qr(kr(l))];return v==null?t:sr(v,a,h)}function lp(a){return ye(a)&&je(a)==z}function Qy(a){return ye(a)&&je(a)==Pt}function tx(a){return ye(a)&&je(a)==It}function _a(a,l,h,v,m){return a===l?!0:a==null||l==null||!ye(a)&&!ye(l)?a!==a&&l!==l:ex(a,l,h,v,_a,m)}function ex(a,l,h,v,m,x){var C=Ft(a),R=Ft(l),L=C?rt:We(a),U=R?rt:We(l);L=L==z?W:L,U=U==z?W:U;var Y=L==W,K=U==W,st=L==U;if(st&&Yn(a)){if(!Yn(l))return!1;C=!0,Y=!1}if(st&&!Y)return x||(x=new Nr),C||bi(a)?Wp(a,l,h,v,m,x):Ax(a,l,L,h,v,m,x);if(!(h&_)){var mt=Y&&ie.call(a,"__wrapped__"),Ct=K&&ie.call(l,"__wrapped__");if(mt||Ct){var Bt=mt?a.value():a,Tt=Ct?l.value():l;return x||(x=new Nr),m(Bt,Tt,h,v,x)}}return st?(x||(x=new Nr),Ix(a,l,h,v,m,x)):!1}function rx(a){return ye(a)&&We(a)==I}function su(a,l,h,v){var m=h.length,x=m,C=!v;if(a==null)return!x;for(a=le(a);m--;){var R=h[m];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++m<x;){R=h[m];var L=R[0],U=a[L],Y=R[1];if(C&&R[2]){if(U===t&&!(L in a))return!1}else{var K=new Nr;if(v)var st=v(U,Y,L,a,l,K);if(!(st===t?_a(Y,U,_|w,v,K):st))return!1}}return!0}function cp(a){if(!me(a)||zx(a))return!1;var l=vn(a)?ry:H0;return l.test(Ao(a))}function nx(a){return ye(a)&&je(a)==$}function ox(a){return ye(a)&&We(a)==q}function ix(a){return ye(a)&&dl(a.length)&&!!ge[je(a)]}function up(a){return typeof a=="function"?a:a==null?rr:typeof a=="object"?Ft(a)?dp(a[0],a[1]):hp(a):Pg(a)}function lu(a){if(!wa(a))return ly(a);var l=[];for(var h in le(a))ie.call(a,h)&&h!="constructor"&&l.push(h);return l}function ax(a){if(!me(a))return Ux(a);var l=wa(a),h=[];for(var v in a)v=="constructor"&&(l||!ie.call(a,v))||h.push(v);return h}function cu(a,l){return a<l}function fp(a,l){var h=-1,v=tr(a)?N(a.length):[];return Gn(a,function(m,x,C){v[++h]=l(m,x,C)}),v}function hp(a){var l=Eu(a);return l.length==1&&l[0][2]?Hp(l[0][0],l[0][1]):function(h){return h===a||su(h,a,l)}}function dp(a,l){return Tu(a)&&Vp(l)?Hp(Qr(a),l):function(h){var v=Du(h,a);return v===t&&v===l?Nu(h,a):_a(l,v,_|w)}}function qs(a,l,h,v,m){a!==l&&nu(l,function(x,C){if(m||(m=new Nr),me(x))sx(a,l,C,h,qs,v,m);else{var R=v?v(Au(a,C),x,C+"",a,l,m):t;R===t&&(R=x),eu(a,C,R)}},er)}function sx(a,l,h,v,m,x,C){var R=Au(a,h),L=Au(l,h),U=C.get(L);if(U){eu(a,h,U);return}var Y=x?x(R,L,h+"",a,l,C):t,K=Y===t;if(K){var st=Ft(L),mt=!st&&Yn(L),Ct=!st&&!mt&&bi(L);Y=L,st||mt||Ct?Ft(R)?Y=R:ke(R)?Y=Qe(R):mt?(K=!1,Y=Cp(L,!0)):Ct?(K=!1,Y=Tp(L,!0)):Y=[]:Ea(L)||Io(L)?(Y=R,Io(R)?Y=wg(R):(!me(R)||vn(R))&&(Y=Xp(L))):K=!1}K&&(C.set(L,Y),m(Y,L,v,x,C),C.delete(L)),eu(a,h,Y)}function pp(a,l){var h=a.length;if(!!h)return l+=l<0?h:0,gn(l,h)?a[l]:t}function gp(a,l,h){l.length?l=ve(l,function(x){return Ft(x)?function(C){return To(C,x.length===1?x[0]:x)}:x}):l=[rr];var v=-1;l=ve(l,lr(wt()));var m=fp(a,function(x,C,R){var L=ve(l,function(U){return U(x)});return{criteria:L,index:++v,value:x}});return M_(m,function(x,C){return yx(x,C,h)})}function lx(a,l){return vp(a,l,function(h,v){return Nu(a,v)})}function vp(a,l,h){for(var v=-1,m=l.length,x={};++v<m;){var C=l[v],R=To(a,C);h(R,C)&&ya(x,Wn(C,a),R)}return x}function cx(a){return function(l){return To(l,a)}}function uu(a,l,h,v){var m=v?L_:ai,x=-1,C=l.length,R=a;for(a===l&&(l=Qe(l)),h&&(R=ve(a,lr(h)));++x<C;)for(var L=0,U=l[x],Y=h?h(U):U;(L=m(R,Y,L,v))>-1;)R!==a&&Ws.call(R,L,1),Ws.call(a,L,1);return a}function bp(a,l){for(var h=a?l.length:0,v=h-1;h--;){var m=l[h];if(h==v||m!==x){var x=m;gn(m)?Ws.call(a,m,1):pu(a,m)}}return a}function fu(a,l){return a+Xs(qd()*(l-a+1))}function ux(a,l,h,v){for(var m=-1,x=Oe(Ys((l-a)/(h||1)),0),C=N(x);x--;)C[v?x:++m]=a,a+=h;return C}function hu(a,l){var h="";if(!a||l<1||l>ct)return h;do l%2&&(h+=a),l=Xs(l/2),l&&(a+=a);while(l);return h}function Wt(a,l){return Iu(jp(a,l,rr),a+"")}function fx(a){return tp(mi(a))}function hx(a,l){var h=mi(a);return sl(h,Co(l,0,h.length))}function ya(a,l,h,v){if(!me(a))return a;l=Wn(l,a);for(var m=-1,x=l.length,C=x-1,R=a;R!=null&&++m<x;){var L=Qr(l[m]),U=h;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(m!=C){var Y=R[L];U=v?v(Y,L,R):t,U===t&&(U=me(Y)?Y:gn(l[m+1])?[]:{})}va(R,L,U),R=R[L]}return a}var mp=Vs?function(a,l){return Vs.set(a,l),a}:rr,dx=Us?function(a,l){return Us(a,"toString",{configurable:!0,enumerable:!1,value:Gu(l),writable:!0})}:rr;function px(a){return sl(mi(a))}function wr(a,l,h){var v=-1,m=a.length;l<0&&(l=-l>m?0:m+l),h=h>m?m:h,h<0&&(h+=m),m=l>h?0:h-l>>>0,l>>>=0;for(var x=N(m);++v<m;)x[v]=a[v+l];return x}function gx(a,l){var h;return Gn(a,function(v,m,x){return h=l(v,m,x),!h}),!!h}function Js(a,l,h){var v=0,m=a==null?v:a.length;if(typeof l=="number"&&l===l&&m<=Yt){for(;v<m;){var x=v+m>>>1,C=a[x];C!==null&&!ur(C)&&(h?C<=l:C<l)?v=x+1:m=x}return m}return du(a,l,rr,h)}function du(a,l,h,v){var m=0,x=a==null?0:a.length;if(x===0)return 0;l=h(l);for(var C=l!==l,R=l===null,L=ur(l),U=l===t;m<x;){var Y=Xs((m+x)/2),K=h(a[Y]),st=K!==t,mt=K===null,Ct=K===K,Bt=ur(K);if(C)var Tt=v||Ct;else U?Tt=Ct&&(v||st):R?Tt=Ct&&st&&(v||!mt):L?Tt=Ct&&st&&!mt&&(v||!Bt):mt||Bt?Tt=!1:Tt=v?K<=l:K<l;Tt?m=Y+1:x=Y}return Be(x,Z)}function _p(a,l){for(var h=-1,v=a.length,m=0,x=[];++h<v;){var C=a[h],R=l?l(C):C;if(!h||!zr(R,L)){var L=R;x[m++]=C===0?0:C}}return x}function yp(a){return typeof a=="number"?a:ur(a)?Ot:+a}function cr(a){if(typeof a=="string")return a;if(Ft(a))return ve(a,cr)+"";if(ur(a))return Jd?Jd.call(a):"";var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function Bn(a,l,h){var v=-1,m=Ss,x=a.length,C=!0,R=[],L=R;if(h)C=!1,m=Uc;else if(x>=o){var U=l?null:Tx(a);if(U)return Ls(U);C=!1,m=ua,L=new Eo}else L=l?[]:R;t:for(;++v<x;){var Y=a[v],K=l?l(Y):Y;if(Y=h||Y!==0?Y:0,C&&K===K){for(var st=L.length;st--;)if(L[st]===K)continue t;l&&L.push(K),R.push(Y)}else m(L,K,h)||(L!==R&&L.push(K),R.push(Y))}return R}function pu(a,l){return l=Wn(l,a),a=Kp(a,l),a==null||delete a[Qr(kr(l))]}function xp(a,l,h,v){return ya(a,l,h(To(a,l)),v)}function Qs(a,l,h,v){for(var m=a.length,x=v?m:-1;(v?x--:++x<m)&&l(a[x],x,a););return h?wr(a,v?0:x,v?x+1:m):wr(a,v?x+1:0,v?m:x)}function wp(a,l){var h=a;return h instanceof Ht&&(h=h.value()),Yc(l,function(v,m){return m.func.apply(m.thisArg,Dn([v],m.args))},h)}function gu(a,l,h){var v=a.length;if(v<2)return v?Bn(a[0]):[];for(var m=-1,x=N(v);++m<v;)for(var C=a[m],R=-1;++R<v;)R!=m&&(x[m]=ba(x[m]||C,a[R],l,h));return Bn(Ne(x,1),l,h)}function kp(a,l,h){for(var v=-1,m=a.length,x=l.length,C={};++v<m;){var R=v<x?l[v]:t;h(C,a[v],R)}return C}function vu(a){return ke(a)?a:[]}function bu(a){return typeof a=="function"?a:rr}function Wn(a,l){return Ft(a)?a:Tu(a,l)?[a]:Jp(oe(a))}var vx=Wt;function Un(a,l,h){var v=a.length;return h=h===t?v:h,!l&&h>=v?a:wr(a,l,h)}var Ep=ny||function(a){return De.clearTimeout(a)};function Cp(a,l){if(l)return a.slice();var h=a.length,v=Hd?Hd(h):new a.constructor(h);return a.copy(v),v}function mu(a){var l=new a.constructor(a.byteLength);return new Gs(l).set(new Gs(a)),l}function bx(a,l){var h=l?mu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function mx(a){var l=new a.constructor(a.source,Ts.exec(a));return l.lastIndex=a.lastIndex,l}function _x(a){return ga?le(ga.call(a)):{}}function Tp(a,l){var h=l?mu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function Rp(a,l){if(a!==l){var h=a!==t,v=a===null,m=a===a,x=ur(a),C=l!==t,R=l===null,L=l===l,U=ur(l);if(!R&&!U&&!x&&a>l||x&&C&&L&&!R&&!U||v&&C&&L||!h&&L||!m)return 1;if(!v&&!x&&!U&&a<l||U&&h&&m&&!v&&!x||R&&h&&m||!C&&m||!L)return-1}return 0}function yx(a,l,h){for(var v=-1,m=a.criteria,x=l.criteria,C=m.length,R=h.length;++v<C;){var L=Rp(m[v],x[v]);if(L){if(v>=R)return L;var U=h[v];return L*(U=="desc"?-1:1)}}return a.index-l.index}function Ap(a,l,h,v){for(var m=-1,x=a.length,C=h.length,R=-1,L=l.length,U=Oe(x-C,0),Y=N(L+U),K=!v;++R<L;)Y[R]=l[R];for(;++m<C;)(K||m<x)&&(Y[h[m]]=a[m]);for(;U--;)Y[R++]=a[m++];return Y}function Ip(a,l,h,v){for(var m=-1,x=a.length,C=-1,R=h.length,L=-1,U=l.length,Y=Oe(x-R,0),K=N(Y+U),st=!v;++m<Y;)K[m]=a[m];for(var mt=m;++L<U;)K[mt+L]=l[L];for(;++C<R;)(st||m<x)&&(K[mt+h[C]]=a[m++]);return K}function Qe(a,l){var h=-1,v=a.length;for(l||(l=N(v));++h<v;)l[h]=a[h];return l}function Jr(a,l,h,v){var m=!h;h||(h={});for(var x=-1,C=l.length;++x<C;){var R=l[x],L=v?v(h[R],a[R],R,h,a):t;L===t&&(L=a[R]),m?hn(h,R,L):va(h,R,L)}return h}function xx(a,l){return Jr(a,Cu(a),l)}function wx(a,l){return Jr(a,Up(a),l)}function tl(a,l){return function(h,v){var m=Ft(h)?R_:Xy,x=l?l():{};return m(h,a,wt(v,2),x)}}function pi(a){return Wt(function(l,h){var v=-1,m=h.length,x=m>1?h[m-1]:t,C=m>2?h[2]:t;for(x=a.length>3&&typeof x=="function"?(m--,x):t,C&&Ke(h[0],h[1],C)&&(x=m<3?t:x,m=1),l=le(l);++v<m;){var R=h[v];R&&a(l,R,v,x)}return l})}function Op(a,l){return function(h,v){if(h==null)return h;if(!tr(h))return a(h,v);for(var m=h.length,x=l?m:-1,C=le(h);(l?x--:++x<m)&&v(C[x],x,C)!==!1;);return h}}function Sp(a){return function(l,h,v){for(var m=-1,x=le(l),C=v(l),R=C.length;R--;){var L=C[a?R:++m];if(h(x[L],L,x)===!1)break}return l}}function kx(a,l,h){var v=l&k,m=xa(a);function x(){var C=this&&this!==De&&this instanceof x?m:a;return C.apply(v?h:this,arguments)}return x}function Pp(a){return function(l){l=oe(l);var h=si(l)?Dr(l):t,v=h?h[0]:l.charAt(0),m=h?Un(h,1).join(""):l.slice(1);return v[a]()+m}}function gi(a){return function(l){return Yc(Og(Ig(l).replace(d_,"")),a,"")}}function xa(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=di(a.prototype),v=a.apply(h,l);return me(v)?v:h}}function Ex(a,l,h){var v=xa(a);function m(){for(var x=arguments.length,C=N(x),R=x,L=vi(m);R--;)C[R]=arguments[R];var U=x<3&&C[0]!==L&&C[x-1]!==L?[]:Nn(C,L);if(x-=U.length,x<h)return Np(a,l,el,m.placeholder,t,C,U,t,t,h-x);var Y=this&&this!==De&&this instanceof m?v:a;return sr(Y,this,C)}return m}function Lp(a){return function(l,h,v){var m=le(l);if(!tr(l)){var x=wt(h,3);l=Se(l),h=function(R){return x(m[R],R,m)}}var C=a(l,h,v);return C>-1?m[x?l[C]:C]:t}}function Mp(a){return pn(function(l){var h=l.length,v=h,m=yr.prototype.thru;for(a&&l.reverse();v--;){var x=l[v];if(typeof x!="function")throw new _r(s);if(m&&!C&&il(x)=="wrapper")var C=new yr([],!0)}for(v=C?v:h;++v<h;){x=l[v];var R=il(x),L=R=="wrapper"?ku(x):t;L&&Ru(L[0])&&L[1]==(G|O|D|F)&&!L[4].length&&L[9]==1?C=C[il(L[0])].apply(C,L[3]):C=x.length==1&&Ru(x)?C[R]():C.thru(x)}return function(){var U=arguments,Y=U[0];if(C&&U.length==1&&Ft(Y))return C.plant(Y).value();for(var K=0,st=h?l[K].apply(this,U):Y;++K<h;)st=l[K].call(this,st);return st}})}function el(a,l,h,v,m,x,C,R,L,U){var Y=l&G,K=l&k,st=l&T,mt=l&(O|P),Ct=l&j,Bt=st?t:xa(a);function Tt(){for(var Vt=arguments.length,$t=N(Vt),fr=Vt;fr--;)$t[fr]=arguments[fr];if(mt)var Ze=vi(Tt),hr=D_($t,Ze);if(v&&($t=Ap($t,v,m,mt)),x&&($t=Ip($t,x,C,mt)),Vt-=hr,mt&&Vt<U){var Ee=Nn($t,Ze);return Np(a,l,el,Tt.placeholder,h,$t,Ee,R,L,U-Vt)}var Gr=K?h:this,mn=st?Gr[a]:a;return Vt=$t.length,R?$t=Xx($t,R):Ct&&Vt>1&&$t.reverse(),Y&&L<Vt&&($t.length=L),this&&this!==De&&this instanceof Tt&&(mn=Bt||xa(mn)),mn.apply(Gr,$t)}return Tt}function Fp(a,l){return function(h,v){return Jy(h,a,l(v),{})}}function rl(a,l){return function(h,v){var m;if(h===t&&v===t)return l;if(h!==t&&(m=h),v!==t){if(m===t)return v;typeof h=="string"||typeof v=="string"?(h=cr(h),v=cr(v)):(h=yp(h),v=yp(v)),m=a(h,v)}return m}}function _u(a){return pn(function(l){return l=ve(l,lr(wt())),Wt(function(h){var v=this;return a(l,function(m){return sr(m,v,h)})})})}function nl(a,l){l=l===t?" ":cr(l);var h=l.length;if(h<2)return h?hu(l,a):l;var v=hu(l,Ys(a/li(l)));return si(l)?Un(Dr(v),0,a).join(""):v.slice(0,a)}function Cx(a,l,h,v){var m=l&k,x=xa(a);function C(){for(var R=-1,L=arguments.length,U=-1,Y=v.length,K=N(Y+L),st=this&&this!==De&&this instanceof C?x:a;++U<Y;)K[U]=v[U];for(;L--;)K[U++]=arguments[++R];return sr(st,m?h:this,K)}return C}function Dp(a){return function(l,h,v){return v&&typeof v!="number"&&Ke(l,h,v)&&(h=v=t),l=bn(l),h===t?(h=l,l=0):h=bn(h),v=v===t?l<h?1:-1:bn(v),ux(l,h,v,a)}}function ol(a){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Er(l),h=Er(h)),a(l,h)}}function Np(a,l,h,v,m,x,C,R,L,U){var Y=l&O,K=Y?C:t,st=Y?t:C,mt=Y?x:t,Ct=Y?t:x;l|=Y?D:X,l&=~(Y?X:D),l&A||(l&=~(k|T));var Bt=[a,l,m,mt,K,Ct,st,R,L,U],Tt=h.apply(t,Bt);return Ru(a)&&Zp(Tt,Bt),Tt.placeholder=v,$p(Tt,a,l)}function yu(a){var l=Ie[a];return function(h,v){if(h=Er(h),v=v==null?0:Be(Gt(v),292),v&&$d(h)){var m=(oe(h)+"e").split("e"),x=l(m[0]+"e"+(+m[1]+v));return m=(oe(x)+"e").split("e"),+(m[0]+"e"+(+m[1]-v))}return l(h)}}var Tx=fi&&1/Ls(new fi([,-0]))[1]==tt?function(a){return new fi(a)}:Uu;function zp(a){return function(l){var h=We(l);return h==I?$c(l):h==q?Y_(l):F_(l,a(l))}}function dn(a,l,h,v,m,x,C,R){var L=l&T;if(!L&&typeof a!="function")throw new _r(s);var U=v?v.length:0;if(U||(l&=~(D|X),v=m=t),C=C===t?C:Oe(Gt(C),0),R=R===t?R:Gt(R),U-=m?m.length:0,l&X){var Y=v,K=m;v=m=t}var st=L?t:ku(a),mt=[a,l,h,v,m,Y,K,x,C,R];if(st&&Wx(mt,st),a=mt[0],l=mt[1],h=mt[2],v=mt[3],m=mt[4],R=mt[9]=mt[9]===t?L?0:a.length:Oe(mt[9]-U,0),!R&&l&(O|P)&&(l&=~(O|P)),!l||l==k)var Ct=kx(a,l,h);else l==O||l==P?Ct=Ex(a,l,R):(l==D||l==(k|D))&&!m.length?Ct=Cx(a,l,h,v):Ct=el.apply(t,mt);var Bt=st?mp:Zp;return $p(Bt(Ct,mt),a,l)}function Gp(a,l,h,v){return a===t||zr(a,ui[h])&&!ie.call(v,h)?l:a}function Bp(a,l,h,v,m,x){return me(a)&&me(l)&&(x.set(l,a),qs(a,l,t,Bp,x),x.delete(l)),a}function Rx(a){return Ea(a)?t:a}function Wp(a,l,h,v,m,x){var C=h&_,R=a.length,L=l.length;if(R!=L&&!(C&&L>R))return!1;var U=x.get(a),Y=x.get(l);if(U&&Y)return U==l&&Y==a;var K=-1,st=!0,mt=h&w?new Eo:t;for(x.set(a,l),x.set(l,a);++K<R;){var Ct=a[K],Bt=l[K];if(v)var Tt=C?v(Bt,Ct,K,l,a,x):v(Ct,Bt,K,a,l,x);if(Tt!==t){if(Tt)continue;st=!1;break}if(mt){if(!Xc(l,function(Vt,$t){if(!ua(mt,$t)&&(Ct===Vt||m(Ct,Vt,h,v,x)))return mt.push($t)})){st=!1;break}}else if(!(Ct===Bt||m(Ct,Bt,h,v,x))){st=!1;break}}return x.delete(a),x.delete(l),st}function Ax(a,l,h,v,m,x,C){switch(h){case Lt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Pt:return!(a.byteLength!=l.byteLength||!x(new Gs(a),new Gs(l)));case it:case It:case M:return zr(+a,+l);case yt:return a.name==l.name&&a.message==l.message;case $:case H:return a==l+"";case I:var R=$c;case q:var L=v&_;if(R||(R=Ls),a.size!=l.size&&!L)return!1;var U=C.get(a);if(U)return U==l;v|=w,C.set(a,l);var Y=Wp(R(a),R(l),v,m,x,C);return C.delete(a),Y;case pt:if(ga)return ga.call(a)==ga.call(l)}return!1}function Ix(a,l,h,v,m,x){var C=h&_,R=xu(a),L=R.length,U=xu(l),Y=U.length;if(L!=Y&&!C)return!1;for(var K=L;K--;){var st=R[K];if(!(C?st in l:ie.call(l,st)))return!1}var mt=x.get(a),Ct=x.get(l);if(mt&&Ct)return mt==l&&Ct==a;var Bt=!0;x.set(a,l),x.set(l,a);for(var Tt=C;++K<L;){st=R[K];var Vt=a[st],$t=l[st];if(v)var fr=C?v($t,Vt,st,l,a,x):v(Vt,$t,st,a,l,x);if(!(fr===t?Vt===$t||m(Vt,$t,h,v,x):fr)){Bt=!1;break}Tt||(Tt=st=="constructor")}if(Bt&&!Tt){var Ze=a.constructor,hr=l.constructor;Ze!=hr&&"constructor"in a&&"constructor"in l&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof hr=="function"&&hr instanceof hr)&&(Bt=!1)}return x.delete(a),x.delete(l),Bt}function pn(a){return Iu(jp(a,t,rg),a+"")}function xu(a){return sp(a,Se,Cu)}function wu(a){return sp(a,er,Up)}var ku=Vs?function(a){return Vs.get(a)}:Uu;function il(a){for(var l=a.name+"",h=hi[l],v=ie.call(hi,l)?h.length:0;v--;){var m=h[v],x=m.func;if(x==null||x==a)return m.name}return l}function vi(a){var l=ie.call(y,"placeholder")?y:a;return l.placeholder}function wt(){var a=y.iteratee||Bu;return a=a===Bu?up:a,arguments.length?a(arguments[0],arguments[1]):a}function al(a,l){var h=a.__data__;return Nx(l)?h[typeof l=="string"?"string":"hash"]:h.map}function Eu(a){for(var l=Se(a),h=l.length;h--;){var v=l[h],m=a[v];l[h]=[v,m,Vp(m)]}return l}function Ro(a,l){var h=B_(a,l);return cp(h)?h:t}function Ox(a){var l=ie.call(a,wo),h=a[wo];try{a[wo]=t;var v=!0}catch{}var m=Ns.call(a);return v&&(l?a[wo]=h:delete a[wo]),m}var Cu=Jc?function(a){return a==null?[]:(a=le(a),Fn(Jc(a),function(l){return Kd.call(a,l)}))}:Yu,Up=Jc?function(a){for(var l=[];a;)Dn(l,Cu(a)),a=Bs(a);return l}:Yu,We=je;(Qc&&We(new Qc(new ArrayBuffer(1)))!=Lt||ha&&We(new ha)!=I||tu&&We(tu.resolve())!=Q||fi&&We(new fi)!=q||da&&We(new da)!=vt)&&(We=function(a){var l=je(a),h=l==W?a.constructor:t,v=h?Ao(h):"";if(v)switch(v){case hy:return Lt;case dy:return I;case py:return Q;case gy:return q;case vy:return vt}return l});function Sx(a,l,h){for(var v=-1,m=h.length;++v<m;){var x=h[v],C=x.size;switch(x.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=Be(l,a+C);break;case"takeRight":a=Oe(a,l-C);break}}return{start:a,end:l}}function Px(a){var l=a.match($r);return l?l[1].split(ni):[]}function Yp(a,l,h){l=Wn(l,a);for(var v=-1,m=l.length,x=!1;++v<m;){var C=Qr(l[v]);if(!(x=a!=null&&h(a,C)))break;a=a[C]}return x||++v!=m?x:(m=a==null?0:a.length,!!m&&dl(m)&&gn(C,m)&&(Ft(a)||Io(a)))}function Lx(a){var l=a.length,h=new a.constructor(l);return l&&typeof a[0]=="string"&&ie.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function Xp(a){return typeof a.constructor=="function"&&!wa(a)?di(Bs(a)):{}}function Mx(a,l,h){var v=a.constructor;switch(l){case Pt:return mu(a);case it:case It:return new v(+a);case Lt:return bx(a,h);case Nt:case Xt:case we:case de:case Fr:case se:case ar:case pe:case Fe:return Tp(a,h);case I:return new v;case M:case H:return new v(a);case $:return mx(a);case q:return new v;case pt:return _x(a)}}function Fx(a,l){var h=l.length;if(!h)return a;var v=h-1;return l[v]=(h>1?"& ":"")+l[v],l=l.join(h>2?", ":" "),a.replace(yo,`{
/* [wrapped with `+l+`] */
`)}function Dx(a){return Ft(a)||Io(a)||!!(Zd&&a&&a[Zd])}function gn(a,l){var h=typeof a;return l=l==null?ct:l,!!l&&(h=="number"||h!="symbol"&&K0.test(a))&&a>-1&&a%1==0&&a<l}function Ke(a,l,h){if(!me(h))return!1;var v=typeof l;return(v=="number"?tr(h)&&gn(l,h.length):v=="string"&&l in h)?zr(h[l],a):!1}function Tu(a,l){if(Ft(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||ur(a)?!0:mo.test(a)||!bo.test(a)||l!=null&&a in le(l)}function Nx(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Ru(a){var l=il(a),h=y[l];if(typeof h!="function"||!(l in Ht.prototype))return!1;if(a===h)return!0;var v=ku(h);return!!v&&a===v[0]}function zx(a){return!!Vd&&Vd in a}var Gx=Fs?vn:Xu;function wa(a){var l=a&&a.constructor,h=typeof l=="function"&&l.prototype||ui;return a===h}function Vp(a){return a===a&&!me(a)}function Hp(a,l){return function(h){return h==null?!1:h[a]===l&&(l!==t||a in le(h))}}function Bx(a){var l=fl(a,function(v){return h.size===f&&h.clear(),v}),h=l.cache;return l}function Wx(a,l){var h=a[1],v=l[1],m=h|v,x=m<(k|T|G),C=v==G&&h==O||v==G&&h==F&&a[7].length<=l[8]||v==(G|F)&&l[7].length<=l[8]&&h==O;if(!(x||C))return a;v&k&&(a[2]=l[2],m|=h&k?0:A);var R=l[3];if(R){var L=a[3];a[3]=L?Ap(L,R,l[4]):R,a[4]=L?Nn(a[3],d):l[4]}return R=l[5],R&&(L=a[5],a[5]=L?Ip(L,R,l[6]):R,a[6]=L?Nn(a[5],d):l[6]),R=l[7],R&&(a[7]=R),v&G&&(a[8]=a[8]==null?l[8]:Be(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=m,a}function Ux(a){var l=[];if(a!=null)for(var h in le(a))l.push(h);return l}function Yx(a){return Ns.call(a)}function jp(a,l,h){return l=Oe(l===t?a.length-1:l,0),function(){for(var v=arguments,m=-1,x=Oe(v.length-l,0),C=N(x);++m<x;)C[m]=v[l+m];m=-1;for(var R=N(l+1);++m<l;)R[m]=v[m];return R[l]=h(C),sr(a,this,R)}}function Kp(a,l){return l.length<2?a:To(a,wr(l,0,-1))}function Xx(a,l){for(var h=a.length,v=Be(l.length,h),m=Qe(a);v--;){var x=l[v];a[v]=gn(x,h)?m[x]:t}return a}function Au(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var Zp=qp(mp),ka=iy||function(a,l){return De.setTimeout(a,l)},Iu=qp(dx);function $p(a,l,h){var v=l+"";return Iu(a,Fx(v,Vx(Px(v),h)))}function qp(a){var l=0,h=0;return function(){var v=cy(),m=ft-(v-h);if(h=v,m>0){if(++l>=ut)return arguments[0]}else l=0;return a.apply(t,arguments)}}function sl(a,l){var h=-1,v=a.length,m=v-1;for(l=l===t?v:l;++h<l;){var x=fu(h,m),C=a[x];a[x]=a[h],a[h]=C}return a.length=l,a}var Jp=Bx(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Cs,function(h,v,m,x){l.push(m?x.replace(Je,"$1"):v||h)}),l});function Qr(a){if(typeof a=="string"||ur(a))return a;var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function Ao(a){if(a!=null){try{return Ds.call(a)}catch{}try{return a+""}catch{}}return""}function Vx(a,l){return mr(kt,function(h){var v="_."+h[0];l&h[1]&&!Ss(a,v)&&a.push(v)}),a.sort()}function Qp(a){if(a instanceof Ht)return a.clone();var l=new yr(a.__wrapped__,a.__chain__);return l.__actions__=Qe(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Hx(a,l,h){(h?Ke(a,l,h):l===t)?l=1:l=Oe(Gt(l),0);var v=a==null?0:a.length;if(!v||l<1)return[];for(var m=0,x=0,C=N(Ys(v/l));m<v;)C[x++]=wr(a,m,m+=l);return C}function jx(a){for(var l=-1,h=a==null?0:a.length,v=0,m=[];++l<h;){var x=a[l];x&&(m[v++]=x)}return m}function Kx(){var a=arguments.length;if(!a)return[];for(var l=N(a-1),h=arguments[0],v=a;v--;)l[v-1]=arguments[v];return Dn(Ft(h)?Qe(h):[h],Ne(l,1))}var Zx=Wt(function(a,l){return ke(a)?ba(a,Ne(l,1,ke,!0)):[]}),$x=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?ba(a,Ne(l,1,ke,!0),wt(h,2)):[]}),qx=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?ba(a,Ne(l,1,ke,!0),t,h):[]});function Jx(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),wr(a,l<0?0:l,v)):[]}function Qx(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),l=v-l,wr(a,0,l<0?0:l)):[]}function tw(a,l){return a&&a.length?Qs(a,wt(l,3),!0,!0):[]}function ew(a,l){return a&&a.length?Qs(a,wt(l,3),!0):[]}function rw(a,l,h,v){var m=a==null?0:a.length;return m?(h&&typeof h!="number"&&Ke(a,l,h)&&(h=0,v=m),Ky(a,l,h,v)):[]}function tg(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=h==null?0:Gt(h);return m<0&&(m=Oe(v+m,0)),Ps(a,wt(l,3),m)}function eg(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=v-1;return h!==t&&(m=Gt(h),m=h<0?Oe(v+m,0):Be(m,v-1)),Ps(a,wt(l,3),m,!0)}function rg(a){var l=a==null?0:a.length;return l?Ne(a,1):[]}function nw(a){var l=a==null?0:a.length;return l?Ne(a,tt):[]}function ow(a,l){var h=a==null?0:a.length;return h?(l=l===t?1:Gt(l),Ne(a,l)):[]}function iw(a){for(var l=-1,h=a==null?0:a.length,v={};++l<h;){var m=a[l];v[m[0]]=m[1]}return v}function ng(a){return a&&a.length?a[0]:t}function aw(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=h==null?0:Gt(h);return m<0&&(m=Oe(v+m,0)),ai(a,l,m)}function sw(a){var l=a==null?0:a.length;return l?wr(a,0,-1):[]}var lw=Wt(function(a){var l=ve(a,vu);return l.length&&l[0]===a[0]?au(l):[]}),cw=Wt(function(a){var l=kr(a),h=ve(a,vu);return l===kr(h)?l=t:h.pop(),h.length&&h[0]===a[0]?au(h,wt(l,2)):[]}),uw=Wt(function(a){var l=kr(a),h=ve(a,vu);return l=typeof l=="function"?l:t,l&&h.pop(),h.length&&h[0]===a[0]?au(h,t,l):[]});function fw(a,l){return a==null?"":sy.call(a,l)}function kr(a){var l=a==null?0:a.length;return l?a[l-1]:t}function hw(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=v;return h!==t&&(m=Gt(h),m=m<0?Oe(v+m,0):Be(m,v-1)),l===l?V_(a,l,m):Ps(a,Nd,m,!0)}function dw(a,l){return a&&a.length?pp(a,Gt(l)):t}var pw=Wt(og);function og(a,l){return a&&a.length&&l&&l.length?uu(a,l):a}function gw(a,l,h){return a&&a.length&&l&&l.length?uu(a,l,wt(h,2)):a}function vw(a,l,h){return a&&a.length&&l&&l.length?uu(a,l,t,h):a}var bw=pn(function(a,l){var h=a==null?0:a.length,v=ru(a,l);return bp(a,ve(l,function(m){return gn(m,h)?+m:m}).sort(Rp)),v});function mw(a,l){var h=[];if(!(a&&a.length))return h;var v=-1,m=[],x=a.length;for(l=wt(l,3);++v<x;){var C=a[v];l(C,v,a)&&(h.push(C),m.push(v))}return bp(a,m),h}function Ou(a){return a==null?a:fy.call(a)}function _w(a,l,h){var v=a==null?0:a.length;return v?(h&&typeof h!="number"&&Ke(a,l,h)?(l=0,h=v):(l=l==null?0:Gt(l),h=h===t?v:Gt(h)),wr(a,l,h)):[]}function yw(a,l){return Js(a,l)}function xw(a,l,h){return du(a,l,wt(h,2))}function ww(a,l){var h=a==null?0:a.length;if(h){var v=Js(a,l);if(v<h&&zr(a[v],l))return v}return-1}function kw(a,l){return Js(a,l,!0)}function Ew(a,l,h){return du(a,l,wt(h,2),!0)}function Cw(a,l){var h=a==null?0:a.length;if(h){var v=Js(a,l,!0)-1;if(zr(a[v],l))return v}return-1}function Tw(a){return a&&a.length?_p(a):[]}function Rw(a,l){return a&&a.length?_p(a,wt(l,2)):[]}function Aw(a){var l=a==null?0:a.length;return l?wr(a,1,l):[]}function Iw(a,l,h){return a&&a.length?(l=h||l===t?1:Gt(l),wr(a,0,l<0?0:l)):[]}function Ow(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),l=v-l,wr(a,l<0?0:l,v)):[]}function Sw(a,l){return a&&a.length?Qs(a,wt(l,3),!1,!0):[]}function Pw(a,l){return a&&a.length?Qs(a,wt(l,3)):[]}var Lw=Wt(function(a){return Bn(Ne(a,1,ke,!0))}),Mw=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),Bn(Ne(a,1,ke,!0),wt(l,2))}),Fw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,Bn(Ne(a,1,ke,!0),t,l)});function Dw(a){return a&&a.length?Bn(a):[]}function Nw(a,l){return a&&a.length?Bn(a,wt(l,2)):[]}function zw(a,l){return l=typeof l=="function"?l:t,a&&a.length?Bn(a,t,l):[]}function Su(a){if(!(a&&a.length))return[];var l=0;return a=Fn(a,function(h){if(ke(h))return l=Oe(h.length,l),!0}),Kc(l,function(h){return ve(a,Vc(h))})}function ig(a,l){if(!(a&&a.length))return[];var h=Su(a);return l==null?h:ve(h,function(v){return sr(l,t,v)})}var Gw=Wt(function(a,l){return ke(a)?ba(a,l):[]}),Bw=Wt(function(a){return gu(Fn(a,ke))}),Ww=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),gu(Fn(a,ke),wt(l,2))}),Uw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,gu(Fn(a,ke),t,l)}),Yw=Wt(Su);function Xw(a,l){return kp(a||[],l||[],va)}function Vw(a,l){return kp(a||[],l||[],ya)}var Hw=Wt(function(a){var l=a.length,h=l>1?a[l-1]:t;return h=typeof h=="function"?(a.pop(),h):t,ig(a,h)});function ag(a){var l=y(a);return l.__chain__=!0,l}function jw(a,l){return l(a),a}function ll(a,l){return l(a)}var Kw=pn(function(a){var l=a.length,h=l?a[0]:0,v=this.__wrapped__,m=function(x){return ru(x,a)};return l>1||this.__actions__.length||!(v instanceof Ht)||!gn(h)?this.thru(m):(v=v.slice(h,+h+(l?1:0)),v.__actions__.push({func:ll,args:[m],thisArg:t}),new yr(v,this.__chain__).thru(function(x){return l&&!x.length&&x.push(t),x}))});function Zw(){return ag(this)}function $w(){return new yr(this.value(),this.__chain__)}function qw(){this.__values__===t&&(this.__values__=yg(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function Jw(){return this}function Qw(a){for(var l,h=this;h instanceof js;){var v=Qp(h);v.__index__=0,v.__values__=t,l?m.__wrapped__=v:l=v;var m=v;h=h.__wrapped__}return m.__wrapped__=a,l}function t1(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:ll,args:[Ou],thisArg:t}),new yr(l,this.__chain__)}return this.thru(Ou)}function e1(){return wp(this.__wrapped__,this.__actions__)}var r1=tl(function(a,l,h){ie.call(a,h)?++a[h]:hn(a,h,1)});function n1(a,l,h){var v=Ft(a)?Fd:jy;return h&&Ke(a,l,h)&&(l=t),v(a,wt(l,3))}function o1(a,l){var h=Ft(a)?Fn:ip;return h(a,wt(l,3))}var i1=Lp(tg),a1=Lp(eg);function s1(a,l){return Ne(cl(a,l),1)}function l1(a,l){return Ne(cl(a,l),tt)}function c1(a,l,h){return h=h===t?1:Gt(h),Ne(cl(a,l),h)}function sg(a,l){var h=Ft(a)?mr:Gn;return h(a,wt(l,3))}function lg(a,l){var h=Ft(a)?A_:op;return h(a,wt(l,3))}var u1=tl(function(a,l,h){ie.call(a,h)?a[h].push(l):hn(a,h,[l])});function f1(a,l,h,v){a=tr(a)?a:mi(a),h=h&&!v?Gt(h):0;var m=a.length;return h<0&&(h=Oe(m+h,0)),pl(a)?h<=m&&a.indexOf(l,h)>-1:!!m&&ai(a,l,h)>-1}var h1=Wt(function(a,l,h){var v=-1,m=typeof l=="function",x=tr(a)?N(a.length):[];return Gn(a,function(C){x[++v]=m?sr(l,C,h):ma(C,l,h)}),x}),d1=tl(function(a,l,h){hn(a,h,l)});function cl(a,l){var h=Ft(a)?ve:fp;return h(a,wt(l,3))}function p1(a,l,h,v){return a==null?[]:(Ft(l)||(l=l==null?[]:[l]),h=v?t:h,Ft(h)||(h=h==null?[]:[h]),gp(a,l,h))}var g1=tl(function(a,l,h){a[h?0:1].push(l)},function(){return[[],[]]});function v1(a,l,h){var v=Ft(a)?Yc:Gd,m=arguments.length<3;return v(a,wt(l,4),h,m,Gn)}function b1(a,l,h){var v=Ft(a)?I_:Gd,m=arguments.length<3;return v(a,wt(l,4),h,m,op)}function m1(a,l){var h=Ft(a)?Fn:ip;return h(a,hl(wt(l,3)))}function _1(a){var l=Ft(a)?tp:fx;return l(a)}function y1(a,l,h){(h?Ke(a,l,h):l===t)?l=1:l=Gt(l);var v=Ft(a)?Uy:hx;return v(a,l)}function x1(a){var l=Ft(a)?Yy:px;return l(a)}function w1(a){if(a==null)return 0;if(tr(a))return pl(a)?li(a):a.length;var l=We(a);return l==I||l==q?a.size:lu(a).length}function k1(a,l,h){var v=Ft(a)?Xc:gx;return h&&Ke(a,l,h)&&(l=t),v(a,wt(l,3))}var E1=Wt(function(a,l){if(a==null)return[];var h=l.length;return h>1&&Ke(a,l[0],l[1])?l=[]:h>2&&Ke(l[0],l[1],l[2])&&(l=[l[0]]),gp(a,Ne(l,1),[])}),ul=oy||function(){return De.Date.now()};function C1(a,l){if(typeof l!="function")throw new _r(s);return a=Gt(a),function(){if(--a<1)return l.apply(this,arguments)}}function cg(a,l,h){return l=h?t:l,l=a&&l==null?a.length:l,dn(a,G,t,t,t,t,l)}function ug(a,l){var h;if(typeof l!="function")throw new _r(s);return a=Gt(a),function(){return--a>0&&(h=l.apply(this,arguments)),a<=1&&(l=t),h}}var Pu=Wt(function(a,l,h){var v=k;if(h.length){var m=Nn(h,vi(Pu));v|=D}return dn(a,v,l,h,m)}),fg=Wt(function(a,l,h){var v=k|T;if(h.length){var m=Nn(h,vi(fg));v|=D}return dn(l,v,a,h,m)});function hg(a,l,h){l=h?t:l;var v=dn(a,O,t,t,t,t,t,l);return v.placeholder=hg.placeholder,v}function dg(a,l,h){l=h?t:l;var v=dn(a,P,t,t,t,t,t,l);return v.placeholder=dg.placeholder,v}function pg(a,l,h){var v,m,x,C,R,L,U=0,Y=!1,K=!1,st=!0;if(typeof a!="function")throw new _r(s);l=Er(l)||0,me(h)&&(Y=!!h.leading,K="maxWait"in h,x=K?Oe(Er(h.maxWait)||0,l):x,st="trailing"in h?!!h.trailing:st);function mt(Ee){var Gr=v,mn=m;return v=m=t,U=Ee,C=a.apply(mn,Gr),C}function Ct(Ee){return U=Ee,R=ka(Vt,l),Y?mt(Ee):C}function Bt(Ee){var Gr=Ee-L,mn=Ee-U,Lg=l-Gr;return K?Be(Lg,x-mn):Lg}function Tt(Ee){var Gr=Ee-L,mn=Ee-U;return L===t||Gr>=l||Gr<0||K&&mn>=x}function Vt(){var Ee=ul();if(Tt(Ee))return $t(Ee);R=ka(Vt,Bt(Ee))}function $t(Ee){return R=t,st&&v?mt(Ee):(v=m=t,C)}function fr(){R!==t&&Ep(R),U=0,v=L=m=R=t}function Ze(){return R===t?C:$t(ul())}function hr(){var Ee=ul(),Gr=Tt(Ee);if(v=arguments,m=this,L=Ee,Gr){if(R===t)return Ct(L);if(K)return Ep(R),R=ka(Vt,l),mt(L)}return R===t&&(R=ka(Vt,l)),C}return hr.cancel=fr,hr.flush=Ze,hr}var T1=Wt(function(a,l){return np(a,1,l)}),R1=Wt(function(a,l,h){return np(a,Er(l)||0,h)});function A1(a){return dn(a,j)}function fl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new _r(s);var h=function(){var v=arguments,m=l?l.apply(this,v):v[0],x=h.cache;if(x.has(m))return x.get(m);var C=a.apply(this,v);return h.cache=x.set(m,C)||x,C};return h.cache=new(fl.Cache||fn),h}fl.Cache=fn;function hl(a){if(typeof a!="function")throw new _r(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function I1(a){return ug(2,a)}var O1=vx(function(a,l){l=l.length==1&&Ft(l[0])?ve(l[0],lr(wt())):ve(Ne(l,1),lr(wt()));var h=l.length;return Wt(function(v){for(var m=-1,x=Be(v.length,h);++m<x;)v[m]=l[m].call(this,v[m]);return sr(a,this,v)})}),Lu=Wt(function(a,l){var h=Nn(l,vi(Lu));return dn(a,D,t,l,h)}),gg=Wt(function(a,l){var h=Nn(l,vi(gg));return dn(a,X,t,l,h)}),S1=pn(function(a,l){return dn(a,F,t,t,t,l)});function P1(a,l){if(typeof a!="function")throw new _r(s);return l=l===t?l:Gt(l),Wt(a,l)}function L1(a,l){if(typeof a!="function")throw new _r(s);return l=l==null?0:Oe(Gt(l),0),Wt(function(h){var v=h[l],m=Un(h,0,l);return v&&Dn(m,v),sr(a,this,m)})}function M1(a,l,h){var v=!0,m=!0;if(typeof a!="function")throw new _r(s);return me(h)&&(v="leading"in h?!!h.leading:v,m="trailing"in h?!!h.trailing:m),pg(a,l,{leading:v,maxWait:l,trailing:m})}function F1(a){return cg(a,1)}function D1(a,l){return Lu(bu(l),a)}function N1(){if(!arguments.length)return[];var a=arguments[0];return Ft(a)?a:[a]}function z1(a){return xr(a,b)}function G1(a,l){return l=typeof l=="function"?l:t,xr(a,b,l)}function B1(a){return xr(a,g|b)}function W1(a,l){return l=typeof l=="function"?l:t,xr(a,g|b,l)}function U1(a,l){return l==null||rp(a,l,Se(l))}function zr(a,l){return a===l||a!==a&&l!==l}var Y1=ol(iu),X1=ol(function(a,l){return a>=l}),Io=lp(function(){return arguments}())?lp:function(a){return ye(a)&&ie.call(a,"callee")&&!Kd.call(a,"callee")},Ft=N.isArray,V1=Id?lr(Id):Qy;function tr(a){return a!=null&&dl(a.length)&&!vn(a)}function ke(a){return ye(a)&&tr(a)}function H1(a){return a===!0||a===!1||ye(a)&&je(a)==it}var Yn=ay||Xu,j1=Od?lr(Od):tx;function K1(a){return ye(a)&&a.nodeType===1&&!Ea(a)}function Z1(a){if(a==null)return!0;if(tr(a)&&(Ft(a)||typeof a=="string"||typeof a.splice=="function"||Yn(a)||bi(a)||Io(a)))return!a.length;var l=We(a);if(l==I||l==q)return!a.size;if(wa(a))return!lu(a).length;for(var h in a)if(ie.call(a,h))return!1;return!0}function $1(a,l){return _a(a,l)}function q1(a,l,h){h=typeof h=="function"?h:t;var v=h?h(a,l):t;return v===t?_a(a,l,t,h):!!v}function Mu(a){if(!ye(a))return!1;var l=je(a);return l==yt||l==Zt||typeof a.message=="string"&&typeof a.name=="string"&&!Ea(a)}function J1(a){return typeof a=="number"&&$d(a)}function vn(a){if(!me(a))return!1;var l=je(a);return l==Et||l==E||l==J||l==nt}function vg(a){return typeof a=="number"&&a==Gt(a)}function dl(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ct}function me(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function ye(a){return a!=null&&typeof a=="object"}var bg=Sd?lr(Sd):rx;function Q1(a,l){return a===l||su(a,l,Eu(l))}function tk(a,l,h){return h=typeof h=="function"?h:t,su(a,l,Eu(l),h)}function ek(a){return mg(a)&&a!=+a}function rk(a){if(Gx(a))throw new Mt(i);return cp(a)}function nk(a){return a===null}function ok(a){return a==null}function mg(a){return typeof a=="number"||ye(a)&&je(a)==M}function Ea(a){if(!ye(a)||je(a)!=W)return!1;var l=Bs(a);if(l===null)return!0;var h=ie.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Ds.call(h)==ty}var Fu=Pd?lr(Pd):nx;function ik(a){return vg(a)&&a>=-ct&&a<=ct}var _g=Ld?lr(Ld):ox;function pl(a){return typeof a=="string"||!Ft(a)&&ye(a)&&je(a)==H}function ur(a){return typeof a=="symbol"||ye(a)&&je(a)==pt}var bi=Md?lr(Md):ix;function ak(a){return a===t}function sk(a){return ye(a)&&We(a)==vt}function lk(a){return ye(a)&&je(a)==xt}var ck=ol(cu),uk=ol(function(a,l){return a<=l});function yg(a){if(!a)return[];if(tr(a))return pl(a)?Dr(a):Qe(a);if(fa&&a[fa])return U_(a[fa]());var l=We(a),h=l==I?$c:l==q?Ls:mi;return h(a)}function bn(a){if(!a)return a===0?a:0;if(a=Er(a),a===tt||a===-tt){var l=a<0?-1:1;return l*_t}return a===a?a:0}function Gt(a){var l=bn(a),h=l%1;return l===l?h?l-h:l:0}function xg(a){return a?Co(Gt(a),0,St):0}function Er(a){if(typeof a=="number")return a;if(ur(a))return Ot;if(me(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=me(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Bd(a);var h=V0.test(a);return h||j0.test(a)?C_(a.slice(2),h?2:8):Rs.test(a)?Ot:+a}function wg(a){return Jr(a,er(a))}function fk(a){return a?Co(Gt(a),-ct,ct):a===0?a:0}function oe(a){return a==null?"":cr(a)}var hk=pi(function(a,l){if(wa(l)||tr(l)){Jr(l,Se(l),a);return}for(var h in l)ie.call(l,h)&&va(a,h,l[h])}),kg=pi(function(a,l){Jr(l,er(l),a)}),gl=pi(function(a,l,h,v){Jr(l,er(l),a,v)}),dk=pi(function(a,l,h,v){Jr(l,Se(l),a,v)}),pk=pn(ru);function gk(a,l){var h=di(a);return l==null?h:ep(h,l)}var vk=Wt(function(a,l){a=le(a);var h=-1,v=l.length,m=v>2?l[2]:t;for(m&&Ke(l[0],l[1],m)&&(v=1);++h<v;)for(var x=l[h],C=er(x),R=-1,L=C.length;++R<L;){var U=C[R],Y=a[U];(Y===t||zr(Y,ui[U])&&!ie.call(a,U))&&(a[U]=x[U])}return a}),bk=Wt(function(a){return a.push(t,Bp),sr(Eg,t,a)});function mk(a,l){return Dd(a,wt(l,3),qr)}function _k(a,l){return Dd(a,wt(l,3),ou)}function yk(a,l){return a==null?a:nu(a,wt(l,3),er)}function xk(a,l){return a==null?a:ap(a,wt(l,3),er)}function wk(a,l){return a&&qr(a,wt(l,3))}function kk(a,l){return a&&ou(a,wt(l,3))}function Ek(a){return a==null?[]:$s(a,Se(a))}function Ck(a){return a==null?[]:$s(a,er(a))}function Du(a,l,h){var v=a==null?t:To(a,l);return v===t?h:v}function Tk(a,l){return a!=null&&Yp(a,l,Zy)}function Nu(a,l){return a!=null&&Yp(a,l,$y)}var Rk=Fp(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ns.call(l)),a[l]=h},Gu(rr)),Ak=Fp(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ns.call(l)),ie.call(a,l)?a[l].push(h):a[l]=[h]},wt),Ik=Wt(ma);function Se(a){return tr(a)?Qd(a):lu(a)}function er(a){return tr(a)?Qd(a,!0):ax(a)}function Ok(a,l){var h={};return l=wt(l,3),qr(a,function(v,m,x){hn(h,l(v,m,x),v)}),h}function Sk(a,l){var h={};return l=wt(l,3),qr(a,function(v,m,x){hn(h,m,l(v,m,x))}),h}var Pk=pi(function(a,l,h){qs(a,l,h)}),Eg=pi(function(a,l,h,v){qs(a,l,h,v)}),Lk=pn(function(a,l){var h={};if(a==null)return h;var v=!1;l=ve(l,function(x){return x=Wn(x,a),v||(v=x.length>1),x}),Jr(a,wu(a),h),v&&(h=xr(h,g|p|b,Rx));for(var m=l.length;m--;)pu(h,l[m]);return h});function Mk(a,l){return Cg(a,hl(wt(l)))}var Fk=pn(function(a,l){return a==null?{}:lx(a,l)});function Cg(a,l){if(a==null)return{};var h=ve(wu(a),function(v){return[v]});return l=wt(l),vp(a,h,function(v,m){return l(v,m[0])})}function Dk(a,l,h){l=Wn(l,a);var v=-1,m=l.length;for(m||(m=1,a=t);++v<m;){var x=a==null?t:a[Qr(l[v])];x===t&&(v=m,x=h),a=vn(x)?x.call(a):x}return a}function Nk(a,l,h){return a==null?a:ya(a,l,h)}function zk(a,l,h,v){return v=typeof v=="function"?v:t,a==null?a:ya(a,l,h,v)}var Tg=zp(Se),Rg=zp(er);function Gk(a,l,h){var v=Ft(a),m=v||Yn(a)||bi(a);if(l=wt(l,4),h==null){var x=a&&a.constructor;m?h=v?new x:[]:me(a)?h=vn(x)?di(Bs(a)):{}:h={}}return(m?mr:qr)(a,function(C,R,L){return l(h,C,R,L)}),h}function Bk(a,l){return a==null?!0:pu(a,l)}function Wk(a,l,h){return a==null?a:xp(a,l,bu(h))}function Uk(a,l,h,v){return v=typeof v=="function"?v:t,a==null?a:xp(a,l,bu(h),v)}function mi(a){return a==null?[]:Zc(a,Se(a))}function Yk(a){return a==null?[]:Zc(a,er(a))}function Xk(a,l,h){return h===t&&(h=l,l=t),h!==t&&(h=Er(h),h=h===h?h:0),l!==t&&(l=Er(l),l=l===l?l:0),Co(Er(a),l,h)}function Vk(a,l,h){return l=bn(l),h===t?(h=l,l=0):h=bn(h),a=Er(a),qy(a,l,h)}function Hk(a,l,h){if(h&&typeof h!="boolean"&&Ke(a,l,h)&&(l=h=t),h===t&&(typeof l=="boolean"?(h=l,l=t):typeof a=="boolean"&&(h=a,a=t)),a===t&&l===t?(a=0,l=1):(a=bn(a),l===t?(l=a,a=0):l=bn(l)),a>l){var v=a;a=l,l=v}if(h||a%1||l%1){var m=qd();return Be(a+m*(l-a+E_("1e-"+((m+"").length-1))),l)}return fu(a,l)}var jk=gi(function(a,l,h){return l=l.toLowerCase(),a+(h?Ag(l):l)});function Ag(a){return zu(oe(a).toLowerCase())}function Ig(a){return a=oe(a),a&&a.replace(Z0,N_).replace(p_,"")}function Kk(a,l,h){a=oe(a),l=cr(l);var v=a.length;h=h===t?v:Co(Gt(h),0,v);var m=h;return h-=l.length,h>=0&&a.slice(h,m)==l}function Zk(a){return a=oe(a),a&&aa.test(a)?a.replace(ia,z_):a}function $k(a){return a=oe(a),a&&Mc.test(a)?a.replace(ri,"\\$&"):a}var qk=gi(function(a,l,h){return a+(h?"-":"")+l.toLowerCase()}),Jk=gi(function(a,l,h){return a+(h?" ":"")+l.toLowerCase()}),Qk=Pp("toLowerCase");function t5(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;if(!l||v>=l)return a;var m=(l-v)/2;return nl(Xs(m),h)+a+nl(Ys(m),h)}function e5(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;return l&&v<l?a+nl(l-v,h):a}function r5(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;return l&&v<l?nl(l-v,h)+a:a}function n5(a,l,h){return h||l==null?l=0:l&&(l=+l),uy(oe(a).replace(la,""),l||0)}function o5(a,l,h){return(h?Ke(a,l,h):l===t)?l=1:l=Gt(l),hu(oe(a),l)}function i5(){var a=arguments,l=oe(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var a5=gi(function(a,l,h){return a+(h?"_":"")+l.toLowerCase()});function s5(a,l,h){return h&&typeof h!="number"&&Ke(a,l,h)&&(l=h=t),h=h===t?St:h>>>0,h?(a=oe(a),a&&(typeof l=="string"||l!=null&&!Fu(l))&&(l=cr(l),!l&&si(a))?Un(Dr(a),0,h):a.split(l,h)):[]}var l5=gi(function(a,l,h){return a+(h?" ":"")+zu(l)});function c5(a,l,h){return a=oe(a),h=h==null?0:Co(Gt(h),0,a.length),l=cr(l),a.slice(h,h+l.length)==l}function u5(a,l,h){var v=y.templateSettings;h&&Ke(a,l,h)&&(l=t),a=oe(a),l=gl({},l,v,Gp);var m=gl({},l.imports,v.imports,Gp),x=Se(m),C=Zc(m,x),R,L,U=0,Y=l.interpolate||As,K="__p += '",st=qc((l.escape||As).source+"|"+Y.source+"|"+(Y===Mn?ca:As).source+"|"+(l.evaluate||As).source+"|$","g"),mt="//# sourceURL="+(ie.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++__+"]")+`
`;a.replace(st,function(Tt,Vt,$t,fr,Ze,hr){return $t||($t=fr),K+=a.slice(U,hr).replace($0,G_),Vt&&(R=!0,K+=`' +
__e(`+Vt+`) +
'`),Ze&&(L=!0,K+=`';
`+Ze+`;
__p += '`),$t&&(K+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),U=hr+Tt.length,Tt}),K+=`';
`;var Ct=ie.call(l,"variable")&&l.variable;if(!Ct)K=`with (obj) {
`+K+`
}
`;else if(Ge.test(Ct))throw new Mt(c);K=(L?K.replace(vo,""):K).replace(oa,"$1").replace(Lc,"$1;"),K="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var Bt=Sg(function(){return re(x,mt+"return "+K).apply(t,C)});if(Bt.source=K,Mu(Bt))throw Bt;return Bt}function f5(a){return oe(a).toLowerCase()}function h5(a){return oe(a).toUpperCase()}function d5(a,l,h){if(a=oe(a),a&&(h||l===t))return Bd(a);if(!a||!(l=cr(l)))return a;var v=Dr(a),m=Dr(l),x=Wd(v,m),C=Ud(v,m)+1;return Un(v,x,C).join("")}function p5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.slice(0,Xd(a)+1);if(!a||!(l=cr(l)))return a;var v=Dr(a),m=Ud(v,Dr(l))+1;return Un(v,0,m).join("")}function g5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.replace(la,"");if(!a||!(l=cr(l)))return a;var v=Dr(a),m=Wd(v,Dr(l));return Un(v,m).join("")}function v5(a,l){var h=et,v=at;if(me(l)){var m="separator"in l?l.separator:m;h="length"in l?Gt(l.length):h,v="omission"in l?cr(l.omission):v}a=oe(a);var x=a.length;if(si(a)){var C=Dr(a);x=C.length}if(h>=x)return a;var R=h-li(v);if(R<1)return v;var L=C?Un(C,0,R).join(""):a.slice(0,R);if(m===t)return L+v;if(C&&(R+=L.length-R),Fu(m)){if(a.slice(R).search(m)){var U,Y=L;for(m.global||(m=qc(m.source,oe(Ts.exec(m))+"g")),m.lastIndex=0;U=m.exec(Y);)var K=U.index;L=L.slice(0,K===t?R:K)}}else if(a.indexOf(cr(m),R)!=R){var st=L.lastIndexOf(m);st>-1&&(L=L.slice(0,st))}return L+v}function b5(a){return a=oe(a),a&&ks.test(a)?a.replace(ws,H_):a}var m5=gi(function(a,l,h){return a+(h?" ":"")+l.toUpperCase()}),zu=Pp("toUpperCase");function Og(a,l,h){return a=oe(a),l=h?t:l,l===t?W_(a)?Z_(a):P_(a):a.match(l)||[]}var Sg=Wt(function(a,l){try{return sr(a,t,l)}catch(h){return Mu(h)?h:new Mt(h)}}),_5=pn(function(a,l){return mr(l,function(h){h=Qr(h),hn(a,h,Pu(a[h],a))}),a});function y5(a){var l=a==null?0:a.length,h=wt();return a=l?ve(a,function(v){if(typeof v[1]!="function")throw new _r(s);return[h(v[0]),v[1]]}):[],Wt(function(v){for(var m=-1;++m<l;){var x=a[m];if(sr(x[0],this,v))return sr(x[1],this,v)}})}function x5(a){return Hy(xr(a,g))}function Gu(a){return function(){return a}}function w5(a,l){return a==null||a!==a?l:a}var k5=Mp(),E5=Mp(!0);function rr(a){return a}function Bu(a){return up(typeof a=="function"?a:xr(a,g))}function C5(a){return hp(xr(a,g))}function T5(a,l){return dp(a,xr(l,g))}var R5=Wt(function(a,l){return function(h){return ma(h,a,l)}}),A5=Wt(function(a,l){return function(h){return ma(a,h,l)}});function Wu(a,l,h){var v=Se(l),m=$s(l,v);h==null&&!(me(l)&&(m.length||!v.length))&&(h=l,l=a,a=this,m=$s(l,Se(l)));var x=!(me(h)&&"chain"in h)||!!h.chain,C=vn(a);return mr(m,function(R){var L=l[R];a[R]=L,C&&(a.prototype[R]=function(){var U=this.__chain__;if(x||U){var Y=a(this.__wrapped__),K=Y.__actions__=Qe(this.__actions__);return K.push({func:L,args:arguments,thisArg:a}),Y.__chain__=U,Y}return L.apply(a,Dn([this.value()],arguments))})}),a}function I5(){return De._===this&&(De._=ey),this}function Uu(){}function O5(a){return a=Gt(a),Wt(function(l){return pp(l,a)})}var S5=_u(ve),P5=_u(Fd),L5=_u(Xc);function Pg(a){return Tu(a)?Vc(Qr(a)):cx(a)}function M5(a){return function(l){return a==null?t:To(a,l)}}var F5=Dp(),D5=Dp(!0);function Yu(){return[]}function Xu(){return!1}function N5(){return{}}function z5(){return""}function G5(){return!0}function B5(a,l){if(a=Gt(a),a<1||a>ct)return[];var h=St,v=Be(a,St);l=wt(l),a-=St;for(var m=Kc(v,l);++h<a;)l(h);return m}function W5(a){return Ft(a)?ve(a,Qr):ur(a)?[a]:Qe(Jp(oe(a)))}function U5(a){var l=++Q_;return oe(a)+l}var Y5=rl(function(a,l){return a+l},0),X5=yu("ceil"),V5=rl(function(a,l){return a/l},1),H5=yu("floor");function j5(a){return a&&a.length?Zs(a,rr,iu):t}function K5(a,l){return a&&a.length?Zs(a,wt(l,2),iu):t}function Z5(a){return zd(a,rr)}function $5(a,l){return zd(a,wt(l,2))}function q5(a){return a&&a.length?Zs(a,rr,cu):t}function J5(a,l){return a&&a.length?Zs(a,wt(l,2),cu):t}var Q5=rl(function(a,l){return a*l},1),tE=yu("round"),eE=rl(function(a,l){return a-l},0);function rE(a){return a&&a.length?jc(a,rr):0}function nE(a,l){return a&&a.length?jc(a,wt(l,2)):0}return y.after=C1,y.ary=cg,y.assign=hk,y.assignIn=kg,y.assignInWith=gl,y.assignWith=dk,y.at=pk,y.before=ug,y.bind=Pu,y.bindAll=_5,y.bindKey=fg,y.castArray=N1,y.chain=ag,y.chunk=Hx,y.compact=jx,y.concat=Kx,y.cond=y5,y.conforms=x5,y.constant=Gu,y.countBy=r1,y.create=gk,y.curry=hg,y.curryRight=dg,y.debounce=pg,y.defaults=vk,y.defaultsDeep=bk,y.defer=T1,y.delay=R1,y.difference=Zx,y.differenceBy=$x,y.differenceWith=qx,y.drop=Jx,y.dropRight=Qx,y.dropRightWhile=tw,y.dropWhile=ew,y.fill=rw,y.filter=o1,y.flatMap=s1,y.flatMapDeep=l1,y.flatMapDepth=c1,y.flatten=rg,y.flattenDeep=nw,y.flattenDepth=ow,y.flip=A1,y.flow=k5,y.flowRight=E5,y.fromPairs=iw,y.functions=Ek,y.functionsIn=Ck,y.groupBy=u1,y.initial=sw,y.intersection=lw,y.intersectionBy=cw,y.intersectionWith=uw,y.invert=Rk,y.invertBy=Ak,y.invokeMap=h1,y.iteratee=Bu,y.keyBy=d1,y.keys=Se,y.keysIn=er,y.map=cl,y.mapKeys=Ok,y.mapValues=Sk,y.matches=C5,y.matchesProperty=T5,y.memoize=fl,y.merge=Pk,y.mergeWith=Eg,y.method=R5,y.methodOf=A5,y.mixin=Wu,y.negate=hl,y.nthArg=O5,y.omit=Lk,y.omitBy=Mk,y.once=I1,y.orderBy=p1,y.over=S5,y.overArgs=O1,y.overEvery=P5,y.overSome=L5,y.partial=Lu,y.partialRight=gg,y.partition=g1,y.pick=Fk,y.pickBy=Cg,y.property=Pg,y.propertyOf=M5,y.pull=pw,y.pullAll=og,y.pullAllBy=gw,y.pullAllWith=vw,y.pullAt=bw,y.range=F5,y.rangeRight=D5,y.rearg=S1,y.reject=m1,y.remove=mw,y.rest=P1,y.reverse=Ou,y.sampleSize=y1,y.set=Nk,y.setWith=zk,y.shuffle=x1,y.slice=_w,y.sortBy=E1,y.sortedUniq=Tw,y.sortedUniqBy=Rw,y.split=s5,y.spread=L1,y.tail=Aw,y.take=Iw,y.takeRight=Ow,y.takeRightWhile=Sw,y.takeWhile=Pw,y.tap=jw,y.throttle=M1,y.thru=ll,y.toArray=yg,y.toPairs=Tg,y.toPairsIn=Rg,y.toPath=W5,y.toPlainObject=wg,y.transform=Gk,y.unary=F1,y.union=Lw,y.unionBy=Mw,y.unionWith=Fw,y.uniq=Dw,y.uniqBy=Nw,y.uniqWith=zw,y.unset=Bk,y.unzip=Su,y.unzipWith=ig,y.update=Wk,y.updateWith=Uk,y.values=mi,y.valuesIn=Yk,y.without=Gw,y.words=Og,y.wrap=D1,y.xor=Bw,y.xorBy=Ww,y.xorWith=Uw,y.zip=Yw,y.zipObject=Xw,y.zipObjectDeep=Vw,y.zipWith=Hw,y.entries=Tg,y.entriesIn=Rg,y.extend=kg,y.extendWith=gl,Wu(y,y),y.add=Y5,y.attempt=Sg,y.camelCase=jk,y.capitalize=Ag,y.ceil=X5,y.clamp=Xk,y.clone=z1,y.cloneDeep=B1,y.cloneDeepWith=W1,y.cloneWith=G1,y.conformsTo=U1,y.deburr=Ig,y.defaultTo=w5,y.divide=V5,y.endsWith=Kk,y.eq=zr,y.escape=Zk,y.escapeRegExp=$k,y.every=n1,y.find=i1,y.findIndex=tg,y.findKey=mk,y.findLast=a1,y.findLastIndex=eg,y.findLastKey=_k,y.floor=H5,y.forEach=sg,y.forEachRight=lg,y.forIn=yk,y.forInRight=xk,y.forOwn=wk,y.forOwnRight=kk,y.get=Du,y.gt=Y1,y.gte=X1,y.has=Tk,y.hasIn=Nu,y.head=ng,y.identity=rr,y.includes=f1,y.indexOf=aw,y.inRange=Vk,y.invoke=Ik,y.isArguments=Io,y.isArray=Ft,y.isArrayBuffer=V1,y.isArrayLike=tr,y.isArrayLikeObject=ke,y.isBoolean=H1,y.isBuffer=Yn,y.isDate=j1,y.isElement=K1,y.isEmpty=Z1,y.isEqual=$1,y.isEqualWith=q1,y.isError=Mu,y.isFinite=J1,y.isFunction=vn,y.isInteger=vg,y.isLength=dl,y.isMap=bg,y.isMatch=Q1,y.isMatchWith=tk,y.isNaN=ek,y.isNative=rk,y.isNil=ok,y.isNull=nk,y.isNumber=mg,y.isObject=me,y.isObjectLike=ye,y.isPlainObject=Ea,y.isRegExp=Fu,y.isSafeInteger=ik,y.isSet=_g,y.isString=pl,y.isSymbol=ur,y.isTypedArray=bi,y.isUndefined=ak,y.isWeakMap=sk,y.isWeakSet=lk,y.join=fw,y.kebabCase=qk,y.last=kr,y.lastIndexOf=hw,y.lowerCase=Jk,y.lowerFirst=Qk,y.lt=ck,y.lte=uk,y.max=j5,y.maxBy=K5,y.mean=Z5,y.meanBy=$5,y.min=q5,y.minBy=J5,y.stubArray=Yu,y.stubFalse=Xu,y.stubObject=N5,y.stubString=z5,y.stubTrue=G5,y.multiply=Q5,y.nth=dw,y.noConflict=I5,y.noop=Uu,y.now=ul,y.pad=t5,y.padEnd=e5,y.padStart=r5,y.parseInt=n5,y.random=Hk,y.reduce=v1,y.reduceRight=b1,y.repeat=o5,y.replace=i5,y.result=Dk,y.round=tE,y.runInContext=S,y.sample=_1,y.size=w1,y.snakeCase=a5,y.some=k1,y.sortedIndex=yw,y.sortedIndexBy=xw,y.sortedIndexOf=ww,y.sortedLastIndex=kw,y.sortedLastIndexBy=Ew,y.sortedLastIndexOf=Cw,y.startCase=l5,y.startsWith=c5,y.subtract=eE,y.sum=rE,y.sumBy=nE,y.template=u5,y.times=B5,y.toFinite=bn,y.toInteger=Gt,y.toLength=xg,y.toLower=f5,y.toNumber=Er,y.toSafeInteger=fk,y.toString=oe,y.toUpper=h5,y.trim=d5,y.trimEnd=p5,y.trimStart=g5,y.truncate=v5,y.unescape=b5,y.uniqueId=U5,y.upperCase=m5,y.upperFirst=zu,y.each=sg,y.eachRight=lg,y.first=ng,Wu(y,function(){var a={};return qr(y,function(l,h){ie.call(y.prototype,h)||(a[h]=l)}),a}(),{chain:!1}),y.VERSION=r,mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),mr(["drop","take"],function(a,l){Ht.prototype[a]=function(h){h=h===t?1:Oe(Gt(h),0);var v=this.__filtered__&&!l?new Ht(this):this.clone();return v.__filtered__?v.__takeCount__=Be(h,v.__takeCount__):v.__views__.push({size:Be(h,St),type:a+(v.__dir__<0?"Right":"")}),v},Ht.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),mr(["filter","map","takeWhile"],function(a,l){var h=l+1,v=h==bt||h==ht;Ht.prototype[a]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:wt(m,3),type:h}),x.__filtered__=x.__filtered__||v,x}}),mr(["head","last"],function(a,l){var h="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[h](1).value()[0]}}),mr(["initial","tail"],function(a,l){var h="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[h](1)}}),Ht.prototype.compact=function(){return this.filter(rr)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Wt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(h){return ma(h,a,l)})}),Ht.prototype.reject=function(a){return this.filter(hl(wt(a)))},Ht.prototype.slice=function(a,l){a=Gt(a);var h=this;return h.__filtered__&&(a>0||l<0)?new Ht(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),l!==t&&(l=Gt(l),h=l<0?h.dropRight(-l):h.take(l-a)),h)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(St)},qr(Ht.prototype,function(a,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),v=/^(?:head|last)$/.test(l),m=y[v?"take"+(l=="last"?"Right":""):l],x=v||/^find/.test(l);!m||(y.prototype[l]=function(){var C=this.__wrapped__,R=v?[1]:arguments,L=C instanceof Ht,U=R[0],Y=L||Ft(C),K=function(Vt){var $t=m.apply(y,Dn([Vt],R));return v&&st?$t[0]:$t};Y&&h&&typeof U=="function"&&U.length!=1&&(L=Y=!1);var st=this.__chain__,mt=!!this.__actions__.length,Ct=x&&!st,Bt=L&&!mt;if(!x&&Y){C=Bt?C:new Ht(this);var Tt=a.apply(C,R);return Tt.__actions__.push({func:ll,args:[K],thisArg:t}),new yr(Tt,st)}return Ct&&Bt?a.apply(this,R):(Tt=this.thru(K),Ct?v?Tt.value()[0]:Tt.value():Tt)})}),mr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Ms[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",v=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(v&&!this.__chain__){var x=this.value();return l.apply(Ft(x)?x:[],m)}return this[h](function(C){return l.apply(Ft(C)?C:[],m)})}}),qr(Ht.prototype,function(a,l){var h=y[l];if(h){var v=h.name+"";ie.call(hi,v)||(hi[v]=[]),hi[v].push({name:l,func:h})}}),hi[el(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=by,Ht.prototype.reverse=my,Ht.prototype.value=_y,y.prototype.at=Kw,y.prototype.chain=Zw,y.prototype.commit=$w,y.prototype.next=qw,y.prototype.plant=Qw,y.prototype.reverse=t1,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=e1,y.prototype.first=y.prototype.head,fa&&(y.prototype[fa]=Jw),y},ci=$_();xo?((xo.exports=ci)._=ci,Bc._=ci):De._=ci}).call(Ta)})(Kl,Kl.exports);var gr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Sr={};Sr[gr.RADIANS]=6370997/(2*Math.PI);Sr[gr.DEGREES]=2*Math.PI*6370997/360;Sr[gr.FEET]=.3048;Sr[gr.METERS]=1;Sr[gr.USFEET]=1200/3937;var jR=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Sr[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),xc=jR;function Ae(n,e,t){return Math.min(Math.max(n,e),t)}var KR=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),ZR=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function $R(n,e,t,r,o,i){var s=o-t,c=i-r;if(s!==0||c!==0){var u=((n-t)*s+(e-r)*c)/(s*s+c*c);u>1?(t=o,r=i):u>0&&(t+=s*u,r+=c*u)}return jo(n,e,t,r)}function jo(n,e,t,r){var o=t-n,i=r-e;return o*o+i*i}function qR(n){for(var e=n.length,t=0;t<e;t++){for(var r=t,o=Math.abs(n[t][t]),i=t+1;i<e;i++){var s=Math.abs(n[i][t]);s>o&&(o=s,r=i)}if(o===0)return null;var c=n[r];n[r]=n[t],n[t]=c;for(var u=t+1;u<e;u++)for(var f=-n[u][t]/n[t][t],d=t;d<e+1;d++)t==d?n[u][d]=0:n[u][d]+=f*n[t][d]}for(var g=new Array(e),p=e-1;p>=0;p--){g[p]=n[p][e]/n[p][p];for(var b=p-1;b>=0;b--)n[b][e]-=n[b][p]*g[p]}return g}function Bl(n){return n*Math.PI/180}function Ni(n,e){var t=n%e;return t*e<0?t+e:t}function Cn(n,e,t){return n+t*(e-n)}function Am(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function wl(n,e){return Math.floor(Am(n,e))}function kl(n,e){return Math.ceil(Am(n,e))}var JR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hs=6378137,Li=Math.PI*hs,QR=[-Li,-Li,Li,Li],tA=[-180,-85,180,85],El=hs*Math.log(Math.tan(Math.PI/2)),xi=function(n){JR(e,n);function e(t){return n.call(this,{code:t,units:gr.METERS,extent:QR,global:!0,worldExtent:tA,getPointResolution:function(r,o){return r/KR(o[1]/hs)}})||this}return e}(xc),Tv=[new xi("EPSG:3857"),new xi("EPSG:102100"),new xi("EPSG:102113"),new xi("EPSG:900913"),new xi("http://www.opengis.net/def/crs/EPSG/0/3857"),new xi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function eA(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o){i[s]=Li*n[s]/180;var c=hs*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));c>El?c=El:c<-El&&(c=-El),i[s+1]=c}return i}function rA(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o)i[s]=180*n[s]/Li,i[s+1]=360*Math.atan(Math.exp(n[s+1]/hs))/Math.PI-90;return i}var nA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oA=6378137,Rv=[-180,-90,180,90],iA=Math.PI*oA/180,Po=function(n){nA(e,n);function e(t,r){return n.call(this,{code:t,units:gr.DEGREES,extent:Rv,axisOrientation:r,global:!0,metersPerUnit:iA,worldExtent:Rv})||this}return e}(xc),Av=[new Po("CRS:84"),new Po("EPSG:4326","neu"),new Po("urn:ogc:def:crs:OGC:1.3:CRS84"),new Po("urn:ogc:def:crs:OGC:2:84"),new Po("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Po("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Po("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Gf={};function aA(n){return Gf[n]||Gf[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function sA(n,e){Gf[n]=e}var Me=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function ds(n){for(var e in n)delete n[e]}var Im=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function Qa(n){var e;for(e in n)return!1;return!e}var zi={};function Zl(n,e,t){var r=n.getCode(),o=e.getCode();r in zi||(zi[r]={}),zi[r][o]=t}function lA(n,e){var t;return n in zi&&e in zi[n]&&(t=zi[n][e]),t}var Pa={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Pe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function jt(){return function(){throw new Error("Unimplemented abstract method.")}()}var cA=0;function ne(n){return n.ol_uid||(n.ol_uid=String(++cA))}var uA="6.14.1",fA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hA=function(n){fA(e,n);function e(t){var r=this,o="v"+uA.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+t+" for details.";return r=n.call(this,i)||this,r.code=t,r.name="AssertionError",r.message=i,r}return e}(Error),Om=hA;function Kt(n,e){if(!n)throw new Om(e)}function Bf(n){for(var e=Pr(),t=0,r=n.length;t<r;++t)Ya(e,n[t]);return e}function dA(n,e,t){var r=Math.min.apply(null,n),o=Math.min.apply(null,e),i=Math.max.apply(null,n),s=Math.max.apply(null,e);return Kr(r,o,i,s,t)}function Sh(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Sm(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function ta(n,e,t){var r,o;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?o=n[1]-t:n[3]<t?o=t-n[3]:o=0,r*r+o*o}function ps(n,e){return Ph(n,e[0],e[1])}function Mi(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Ph(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Wf(n,e){var t=n[0],r=n[1],o=n[2],i=n[3],s=e[0],c=e[1],u=Pe.UNKNOWN;return s<t?u=u|Pe.LEFT:s>o&&(u=u|Pe.RIGHT),c<r?u=u|Pe.BELOW:c>i&&(u=u|Pe.ABOVE),u===Pe.UNKNOWN&&(u=Pe.INTERSECTING),u}function Pr(){return[1/0,1/0,-1/0,-1/0]}function Kr(n,e,t,r,o){return o?(o[0]=n,o[1]=e,o[2]=t,o[3]=r,o):[n,e,t,r]}function wc(n){return Kr(1/0,1/0,-1/0,-1/0,n)}function pA(n,e){var t=n[0],r=n[1];return Kr(t,r,t,r,e)}function Pm(n,e,t,r,o){var i=wc(o);return Lm(i,n,e,t,r)}function ts(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function gA(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Ya(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Lm(n,e,t,r,o){for(;t<r;t+=o)vA(n,e[t],e[t+1]);return n}function vA(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Lh(n,e){var t;return t=e(Xi(n)),t||(t=e(gs(n)),t)||(t=e(vs(n)),t)||(t=e(po(n)),t)?t:!1}function Uf(n){var e=0;return Mh(n)||(e=xe(n)*Zr(n)),e}function Xi(n){return[n[0],n[1]]}function gs(n){return[n[2],n[1]]}function Vi(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function bA(n,e){var t;return e===Pa.BOTTOM_LEFT?t=Xi(n):e===Pa.BOTTOM_RIGHT?t=gs(n):e===Pa.TOP_LEFT?t=po(n):e===Pa.TOP_RIGHT?t=vs(n):Kt(!1,13),t}function Yf(n,e,t,r,o){var i=e*r[0]/2,s=e*r[1]/2,c=Math.cos(t),u=Math.sin(t),f=i*c,d=i*u,g=s*c,p=s*u,b=n[0],_=n[1],w=b-f+p,k=b-f-p,T=b+f-p,A=b+f+p,O=_-d-g,P=_-d+g,D=_+d+g,X=_+d-g;return Kr(Math.min(w,k,T,A),Math.min(O,P,D,X),Math.max(w,k,T,A),Math.max(O,P,D,X),o)}function Zr(n){return n[3]-n[1]}function Xa(n,e,t){var r=t||Pr();return qe(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):wc(r),r}function po(n){return[n[0],n[3]]}function vs(n){return[n[2],n[3]]}function xe(n){return n[2]-n[0]}function qe(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Mh(n){return n[2]<n[0]||n[3]<n[1]}function mA(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function _A(n,e,t){var r=!1,o=Wf(n,e),i=Wf(n,t);if(o===Pe.INTERSECTING||i===Pe.INTERSECTING)r=!0;else{var s=n[0],c=n[1],u=n[2],f=n[3],d=e[0],g=e[1],p=t[0],b=t[1],_=(b-g)/(p-d),w=void 0,k=void 0;!!(i&Pe.ABOVE)&&!(o&Pe.ABOVE)&&(w=p-(b-f)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.RIGHT)&&!(o&Pe.RIGHT)&&(k=b-(p-u)*_,r=k>=c&&k<=f),!r&&!!(i&Pe.BELOW)&&!(o&Pe.BELOW)&&(w=p-(b-c)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.LEFT)&&!(o&Pe.LEFT)&&(k=b-(p-s)*_,r=k>=c&&k<=f)}return r}function yA(n,e,t,r){var o=[];if(r>1)for(var i=n[2]-n[0],s=n[3]-n[1],c=0;c<r;++c)o.push(n[0]+i*c/r,n[1],n[2],n[1]+s*c/r,n[2]-i*c/r,n[3],n[0],n[3]-s*c/r);else o=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(o,o,2);for(var u=[],f=[],c=0,d=o.length;c<d;c+=2)u.push(o[c]),f.push(o[c+1]);return dA(u,f,t)}function xA(n,e){var t=e.getExtent(),r=Vi(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var o=xe(t),i=Math.floor((r[0]-t[0])/o),s=i*o;n[0]-=s,n[2]-=s}return n}function wA(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function kA(n){return function(e){return RA(e,n)}}function EA(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function $l(n,e){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function Fh(n,e){var t=Math.cos(e),r=Math.sin(e),o=n[0]*t-n[1]*r,i=n[1]*t+n[0]*r;return n[0]=o,n[1]=i,n}function CA(n,e){return n[0]*=e,n[1]*=e,n}function TA(n,e){var t=n[0]-e[0],r=n[1]-e[1];return t*t+r*r}function RA(n,e){return EA(n,"{x}, {y}",e)}function Mm(n,e){if(e.canWrapX()){var t=xe(e.getExtent()),r=AA(n,e,t);r&&(n[0]-=r*t)}return n}function AA(n,e,t){var r=e.getExtent(),o=0;if(e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var i=t||xe(r);o=Math.floor((n[0]-r[0])/i)}return o}var lt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},IA=63710088e-1;function Iv(n,e,t){var r=t||IA,o=Bl(n[1]),i=Bl(e[1]),s=(i-o)/2,c=Bl(e[0]-n[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var Xf=!0;function OA(n){var e=n===void 0?!0:n;Xf=!e}function Dh(n,e,t){var r;if(e!==void 0){for(var o=0,i=n.length;o<i;++o)e[o]=n[o];r=e}else r=n.slice();return r}function Nh(n,e,t){if(e!==void 0&&n!==e){for(var r=0,o=n.length;r<o;++r)e[r]=n[r];n=e}return n}function SA(n){sA(n.getCode(),n),Zl(n,n,Dh)}function PA(n){n.forEach(SA)}function ir(n){return typeof n=="string"?aA(n):n||null}function Ov(n,e,t,r){n=ir(n);var o,i=n.getPointResolutionFunc();if(i){if(o=i(e,t),r&&r!==n.getUnits()){var s=n.getMetersPerUnit();s&&(o=o*s/Sr[r])}}else{var c=n.getUnits();if(c==gr.DEGREES&&!r||r==gr.DEGREES)o=e;else{var u=Hi(n,ir("EPSG:4326"));if(u===Nh&&c!==gr.DEGREES)o=e*n.getMetersPerUnit();else{var f=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];f=u(f,f,2);var d=Iv(f.slice(0,2),f.slice(2,4)),g=Iv(f.slice(4,6),f.slice(6,8));o=(d+g)/2}var s=r?Sr[r]:n.getMetersPerUnit();s!==void 0&&(o/=s)}}return o}function Sv(n){PA(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Zl(e,t,Dh)})})}function LA(n,e,t,r){n.forEach(function(o){e.forEach(function(i){Zl(o,i,t),Zl(i,o,r)})})}function zh(n,e){return n?typeof n=="string"?ir(n):n:ir(e)}function Ii(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var r=Hi(n,e);return r===Dh&&t}function Hi(n,e){var t=n.getCode(),r=e.getCode(),o=lA(t,r);return o||(o=Nh),o}function es(n,e){var t=ir(n),r=ir(e);return Hi(t,r)}function Gh(n,e,t){var r=es(e,t);return r(n,void 0,n.length)}function Fm(n,e,t,r){var o=es(e,t);return yA(n,o,void 0,r)}var Lr=null;function MA(n){Lr=ir(n)}function bs(){return Lr}function FA(){MA("EPSG:4326")}function Vf(n,e){return Lr?Gh(n,e,Lr):n}function Rr(n,e){return Lr?Gh(n,Lr,e):(Xf&&!$l(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Xf=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Hf(n,e){return Lr?Fm(n,e,Lr):n}function Bo(n,e){return Lr?Fm(n,Lr,e):n}function DA(n,e){if(!Lr)return n;var t=ir(e).getUnits(),r=Lr.getUnits();return t&&r?n*Sr[t]/Sr[r]:n}function NA(){Sv(Tv),Sv(Av),LA(Av,Tv,eA,rA)}NA();var zA=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),ln=zA,ji={PROPERTYCHANGE:"propertychange"},GA=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),Bh=GA;function BA(n,e,t){for(var r,o,i=t||Jo,s=0,c=n.length,u=!1;s<c;)r=s+(c-s>>1),o=+i(n[r],e),o<0?s=r+1:(c=r,u=!o);return u?s:~s}function Jo(n,e){return n>e?1:n<e?-1:0}function Wh(n,e,t){var r=n.length;if(n[0]<=e)return 0;if(e<=n[r-1])return r-1;var o=void 0;if(t>0){for(o=1;o<r;++o)if(n[o]<e)return o-1}else if(t<0){for(o=1;o<r;++o)if(n[o]<=e)return o}else for(o=1;o<r;++o){if(n[o]==e)return o;if(n[o]<e)return typeof t=="function"?t(e,n[o-1],n[o])>0?o-1:o:n[o-1]-e<e-n[o]?o-1:o}return r-1}function WA(n,e,t){for(;e<t;){var r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function In(n,e){for(var t=Array.isArray(e)?e:[e],r=t.length,o=0;o<r;o++)n[n.length]=t[o]}function ei(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function UA(n,e,t){var r=e||Jo;return n.every(function(o,i){if(i===0)return!0;var s=r(n[i-1],o);return!(s>0||t&&s===0)})}function Ko(){return!0}function ms(){return!1}function Qo(){}function YA(n){var e=!1,t,r,o;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==o||!ei(i,r))&&(e=!0,o=this,r=i,t=n.apply(this,arguments)),t}}var XA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VA=function(n){XA(e,n);function e(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(t,r){if(!(!t||!r)){var o=this.listeners_||(this.listeners_={}),i=o[t]||(o[t]=[]);i.indexOf(r)===-1&&i.push(r)}},e.prototype.dispatchEvent=function(t){var r=typeof t=="string",o=r?t:t.type,i=this.listeners_&&this.listeners_[o];if(!!i){var s=r?new ln(t):t;s.target||(s.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});o in c||(c[o]=0,u[o]=0),++c[o];for(var f,d=0,g=i.length;d<g;++d)if("handleEvent"in i[d]?f=i[d].handleEvent(s):f=i[d].call(this,s),f===!1||s.propagationStopped){f=!1;break}if(--c[o]===0){var p=u[o];for(delete u[o];p--;)this.removeEventListener(o,Qo);delete c[o]}return f}},e.prototype.disposeInternal=function(){this.listeners_&&ds(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,r){var o=this.listeners_&&this.listeners_[t];if(o){var i=o.indexOf(r);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(o[i]=Qo,++this.pendingRemovals_[t]):(o.splice(i,1),o.length===0&&delete this.listeners_[t]))}},e}(Bh),ea=VA,Dt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function qt(n,e,t,r,o){if(r&&r!==n&&(t=t.bind(r)),o){var i=t;t=function(){n.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function ql(n,e,t,r){return qt(n,e,t,r,!0)}function be(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),ds(n))}var HA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kc=function(n){HA(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Dt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var o=t.length,i=new Array(o),s=0;s<o;++s)i[s]=qt(this,t[s],r);return i}else return qt(this,t,r)},e.prototype.onceInternal=function(t,r){var o;if(Array.isArray(t)){var i=t.length;o=new Array(i);for(var s=0;s<i;++s)o[s]=ql(this,t[s],r)}else o=ql(this,t,r);return r.ol_key=o,o},e.prototype.unInternal=function(t,r){var o=r.ol_key;if(o)jA(o);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],r);else this.removeEventListener(t,r)},e}(ea);kc.prototype.on;kc.prototype.once;kc.prototype.un;function jA(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)be(n[e]);else be(n)}var Dm=kc,Nm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pv=function(n){Nm(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.key=r,i.oldValue=o,i}return e}(ln),KA=function(n){Nm(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,ne(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return e.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Me({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,r){var o;o="change:".concat(t),this.hasListener(o)&&this.dispatchEvent(new Pv(o,t,r)),o=ji.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new Pv(o,t,r))},e.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},e.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},e.prototype.set=function(t,r,o){var i=this.values_||(this.values_={});if(o)i[t]=r;else{var s=i[t];i[t]=r,s!==r&&this.notify(t,s)}},e.prototype.setProperties=function(t,r){for(var o in t)this.set(o,t[o],r)},e.prototype.applyProperties=function(t){!t.values_||Me(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var o=this.values_[t];delete this.values_[t],Qa(this.values_)&&(this.values_=null),r||this.notify(t,o)}},e}(Dm),cn=KA,ho=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",ZA=ho.indexOf("firefox")!==-1,$A=ho.indexOf("safari")!==-1&&ho.indexOf("chrom")==-1;$A&&(ho.indexOf("version/15.4")>=0||ho.match(/cpu (os|iphone os) 15_4 like mac os x/));var qA=ho.indexOf("webkit")!==-1&&ho.indexOf("edge")==-1,JA=ho.indexOf("macintosh")!==-1,zm=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Ec=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,QA=typeof Image!="undefined"&&Image.prototype.decode,Gm=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function sn(){return[1,0,0,1,0,0]}function tI(n,e,t,r,o,i,s){return n[0]=e,n[1]=t,n[2]=r,n[3]=o,n[4]=i,n[5]=s,n}function eI(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Re(n,e){var t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function rI(n,e,t){return tI(n,e,0,0,t,0,0)}function Pn(n,e,t,r,o,i,s,c){var u=Math.sin(i),f=Math.cos(i);return n[0]=r*f,n[1]=o*u,n[2]=-r*u,n[3]=o*f,n[4]=s*r*f-c*r*u+e,n[5]=s*o*u+c*o*f+t,n}function Uh(n,e){var t=nI(e);Kt(t!==0,32);var r=e[0],o=e[1],i=e[2],s=e[3],c=e[4],u=e[5];return n[0]=s/t,n[1]=-o/t,n[2]=-i/t,n[3]=r/t,n[4]=(i*u-s*c)/t,n[5]=-(r*u-o*c)/t,n}function nI(n){return n[0]*n[3]-n[1]*n[2]}var Lv;function Bm(n){var e="matrix("+n.join(", ")+")";if(Ec)return e;var t=Lv||(Lv=document.createElement("div"));return t.style.transform=e,t.style.transform}function Zo(n,e,t,r,o,i){for(var s=i||[],c=0,u=e;u<t;u+=r){var f=n[u],d=n[u+1];s[c++]=o[0]*f+o[2]*d+o[4],s[c++]=o[1]*f+o[3]*d+o[5]}return i&&s.length!=c&&(s.length=c),s}function Yh(n,e,t,r,o,i,s){for(var c=s||[],u=Math.cos(o),f=Math.sin(o),d=i[0],g=i[1],p=0,b=e;b<t;b+=r){var _=n[b]-d,w=n[b+1]-g;c[p++]=d+_*u-w*f,c[p++]=g+_*f+w*u;for(var k=b+2;k<b+r;++k)c[p++]=n[k]}return s&&c.length!=p&&(c.length=p),c}function oI(n,e,t,r,o,i,s,c){for(var u=c||[],f=s[0],d=s[1],g=0,p=e;p<t;p+=r){var b=n[p]-f,_=n[p+1]-d;u[g++]=f+o*b,u[g++]=d+i*_;for(var w=p+2;w<p+r;++w)u[g++]=n[w]}return c&&u.length!=g&&(u.length=g),u}function Wm(n,e,t,r,o,i,s){for(var c=s||[],u=0,f=e;f<t;f+=r){c[u++]=n[f]+o,c[u++]=n[f+1]+i;for(var d=f+2;d<f+r;++d)c[u++]=n[d]}return s&&c.length!=u&&(c.length=u),c}var iI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mv=sn(),aI=function(n){iI(e,n);function e(){var t=n.call(this)||this;return t.extent_=Pr(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=YA(function(r,o,i){if(!i)return this.getSimplifiedGeometry(o);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(o)}),t}return e.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},e.prototype.clone=function(){return jt()},e.prototype.closestPointXY=function(t,r,o,i){return jt()},e.prototype.containsXY=function(t,r){var o=this.getClosestPoint([t,r]);return o[0]===t&&o[1]===r},e.prototype.getClosestPoint=function(t,r){var o=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],o,1/0),o},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return jt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&wc(r),this.extentRevision_=this.getRevision()}return mA(this.extent_,t)},e.prototype.rotate=function(t,r){jt()},e.prototype.scale=function(t,r,o){jt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return jt()},e.prototype.getType=function(){return jt()},e.prototype.applyTransform=function(t){jt()},e.prototype.intersectsExtent=function(t){return jt()},e.prototype.translate=function(t,r){jt()},e.prototype.transform=function(t,r){var o=ir(t),i=o.getUnits()==gr.TILE_PIXELS?function(s,c,u){var f=o.getExtent(),d=o.getWorldExtent(),g=Zr(d)/Zr(f);return Pn(Mv,d[0],d[3],g,-g,0,0,0),Zo(s,0,s.length,u,Mv,c),es(o,r)(s,c,u)}:es(o,r);return this.applyTransform(i),this},e}(cn),sI=aI,Te={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},lI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cI=function(n){lI(e,n);function e(){var t=n.call(this)||this;return t.layout=Te.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Pm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return jt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),o=r.getFlatCoordinates();return o.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,r){this.stride=Fv(t),this.layout=t,this.flatCoordinates=r},e.prototype.setCoordinates=function(t,r){jt()},e.prototype.setLayout=function(t,r,o){var i;if(t)i=Fv(t);else{for(var s=0;s<o;++s)if(r.length===0){this.layout=Te.XY,this.stride=2;return}else r=r[0];i=r.length,t=uI(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Yh(o,0,o.length,i,t,r,o),this.changed()}},e.prototype.scale=function(t,r,o){var i=r;i===void 0&&(i=t);var s=o;s||(s=Vi(this.getExtent()));var c=this.getFlatCoordinates();if(c){var u=this.getStride();oI(c,0,c.length,u,t,i,s,c),this.changed()}},e.prototype.translate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Wm(o,0,o.length,i,t,r,o),this.changed()}},e}(sI);function uI(n){var e;return n==2?e=Te.XY:n==3?e=Te.XYZ:n==4&&(e=Te.XYZM),e}function Fv(n){var e;return n==Te.XY?e=2:n==Te.XYZ||n==Te.XYM?e=3:n==Te.XYZM&&(e=4),e}function fI(n,e,t){var r=n.getFlatCoordinates();if(r){var o=n.getStride();return Zo(r,0,r.length,o,e,t)}else return null}var go=cI;function Um(n,e,t,r){for(var o=0,i=t.length;o<i;++o)n[e++]=t[o];return e}function Cc(n,e,t,r){for(var o=0,i=t.length;o<i;++o)for(var s=t[o],c=0;c<r;++c)n[e++]=s[c];return e}function Xh(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=Cc(n,e,t[c],r);i[s++]=f,e=f}return i.length=s,i}function hI(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=Xh(n,e,t[c],r,i[s]);i[s++]=f,e=f[f.length-1]}return i.length=s,i}var dI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ym=function(n){dI(e,n);function e(t,r,o){var i=n.call(this)||this;if(o!==void 0&&r===void 0)i.setFlatCoordinates(o,t);else{var s=r||0;i.setCenterAndRadius(t,s,o)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=t-s[0],u=r-s[1],f=c*c+u*u;if(f<i){if(f===0)for(var d=0;d<this.stride;++d)o[d]=s[d];else{var g=this.getRadius()/Math.sqrt(f);o[0]=s[0]+g*c,o[1]=s[1]+g*u;for(var d=2;d<this.stride;++d)o[d]=s[d]}return o.length=this.stride,f}else return i},e.prototype.containsXY=function(t,r){var o=this.flatCoordinates,i=t-o[0],s=r-o[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var r=this.flatCoordinates,o=r[this.stride]-r[0];return Kr(r[0]-o,r[1]-o,r[0]+o,r[1]+o,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],r=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+r*r},e.prototype.getType=function(){return lt.CIRCLE},e.prototype.intersectsExtent=function(t){var r=this.getExtent();if(qe(t,r)){var o=this.getCenter();return t[0]<=o[0]&&t[2]>=o[0]||t[1]<=o[1]&&t[3]>=o[1]?!0:Lh(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var r=this.stride,o=this.flatCoordinates[r]-this.flatCoordinates[0],i=t.slice();i[r]=i[0]+o;for(var s=1;s<r;++s)i[r+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,r,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=Um(i,0,t,this.stride);i[s++]=i[0]+r;for(var c=1,u=this.stride;c<u;++c)i[s++]=i[c];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,r){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Yh(o,0,o.length,i,t,r,o)),this.changed()},e.prototype.translate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Wm(o,0,o.length,i,t,r,o)),this.changed()},e}(go);Ym.prototype.transform;var Xm=Ym;function Dv(n,e,t,r,o,i,s){var c=n[e],u=n[e+1],f=n[t]-c,d=n[t+1]-u,g;if(f===0&&d===0)g=e;else{var p=((o-c)*f+(i-u)*d)/(f*f+d*d);if(p>1)g=t;else if(p>0){for(var b=0;b<r;++b)s[b]=Cn(n[e+b],n[t+b],p);s.length=r;return}else g=e}for(var b=0;b<r;++b)s[b]=n[g+b];s.length=r}function Vh(n,e,t,r,o){var i=n[e],s=n[e+1];for(e+=r;e<t;e+=r){var c=n[e],u=n[e+1],f=jo(i,s,c,u);f>o&&(o=f),i=c,s=u}return o}function Hh(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=Vh(n,e,c,r,o),e=c}return o}function pI(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=Hh(n,e,c,r,o),e=c[c.length-1]}return o}function jh(n,e,t,r,o,i,s,c,u,f,d){if(e==t)return f;var g,p;if(o===0)if(p=jo(s,c,n[e],n[e+1]),p<f){for(g=0;g<r;++g)u[g]=n[e+g];return u.length=r,p}else return f;for(var b=d||[NaN,NaN],_=e+r;_<t;)if(Dv(n,_-r,_,r,s,c,b),p=jo(s,c,b[0],b[1]),p<f){for(f=p,g=0;g<r;++g)u[g]=b[g];u.length=r,_+=r}else _+=r*Math.max((Math.sqrt(p)-Math.sqrt(f))/o|0,1);if(i&&(Dv(n,t-r,e,r,s,c,b),p=jo(s,c,b[0],b[1]),p<f)){for(f=p,g=0;g<r;++g)u[g]=b[g];u.length=r}return f}function Kh(n,e,t,r,o,i,s,c,u,f,d){for(var g=d||[NaN,NaN],p=0,b=t.length;p<b;++p){var _=t[p];f=jh(n,e,_,r,o,i,s,c,u,f,g),e=_}return f}function gI(n,e,t,r,o,i,s,c,u,f,d){for(var g=d||[NaN,NaN],p=0,b=t.length;p<b;++p){var _=t[p];f=Kh(n,e,_,r,o,i,s,c,u,f,g),e=_[_.length-1]}return f}function Zh(n,e,t,r,o,i,s){var c=(t-e)/r;if(c<3){for(;e<t;e+=r)i[s++]=n[e],i[s++]=n[e+1];return s}var u=new Array(c);u[0]=1,u[c-1]=1;for(var f=[e,t-r],d=0;f.length>0;){for(var g=f.pop(),p=f.pop(),b=0,_=n[p],w=n[p+1],k=n[g],T=n[g+1],A=p+r;A<g;A+=r){var O=n[A],P=n[A+1],D=$R(O,P,_,w,k,T);D>b&&(d=A,b=D)}b>o&&(u[(d-e)/r]=1,p+r<d&&f.push(p,d),d+r<g&&f.push(d,g))}for(var A=0;A<c;++A)u[A]&&(i[s++]=n[e+A*r],i[s++]=n[e+A*r+1]);return s}function vI(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=Zh(n,e,d,r,o,i,s),c.push(s),e=d}return s}function Fo(n,e){return e*Math.round(n/e)}function bI(n,e,t,r,o,i,s){if(e==t)return s;var c=Fo(n[e],o),u=Fo(n[e+1],o);e+=r,i[s++]=c,i[s++]=u;var f,d;do if(f=Fo(n[e],o),d=Fo(n[e+1],o),e+=r,e==t)return i[s++]=f,i[s++]=d,s;while(f==c&&d==u);for(;e<t;){var g=Fo(n[e],o),p=Fo(n[e+1],o);if(e+=r,!(g==f&&p==d)){var b=f-c,_=d-u,w=g-c,k=p-u;if(b*k==_*w&&(b<0&&w<b||b==w||b>0&&w>b)&&(_<0&&k<_||_==k||_>0&&k>_)){f=g,d=p;continue}i[s++]=f,i[s++]=d,c=f,u=d,f=g,d=p}}return i[s++]=f,i[s++]=d,s}function Vm(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=bI(n,e,d,r,o,i,s),c.push(s),e=d}return s}function mI(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u],g=[];s=Vm(n,e,d,r,o,i,s,g),c.push(g),e=d[d.length-1]}return s}function oo(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=e;c<t;c+=r)i[s++]=n.slice(c,c+r);return i.length=s,i}function rs(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=oo(n,e,f,r,i[s]),e=f}return i.length=s,i}function jf(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=rs(n,e,f,r,i[s]),e=f[f.length-1]}return i.length=s,i}function Hm(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=s*c-i*u,i=c,s=u}return o/2}function jm(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=Hm(n,e,c,r),e=c}return o}function _I(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=jm(n,e,c,r),e=c[c.length-1]}return o}var yI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xI=function(n){yI(e,n);function e(t,r){var o=n.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,r,o,i){return i<ta(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.getArea=function(){return Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Zh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return lt.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Cc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),Nv=xI;function Km(n,e,t,r,o){var i;for(e+=r;e<t;e+=r)if(i=o(n.slice(e-r,e),n.slice(e,e+r)),i)return i;return!1}function Zm(n,e,t,r,o,i,s){var c,u,f=(t-e)/r;if(f===1)c=e;else if(f===2)c=e,u=o;else if(f!==0){for(var d=n[e],g=n[e+1],p=0,b=[0],_=e+r;_<t;_+=r){var w=n[_],k=n[_+1];p+=Math.sqrt((w-d)*(w-d)+(k-g)*(k-g)),b.push(p),d=w,g=k}var T=o*p,A=BA(b,T);A<0?(u=(T-b[-A-2])/(b[-A-1]-b[-A-2]),c=e+(-A-2)*r):c=e+A*r}for(var O=s>1?s:2,P=i||new Array(O),_=0;_<O;++_)P[_]=c===void 0?NaN:u===void 0?n[c+_]:Cn(n[c+_],n[c+r+_],u);return P}function Kf(n,e,t,r,o,i){if(t==e)return null;var s;if(o<n[e+r-1])return i?(s=n.slice(e,e+r),s[r-1]=o,s):null;if(n[t-1]<o)return i?(s=n.slice(t-r,t),s[r-1]=o,s):null;if(o==n[e+r-1])return n.slice(e,e+r);for(var c=e/r,u=t/r;c<u;){var f=c+u>>1;o<n[(f+1)*r-1]?u=f:c=f+1}var d=n[c*r-1];if(o==d)return n.slice((c-1)*r,(c-1)*r+r);var g=n[(c+1)*r-1],p=(o-d)/(g-d);s=[];for(var b=0;b<r-1;++b)s.push(Cn(n[(c-1)*r+b],n[c*r+b],p));return s.push(o),s}function wI(n,e,t,r,o,i,s){if(s)return Kf(n,e,t[t.length-1],r,o,i);var c;if(o<n[r-1])return i?(c=n.slice(0,r),c[r-1]=o,c):null;if(n[n.length-1]<o)return i?(c=n.slice(n.length-r),c[r-1]=o,c):null;for(var u=0,f=t.length;u<f;++u){var d=t[u];if(e!=d){if(o<n[e+r-1])return null;if(o<=n[d-1])return Kf(n,e,d,r,o,!1);e=d}}return null}function kI(n,e,t,r,o){var i=Lh(o,function(s){return!Wo(n,e,t,r,s[0],s[1])});return!i}function Wo(n,e,t,r,o,i){for(var s=0,c=n[t-r],u=n[t-r+1];e<t;e+=r){var f=n[e],d=n[e+1];u<=i?d>i&&(f-c)*(i-u)-(o-c)*(d-u)>0&&s++:d<=i&&(f-c)*(i-u)-(o-c)*(d-u)<0&&s--,c=f,u=d}return s!==0}function $h(n,e,t,r,o,i){if(t.length===0||!Wo(n,e,t[0],r,o,i))return!1;for(var s=1,c=t.length;s<c;++s)if(Wo(n,t[s-1],t[s],r,o,i))return!1;return!0}function EI(n,e,t,r,o,i){if(t.length===0)return!1;for(var s=0,c=t.length;s<c;++s){var u=t[s];if($h(n,e,u,r,o,i))return!0;e=u[u.length-1]}return!1}function Tc(n,e,t,r,o){var i=Lm(Pr(),n,e,t,r);return qe(o,i)?Mi(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]?!0:Km(n,e,t,r,function(s,c){return _A(o,s,c)}):!1}function CI(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){if(Tc(n,e,t[i],r,o))return!0;e=t[i]}return!1}function TI(n,e,t,r,o){return!!(Tc(n,e,t,r,o)||Wo(n,e,t,r,o[0],o[1])||Wo(n,e,t,r,o[0],o[3])||Wo(n,e,t,r,o[2],o[1])||Wo(n,e,t,r,o[2],o[3]))}function $m(n,e,t,r,o){if(!TI(n,e,t[0],r,o))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(kI(n,t[i-1],t[i],r,o)&&!Tc(n,t[i-1],t[i],r,o))return!1;return!0}function RI(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if($m(n,e,c,r,o))return!0;e=c[c.length-1]}return!1}function qm(n,e,t,r){for(var o=n[e],i=n[e+1],s=0,c=e+r;c<t;c+=r){var u=n[c],f=n[c+1];s+=Math.sqrt((u-o)*(u-o)+(f-i)*(f-i)),o=u,i=f}return s}var AI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),II=function(n){AI(e,n);function e(t,r){var o=n.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?In(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<ta(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.forEachSegment=function(t){return Km(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM)return null;var o=r!==void 0?r:!1;return Kf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,r){return Zm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},e.prototype.getLength=function(){return qm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Zh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return lt.LINE_STRING},e.prototype.intersectsExtent=function(t){return Tc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Cc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),$o=II,OI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SI=function(n){OI(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,r);else if(r!==void 0&&o)i.setFlatCoordinates(r,t),i.ends_=o;else{for(var s=i.getLayout(),c=t,u=[],f=[],d=0,g=c.length;d<g;++d){var p=c[d];d===0&&(s=p.getLayout()),In(u,p.getFlatCoordinates()),f.push(u.length)}i.setFlatCoordinates(s,u),i.ends_=f}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<ta(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Kh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.getCoordinateAtM=function(t,r,o){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM||this.flatCoordinates.length===0)return null;var i=r!==void 0?r:!1,s=o!==void 0?o:!1;return wI(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return rs(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new $o(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,o=this.layout,i=[],s=0,c=0,u=r.length;c<u;++c){var f=r[c],d=new $o(t.slice(s,f),o);i.push(d),s=f}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,o=0,i=this.ends_,s=this.stride,c=0,u=i.length;c<u;++c){var f=i[c],d=Zm(r,o,f,s,.5);In(t,d),o=f}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=vI(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return lt.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return CI(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Xh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(go),PI=SI,LI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MI=function(n){LI(e,n);function e(t,r){var o=n.call(this)||this;return o.setCoordinates(t,r),o}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=jo(t,r,s[0],s[1]);if(c<i){for(var u=this.stride,f=0;f<u;++f)o[f]=s[f];return o.length=u,c}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return pA(this.flatCoordinates,t)},e.prototype.getType=function(){return lt.POINT},e.prototype.intersectsExtent=function(t){return Ph(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Um(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),qo=MI,FI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DI=function(n){FI(e,n);function e(t,r){var o=n.call(this)||this;return r&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendPoint=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){if(i<ta(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,c=this.stride,u=0,f=s.length;u<f;u+=c){var d=jo(t,r,s[u],s[u+1]);if(d<i){i=d;for(var g=0;g<c;++g)o[g]=s[u+g];o.length=c}}return i},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new qo(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,o=this.stride,i=[],s=0,c=t.length;s<c;s+=o){var u=new qo(t.slice(s,s+o),r);i.push(u)}return i},e.prototype.getType=function(){return lt.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var c=r[i],u=r[i+1];if(Ph(t,c,u))return!0}return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Cc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),Jm=DI;function Qm(n,e,t,r,o,i,s){for(var c,u,f,d,g,p,b,_=o[i+1],w=[],k=0,T=t.length;k<T;++k){var A=t[k];for(d=n[A-r],p=n[A-r+1],c=e;c<A;c+=r)g=n[c],b=n[c+1],(_<=p&&b<=_||p<=_&&_<=b)&&(f=(_-p)/(b-p)*(g-d)+d,w.push(f)),d=g,p=b}var O=NaN,P=-1/0;for(w.sort(Jo),d=w[0],c=1,u=w.length;c<u;++c){g=w[c];var D=Math.abs(g-d);D>P&&(f=(d+g)/2,$h(n,e,t,r,f,_)&&(O=f,P=D)),d=g}return isNaN(O)&&(O=o[i]),s?(s.push(O,_,P),s):[O,_,P]}function NI(n,e,t,r,o){for(var i=[],s=0,c=t.length;s<c;++s){var u=t[s];i=Qm(n,e,u,r,o,2*s,i),e=u[u.length-1]}return i}function zI(n,e,t,r){for(;e<t-r;){for(var o=0;o<r;++o){var i=n[e+o];n[e+o]=n[t-r+o],n[t-r+o]=i}e+=r,t-=r}}function t0(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=(c-i)*(u+s),i=c,s=u}return o===0?void 0:o>0}function e0(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=t0(n,e,u,r);if(s===0){if(i&&f||!i&&!f)return!1}else if(i&&!f||!i&&f)return!1;e=u}return!0}function GI(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(!e0(n,e,c,r,o))return!1;c.length&&(e=c[c.length-1])}return!0}function Zf(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=t0(n,e,u,r),d=s===0?i&&f||!i&&!f:i&&!f||!i&&f;d&&zI(n,e,u,r),e=u}return e}function zv(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i)e=Zf(n,e,t[i],r,o);return e}var BI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),r0=function(n){BI(e,n);function e(t,r,o){var i=n.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,r!==void 0&&o?(i.setFlatCoordinates(r,t),i.ends_=o):i.setCoordinates(t,r),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<ta(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Kh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return $h(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},e.prototype.getArea=function(){return jm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Zf(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,rs(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Vi(this.getExtent());this.flatInteriorPoint_=Qm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new qo(this.getFlatInteriorPoint(),Te.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Nv(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.ends_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c],d=new Nv(r.slice(s,f),t);i.push(d),s=f}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;e0(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Zf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=Vm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return lt.POLYGON},e.prototype.intersectsExtent=function(t){return $m(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Xh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(go),ns=r0;function Gv(n){var e=n[0],t=n[1],r=n[2],o=n[3],i=[e,t,e,o,r,o,r,t,e,t];return new r0(i,Te.XY,[i.length])}function WI(n,e,t,r){for(var o=[],i=Pr(),s=0,c=t.length;s<c;++s){var u=t[s];i=Pm(n,e,u[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return o}var UI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YI=function(n){UI(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!o&&!Array.isArray(t[0])){for(var s=i.getLayout(),c=t,u=[],f=[],d=0,g=c.length;d<g;++d){var p=c[d];d===0&&(s=p.getLayout());for(var b=u.length,_=p.getEnds(),w=0,k=_.length;w<k;++w)_[w]+=b;In(u,p.getFlatCoordinates()),f.push(_)}r=s,t=u,o=f}return r!==void 0&&o?(i.setFlatCoordinates(r,t),i.endss_=o):i.setCoordinates(t,r),i}return e.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;In(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var i=0,s=r.length;i<s;++i)r[i]+=o}this.endss_.push(r),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),o=0;o<t;++o)r[o]=this.endss_[o].slice();var i=new e(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,r,o,i){return i<ta(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pI(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return EI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},e.prototype.getArea=function(){return _I(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),zv(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,jf(r,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=WI(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=NI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Jm(this.getFlatInteriorPoints().slice(),Te.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;GI(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=zv(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=mI(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var o=this.endss_[t-1];r=o[o.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(r!==0)for(var c=0,u=i.length;c<u;++c)i[c]-=r;return new ns(this.flatCoordinates.slice(r,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.endss_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c].slice(),d=f[f.length-1];if(s!==0)for(var g=0,p=f.length;g<p;++g)f[g]-=s;var b=new ns(r.slice(s,d),t,f);i.push(b),s=d}return i},e.prototype.getType=function(){return lt.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return RI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=hI(this.flatCoordinates,0,t,this.stride,this.endss_);if(o.length===0)this.flatCoordinates.length=0;else{var i=o[o.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(go),XI=YI;class qh{constructor(e,t){vl(this,"x");vl(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new qh(-this.y,this.x)}}const VI=new xc({code:"EPSG:4326"}),HI=new xc({code:"EPSG:900913"});function Bv(n){return new qo(n).transform(VI,HI).getExtent()}function Wl(n,e){return new $o([Bv(n),Bv(e)]).getLength()}function Qu(n,e,t){const r=Math.ceil(Wl(n,e)/t),o=Kl.exports.range(0,r).map(i=>[n[0]+i/r*(e[0]-n[0]),n[1]+i/r*(e[1]-n[1])]);return o.push(e),o}function jI(n,e,t){const r=new qh(n.path[0],n.path[3]),o=Qu(n.path[0],n.path[1],e),i=o.map(c=>n.intersectOtherSide(c,r)),s=[];for(let c=0;c<o.length;c++){let u;c%2===0?u=Qu(o[c],i[c],t):u=Qu(i[c],o[c],t),u.forEach(f=>s.push(f))}return s}var KI=Rc("colinear"),ZI=Rc("parallel"),$I=Rc("none");function qI(n,e,t,r,o,i,s,c){var u=(c-i)*(t-n)-(s-o)*(r-e),f=(s-o)*(e-i)-(c-i)*(n-o),d=(t-n)*(e-i)-(r-e)*(n-o);if(u==0)return f==0&&d==0?KI:ZI;var g=f/u,p=d/u;return g>=0&&g<=1&&p>=0&&p<=1?JI({x:n+g*(t-n),y:e+g*(r-e)}):$I}function JI(n){var e=Rc("intersecting");return e.point=n,e}function Rc(n){return{type:n}}class QI{constructor(e){vl(this,"path");this.path=[...e]}width(){return Wl(this.path[0],this.path[1])}height(){return Wl(this.path[0],this.path[3])}diagonalLength(){return Wl(this.path[0],this.path[2])}intersectOtherSide(e,t){const r=Math.sqrt(t.x*t.x+t.y*t.y),o=t.x/r,i=t.y/r,s=this.diagonalLength()*1.1,c=[[e[0]-s*o,e[1]-s*i],[e[0]+s*o,e[1]+s*i]],u=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],f=Kl.exports.chain(u).map(d=>qI(c[0][0],c[0][1],c[1][0],c[1][1],d[0][0],d[0][1],d[1][0],d[1][1])).filter(d=>d.type==="intersecting").map("point").maxBy(d=>(d.x-e[0])*(d.x-e[0])+(d.y-e[1])*(d.y-e[1])).value();return[f.x,f.y]}}var Ye={ANIMATING:0,INTERACTING:1},Br={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},t2=42,Jh=256;function Wv(n,e,t){return function(r,o,i,s,c){if(!!r){if(!o&&!e)return r;var u=e?0:i[0]*o,f=e?0:i[1]*o,d=c?c[0]:0,g=c?c[1]:0,p=n[0]+u/2+d,b=n[2]-u/2+d,_=n[1]+f/2+g,w=n[3]-f/2+g;p>b&&(p=(b+p)/2,b=p),_>w&&(_=(w+_)/2,w=_);var k=Ae(r[0],p,b),T=Ae(r[1],_,w);if(s&&t&&o){var A=30*o;k+=-A*Math.log(1+Math.max(0,p-r[0])/A)+A*Math.log(1+Math.max(0,r[0]-b)/A),T+=-A*Math.log(1+Math.max(0,_-r[1])/A)+A*Math.log(1+Math.max(0,r[1]-w)/A)}return[k,T]}}}function e2(n){return n}function Qh(n,e,t,r){var o=xe(e)/t[0],i=Zr(e)/t[1];return r?Math.min(n,Math.max(o,i)):Math.min(n,Math.min(o,i))}function td(n,e,t){var r=Math.min(n,e),o=50;return r*=Math.log(1+o*Math.max(0,n/e-1))/o+1,t&&(r=Math.max(r,t),r/=Math.log(1+o*Math.max(0,t/n-1))/o+1),Ae(r,t/2,e*2)}function r2(n,e,t,r){return function(o,i,s,c){if(o!==void 0){var u=n[0],f=n[n.length-1],d=t?Qh(u,t,s,r):u;if(c){var g=e!==void 0?e:!0;return g?td(o,d,f):Ae(o,f,d)}var p=Math.min(d,o),b=Math.floor(Wh(n,p,i));return n[b]>d&&b<n.length-1?n[b+1]:n[b]}else return}}function n2(n,e,t,r,o,i){return function(s,c,u,f){if(s!==void 0){var d=o?Qh(e,o,u,i):e,g=t!==void 0?t:0;if(f){var p=r!==void 0?r:!0;return p?td(s,d,g):Ae(s,g,d)}var b=1e-9,_=Math.ceil(Math.log(e/d)/Math.log(n)-b),w=-c*(.5-b)+.5,k=Math.min(d,s),T=Math.floor(Math.log(e/k)/Math.log(n)+w),A=Math.max(_,T),O=e/Math.pow(n,A);return Ae(O,g,d)}else return}}function Uv(n,e,t,r,o){return function(i,s,c,u){if(i!==void 0){var f=r?Qh(n,r,c,o):n,d=t!==void 0?t:!0;return!d||!u?Ae(i,e,f):td(i,f,e)}else return}}function ed(n){if(n!==void 0)return 0}function Yv(n){if(n!==void 0)return n}function o2(n){var e=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function i2(n){var e=n||Bl(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function n0(n){return Math.pow(n,3)}function ra(n){return 1-n0(1-n)}function a2(n){return 3*n*n-2*n*n*n}function s2(n){return n}var l2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tf=0,c2=function(n){l2(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=Me({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=zh(o.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,o.projection&&OA(),o.center&&(o.center=Rr(o.center,r.projection_)),o.extent&&(o.extent=Bo(o.extent,r.projection_)),r.applyOptions_(o),r}return e.prototype.applyOptions_=function(t){var r=Me({},t);for(var o in Br)delete r[o];this.setProperties(r,!0);var i=f2(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=u2(t),c=i.constraint,u=h2(t);this.constraints_={center:s,resolution:c,rotation:u},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var o=this.getCenter();if(o){var i=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),c=s/2*(i[3]-r[3]+r[1]-i[1]),u=s/2*(i[0]-r[0]+r[2]-i[2]);this.setCenterInternal([o[0]+c,o[1]-u])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Me({},r,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),o=0;o<r.length;++o){var i=arguments[o];i.center&&(i=Me({},i),i.center=Rr(i.center,this.getProjection())),i.anchor&&(i=Me({},i),i.anchor=Rr(i.anchor,this.getProjection())),r[o]=i}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(t){var r=arguments.length,o;r>1&&typeof arguments[r-1]=="function"&&(o=arguments[r-1],--r);for(var i=0;i<r&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===r){o&&Cl(o,!0);return}for(var c=Date.now(),u=this.targetCenter_.slice(),f=this.targetResolution_,d=this.targetRotation_,g=[];i<r;++i){var p=arguments[i],b={start:c,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||a2,callback:o};if(p.center&&(b.sourceCenter=u,b.targetCenter=p.center.slice(),u=b.targetCenter),p.zoom!==void 0?(b.sourceResolution=f,b.targetResolution=this.getResolutionForZoom(p.zoom),f=b.targetResolution):p.resolution&&(b.sourceResolution=f,b.targetResolution=p.resolution,f=b.targetResolution),p.rotation!==void 0){b.sourceRotation=d;var _=Ni(p.rotation-d+Math.PI,2*Math.PI)-Math.PI;b.targetRotation=d+_,d=b.targetRotation}d2(b)?b.complete=!0:c+=b.duration,g.push(b)}this.animations_.push(g),this.setHint(Ye.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ye.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Ye.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Ye.ANIMATING,-this.hints_[Ye.ANIMATING]);for(var t,r=0,o=this.animations_.length;r<o;++r){var i=this.animations_[r];if(i[0].callback&&Cl(i[0].callback,!1),!t)for(var s=0,c=i.length;s<c;++s){var u=i[s];if(!u.complete){t=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],s=!0,c=0,u=i.length;c<u;++c){var f=i[c];if(!f.complete){var d=t-f.start,g=f.duration>0?d/f.duration:1;g>=1?(f.complete=!0,g=1):s=!1;var p=f.easing(g);if(f.sourceCenter){var b=f.sourceCenter[0],_=f.sourceCenter[1],w=f.targetCenter[0],k=f.targetCenter[1];this.nextCenter_=f.targetCenter;var T=b+p*(w-b),A=_+p*(k-_);this.targetCenter_=[T,A]}if(f.sourceResolution&&f.targetResolution){var O=p===1?f.targetResolution:f.sourceResolution+p*(f.targetResolution-f.sourceResolution);if(f.anchor){var P=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(O,0,P,!0);this.targetCenter_=this.calculateCenterZoom(D,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){var X=p===1?Ni(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+p*(f.targetRotation-f.sourceRotation);if(f.anchor){var G=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(G,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),r=!0,!f.complete)break}}if(s){this.animations_[o]=null,this.setHint(Ye.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var F=i[0].callback;F&&Cl(F,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,r){var o,i=this.getCenterInternal();return i!==void 0&&(o=[i[0]-r[0],i[1]-r[1]],Fh(o,t-this.getRotation()),wA(o,r)),o},e.prototype.calculateCenterZoom=function(t,r){var o,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var c=r[0]-t*(r[0]-i[0])/s,u=r[1]-t*(r[1]-i[1])/s;o=[c,u]}return o},e.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var o=r[0],i=r[1];return[Math.abs(o*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(o*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return r},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Vf(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Br.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return Hf(r,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();Kt(o,1);var i=this.getResolution();Kt(i!==void 0,2);var s=this.getRotation();return Kt(s!==void 0,3),Yf(o,i,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Br.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(Bo(t,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(t,r){var o=r||this.getViewportSizeMinusPadding_(),i=xe(t)/o[0],s=Zr(t)/o[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var r=t||2,o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/Math.log(r);return function(c){var u=o/Math.pow(r,c*s);return u}},e.prototype.getRotation=function(){return this.get(Br.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/r;return function(c){var u=Math.log(o/c)/r/s;return u}},e.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),o=this.padding_;return o&&(r=[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]),r},e.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),o=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var c=this.getViewportSizeMinusPadding_();i=ef(i,this.getViewportSize_(),[c[0]/2+s[3],c[1]/2+s[0]],r,o)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},e.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,o,i;if(this.resolutions_){var s=Wh(this.resolutions_,t,1);r=s,o=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=o/this.resolutions_[s+1]}else o=this.maxResolution_,i=this.zoomFactor_;return r+Math.log(o/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Ae(Math.floor(t),0,this.resolutions_.length-2),o=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(o,Ae(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,r){var o;if(Kt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Kt(!Mh(t),25);var i=Bo(t,this.getProjection());o=Gv(i)}else if(t.getType()===lt.CIRCLE){var i=Bo(t.getExtent(),this.getProjection());o=Gv(i),o.rotate(this.getRotation(),Vi(i))}else{var s=bs();s?o=t.clone().transform(s,this.getProjection()):o=t}this.fitInternal(o,r)},e.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),o=Math.cos(r),i=Math.sin(-r),s=t.getFlatCoordinates(),c=t.getStride(),u=1/0,f=1/0,d=-1/0,g=-1/0,p=0,b=s.length;p<b;p+=c){var _=s[p]*o-s[p+1]*i,w=s[p]*i+s[p+1]*o;u=Math.min(u,_),f=Math.min(f,w),d=Math.max(d,_),g=Math.max(g,w)}return[u,f,d,g]},e.prototype.fitInternal=function(t,r){var o=r||{},i=o.size;i||(i=this.getViewportSizeMinusPadding_());var s=o.padding!==void 0?o.padding:[0,0,0,0],c=o.nearest!==void 0?o.nearest:!1,u;o.minResolution!==void 0?u=o.minResolution:o.maxZoom!==void 0?u=this.getResolutionForZoom(o.maxZoom):u=0;var f=this.rotatedExtentForGeometry(t),d=this.getResolutionForExtentInternal(f,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,c?0:1);var g=this.getRotation(),p=Math.sin(g),b=Math.cos(g),_=Vi(f);_[0]+=(s[1]-s[3])/2*d,_[1]+=(s[0]-s[2])/2*d;var w=_[0]*b-_[1]*p,k=_[1]*b+_[0]*p,T=this.getConstrainedCenter([w,k],d),A=o.callback?o.callback:Qo;o.duration!==void 0?this.animateInternal({resolution:d,center:T,duration:o.duration,easing:o.easing},A):(this.targetResolution_=d,this.targetCenter_=T,this.applyTargetState_(!1,!0),Cl(A,!0))},e.prototype.centerOn=function(t,r,o){this.centerOnInternal(Rr(t,this.getProjection()),r,o)},e.prototype.centerOnInternal=function(t,r,o){this.setCenterInternal(ef(t,r,o,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,r,o,i){var s,c=this.padding_;if(c&&t){var u=this.getViewportSizeMinusPadding_(-o),f=ef(t,i,[u[0]/2+c[3],u[1]/2+c[0]],r,o);s=[t[0]-f[0],t[1]-f[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var r=Vf(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustResolution=function(t,r){var o=r&&Rr(r,this.getProjection());this.adjustResolutionInternal(t,o)},e.prototype.adjustResolutionInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,o);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},e.prototype.adjustRotation=function(t,r){r&&(r=Rr(r,this.getProjection())),this.adjustRotationInternal(t,r)},e.prototype.adjustRotationInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,o);r&&(this.targetCenter_=this.calculateCenterRotate(i,r)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Rr(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,r){var o=this.getAnimating()||this.getInteracting()||r,i=this.constraints_.rotation(this.targetRotation_,o),s=this.getViewportSize_(i),c=this.constraints_.resolution(this.targetResolution_,0,s,o),u=this.constraints_.center(this.targetCenter_,c,s,o,this.calculateCenterShift(this.targetCenter_,c,i,s));this.get(Br.ROTATION)!==i&&this.set(Br.ROTATION,i),this.get(Br.RESOLUTION)!==c&&(this.set(Br.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(Br.CENTER)||!$l(this.get(Br.CENTER),u))&&this.set(Br.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,r,o){var i=t!==void 0?t:200,s=r||0,c=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(c),f=this.constraints_.resolution(this.targetResolution_,s,u),d=this.constraints_.center(this.targetCenter_,f,u,!1,this.calculateCenterShift(this.targetCenter_,f,c,u));if(i===0&&!this.cancelAnchor_){this.targetResolution_=f,this.targetRotation_=c,this.targetCenter_=d,this.applyTargetState_();return}var g=o||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==f||this.getRotation()!==c||!this.getCenterInternal()||!$l(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:d,resolution:f,duration:i,easing:ra,anchor:g}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ye.INTERACTING,1)},e.prototype.endInteraction=function(t,r,o){var i=o&&Rr(o,this.getProjection());this.endInteractionInternal(t,r,i)},e.prototype.endInteractionInternal=function(t,r,o){this.setHint(Ye.INTERACTING,-1),this.resolveConstraints(t,r,o)},e.prototype.getConstrainedCenter=function(t,r){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),o)},e.prototype.getConstrainedZoom=function(t,r){var o=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(o,r))},e.prototype.getConstrainedResolution=function(t,r){var o=r||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,o,i)},e}(cn);function Cl(n,e){setTimeout(function(){n(e)},0)}function u2(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Wv(n.extent,n.constrainOnlyCenter,e)}var t=zh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Wv(r,!1,!1)}return e2}function f2(n){var e,t,r,o=28,i=2,s=n.minZoom!==void 0?n.minZoom:tf,c=n.maxZoom!==void 0?n.maxZoom:o,u=n.zoomFactor!==void 0?n.zoomFactor:i,f=n.multiWorld!==void 0?n.multiWorld:!1,d=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,g=n.showFullExtent!==void 0?n.showFullExtent:!1,p=zh(n.projection,"EPSG:3857"),b=p.getExtent(),_=n.constrainOnlyCenter,w=n.extent;if(!f&&!w&&p.isGlobal()&&(_=!1,w=b),n.resolutions!==void 0){var k=n.resolutions;t=k[s],r=k[c]!==void 0?k[c]:k[k.length-1],n.constrainResolution?e=r2(k,d,!_&&w,g):e=Uv(t,r,d,!_&&w,g)}else{var T=b?Math.max(xe(b),Zr(b)):360*Sr[gr.DEGREES]/p.getMetersPerUnit(),A=T/Jh/Math.pow(i,tf),O=A/Math.pow(i,o-tf);t=n.maxResolution,t!==void 0?s=0:t=A/Math.pow(u,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(u,c):r=A/Math.pow(u,c):r=O),c=s+Math.floor(Math.log(t/r)/Math.log(u)),r=t/Math.pow(u,c-s),n.constrainResolution?e=n2(u,t,r,d,!_&&w,g):e=Uv(t,r,d,!_&&w,g)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:u}}function h2(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?i2():t===!1?Yv:typeof t=="number"?o2(t):Yv}else return ed}function d2(n){return!(n.sourceCenter&&n.targetCenter&&!$l(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function ef(n,e,t,r,o){var i=Math.cos(-o),s=Math.sin(-o),c=n[0]*i-n[1]*s,u=n[1]*i+n[0]*s;c+=(e[0]/2-t[0])*r,u+=(t[1]-e[1]/2)*r,s=-s;var f=c*i-u*s,d=u*i+c*s;return[f,d]}var no=c2,p2=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,g2=/^([a-z]*)$|^hsla?\(.*\)$/i;function o0(n){return typeof n=="string"?n:i0(n)}function v2(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var b2=function(){var n=1024,e={},t=0;return function(r){var o;if(e.hasOwnProperty(r))o=e[r];else{if(t>=n){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}o=m2(r),e[r]=o,++t}return o}}();function Jl(n){return Array.isArray(n)?n:b2(n)}function m2(n){var e,t,r,o,i;if(g2.exec(n)&&(n=v2(n)),p2.exec(n)){var s=n.length-1,c=void 0;s<=4?c=1:c=2;var u=s===4||s===8;e=parseInt(n.substr(1+0*c,c),16),t=parseInt(n.substr(1+1*c,c),16),r=parseInt(n.substr(1+2*c,c),16),u?o=parseInt(n.substr(1+3*c,c),16):o=255,c==1&&(e=(e<<4)+e,t=(t<<4)+t,r=(r<<4)+r,u&&(o=(o<<4)+o)),i=[e,t,r,o/255]}else n.indexOf("rgba(")==0?(i=n.slice(5,-1).split(",").map(Number),Xv(i)):n.indexOf("rgb(")==0?(i=n.slice(4,-1).split(",").map(Number),i.push(1),Xv(i)):Kt(!1,14);return i}function Xv(n){return n[0]=Ae(n[0]+.5|0,0,255),n[1]=Ae(n[1]+.5|0,0,255),n[2]=Ae(n[2]+.5|0,0,255),n[3]=Ae(n[3],0,1),n}function i0(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var o=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+r+","+o+")"}var _2=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,r){var o=Vv(e,t,r);return o in this.cache_?this.cache_[o]:null},n.prototype.set=function(e,t,r,o){var i=Vv(e,t,r);this.cache_[i]=o,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function Vv(n,e,t){var r=t?o0(t):"null";return e+":"+n+":"+r}var Ql=new _2,ae={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},y2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),x2=function(n){y2(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var o=Me({},t);return typeof t.properties=="object"&&(delete o.properties,Me(o,t.properties)),o[ae.OPACITY]=t.opacity!==void 0?t.opacity:1,Kt(typeof o[ae.OPACITY]=="number",64),o[ae.VISIBLE]=t.visible!==void 0?t.visible:!0,o[ae.Z_INDEX]=t.zIndex,o[ae.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,o[ae.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,o[ae.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,o[ae.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,r.setProperties(o),r.state_=null,r}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},o=this.getZIndex();return r.opacity=Ae(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=o===void 0&&!r.managed?1/0:o,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(t){return jt()},e.prototype.getLayerStatesArray=function(t){return jt()},e.prototype.getExtent=function(){return this.get(ae.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ae.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ae.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(ae.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(ae.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(ae.OPACITY)},e.prototype.getSourceState=function(){return jt()},e.prototype.getVisible=function(){return this.get(ae.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ae.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(ae.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ae.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ae.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(ae.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(ae.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Kt(typeof t=="number",64),this.set(ae.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ae.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ae.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(cn),a0=x2,co={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ti={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},w2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k2=function(n){w2(e,n);function e(t){var r=this,o=Me({},t);delete o.source,r=n.call(this,o)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(ae.SOURCE,r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return e.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get(ae.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ti.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(be(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=qt(t,Dt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,r){var o=this.getRenderer();if(o.prepareFrame(t))return this.rendered=!0,o.renderFrame(t,r)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(ae.MAP,t)},e.prototype.getMapInternal=function(){return this.get(ae.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(be(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(be(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=qt(t,co.PRECOMPOSE,function(r){var o=r,i=o.frameState.layerStatesArray,s=this.getLayerState(!1);Kt(!i.some(function(c){return c.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=qt(this,Dt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ae.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(a0);function tc(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var Ac=k2,E2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),C2=function(n){E2(e,n);function e(t){var r=n.call(this)||this;return r.map_=t,r}return e.prototype.dispatchRenderEvent=function(t,r){jt()},e.prototype.calculateMatrices2D=function(t){var r=t.viewState,o=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Pn(o,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),Uh(i,o)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s,c,u,f){var d,g=r.viewState;function p(ot,ht,tt,ct){return s.call(c,ht,ot?tt:null,ct)}var b=g.projection,_=Mm(t.slice(),b),w=[[0,0]];if(b.canWrapX()&&i){var k=b.getExtent(),T=xe(k);w.push([-T,0],[T,0])}for(var A=r.layerStatesArray,O=A.length,P=[],D=[],X=0;X<w.length;X++)for(var G=O-1;G>=0;--G){var F=A[G],j=F.layer;if(j.hasRenderer()&&tc(F,g)&&u.call(f,j)){var et=j.getRenderer(),at=j.getSource();if(et&&at){var ut=at.getWrapX()?_:t,ft=p.bind(null,F.managed);D[0]=ut[0]+w[X][0],D[1]=ut[1]+w[X][1],d=et.forEachFeatureAtCoordinate(D,r,o,ft,P)}if(d)return d}}if(P.length!==0){var bt=1/P.length;return P.forEach(function(ot,ht){return ot.distanceSq+=ht*bt}),P.sort(function(ot,ht){return ot.distanceSq-ht.distanceSq}),P.some(function(ot){return d=ot.callback(ot.feature,ot.layer,ot.geometry)}),d}},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){return jt()},e.prototype.hasFeatureAtCoordinate=function(t,r,o,i,s,c){var u=this.forEachFeatureAtCoordinate(t,r,o,i,Ko,this,s,c);return u!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){jt()},e.prototype.scheduleExpireIconCache=function(t){Ql.canExpireCache()&&t.postRenderFunctions.push(T2)},e}(Bh);function T2(n,e){Ql.expire()}var R2=C2,A2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I2=function(n){A2(e,n);function e(t,r,o,i){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=o,s.context=i,s}return e}(ln),s0=I2,Tl="ol-hidden",Ic="ol-unselectable",rd="ol-control",Hv="ol-collapsed",O2=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),jv=["style","variant","weight","size","lineHeight","family"],l0=function(n){var e=n.match(O2);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=jv.length;r<o;++r){var i=e[r+1];i!==void 0&&(t[jv[r]]=i)}return t.families=t.family.split(/,\s?/),t};function c0(n){return n===1?"":String(Math.round(n*100)/100)}function Mr(n,e,t,r){var o;return t&&t.length?o=t.shift():Ec?o=new OffscreenCanvas(n||300,e||300):o=document.createElement("canvas"),n&&(o.width=n),e&&(o.height=e),o.getContext("2d",r)}function Kv(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function $f(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function S2(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function P2(n,e){for(var t=n.childNodes,r=0;;++r){var o=t[r],i=e[r];if(!o&&!i)break;if(o!==i){if(!o){n.appendChild(i);continue}if(!i){n.removeChild(o),--r;continue}n.insertBefore(i,o)}}}var u0="10px sans-serif",On="#000",ec="round",os=[],is=0,Ki="round",as=10,ss="#000",ls="center",rc="middle",Uo=[0,0,0,0],cs=1,wn=new cn,L2=new ea;L2.setSize=function(){console.warn("labelCache is deprecated.")};var Oi=null,qf,Jf={},M2=function(){var n=100,e="32px ",t=["monospace","serif"],r=t.length,o="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function c(f,d,g){for(var p=!0,b=0;b<r;++b){var _=t[b];if(s=nc(f+" "+d+" "+e+_,o),g!=_){var w=nc(f+" "+d+" "+e+g+","+_,o);p=p&&w!=s}}return!!p}function u(){for(var f=!0,d=wn.getKeys(),g=0,p=d.length;g<p;++g){var b=d[g];wn.get(b)<n&&(c.apply(this,b.split(`
`))?(ds(Jf),Oi=null,qf=void 0,wn.set(b,n)):(wn.set(b,wn.get(b)+1,!0),f=!1))}f&&(clearInterval(i),i=void 0)}return function(f){var d=l0(f);if(!!d)for(var g=d.families,p=0,b=g.length;p<b;++p){var _=g[p],w=d.style+`
`+d.weight+`
`+_;wn.get(w)===void 0&&(wn.set(w,n,!0),c(d.style,d.weight,_)||(wn.set(w,0,!0),i===void 0&&(i=setInterval(u,32))))}}}(),F2=function(){var n;return function(e){var t=Jf[e];if(t==null){if(Ec){var r=l0(e),o=f0(e,"\u017Dg"),i=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=i*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Jf[e]=t}return t}}();function f0(n,e){return Oi||(Oi=Mr(1,1)),n!=qf&&(Oi.font=n,qf=Oi.font),Oi.measureText(e)}function nc(n,e){return f0(n,e).width}function Zv(n,e,t){if(e in t)return t[e];var r=nc(n,e);return t[e]=r,r}function D2(n,e){for(var t=[],r=[],o=[],i=0,s=0,c=0,u=0,f=0,d=e.length;f<=d;f+=2){var g=e[f];if(g===`
`||f===d){i=Math.max(i,s),o.push(s),s=0,c+=u;continue}var p=e[f+1]||n.font,b=nc(p,g);t.push(b),s+=b;var _=F2(p);r.push(_),u=Math.max(u,_)}return{width:i,height:c,widths:t,heights:r,lineWidths:o}}function N2(n,e,t,r,o,i,s,c,u,f,d){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),r.contextInstructions?(n.translate(u,f),n.scale(d[0],d[1]),z2(r,n)):d[0]<0||d[1]<0?(n.translate(u,f),n.scale(d[0],d[1]),n.drawImage(r,o,i,s,c,0,0,s,c)):n.drawImage(r,o,i,s,c,u,f,s*d[0],c*d[1]),n.restore()}function z2(n,e){for(var t=n.contextInstructions,r=0,o=t.length;r<o;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var G2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),B2=function(n){G2(e,n);function e(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=qt(wn,ji.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var o=r.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",r.element_.className=Ic+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return e.prototype.dispatchRenderEvent=function(t,r){var o=this.getMap();if(o.hasListener(t)){var i=new s0(t,void 0,r);o.dispatchEvent(i)}},e.prototype.disposeInternal=function(){be(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(co.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(b,_){return b.zIndex-_.zIndex}),o=t.viewState;this.children_.length=0;for(var i=[],s=null,c=0,u=r.length;c<u;++c){var f=r[c];t.layerIndex=c;var d=f.layer,g=d.getSourceState();if(!tc(f,o)||g!=ti.READY&&g!=ti.UNDEFINED){d.unrender();continue}var p=d.render(t,s);!p||(p!==s&&(this.children_.push(p),s=p),"getDeclutter"in d&&i.push(d))}for(var c=i.length-1;c>=0;--c)i[c].renderDeclutter(t);P2(this.element_,this.children_),this.dispatchRenderEvent(co.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){for(var c=r.viewState,u=r.layerStatesArray,f=u.length,d=f-1;d>=0;--d){var g=u[d],p=g.layer;if(p.hasRenderer()&&tc(g,c)&&s(p)){var b=p.getRenderer(),_=b.getDataAtPixel(t,r,o);if(_){var w=i(p,_);if(w)return w}}}},e}(R2),W2=B2,or={ADD:"add",REMOVE:"remove"},h0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$v={LENGTH:"length"},Rl=function(n){h0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.element=r,i.index=o,i}return e}(ln),U2=function(n){h0(e,n);function e(t,r){var o=n.call(this)||this;o.on,o.once,o.un;var i=r||{};if(o.unique_=!!i.unique,o.array_=t||[],o.unique_)for(var s=0,c=o.array_.length;s<c;++s)o.assertUnique_(o.array_[s],s);return o.updateLength_(),o}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var r=0,o=t.length;r<o;++r)this.push(t[r]);return this},e.prototype.forEach=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)t(r[o],o,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get($v.LENGTH)},e.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new Rl(or.ADD,r,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},e.prototype.remove=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)if(r[o]===t)return this.removeAt(o)},e.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Rl(or.REMOVE,r,t)),r},e.prototype.setAt=function(t,r){var o=this.getLength();if(t<o){this.unique_&&this.assertUnique_(r,t);var i=this.array_[t];this.array_[t]=r,this.dispatchEvent(new Rl(or.REMOVE,i,t)),this.dispatchEvent(new Rl(or.ADD,r,t))}else{for(var s=o;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},e.prototype.updateLength_=function(){this.set($v.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,r){for(var o=0,i=this.array_.length;o<i;++o)if(this.array_[o]===t&&o!==r)throw new Om(58)},e}(cn),Ir=U2,d0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eo=function(n){d0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.layer=r,o}return e}(ln),rf={LAYERS:"layers"},Y2=function(n){d0(e,n);function e(t){var r=this,o=t||{},i=Me({},o);delete i.layers;var s=o.layers;return r=n.call(this,i)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(rf.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new Ir(s.slice(),{unique:!0}):Kt(typeof s.getArray=="function",43):s=new Ir(void 0,{unique:!0}),r.setLayers(s),r}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(be),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(qt(t,or.ADD,this.handleLayersAdd_,this),qt(t,or.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(be);ds(this.listenerKeys_);for(var o=t.getArray(),i=0,s=o.length;i<s;i++){var c=o[i];this.registerLayerListeners_(c),this.dispatchEvent(new eo("addlayer",c))}this.changed()},e.prototype.registerLayerListeners_=function(t){var r=[qt(t,ji.PROPERTYCHANGE,this.handleLayerChange_,this),qt(t,Dt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&r.push(qt(t,"addlayer",this.handleLayerGroupAdd_,this),qt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ne(t)]=r},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new eo("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new eo("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new eo("addlayer",r)),this.changed()},e.prototype.handleLayersRemove_=function(t){var r=t.element,o=ne(r);this.listenerKeys_[o].forEach(be),delete this.listenerKeys_[o],this.dispatchEvent(new eo("removelayer",r)),this.changed()},e.prototype.getLayers=function(){return this.get(rf.LAYERS)},e.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var o=r.getArray(),i=0,s=o.length;i<s;++i)this.dispatchEvent(new eo("removelayer",o[i]));this.set(rf.LAYERS,t)},e.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(o){o.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],o=r.length;this.getLayers().forEach(function(d){d.getLayerStatesArray(r)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var c=o,u=r.length;c<u;c++){var f=r[c];f.opacity*=i.opacity,f.visible=f.visible&&i.visible,f.maxResolution=Math.min(f.maxResolution,i.maxResolution),f.minResolution=Math.max(f.minResolution,i.minResolution),f.minZoom=Math.max(f.minZoom,i.minZoom),f.maxZoom=Math.min(f.maxZoom,i.maxZoom),i.extent!==void 0&&(f.extent!==void 0?f.extent=Xa(f.extent,i.extent):f.extent=i.extent),f.zIndex===void 0&&(f.zIndex=s)}return r},e.prototype.getSourceState=function(){return ti.READY},e}(a0),Oc=Y2,X2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V2=function(n){X2(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.map=r,i.frameState=o!==void 0?o:null,i}return e}(ln),Si=V2,H2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),j2=function(n){H2(e,n);function e(t,r,o,i,s){var c=n.call(this,t,r,s)||this;return c.originalEvent=o,c.pixel_=null,c.coordinate_=null,c.dragging=i!==void 0?i:!1,c}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Si),En=j2,te={SINGLECLICK:"singleclick",CLICK:Dt.CLICK,DBLCLICK:Dt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},us={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},K2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Z2=function(n){K2(e,n);function e(t,r){var o=n.call(this,t)||this;o.map_=t,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=r===void 0?1:r,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=qt(i,us.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=qt(i,us.POINTERMOVE,o.relayEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(Dt.TOUCHMOVE,o.boundHandleTouchMove_,Gm?{passive:!1}:!1),o}return e.prototype.emulateClick_=function(t){var r=new En(te.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new En(te.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var o=new En(te.SINGLECLICK,this.map_,t);this.dispatchEvent(o)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var r=t;r.type==te.POINTERUP||r.type==te.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==te.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new En(te.POINTERUP,this.map_,t);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var r=new En(te.POINTERDOWN,this.map_,t);this.dispatchEvent(r),this.down_={};for(var o in t){var i=t[o];this.down_[o]=typeof i=="function"?Qo:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(qt(s,te.POINTERMOVE,this.handlePointerMove_,this),qt(s,te.POINTERUP,this.handlePointerUp_,this),qt(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(qt(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var r=new En(te.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(r)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new En(t.type,this.map_,t,r))},e.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(be(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Dt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(be(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(ea),$2=Z2,Jn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ue={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},oc=1/0,q2=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ds(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var o=this.keyFunction_(r);return delete this.queuedElements_[o],r},n.prototype.enqueue=function(e){Kt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=oc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,o=t.length,i=t[e],s=r[e],c=e;e<o>>1;){var u=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),d=f<o&&r[f]<r[u]?f:u;t[e]=t[d],r[e]=r[d],e=d}t[e]=i,r[e]=s,this.siftDown_(c,e)},n.prototype.siftDown_=function(e,t){for(var r=this.elements_,o=this.priorities_,i=r[t],s=o[t];t>e;){var c=this.getParentIndex_(t);if(o[c]>s)r[t]=r[c],o[t]=o[c],t=c;else break}r[t]=i,o[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,o=0,i=t.length,s,c,u;for(c=0;c<i;++c)s=t[c],u=e(s),u==oc?delete this.queuedElements_[this.keyFunction_(s)]:(r[o]=u,t[o++]=s);t.length=o,r.length=o,this.heapify_()},n}(),J2=q2,Rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Q2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tO=function(n){Q2(e,n);function e(t,r){var o=n.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=r,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return e.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var o=t[0];o.addEventListener(Dt.CHANGE,this.boundHandleTileChange_)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var r=t.target,o=r.getState();if(o===Rt.LOADED||o===Rt.ERROR||o===Rt.EMPTY){r.removeEventListener(Dt.CHANGE,this.boundHandleTileChange_);var i=r.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,r){for(var o=0,i,s,c;this.tilesLoading_<t&&o<r&&this.getCount()>0;)s=this.dequeue()[0],c=s.getKey(),i=s.getState(),i===Rt.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++o,s.load())},e}(J2),eO=tO;function rO(n,e,t,r,o){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return oc;var i=n.viewState.center,s=r[0]-i[0],c=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(s*s+c*c)/o}function qv(n){return n[0]>0&&n[1]>0}function nO(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Xr(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var oO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function p0(n){if(n instanceof Ac){n.setMapInternal(null);return}n instanceof Oc&&n.getLayers().forEach(p0)}function g0(n,e){if(n instanceof Ac){n.setMapInternal(e);return}if(n instanceof Oc)for(var t=n.getLayers().getArray(),r=0,o=t.length;r<o;++r)g0(t[r],e)}var iO=function(n){oO(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=aO(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:zm,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=sn(),r.pixelToCoordinateTransform_=sn(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=o.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=o.controls||new Ir,r.interactions=o.interactions||new Ir,r.overlays_=o.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new eO(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Ue.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(Ue.VIEW,r.handleViewChanged_),r.addChangeListener(Ue.SIZE,r.handleSizeChanged_),r.addChangeListener(Ue.TARGET,r.handleTargetChanged_),r.setProperties(o.values);var i=r;return t.view&&!(t.view instanceof no)&&t.view.then(function(s){i.setView(new no(s))}),r.controls.addEventListener(or.ADD,function(s){s.element.setMap(this)}.bind(r)),r.controls.addEventListener(or.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.interactions.addEventListener(or.ADD,function(s){s.element.setMap(this)}.bind(r)),r.interactions.addEventListener(or.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(or.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(r)),r.overlays_.addEventListener(or.REMOVE,function(s){var c=s.element,u=c.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],s.element.setMap(null)}.bind(r)),r.controls.forEach(function(s){s.setMap(this)}.bind(r)),r.interactions.forEach(function(s){s.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},e.prototype.handleLayerAdd_=function(t){g0(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var s=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.layerFilter!==void 0?o.layerFilter:Ko,u=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,u,r,null,c,null)}},e.prototype.getFeaturesAtPixel=function(t,r){var o=[];return this.forEachFeatureAtPixel(t,function(i){o.push(i)},r),o},e.prototype.getAllLayers=function(){var t=[];function r(o){o.forEach(function(i){i instanceof Oc?r(i.getLayers()):t.push(i)})}return r(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=o||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter||Ko;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,c)}},e.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var o=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var i=r.layerFilter!==void 0?r.layerFilter:Ko,s=r.hitTolerance!==void 0?r.hitTolerance:0,c=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,s,c,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),o="changedTouches"in t?t.changedTouches[0]:t;return[o.clientX-r.left,o.clientY-r.top]},e.prototype.getTarget=function(){return this.get(Ue.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Vf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Re(r.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ue.LAYERGROUP)},e.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof Ir){r.setLayers(t);return}var o=r.getLayers();o.clear(),o.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var c=i.layer.getSource();if(c&&c.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var r=Rr(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Re(r.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ue.SIZE)},e.prototype.getView=function(){return this.get(Ue.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,r,o,i){return rO(this.frameState_,t,r,o,i)},e.prototype.handleBrowserEvent=function(t,r){var o=r||t.type,i=new En(o,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var r=t.originalEvent,o=r.type;if(o===us.POINTERDOWN||o===Dt.WHEEL||o===Dt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,c=r.target;if(this.overlayContainerStopEvent_.contains(c)||!(s===i?i.documentElement:s).contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var u=this.getInteractions().getArray().slice(),f=u.length-1;f>=0;f--){var d=u[f];if(!(d.getMap()!==this||!d.getActive()||!this.getTargetElement())){var g=d.handleEvent(t);if(!g||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var o=this.maxTilesLoading_,i=o;if(t){var s=t.viewHints;if(s[Ye.ANIMATING]||s[Ye.INTERACTING]){var c=Date.now()-t.time>8;o=c?0:8,i=c?0:2}}r.getTilesLoading()<o&&(r.reprioritize(),r.loadMoreTiles(o,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(co.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(co.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Si(Jn.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Si(Jn.LOADSTART,this,t))));for(var u=this.postRenderFunctions_,f=0,d=u.length;f<d;++f)u[f](this,t);u.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)be(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,$f(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new $2(this,this.moveTolerance_);for(var i in te)this.mapBrowserEventHandler_.addEventListener(te[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_,Gm?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[qt(c,Dt.KEYDOWN,this.handleBrowserEvent,this),qt(c,Dt.KEYPRESS,this.handleBrowserEvent,this),qt(s,Dt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(be(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(be(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=qt(t,ji.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=qt(t,Dt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(be),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new eo("addlayer",t)),this.layerGroupPropertyListenerKeys_=[qt(t,ji.PROPERTYCHANGE,this.render,this),qt(t,Dt.CHANGE,this.render,this),qt(t,"addlayer",this.handleLayerAdd_,this),qt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},e.prototype.handleLayerRemove_=function(t){p0(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var r=this,o=this.getSize(),i=this.getView(),s=this.frameState_,c=null;if(o!==void 0&&qv(o)&&i&&i.isDef()){var u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),f=i.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Yf(f.center,f.resolution,f.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:f,viewHints:u,wantedTiles:{},mapId:ne(this),renderTargets:{}},f.nextCenter&&f.nextResolution){var d=isNaN(f.nextRotation)?f.rotation:f.nextRotation;c.nextExtent=Yf(f.nextCenter,f.nextResolution,d,o)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),s){var g=!this.previousExtent_||!Mh(this.previousExtent_)&&!ts(c.extent,this.previousExtent_);g&&(this.dispatchEvent(new Si(Jn.MOVESTART,this,s)),this.previousExtent_=wc(this.previousExtent_))}var p=this.previousExtent_&&!c.viewHints[Ye.ANIMATING]&&!c.viewHints[Ye.INTERACTING]&&!ts(c.extent,this.previousExtent_);p&&(this.dispatchEvent(new Si(Jn.MOVEEND,this,c)),Sm(c.extent,this.previousExtent_))}this.dispatchEvent(new Si(Jn.POSTRENDER,this,c)),this.renderComplete_=this.hasListener(Jn.LOADSTART)||this.hasListener(Jn.LOADEND)||this.hasListener(co.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new eo("removelayer",r)),this.set(Ue.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ue.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ue.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof no){this.set(Ue.VIEW,t);return}this.set(Ue.VIEW,new no);var r=this;t.then(function(o){r.setView(new no(o))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var o=getComputedStyle(t),i=t.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),s=t.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(r=[i,s],!qv(r)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(r=[parseInt(o.width,10),parseInt(o.height,10)]),t.setViewportSize(r)}},e}(cn);function aO(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Oc({layers:n.layers});t[Ue.LAYERGROUP]=r,t[Ue.TARGET]=n.target,t[Ue.VIEW]=n.view instanceof no?n.view:new no;var o;n.controls!==void 0&&(Array.isArray(n.controls)?o=new Ir(n.controls.slice()):(Kt(typeof n.controls.getArray=="function",47),o=n.controls));var i;n.interactions!==void 0&&(Array.isArray(n.interactions)?i=new Ir(n.interactions.slice()):(Kt(typeof n.interactions.getArray=="function",48),i=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Ir(n.overlays.slice()):(Kt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Ir,{controls:o,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var sO=iO,lO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cO=function(n){lO(e,n);function e(t){var r=n.call(this)||this,o=t.element;return o&&!t.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),r.element=o||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return e.prototype.disposeInternal=function(){$f(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&$f(this.element);for(var r=0,o=this.listenerKeys.length;r<o;++r)be(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==Qo&&this.listenerKeys.push(qt(t,Jn.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(cn),Sc=cO,uO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fO=function(n){uO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=o.collapsed!==void 0?o.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=o.collapsible!==void 0,r.collapsible_=o.collapsible!==void 0?o.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var i=o.className!==void 0?o.className:"ol-attribution",s=o.tipLabel!==void 0?o.tipLabel:"Attributions",c=o.expandClassName!==void 0?o.expandClassName:i+"-expand",u=o.collapseLabel!==void 0?o.collapseLabel:"\u203A",f=o.collapseClassName!==void 0?o.collapseClassName:i+"-collapse";typeof u=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=f):r.collapseLabel_=u;var d=o.label!==void 0?o.label:"i";typeof d=="string"?(r.label_=document.createElement("span"),r.label_.textContent=d,r.label_.className=c):r.label_=d;var g=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(g),r.toggleButton_.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var p=i+" "+Ic+" "+rd+(r.collapsed_&&r.collapsible_?" "+Hv:"")+(r.collapsible_?"":" ol-uncollapsible"),b=r.element;return b.className=p,b.appendChild(r.toggleButton_),b.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return e.prototype.collectSourceAttributions_=function(t){for(var r={},o=[],i=!0,s=t.layerStatesArray,c=0,u=s.length;c<u;++c){var f=s[c];if(!!tc(f,t.viewState)){var d=f.layer.getSource();if(!!d){var g=d.getAttributions();if(!!g){var p=g(t);if(!!p)if(i=i&&d.getAttributionsCollapsible()!==!1,Array.isArray(p))for(var b=0,_=p.length;b<_;++b)p[b]in r||(o.push(p[b]),r[p[b]]=!0);else p in r||(o.push(p),r[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),o},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),o=r.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!ei(r,this.renderedAttributions_)){S2(this.ulElement_);for(var i=0,s=r.length;i<s;++i){var c=document.createElement("li");c.innerHTML=r[i],this.ulElement_.appendChild(c)}this.renderedAttributions_=r}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Hv),this.collapsed_?Kv(this.collapseLabel_,this.label_):Kv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Sc),hO=fO,dO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pO=function(n){dO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=o.className!==void 0?o.className:"ol-rotate",s=o.label!==void 0?o.label:"\u21E7",c=o.compassClassName!==void 0?o.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=c,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(c));var u=o.tipLabel?o.tipLabel:"Reset rotation",f=document.createElement("button");f.className=i+"-reset",f.setAttribute("type","button"),f.title=u,f.appendChild(r.label_),f.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var d=i+" "+Ic+" "+rd,g=r.element;return g.className=d,g.appendChild(f),r.callResetNorth_=o.resetNorth?o.resetNorth:void 0,r.duration_=o.duration!==void 0?o.duration:250,r.autoHide_=o.autoHide!==void 0?o.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(Tl),r}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(!!r){var o=r.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:ra}):r.setRotation(0))}},e.prototype.render=function(t){var r=t.frameState;if(!!r){var o=r.viewState.rotation;if(o!=this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Tl);!s&&o===0?this.element.classList.add(Tl):s&&o!==0&&this.element.classList.remove(Tl)}this.label_.style.transform=i}this.rotation_=o}},e}(Sc),gO=pO,vO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bO=function(n){vO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),target:o.target})||this;var i=o.className!==void 0?o.className:"ol-zoom",s=o.delta!==void 0?o.delta:1,c=o.zoomInClassName!==void 0?o.zoomInClassName:i+"-in",u=o.zoomOutClassName!==void 0?o.zoomOutClassName:i+"-out",f=o.zoomInLabel!==void 0?o.zoomInLabel:"+",d=o.zoomOutLabel!==void 0?o.zoomOutLabel:"\u2013",g=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",p=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",b=document.createElement("button");b.className=c,b.setAttribute("type","button"),b.title=g,b.appendChild(typeof f=="string"?document.createTextNode(f):f),b.addEventListener(Dt.CLICK,r.handleClick_.bind(r,s),!1);var _=document.createElement("button");_.className=u,_.setAttribute("type","button"),_.title=p,_.appendChild(typeof d=="string"?document.createTextNode(d):d),_.addEventListener(Dt.CLICK,r.handleClick_.bind(r,-s),!1);var w=i+" "+Ic+" "+rd,k=r.element;return k.className=w,k.appendChild(b),k.appendChild(_),r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var r=this.getMap(),o=r.getView();if(!!o){var i=o.getZoom();if(i!==void 0){var s=o.getConstrainedZoom(i+t);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:s,duration:this.duration_,easing:ra})):o.setZoom(s)}}},e}(Sc),mO=bO,_O=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nf="projection",Jv="coordinateFormat",yO=function(n){_O(e,n);function e(t){var r=this,o=t||{},i=document.createElement("div");i.className=o.className!==void 0?o.className:"ol-mouse-position",r=n.call(this,{element:i,render:o.render,target:o.target})||this,r.on,r.once,r.un,r.addChangeListener(nf,r.handleProjectionChanged_),o.coordinateFormat&&r.setCoordinateFormat(o.coordinateFormat),o.projection&&r.setProjection(o.projection);var s=!0,c="&#160;";return"undefinedHTML"in o?(o.undefinedHTML!==void 0&&(c=o.undefinedHTML),s=!!c):"placeholder"in o&&(o.placeholder===!1?s=!1:c=String(o.placeholder)),r.placeholder_=c,r.renderOnMouseOut_=s,r.renderedHTML_=i.innerHTML,r.mapProjection_=null,r.transform_=null,r}return e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(Jv)},e.prototype.getProjection=function(){return this.get(nf)},e.prototype.handleMouseMove=function(t){var r=this.getMap();this.updateHTML_(r.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var r=t.getViewport();this.listenerKeys.push(qt(r,us.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(qt(r,us.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(Jv,t)},e.prototype.setProjection=function(t){this.set(nf,ir(t))},e.prototype.updateHTML_=function(t){var r=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();o?this.transform_=Hi(this.mapProjection_,o):this.transform_=Nh}var i=this.getMap(),s=i.getCoordinateFromPixelInternal(t);if(s){var c=bs();c&&(this.transform_=Hi(this.mapProjection_,c)),this.transform_(s,s);var u=this.getCoordinateFormat();u?r=u(s):r=s.toString()}}(!this.renderedHTML_||r!==this.renderedHTML_)&&(this.element.innerHTML=r,this.renderedHTML_=r)},e.prototype.render=function(t){var r=t.frameState;r?this.mapProjection_!=r.viewState.projection&&(this.mapProjection_=r.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Sc),xO=yO;function v0(n){var e=n||{},t=new Ir,r=e.zoom!==void 0?e.zoom:!0;r&&t.push(new mO(e.zoomOptions));var o=e.rotate!==void 0?e.rotate:!0;o&&t.push(new gO(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new hO(e.attributionOptions)),t}var Qf={ACTIVE:"active"},wO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kO=function(n){wO(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return e.prototype.getActive=function(){return this.get(Qf.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Qf.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(cn);function EO(n,e,t){var r=n.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:s2,center:n.getConstrainedCenter(o)})}}function nd(n,e,t,r){var o=n.getZoom();if(o!==void 0){var i=n.getConstrainedZoom(o+e),s=n.getResolutionForZoom(i);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:ra})}}var _s=kO,CO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TO=function(n){CO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==te.DBLCLICK){var o=t.originalEvent,i=t.map,s=t.coordinate,c=o.shiftKey?-this.delta_:this.delta_,u=i.getView();nd(u,c,s,this.duration_),o.preventDefault(),r=!0}return!r},e}(_s),RO=TO,AO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IO=function(n){AO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,o)||this,o.handleDownEvent&&(r.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(r.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(r.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(r.handleUpEvent=o.handleUpEvent),o.stopDown&&(r.stopDown=o.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){var o=this.handleUpEvent(t);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,r=this.stopDown(i)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!r},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(OO(t)){var r=t.originalEvent,o=r.pointerId.toString();t.type==te.POINTERUP?delete this.trackedPointers_[o]:t.type==te.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=Im(this.trackedPointers_)}},e}(_s);function od(n){for(var e=n.length,t=0,r=0,o=0;o<e;o++)t+=n[o].clientX,r+=n[o].clientY;return[t/e,r/e]}function OO(n){var e=n.type;return e===te.POINTERDOWN||e===te.POINTERDRAG||e===te.POINTERUP}var na=IO;function th(n){var e=arguments;return function(t){for(var r=!0,o=0,i=e.length;o<i&&(r=r&&e[o](t),!!r);++o);return r}}var SO=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},PO=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},b0=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?PO(n):!0},m0=Ko,_0=function(n){var e=n.originalEvent;return e.button==0&&!(qA&&JA&&e.ctrlKey)},id=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},y0=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},x0=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},of=function(n){var e=n.originalEvent;return Kt(e!==void 0,56),e.pointerType=="mouse"},LO=function(n){var e=n.originalEvent;return Kt(e!==void 0,56),e.isPrimary&&e.button===0},MO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FO=function(n){MO(e,n);function e(t){var r=n.call(this,{stopDown:ms})||this,o=t||{};r.kinetic_=o.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var i=o.condition?o.condition:th(id,LO);return r.condition_=o.onFocusOnly?th(b0,i):i,r.noKinetic_=!1,r}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,o=od(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map,c=s.getView();CA(i,c.getResolution()),Fh(i,c.getRotation()),c.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var r=t.map,o=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),c=o.getCenterInternal(),u=r.getPixelFromCoordinateInternal(c),f=r.getCoordinateFromPixelInternal([u[0]-i*Math.cos(s),u[1]-i*Math.sin(s)]);o.animateInternal({center:o.getConstrainedCenter(f),duration:500,easing:ra})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,o=r.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(na),DO=FO,NO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zO=function(n){NO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,{stopDown:ms})||this,r.condition_=o.condition?o.condition:SO,r.lastAngle_=void 0,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){if(!!of(t)){var r=t.map,o=r.getView();if(o.getConstraints().rotation!==ed){var i=r.getSize(),s=t.pixel,c=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var u=c-this.lastAngle_;o.adjustRotationInternal(-u)}this.lastAngle_=c}}},e.prototype.handleUpEvent=function(t){if(!of(t))return!0;var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!of(t))return!1;if(_0(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(na),GO=zO,BO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WO=function(n){BO(e,n);function e(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,o="px",i=this.element_.style;i.left=Math.min(t[0],r[0])+o,i.top=Math.min(t[1],r[1])+o,i.width=Math.abs(r[0]-t[0])+o,i.height=Math.abs(r[1]-t[1])+o},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,o=[t,[t[0],r[1]],r,[r[0],t[1]]],i=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new ns([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(Bh),UO=WO,w0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Al={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},af=function(n){w0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=o,i}return e}(ln),YO=function(n){w0(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=t||{};return r.box_=new UO(o.className||"ol-dragbox"),r.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(r.onBoxEnd=o.onBoxEnd),r.startPixel_=null,r.condition_=o.condition?o.condition:_0,r.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:r.defaultBoxEndCondition,r}return e.prototype.defaultBoxEndCondition=function(t,r,o){var i=o[0]-r[0],s=o[1]-r[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new af(Al.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new af(r?Al.BOXEND:Al.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new af(Al.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(na),XO=YO,VO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HO=function(n){VO(e,n);function e(t){var r=this,o=t||{},i=o.condition?o.condition:y0;return r=n.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,r.duration_=o.duration!==void 0?o.duration:200,r.out_=o.out!==void 0?o.out:!1,r}return e.prototype.onBoxEnd=function(t){var r=this.getMap(),o=r.getView(),i=this.getGeometry();if(this.out_){var s=o.rotatedExtentForGeometry(i),c=o.getResolutionForExtentInternal(s),u=o.getResolution()/c;i=i.clone(),i.scale(u*u)}o.fitInternal(i,{duration:this.duration_,easing:ra})},e}(XO),jO=HO,Lo={LEFT:37,UP:38,RIGHT:39,DOWN:40},KO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZO=function(n){KO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.defaultCondition_=function(i){return id(i)&&x0(i)},r.condition_=o.condition!==void 0?o.condition:r.defaultCondition_,r.duration_=o.duration!==void 0?o.duration:100,r.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN){var o=t.originalEvent,i=o.keyCode;if(this.condition_(t)&&(i==Lo.DOWN||i==Lo.LEFT||i==Lo.RIGHT||i==Lo.UP)){var s=t.map,c=s.getView(),u=c.getResolution()*this.pixelDelta_,f=0,d=0;i==Lo.DOWN?d=-u:i==Lo.LEFT?f=-u:i==Lo.RIGHT?f=u:d=u;var g=[f,d];Fh(g,c.getRotation()),EO(c,g,this.duration_),o.preventDefault(),r=!0}}return!r},e}(_s),$O=ZO,qO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JO=function(n){qO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.condition_=o.condition?o.condition:x0,r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:100,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN||t.type==Dt.KEYPRESS){var o=t.originalEvent,i=o.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,c=i=="+".charCodeAt(0)?this.delta_:-this.delta_,u=s.getView();nd(u,c,void 0,this.duration_),o.preventDefault(),r=!0}}return!r},e}(_s),QO=JO,tS=function(){function n(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var o=this.points_[t+2]-this.points_[r+2];if(o<1e3/60)return!1;var i=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/o,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),eS=tS,rS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sf={TRACKPAD:"trackpad",WHEEL:"wheel"},nS=function(n){rS(e,n);function e(t){var r=this,o=t||{};r=n.call(this,o)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,r.duration_=o.duration!==void 0?o.duration:250,r.timeout_=o.timeout!==void 0?o.timeout:80,r.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,r.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var i=o.condition?o.condition:m0;return r.condition_=o.onFocusOnly?th(b0,i):i,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Dt.WHEEL)return!0;var o=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Dt.WHEEL&&(s=i.deltaY,ZA&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=zm),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?sf.TRACKPAD:sf.WHEEL);var u=o.getView();if(this.mode_===sf.TRACKPAD&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=s;var f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),f),!1},e.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var o=-Ae(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),nd(r,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(_s),oS=nS,iS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aS=function(n){iS(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=ms),r=n.call(this,i)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=o.threshold!==void 0?o.threshold:.3,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){var r=0,o=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(this.lastAngle_!==void 0){var c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=c}this.lastAngle_=s;var u=t.map,f=u.getView();if(f.getConstraints().rotation!==ed){var d=u.getViewport().getBoundingClientRect(),g=od(this.targetPointers);g[0]-=d.left,g[1]-=d.top,this.anchor_=u.getCoordinateFromPixelInternal(g),this.rotating_&&(u.render(),f.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(na),sS=aS,lS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cS=function(n){lS(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=ms),r=n.call(this,i)||this,r.anchor_=null,r.duration_=o.duration!==void 0?o.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return e.prototype.handleDragEvent=function(t){var r=1,o=this.targetPointers[0],i=this.targetPointers[1],s=o.clientX-i.clientX,c=o.clientY-i.clientY,u=Math.sqrt(s*s+c*c);this.lastDistance_!==void 0&&(r=this.lastDistance_/u),this.lastDistance_=u;var f=t.map,d=f.getView();r!=1&&(this.lastScaleDelta_=r);var g=f.getViewport().getBoundingClientRect(),p=od(this.targetPointers);p[0]-=g.left,p[1]-=g.top,this.anchor_=f.getCoordinateFromPixelInternal(p),f.render(),d.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView(),i=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(na),uS=cS,Ra={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},fS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hS=function(n){fS(e,n);function e(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var o=t;r.setGeometry(o)}else{var i=t;r.setProperties(i)}return r}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(be(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=qt(t,Dt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?dS(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(cn);function dS(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{Kt(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var zo=hS;function pS(n,e,t,r,o){k0(n,e,t||0,r||n.length-1,o||gS)}function k0(n,e,t,r,o){for(;r>t;){if(r-t>600){var i=r-t+1,s=e-t+1,c=Math.log(i),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(i-u)/i)*(s-i/2<0?-1:1),d=Math.max(t,Math.floor(e-s*u/i+f)),g=Math.min(r,Math.floor(e+(i-s)*u/i+f));k0(n,e,d,g,o)}var p=n[e],b=t,_=r;for(Aa(n,t,e),o(n[r],p)>0&&Aa(n,t,r);b<_;){for(Aa(n,b,_),b++,_--;o(n[b],p)<0;)b++;for(;o(n[_],p)>0;)_--}o(n[t],p)===0?Aa(n,t,_):(_++,Aa(n,_,r)),_<=e&&(t=_+1),e<=_&&(r=_-1)}}function Aa(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function gS(n,e){return n<e?-1:n>e?1:0}class E0{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!Ol(e,t))return r;const o=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const c=t.children[s],u=t.leaf?o(c):c;Ol(e,u)&&(t.leaf?r.push(c):cf(e,u)?this._all(c,r):i.push(c))}t=i.pop()}return r}collides(e){let t=this.data;if(!Ol(e,t))return!1;const r=[];for(;t;){for(let o=0;o<t.children.length;o++){const i=t.children[o],s=t.leaf?this.toBBox(i):i;if(Ol(e,s)){if(t.leaf||cf(e,s))return!0;r.push(i)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Pi([]),this}remove(e,t){if(!e)return this;let r=this.data;const o=this.toBBox(e),i=[],s=[];let c,u,f;for(;r||i.length;){if(r||(r=i.pop(),u=i[i.length-1],c=s.pop(),f=!0),r.leaf){const d=vS(e,r.children,t);if(d!==-1)return r.children.splice(d,1),i.push(r),this._condense(i),this}!f&&!r.leaf&&cf(r,o)?(i.push(r),s.push(c),c=0,u=r,r=r.children[0]):u?(c++,r=u.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,o){const i=r-t+1;let s=this._maxEntries,c;if(i<=s)return c=Pi(e.slice(t,r+1)),wi(c,this.toBBox),c;o||(o=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,o-1))),c=Pi([]),c.leaf=!1,c.height=o;const u=Math.ceil(i/s),f=u*Math.ceil(Math.sqrt(s));Qv(e,t,r,f,this.compareMinX);for(let d=t;d<=r;d+=f){const g=Math.min(d+f-1,r);Qv(e,d,g,u,this.compareMinY);for(let p=d;p<=g;p+=u){const b=Math.min(p+u-1,g);c.children.push(this._build(e,p,b,o-1))}}return wi(c,this.toBBox),c}_chooseSubtree(e,t,r,o){for(;o.push(t),!(t.leaf||o.length-1===r);){let i=1/0,s=1/0,c;for(let u=0;u<t.children.length;u++){const f=t.children[u],d=lf(f),g=_S(e,f)-d;g<s?(s=g,i=d<i?d:i,c=f):g===s&&d<i&&(i=d,c=f)}t=c||t.children[0]}return t}_insert(e,t,r){const o=r?e:this.toBBox(e),i=[],s=this._chooseSubtree(o,this.data,t,i);for(s.children.push(e),Ma(s,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)}_split(e,t){const r=e[t],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);const s=this._chooseSplitIndex(r,i,o),c=Pi(r.children.splice(s,r.children.length-s));c.height=r.height,c.leaf=r.leaf,wi(r,this.toBBox),wi(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,t){this.data=Pi([e,t]),this.data.height=e.height+1,this.data.leaf=!1,wi(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let o,i=1/0,s=1/0;for(let c=t;c<=r-t;c++){const u=La(e,0,c,this.toBBox),f=La(e,c,r,this.toBBox),d=yS(u,f),g=lf(u)+lf(f);d<i?(i=d,o=c,s=g<s?g:s):d===i&&g<s&&(s=g,o=c)}return o||r-t}_chooseSplitAxis(e,t,r){const o=e.leaf?this.compareMinX:bS,i=e.leaf?this.compareMinY:mS,s=this._allDistMargin(e,t,r,o),c=this._allDistMargin(e,t,r,i);s<c&&e.children.sort(o)}_allDistMargin(e,t,r,o){e.children.sort(o);const i=this.toBBox,s=La(e,0,t,i),c=La(e,r-t,r,i);let u=Il(s)+Il(c);for(let f=t;f<r-t;f++){const d=e.children[f];Ma(s,e.leaf?i(d):d),u+=Il(s)}for(let f=r-t-1;f>=t;f--){const d=e.children[f];Ma(c,e.leaf?i(d):d),u+=Il(c)}return u}_adjustParentBBoxes(e,t,r){for(let o=r;o>=0;o--)Ma(t[o],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():wi(e[t],this.toBBox)}}function vS(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function wi(n,e){La(n,0,n.children.length,e,n)}function La(n,e,t,r,o){o||(o=Pi(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=e;i<t;i++){const s=n.children[i];Ma(o,n.leaf?r(s):s)}return o}function Ma(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function bS(n,e){return n.minX-e.minX}function mS(n,e){return n.minY-e.minY}function lf(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Il(n){return n.maxX-n.minX+(n.maxY-n.minY)}function _S(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function yS(n,e){const t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),o=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,o-t)*Math.max(0,i-r)}function cf(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Ol(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Pi(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Qv(n,e,t,r,o){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=r)continue;const s=e+Math.ceil((t-e)/r/2)*r;pS(n,s,e,t,o),i.push(e,s,s,t)}}var he={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},xS=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Xr(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return jt()},n.prototype.getImage=function(e){return jt()},n.prototype.getHitDetectionImage=function(){return jt()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return jt()},n.prototype.getImageSize=function(){return jt()},n.prototype.getOrigin=function(){return jt()},n.prototype.getSize=function(){return jt()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Xr(e)},n.prototype.listenImageChange=function(e){jt()},n.prototype.load=function(){jt()},n.prototype.unlistenImageChange=function(e){jt()},n}(),C0=xS;function an(n){return Array.isArray(n)?i0(n):n}var wS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kS=function(n){wS(e,n);function e(t){var r=this,o=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:o,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var o=this.renderOptions_,i=Mr(o.size*t,o.size*t);this.draw_(o,i,t),r=i.canvas,this.canvas_[t]=r}return r},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return he.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,r,o){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var c=i;i=s,s=c}var u=this.radius2_===void 0?this.points_:this.points_*2,f=2*Math.PI/u,d=s*Math.sin(f),g=Math.sqrt(s*s-d*d),p=i-g,b=Math.sqrt(d*d+p*p),_=b/d;if(t==="miter"&&_<=o)return _*r;var w=r/2/_,k=r/2*(p/b),T=Math.sqrt((i+w)*(i+w)+k*k),A=T-i;if(this.radius2_===void 0||t==="bevel")return A*2;var O=i*Math.sin(f),P=Math.sqrt(i*i-O*O),D=s-P,X=Math.sqrt(O*O+D*D),G=X/O;if(G<=o){var F=G*r/2-s-i;return 2*Math.max(A,F)}return A*2},e.prototype.createRenderOptions=function(){var t=Ki,r=0,o=null,i=0,s,c=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=ss),s=an(s),c=this.stroke_.getWidth(),c===void 0&&(c=cs),o=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Ki),r=this.stroke_.getMiterLimit(),r===void 0&&(r=as));var u=this.calculateLineJoinSize_(t,c,r),f=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*f+u);return{strokeStyle:s,strokeWidth:c,size:d,lineDash:o,lineDashOffset:i,lineJoin:t,miterLimit:r}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,r,o){if(r.scale(o,o),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var i=this.fill_.getColor();i===null&&(i=On),r.fillStyle=an(i),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),o=0;if(typeof r=="string"&&(r=Jl(r)),r===null?o=1:Array.isArray(r)&&(o=r.length===4?r[3]:1),o===0){var i=Mr(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var r=this.points_,o=this.radius_;if(r===1/0)t.arc(0,0,o,0,2*Math.PI);else{var i=this.radius2_===void 0?o:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,c=2*Math.PI/r,u=0;u<r;u++){var f=s+u*c,d=u%2===0?o:i;t.lineTo(d*Math.cos(f),d*Math.sin(f))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=On,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e}(C0),ES=kS,CS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TS=function(n){CS(e,n);function e(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(ES),T0=TS,RS=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),ic=RS,AS=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),Va=AS,Fi=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=tb,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=tb,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function IS(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{Kt(typeof n.getZIndex=="function",41);var r=n;t=[r]}e=function(){return t}}return e}var uf=null;function OS(n,e){if(!uf){var t=new ic({color:"rgba(255,255,255,0.4)"}),r=new Va({color:"#3399CC",width:1.25});uf=[new Fi({image:new T0({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return uf}function SS(){var n={},e=[255,255,255,1],t=[0,153,255,1],r=3;return n[lt.POLYGON]=[new Fi({fill:new ic({color:[255,255,255,.5]})})],n[lt.MULTI_POLYGON]=n[lt.POLYGON],n[lt.LINE_STRING]=[new Fi({stroke:new Va({color:e,width:r+2})}),new Fi({stroke:new Va({color:t,width:r})})],n[lt.MULTI_LINE_STRING]=n[lt.LINE_STRING],n[lt.CIRCLE]=n[lt.POLYGON].concat(n[lt.LINE_STRING]),n[lt.POINT]=[new Fi({image:new T0({radius:r*2,fill:new ic({color:t}),stroke:new Va({color:e,width:r/2})}),zIndex:1/0})],n[lt.MULTI_POINT]=n[lt.POINT],n[lt.GEOMETRY_COLLECTION]=n[lt.POLYGON].concat(n[lt.LINE_STRING],n[lt.POINT]),n}function tb(n){return n.getGeometry()}var PS=Fi,LS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eb={RENDER_ORDER:"renderOrder"},MS=function(n){LS(e,n);function e(t){var r=this,o=t||{},i=Me({},o);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,r=n.call(this,i)||this,r.declutter_=o.declutter!==void 0?o.declutter:!1,r.renderBuffer_=o.renderBuffer!==void 0?o.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(o.style),r.updateWhileAnimating_=o.updateWhileAnimating!==void 0?o.updateWhileAnimating:!1,r.updateWhileInteracting_=o.updateWhileInteracting!==void 0?o.updateWhileInteracting:!1,r}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(eb.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new E0(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(eb.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:OS,this.styleFunction_=t===null?void 0:IS(this.style_),this.changed()},e}(Ac),FS=MS,ys={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Sl=[ys.FILL],io=[ys.STROKE],Yo=[ys.BEGIN_PATH],rb=[ys.CLOSE_PATH],At=ys,DS=function(){function n(){}return n.prototype.drawCustom=function(e,t,r,o){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),R0=DS,NS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zS=function(n){NS(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=o,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(o){return o*r})},e.prototype.appendFlatPointCoordinates=function(t,r){for(var o=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,c=s.length,u=0,f=t.length;u<f;u+=r)i[0]=t[u],i[1]=t[u+1],ps(o,i)&&(s[c++]=i[0],s[c++]=i[1]);return c},e.prototype.appendFlatLineCoordinates=function(t,r,o,i,s,c){var u=this.coordinates,f=u.length,d=this.getBufferedMaxExtent();c&&(r+=i);var g=t[r],p=t[r+1],b=this.tmpCoordinate_,_=!0,w,k,T;for(w=r+i;w<o;w+=i)b[0]=t[w],b[1]=t[w+1],T=Wf(d,b),T!==k?(_&&(u[f++]=g,u[f++]=p,_=!1),u[f++]=b[0],u[f++]=b[1]):T===Pe.INTERSECTING?(u[f++]=b[0],u[f++]=b[1],_=!1):_=!0,g=b[0],p=b[1],k=T;return(s&&_||w===r+i)&&(u[f++]=g,u[f++]=p),f},e.prototype.drawCustomCoordinates_=function(t,r,o,i,s){for(var c=0,u=o.length;c<u;++c){var f=o[c],d=this.appendFlatLineCoordinates(t,r,f,i,!1,!1);s.push(d),r=f}return r},e.prototype.drawCustom=function(t,r,o,i){this.beginGeometry(t,r);var s=t.getType(),c=t.getStride(),u=this.coordinates.length,f,d,g,p,b;switch(s){case lt.MULTI_POLYGON:f=t.getOrientedFlatCoordinates(),p=[];var _=t.getEndss();b=0;for(var w=0,k=_.length;w<k;++w){var T=[];b=this.drawCustomCoordinates_(f,b,_[w],c,T),p.push(T)}this.instructions.push([At.CUSTOM,u,p,t,o,jf]),this.hitDetectionInstructions.push([At.CUSTOM,u,p,t,i||o,jf]);break;case lt.POLYGON:case lt.MULTI_LINE_STRING:g=[],f=s==lt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),b=this.drawCustomCoordinates_(f,0,t.getEnds(),c,g),this.instructions.push([At.CUSTOM,u,g,t,o,rs]),this.hitDetectionInstructions.push([At.CUSTOM,u,g,t,i||o,rs]);break;case lt.LINE_STRING:case lt.CIRCLE:f=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([At.CUSTOM,u,d,t,o,oo]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,oo]);break;case lt.MULTI_POINT:f=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(f,c),d>u&&(this.instructions.push([At.CUSTOM,u,d,t,o,oo]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,oo]));break;case lt.POINT:f=t.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),d=this.coordinates.length,this.instructions.push([At.CUSTOM,u,d,t,o]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o]);break}this.endGeometry(r)},e.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[At.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[At.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,o=t.length,i,s,c=-1;for(r=0;r<o;++r)i=t[r],s=i[0],s==At.END_GEOMETRY?c=r:s==At.BEGIN_GEOMETRY&&(i[2]=r,WA(this.hitDetectionInstructions,c,r),c=-1)},e.prototype.setFillStrokeStyle=function(t,r){var o=this.state;if(t){var i=t.getColor();o.fillStyle=an(i||On)}else o.fillStyle=void 0;if(r){var s=r.getColor();o.strokeStyle=an(s||ss);var c=r.getLineCap();o.lineCap=c!==void 0?c:ec;var u=r.getLineDash();o.lineDash=u?u.slice():os;var f=r.getLineDashOffset();o.lineDashOffset=f||is;var d=r.getLineJoin();o.lineJoin=d!==void 0?d:Ki;var g=r.getWidth();o.lineWidth=g!==void 0?g:cs;var p=r.getMiterLimit();o.miterLimit=p!==void 0?p:as,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},e.prototype.createFill=function(t){var r=t.fillStyle,o=[At.SET_FILL_STYLE,r];return typeof r!="string"&&o.push(!0),o},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[At.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,r){var o=t.fillStyle;(typeof o!="string"||t.currentFillStyle!=o)&&(o!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=o)},e.prototype.updateStrokeStyle=function(t,r){var o=t.strokeStyle,i=t.lineCap,s=t.lineDash,c=t.lineDashOffset,u=t.lineJoin,f=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=o||t.currentLineCap!=i||s!=t.currentLineDash&&!ei(t.currentLineDash,s)||t.currentLineDashOffset!=c||t.currentLineJoin!=u||t.currentLineWidth!=f||t.currentMiterLimit!=d)&&(o!==void 0&&r.call(this,t),t.currentStrokeStyle=o,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=c,t.currentLineJoin=u,t.currentLineWidth=f,t.currentMiterLimit=d)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[At.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Sm(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Sh(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(R0),xs=zS,GS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BS=function(n){GS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.drawMultiPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,r){var o=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),c=t.getImage(this.pixelRatio),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=s,this.image_=c,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=u[0]*this.imagePixelRatio_,this.originY_=u[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=r},e}(xs),WS=BS,US=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YS=function(n){US(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinates_=function(t,r,o,i){var s=this.coordinates.length,c=this.appendFlatLineCoordinates(t,r,o,i,!1,!1),u=[At.MOVE_TO_LINE_TO,s,c];return this.instructions.push(u),this.hitDetectionInstructions.push(u),o},e.prototype.drawLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,os,is],Yo);var c=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(c,0,c.length,u),this.hitDetectionInstructions.push(io),this.endGeometry(r)}},e.prototype.drawMultiLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],Yo);for(var c=t.getEnds(),u=t.getFlatCoordinates(),f=t.getStride(),d=0,g=0,p=c.length;g<p;++g)d=this.drawFlatCoordinates_(u,d,c[g],f);this.hitDetectionInstructions.push(io),this.endGeometry(r)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(io),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(io),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Yo)},e}(xs),XS=YS,VS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HS=function(n){VS(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,r,o,i){var s=this.state,c=s.fillStyle!==void 0,u=s.strokeStyle!==void 0,f=o.length;this.instructions.push(Yo),this.hitDetectionInstructions.push(Yo);for(var d=0;d<f;++d){var g=o[d],p=this.coordinates.length,b=this.appendFlatLineCoordinates(t,r,g,i,!0,!u),_=[At.MOVE_TO_LINE_TO,p,b];this.instructions.push(_),this.hitDetectionInstructions.push(_),u&&(this.instructions.push(rb),this.hitDetectionInstructions.push(rb)),r=g}return c&&(this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl)),u&&(this.instructions.push(io),this.hitDetectionInstructions.push(io)),r},e.prototype.drawCircle=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getFlatCoordinates(),u=t.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,u,!1,!1);var d=[At.CIRCLE,f];this.instructions.push(Yo,d),this.hitDetectionInstructions.push(Yo,d),o.fillStyle!==void 0&&(this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl)),o.strokeStyle!==void 0&&(this.instructions.push(io),this.hitDetectionInstructions.push(io)),this.endGeometry(r)}},e.prototype.drawPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getEnds(),u=t.getOrientedFlatCoordinates(),f=t.getStride();this.drawFlatCoordinatess_(u,0,c,f),this.endGeometry(r)}},e.prototype.drawMultiPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var c=t.getEndss(),u=t.getOrientedFlatCoordinates(),f=t.getStride(),d=0,g=0,p=c.length;g<p;++g)d=this.drawFlatCoordinatess_(u,d,c[g],f);this.endGeometry(r)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,o=0,i=r.length;o<i;++o)r[o]=Fo(r[o],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(xs),nb=HS,jS={POINT:"point",LINE:"line"};function KS(n,e,t,r,o){var i=t,s=t,c=0,u=0,f=t,d,g,p,b,_,w,k,T,A,O;for(g=t;g<r;g+=o){var P=e[g],D=e[g+1];_!==void 0&&(A=P-_,O=D-w,b=Math.sqrt(A*A+O*O),k!==void 0&&(u+=p,d=Math.acos((k*A+T*O)/(p*b)),d>n&&(u>c&&(c=u,i=f,s=g),u=0,f=g-o)),p=b,k=A,T=O),_=P,w=D}return u+=b,u>c?[f,g]:[i,s]}var ZS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ac={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},$S=function(n){ZS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,r){var o=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!o&&!i)){var c=this.coordinates,u=c.length,f=t.getType(),d=null,g=t.getStride();if(s.placement===jS.LINE&&(f==lt.LINE_STRING||f==lt.MULTI_LINE_STRING||f==lt.POLYGON||f==lt.MULTI_POLYGON)){if(!qe(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(d=t.getFlatCoordinates(),f==lt.LINE_STRING)p=[d.length];else if(f==lt.MULTI_LINE_STRING)p=t.getEnds();else if(f==lt.POLYGON)p=t.getEnds().slice(0,1);else if(f==lt.MULTI_POLYGON){var b=t.getEndss();p=[];for(var _=0,w=b.length;_<w;++_)p.push(b[_][0])}this.beginGeometry(t,r);for(var k=s.textAlign,T=0,A=void 0,O=0,P=p.length;O<P;++O){if(k==null){var D=KS(s.maxAngle,d,T,p[O],g);T=D[0],A=D[1]}else A=p[O];for(var _=T;_<A;_+=g)c.push(d[_],d[_+1]);var X=c.length;T=p[O],this.drawChars_(u,X),u=X}this.endGeometry(r)}else{var G=s.overflow?null:[];switch(f){case lt.POINT:case lt.MULTI_POINT:d=t.getFlatCoordinates();break;case lt.LINE_STRING:d=t.getFlatMidpoint();break;case lt.CIRCLE:d=t.getCenter();break;case lt.MULTI_LINE_STRING:d=t.getFlatMidpoints(),g=2;break;case lt.POLYGON:d=t.getFlatInteriorPoint(),s.overflow||G.push(d[2]/this.resolution),g=3;break;case lt.MULTI_POLYGON:var F=t.getFlatInteriorPoints();d=[];for(var _=0,w=F.length;_<w;_+=3)s.overflow||G.push(F[_+2]/this.resolution),d.push(F[_],F[_+1]);if(d.length===0)return;g=2;break}var X=this.appendFlatPointCoordinates(d,g);if(X===u)return;if(G&&(X-u)/2!==d.length/g){var j=u/2;G=G.filter(function(ct,_t){var Ot=c[(j+_t)*2]===d[_t*g]&&c[(j+_t)*2+1]===d[_t*g+1];return Ot||--j,Ot})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var et=s.padding;if(et!=Uo&&(s.scale[0]<0||s.scale[1]<0)){var at=s.padding[0],ut=s.padding[1],ft=s.padding[2],bt=s.padding[3];s.scale[0]<0&&(ut=-ut,bt=-bt),s.scale[1]<0&&(at=-at,ft=-ft),et=[at,ut,ft,bt]}var ot=this.pixelRatio;this.instructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,et==Uo?Uo:et.map(function(ct){return ct*ot}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]);var ht=1/ot;this.hitDetectionInstructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ht,ht],NaN,this.declutterImageWithText_,et,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]),this.endGeometry(r)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,o=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||ls,textBaseline:r.textBaseline||rc,scale:r.scale});var c=this.fillKey_;o&&(c in this.fillStates||(this.fillStates[c]={fillStyle:o.fillStyle}))},e.prototype.drawChars_=function(t,r){var o=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,c=this.textKey_,u=this.fillKey_;this.saveTextStates_();var f=this.pixelRatio,d=ac[i.textBaseline],g=this.textOffsetY_*f,p=this.text_,b=o?o.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,f,g,s,b*f,p,c,1]),this.hitDetectionInstructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,1,g,s,b,p,c,1/f])},e.prototype.setTextStyle=function(t,r){var o,i,s;if(!t)this.text_="";else{var c=t.getFill();c?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=an(c.getColor()||On)):(i=null,this.textFillState_=i);var u=t.getStroke();if(!u)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var f=u.getLineDash(),d=u.getLineDashOffset(),g=u.getWidth(),p=u.getMiterLimit();s.lineCap=u.getLineCap()||ec,s.lineDash=f?f.slice():os,s.lineDashOffset=d===void 0?is:d,s.lineJoin=u.getLineJoin()||Ki,s.lineWidth=g===void 0?cs:g,s.miterLimit=p===void 0?as:p,s.strokeStyle=an(u.getColor()||ss)}o=this.textState_;var b=t.getFont()||u0;M2(b);var _=t.getScaleArray();o.overflow=t.getOverflow(),o.font=b,o.maxAngle=t.getMaxAngle(),o.placement=t.getPlacement(),o.textAlign=t.getTextAlign(),o.textBaseline=t.getTextBaseline()||rc,o.backgroundFill=t.getBackgroundFill(),o.backgroundStroke=t.getBackgroundStroke(),o.padding=t.getPadding()||Uo,o.scale=_===void 0?[1,1]:_;var w=t.getOffsetX(),k=t.getOffsetY(),T=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=w===void 0?0:w,this.textOffsetY_=k===void 0?0:k,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=A===void 0?0:A,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:ne(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+ne(i.fillStyle):""}this.declutterImageWithText_=r},e}(xs),qS=$S,JS={Circle:nb,Default:xs,Image:WS,LineString:XS,Polygon:nb,Text:qS},QS=function(){function n(e,t,r,o){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var o in r){var i=r[o].finish();e[t][o]=i}}return e},n.prototype.getBuilder=function(e,t){var r=e!==void 0?e.toString():"0",o=this.buildersByZIndex_[r];o===void 0&&(o={},this.buildersByZIndex_[r]=o);var i=o[t];if(i===void 0){var s=JS[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=i}return i},n}(),ob=QS,tP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eP=function(n){tP(e,n);function e(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return e.prototype.getFeatures=function(t){return jt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return jt()},e.prototype.renderFrame=function(t,r){return jt()},e.prototype.loadedTileCallback=function(t,r,o){t[r]||(t[r]={}),t[r][o.tileCoord.toString()]=o},e.prototype.createLoadedTileFinder=function(t,r,o){return function(i,s){var c=this.loadedTileCallback.bind(this,o,i);return t.forEachLoadedTile(r,i,s,c)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){},e.prototype.getDataAtPixel=function(t,r,o){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===he.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var r=t.getState();return r!=he.LOADED&&r!=he.ERROR&&t.addEventListener(Dt.CHANGE,this.boundHandleImageChange_),r==he.IDLE&&(t.load(),r=t.getState()),r==he.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ti.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(Dm),rP=eP,nP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fa=null;function oP(){var n=document.createElement("canvas");n.width=1,n.height=1,Fa=n.getContext("2d")}var iP=function(n){nP(e,n);function e(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=sn(),r.pixelTransform=sn(),r.inversePixelTransform=sn(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return e.prototype.getImageData=function(t,r,o){Fa||oP(),Fa.clearRect(0,0,1,1);var i;try{Fa.drawImage(t,r,o,1,1,0,0,1,1),i=Fa.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var r=this.getLayer(),o=r.getBackground();return typeof o=="function"&&(o=o(t.viewState.resolution)),o||void 0},e.prototype.useContainer=function(t,r,o,i){var s=this.getLayer().getClassName(),c,u;if(t&&t.className===s&&t.style.opacity===""&&o===1&&(!i||t.style.backgroundColor&&ei(Jl(t.style.backgroundColor),Jl(i)))){var f=t.firstElementChild;f instanceof HTMLCanvasElement&&(u=f.getContext("2d"))}if(u&&u.canvas.style.transform===r?(this.container=t,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){c=document.createElement("div"),c.className=s;var d=c.style;d.position="absolute",d.width="100%",d.height="100%",i&&(d.backgroundColor=i),u=Mr();var f=u.canvas;c.appendChild(f),d=f.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=c,this.context=u}},e.prototype.clipUnrotated=function(t,r,o){var i=po(o),s=vs(o),c=gs(o),u=Xi(o);Re(r.coordinateToPixelTransform,i),Re(r.coordinateToPixelTransform,s),Re(r.coordinateToPixelTransform,c),Re(r.coordinateToPixelTransform,u);var f=this.inversePixelTransform;Re(f,i),Re(f,s),Re(f,c),Re(f,u),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,r,o){var i=this.getLayer();if(i.hasListener(t)){var s=new s0(t,this.inversePixelTransform,o,r);i.dispatchEvent(s)}},e.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(co.PRERENDER,t,r)},e.prototype.postRender=function(t,r){this.dispatchRenderEvent_(co.POSTRENDER,t,r)},e.prototype.getRenderTransform=function(t,r,o,i,s,c,u){var f=s/2,d=c/2,g=i/r,p=-g,b=-t[0]+u,_=-t[1];return Pn(this.tempTransform,f,d,g,p,-o,b,_)},e.prototype.getDataAtPixel=function(t,r,o){var i=Re(this.inversePixelTransform,t.slice()),s=this.context,c=this.getLayer(),u=c.getExtent();if(u){var f=Re(r.pixelToCoordinateTransform,t.slice());if(!ps(u,f))return null}var d=Math.round(i[0]),g=Math.round(i[1]),p=this.pixelContext_;if(!p){var b=document.createElement("canvas");b.width=1,b.height=1,p=b.getContext("2d"),this.pixelContext_=p}p.clearRect(0,0,1,1);var _;try{p.drawImage(s.canvas,d,g,1,1,0,0,1,1),_=p.getImageData(0,0,1,1).data}catch(w){return w.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):_}return _[3]===0?null:_},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(rP),A0=iP,_e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function aP(n,e,t,r,o,i,s,c,u,f,d,g){var p=n[e],b=n[e+1],_=0,w=0,k=0,T=0;function A(){_=p,w=b,e+=r,p=n[e],b=n[e+1],T+=k,k=Math.sqrt((p-_)*(p-_)+(b-w)*(b-w))}do A();while(e<t-r&&T+k<i);for(var O=k===0?0:(i-T)/k,P=Cn(_,p,O),D=Cn(w,b,O),X=e-r,G=T,F=i+c*u(f,o,d);e<t-r&&T+k<F;)A();O=k===0?0:(F-T)/k;var j=Cn(_,p,O),et=Cn(w,b,O),at;if(g){var ut=[P,D,j,et];Yh(ut,0,4,2,g,ut,ut),at=ut[0]>ut[2]}else at=P>j;var ft=Math.PI,bt=[],ot=X+r===e;e=X,k=0,T=G,p=n[e],b=n[e+1];var ht;if(ot){A(),ht=Math.atan2(b-w,p-_),at&&(ht+=ht>0?-ft:ft);var tt=(j+P)/2,ct=(et+D)/2;return bt[0]=[tt,ct,(F-i)/2,ht,o],bt}for(var _t=0,Ot=o.length;_t<Ot;){A();var St=Math.atan2(b-w,p-_);if(at&&(St+=St>0?-ft:ft),ht!==void 0){var Z=St-ht;if(Z+=Z>ft?-2*ft:Z<-ft?2*ft:0,Math.abs(Z)>s)return null}ht=St;for(var Yt=_t,kt=0;_t<Ot;++_t){var z=at?Ot-_t-1:_t,rt=c*u(f,o[z],d);if(e+r<t&&T+k<i+kt+rt/2)break;kt+=rt}if(_t!==Yt){var J=at?o.substring(Ot-Yt,Ot-_t):o.substring(Yt,_t);O=k===0?0:(i+kt/2-T)/k;var tt=Cn(_,p,O),ct=Cn(w,b,O);bt.push([tt,ct,kt/2,St,J]),i+=kt}}return bt}var ki=Pr(),jn=[],_n=[],yn=[],Kn=[];function ib(n){return n[3].declutterBox}var sP=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function ab(n,e){return(e==="start"||e==="end")&&!sP.test(n)&&(e=e==="start"?"left":"right"),ac[e]}function lP(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var cP=function(){function n(e,t,r,o){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=sn(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,r,o){var i=e+t+r+o;if(this.labels_[i])return this.labels_[i];var s=o?this.strokeStates[o]:null,c=r?this.fillStates[r]:null,u=this.textStates[t],f=this.pixelRatio,d=[u.scale[0]*f,u.scale[1]*f],g=Array.isArray(e),p=ab(g?e[0]:e,u.textAlign||ls),b=o&&s.lineWidth?s.lineWidth:0,_=g?e:e.split(`
`).reduce(lP,[]),w=D2(u,_),k=w.width,T=w.height,A=w.widths,O=w.heights,P=w.lineWidths,D=k+b,X=[],G=(D+2)*d[0],F=(T+b)*d[1],j={width:G<0?Math.floor(G):Math.ceil(G),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:X};if((d[0]!=1||d[1]!=1)&&X.push("scale",d),o){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",b),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var et=Ec?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;et.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}r&&X.push("fillStyle",c.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var at=.5-p,ut=p*D+at*b,ft=[],bt=[],ot=0,ht=0,tt=0,ct=0,_t,Ot=0,St=_.length;Ot<St;Ot+=2){var Z=_[Ot];if(Z===`
`){ht+=ot,ot=0,ut=p*D+at*b,++ct;continue}var Yt=_[Ot+1]||u.font;Yt!==_t&&(o&&ft.push("font",Yt),r&&bt.push("font",Yt),_t=Yt),ot=Math.max(ot,O[tt]);var kt=[Z,ut+at*A[tt]+p*(A[tt]-P[ct]),.5*(b+ot)+ht];ut+=A[tt],o&&ft.push("strokeText",kt),r&&bt.push("fillText",kt),++tt}return Array.prototype.push.apply(X,ft),Array.prototype.push.apply(X,bt),this.labels_[i]=j,j},n.prototype.replayTextBackground_=function(e,t,r,o,i,s,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,r,o,i,s,c,u,f,d,g,p,b,_,w,k){c*=p[0],u*=p[1];var T=r-c,A=o-u,O=i+f>e?e-f:i,P=s+d>t?t-d:s,D=_[3]+O*p[0]+_[1],X=_[0]+P*p[1]+_[2],G=T-_[3],F=A-_[0];(w||g!==0)&&(jn[0]=G,Kn[0]=G,jn[1]=F,_n[1]=F,_n[0]=G+D,yn[0]=_n[0],yn[1]=F+X,Kn[1]=yn[1]);var j;return g!==0?(j=Pn(sn(),r,o,1,1,g,-r,-o),Re(j,jn),Re(j,_n),Re(j,yn),Re(j,Kn),Kr(Math.min(jn[0],_n[0],yn[0],Kn[0]),Math.min(jn[1],_n[1],yn[1],Kn[1]),Math.max(jn[0],_n[0],yn[0],Kn[0]),Math.max(jn[1],_n[1],yn[1],Kn[1]),ki)):Kr(Math.min(G,G+D),Math.min(F,F+X),Math.max(G,G+D),Math.max(F,F+X),ki),b&&(T=Math.round(T),A=Math.round(A)),{drawImageX:T,drawImageY:A,drawImageW:O,drawImageH:P,originX:f,originY:d,declutterBox:{minX:ki[0],minY:ki[1],maxX:ki[2],maxY:ki[3],value:k},canvasTransform:j,scale:p}},n.prototype.replayImageOrLabel_=function(e,t,r,o,i,s,c){var u=!!(s||c),f=o.declutterBox,d=e.canvas,g=c?c[2]*o.scale[0]/2:0,p=f.minX-g<=d.width/t&&f.maxX+g>=0&&f.minY-g<=d.height/t&&f.maxY+g>=0;return p&&(u&&this.replayTextBackground_(e,jn,_n,yn,Kn,s,c),N2(e,o.canvasTransform,i,r,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Re(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,r,o){var i=this.textStates[t],s=this.createLabel(e,t,o,r),c=this.strokeStates[r],u=this.pixelRatio,f=ab(Array.isArray(e)?e[0]:e,i.textAlign||ls),d=ac[i.textBaseline||rc],g=c&&c.lineWidth?c.lineWidth:0,p=s.width/u-2*i.scale[0],b=f*p+2*(.5-f)*g,_=d*s.height/u+2*(.5-d)*g;return{label:s,anchorX:b,anchorY:_}},n.prototype.execute_=function(e,t,r,o,i,s,c,u){var f;this.pixelCoordinates_&&ei(r,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Zo(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),eI(this.renderedTransform_,r));for(var d=0,g=o.length,p=0,b,_,w,k,T,A,O,P,D,X,G,F,j=0,et=0,at=null,ut=null,ft=this.coordinateCache_,bt=this.viewRotation_,ot=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:bt},tt=this.instructions!=o||this.overlaps?0:200,ct,_t,Ot,St;d<g;){var Z=o[d],Yt=Z[0];switch(Yt){case At.BEGIN_GEOMETRY:ct=Z[1],St=Z[3],ct.getGeometry()?c!==void 0&&!qe(c,St.getExtent())?d=Z[2]+1:++d:d=Z[2];break;case At.BEGIN_PATH:j>tt&&(this.fill_(e),j=0),et>tt&&(e.stroke(),et=0),!j&&!et&&(e.beginPath(),k=NaN,T=NaN),++d;break;case At.CIRCLE:p=Z[1];var kt=f[p],z=f[p+1],rt=f[p+2],J=f[p+3],it=rt-kt,It=J-z,Zt=Math.sqrt(it*it+It*It);e.moveTo(kt+Zt,z),e.arc(kt,z,Zt,0,2*Math.PI,!0),++d;break;case At.CLOSE_PATH:e.closePath(),++d;break;case At.CUSTOM:p=Z[1],b=Z[2];var yt=Z[3],Et=Z[4],E=Z.length==6?Z[5]:void 0;ht.geometry=yt,ht.feature=ct,d in ft||(ft[d]=[]);var I=ft[d];E?E(f,p,b,2,I):(I[0]=f[p],I[1]=f[p+1],I.length=2),Et(I,ht),++d;break;case At.DRAW_IMAGE:p=Z[1],b=Z[2],P=Z[3],_=Z[4],w=Z[5];var M=Z[6],V=Z[7],W=Z[8],Q=Z[9],nt=Z[10],$=Z[11],q=Z[12],H=Z[13],pt=Z[14];if(!P&&Z.length>=19){D=Z[18],X=Z[19],G=Z[20],F=Z[21];var dt=this.drawLabelWithPointPlacement_(D,X,G,F);P=dt.label,Z[3]=P;var vt=Z[22];_=(dt.anchorX-vt)*this.pixelRatio,Z[4]=_;var xt=Z[23];w=(dt.anchorY-xt)*this.pixelRatio,Z[5]=w,M=P.height,Z[6]=M,H=P.width,Z[13]=H}var Pt=void 0;Z.length>24&&(Pt=Z[24]);var Lt=void 0,Nt=void 0,Xt=void 0;Z.length>16?(Lt=Z[15],Nt=Z[16],Xt=Z[17]):(Lt=Uo,Nt=!1,Xt=!1),nt&&ot?$+=bt:!nt&&!ot&&($-=bt);for(var we=0;p<b;p+=2)if(!(Pt&&Pt[we++]<H/this.pixelRatio)){var de=this.calculateImageOrLabelDimensions_(P.width,P.height,f[p],f[p+1],H,M,_,w,W,Q,$,q,i,Lt,Nt||Xt,ct),Fr=[e,t,P,de,V,Nt?at:null,Xt?ut:null],se=void 0,ar=void 0;if(u&&pt){var pe=b-p;if(!pt[pe]){pt[pe]=Fr;continue}if(se=pt[pe],delete pt[pe],ar=ib(se),u.collides(ar))continue}u&&u.collides(de.declutterBox)||(se&&(u&&u.insert(ar),this.replayImageOrLabel_.apply(this,se)),u&&u.insert(de.declutterBox),this.replayImageOrLabel_.apply(this,Fr))}++d;break;case At.DRAW_CHARS:var Fe=Z[1],vo=Z[2],oa=Z[3],Lc=Z[4];F=Z[5];var ws=Z[6],ia=Z[7],ks=Z[8];G=Z[9];var aa=Z[10];D=Z[11],X=Z[12];var Es=[Z[13],Z[13]],sa=this.textStates[X],Mn=sa.font,bo=[sa.scale[0]*ia,sa.scale[1]*ia],mo=void 0;Mn in this.widths_?mo=this.widths_[Mn]:(mo={},this.widths_[Mn]=mo);var Cs=qm(f,Fe,vo,2),ri=Math.abs(bo[0])*Zv(Mn,D,mo);if(Lc||ri<=Cs){var Mc=this.textStates[X].textAlign,la=(Cs-ri)*ac[Mc],_o=aP(f,Fe,vo,2,D,la,ws,Math.abs(bo[0]),Zv,Mn,mo,ot?0:this.viewRotation_);t:if(_o){var yo=[],$r=void 0,ni=void 0,oi=void 0,Ge=void 0,Je=void 0;if(G)for($r=0,ni=_o.length;$r<ni;++$r){Je=_o[$r],oi=Je[4],Ge=this.createLabel(oi,X,"",G),_=Je[2]+(bo[0]<0?-aa:aa),w=oa*Ge.height+(.5-oa)*2*aa*bo[1]/bo[0]-ks;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Je[0],Je[1],Ge.width,Ge.height,_,w,0,0,Je[3],Es,!1,Uo,!1,ct);if(u&&u.collides(de.declutterBox))break t;yo.push([e,t,Ge,de,1,null,null])}if(F)for($r=0,ni=_o.length;$r<ni;++$r){Je=_o[$r],oi=Je[4],Ge=this.createLabel(oi,X,F,""),_=Je[2],w=oa*Ge.height-ks;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Je[0],Je[1],Ge.width,Ge.height,_,w,0,0,Je[3],Es,!1,Uo,!1,ct);if(u&&u.collides(de.declutterBox))break t;yo.push([e,t,Ge,de,1,null,null])}u&&u.load(yo.map(ib));for(var ca=0,Ts=yo.length;ca<Ts;++ca)this.replayImageOrLabel_.apply(this,yo[ca])}}++d;break;case At.END_GEOMETRY:if(s!==void 0){ct=Z[1];var Rs=s(ct,St);if(Rs)return Rs}++d;break;case At.FILL:tt?j++:this.fill_(e),++d;break;case At.MOVE_TO_LINE_TO:for(p=Z[1],b=Z[2],_t=f[p],Ot=f[p+1],A=_t+.5|0,O=Ot+.5|0,(A!==k||O!==T)&&(e.moveTo(_t,Ot),k=A,T=O),p+=2;p<b;p+=2)_t=f[p],Ot=f[p+1],A=_t+.5|0,O=Ot+.5|0,(p==b-2||A!==k||O!==T)&&(e.lineTo(_t,Ot),k=A,T=O);++d;break;case At.SET_FILL_STYLE:at=Z,this.alignFill_=Z[2],j&&(this.fill_(e),j=0,et&&(e.stroke(),et=0)),e.fillStyle=Z[1],++d;break;case At.SET_STROKE_STYLE:ut=Z,et&&(e.stroke(),et=0),this.setStrokeStyle_(e,Z),++d;break;case At.STROKE:tt?et++:e.stroke(),++d;break;default:++d;break}}j&&this.fill_(e),et&&e.stroke()},n.prototype.execute=function(e,t,r,o,i,s){this.viewRotation_=o,this.execute_(e,t,r,this.instructions,i,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,r,o,i){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,o,i)},n}(),uP=cP,ff=[_e.POLYGON,_e.CIRCLE,_e.LINE_STRING,_e.IMAGE,_e.TEXT,_e.DEFAULT],fP=function(){function n(e,t,r,o,i,s){this.maxExtent_=e,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=sn(),this.createExecutors_(i)}return n.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var o=e[t];for(var i in o){var s=o[i];r[i]=new uP(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,i=e.length;o<i;++o)if(e[o]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,s){o=Math.round(o);var c=o*2+1,u=Pn(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-r,-e[0],-e[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Mr(c,c));var d=this.hitDetectionContext_;d.canvas.width!==c||d.canvas.height!==c?(d.canvas.width=c,d.canvas.height=c):f||d.clearRect(0,0,c,c);var g;this.renderBuffer_!==void 0&&(g=Pr(),Ya(g,e),Sh(g,t*(this.renderBuffer_+o),g));var p=hP(o),b;function _(X,G){for(var F=d.getImageData(0,0,c,c).data,j=0,et=p.length;j<et;j++)if(F[p[j]]>0){if(!s||b!==_e.IMAGE&&b!==_e.TEXT||s.indexOf(X)!==-1){var at=(p[j]-3)/4,ut=o-at%c,ft=o-(at/c|0),bt=i(X,G,ut*ut+ft*ft);if(bt)return bt}d.clearRect(0,0,c,c);break}}var w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Jo);var k,T,A,O,P;for(k=w.length-1;k>=0;--k){var D=w[k].toString();for(A=this.executorsByZIndex_[D],T=ff.length-1;T>=0;--T)if(b=ff[T],O=A[b],O!==void 0&&(P=O.executeHitDetection(d,u,r,_,g),P))return P}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],o=t[1],i=t[2],s=t[3],c=[r,o,r,s,i,s,i,o];return Zo(c,0,8,2,e,c),c},n.prototype.isEmpty=function(){return Qa(this.executorsByZIndex_)},n.prototype.execute=function(e,t,r,o,i,s,c){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(Jo),this.maxExtent_&&(e.save(),this.clip(e,r));var f=s||ff,d,g,p,b,_,w;for(c&&u.reverse(),d=0,g=u.length;d<g;++d){var k=u[d].toString();for(_=this.executorsByZIndex_[k],p=0,b=f.length;p<b;++p){var T=f[p];w=_[T],w!==void 0&&w.execute(e,t,r,o,i,c)}}this.maxExtent_&&e.restore()},n}(),hf={};function hP(n){if(hf[n]!==void 0)return hf[n];for(var e=n*2+1,t=n*n,r=new Array(t+1),o=0;o<=n;++o)for(var i=0;i<=n;++i){var s=o*o+i*i;if(s>t)break;var c=r[s];c||(c=[],r[s]=c),c.push(((n+o)*e+(n+i))*4+3),o>0&&c.push(((n-o)*e+(n+i))*4+3),i>0&&(c.push(((n+o)*e+(n-i))*4+3),o>0&&c.push(((n-o)*e+(n-i))*4+3))}for(var u=[],o=0,f=r.length;o<f;++o)r[o]&&u.push.apply(u,r[o]);return hf[n]=u,u}var sb=fP,dP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pP=function(n){dP(e,n);function e(t,r,o,i,s,c,u){var f=n.call(this)||this;return f.context_=t,f.pixelRatio_=r,f.extent_=o,f.transform_=i,f.viewRotation_=s,f.squaredTolerance_=c,f.userTransform_=u,f.contextFillState_=null,f.contextStrokeState_=null,f.contextTextState_=null,f.fillState_=null,f.strokeState_=null,f.image_=null,f.imageAnchorX_=0,f.imageAnchorY_=0,f.imageHeight_=0,f.imageOpacity_=0,f.imageOriginX_=0,f.imageOriginY_=0,f.imageRotateWithView_=!1,f.imageRotation_=0,f.imageScale_=[0,0],f.imageWidth_=0,f.text_="",f.textOffsetX_=0,f.textOffsetY_=0,f.textRotateWithView_=!1,f.textRotation_=0,f.textScale_=[0,0],f.textFillState_=null,f.textStrokeState_=null,f.textState_=null,f.pixelCoordinates_=[],f.tmpLocalTransform_=sn(),f}return e.prototype.drawImages_=function(t,r,o,i){if(!!this.image_){var s=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var g=0,p=s.length;g<p;g+=2){var b=s[g]-this.imageAnchorX_,_=s[g+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var w=b+this.imageAnchorX_,k=_+this.imageAnchorY_;Pn(u,w,k,1,1,d,-w,-k),c.setTransform.apply(c,u),c.translate(w,k),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,b,_,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}},e.prototype.drawText_=function(t,r,o,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);r<o;r+=i){var f=s[r]+this.textOffsetX_,d=s[r+1]+this.textOffsetY_;if(u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var g=Pn(this.tmpLocalTransform_,f,d,1,1,u,-f,-d);c.setTransform.apply(c,g),c.translate(f,d),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&c.strokeText(this.text_,f,d),this.textFillState_&&c.fillText(this.text_,f,d)}}},e.prototype.moveToLineTo_=function(t,r,o,i,s){var c=this.context_,u=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_);c.moveTo(u[0],u[1]);var f=u.length;s&&(f-=2);for(var d=2;d<f;d+=2)c.lineTo(u[d],u[d+1]);return s&&c.closePath(),o},e.prototype.drawRings_=function(t,r,o,i){for(var s=0,c=o.length;s<c;++s)r=this.moveToLineTo_(t,r,o[s],i,!0);return r},e.prototype.drawCircle=function(t){if(!!qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=fI(t,this.transform_,this.pixelCoordinates_),o=r[2]-r[0],i=r[3]-r[1],s=Math.sqrt(o*o+i*i),c=this.context_;c.beginPath(),c.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case lt.POINT:this.drawPoint(t);break;case lt.LINE_STRING:this.drawLineString(t);break;case lt.POLYGON:this.drawPolygon(t);break;case lt.MULTI_POINT:this.drawMultiPoint(t);break;case lt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case lt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case lt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case lt.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,r){var o=r.getGeometryFunction()(t);!o||!qe(this.extent_,o.getExtent())||(this.setStyle(r),this.drawGeometry(o))},e.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),o=0,i=r.length;o<i;++o)this.drawGeometry(r[o])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(o,0,o.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(!!qe(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,i=t.getFlatCoordinates(),s=0,c=t.getEnds(),u=t.getStride();o.beginPath();for(var f=0,d=c.length;f<d;++f)s=this.moveToLineTo_(i,s,c[f],u,!1);o.stroke()}if(this.text_!==""){var g=t.getFlatMidpoints();this.drawText_(g,0,g.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var o=t.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),c=t.getStride();r.beginPath();for(var u=0,f=s.length;u<f;++u){var d=s[u];i=this.drawRings_(o,i,d,c)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var g=t.getFlatInteriorPoints();this.drawText_(g,0,g.length,2)}}},e.prototype.setContextFillState_=function(t){var r=this.context_,o=this.contextFillState_;o?o.fillStyle!=t.fillStyle&&(o.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var r=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=t.lineCap&&(o.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(ei(o.lineDash,t.lineDash)||r.setLineDash(o.lineDash=t.lineDash),o.lineDashOffset!=t.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),o.lineJoin!=t.lineJoin&&(o.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),o.lineWidth!=t.lineWidth&&(o.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),o.miterLimit!=t.miterLimit&&(o.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),o.strokeStyle!=t.strokeStyle&&(o.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var r=this.context_,o=this.contextTextState_,i=t.textAlign?t.textAlign:ls;o?(o.font!=t.font&&(o.font=t.font,r.font=t.font),o.textAlign!=i&&(o.textAlign=i,r.textAlign=i),o.textBaseline!=t.textBaseline&&(o.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=i,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,r){var o=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:an(i||On)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),c=r.getLineCap(),u=r.getLineDash(),f=r.getLineDashOffset(),d=r.getLineJoin(),g=r.getWidth(),p=r.getMiterLimit(),b=u||os;this.strokeState_={lineCap:c!==void 0?c:ec,lineDash:this.pixelRatio_===1?b:b.map(function(_){return _*o.pixelRatio_}),lineDashOffset:(f||is)*this.pixelRatio_,lineJoin:d!==void 0?d:Ki,lineWidth:(g!==void 0?g:cs)*this.pixelRatio_,miterLimit:p!==void 0?p:as,strokeStyle:an(s||ss)}}},e.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var o=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var o=r.getColor();this.textFillState_={fillStyle:an(o||On)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),c=i.getLineCap(),u=i.getLineDash(),f=i.getLineDashOffset(),d=i.getLineJoin(),g=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:c!==void 0?c:ec,lineDash:u||os,lineDashOffset:f||is,lineJoin:d!==void 0?d:Ki,lineWidth:g!==void 0?g:cs,miterLimit:p!==void 0?p:as,strokeStyle:an(s||ss)}}var b=t.getFont(),_=t.getOffsetX(),w=t.getOffsetY(),k=t.getRotateWithView(),T=t.getRotation(),A=t.getScaleArray(),O=t.getText(),P=t.getTextAlign(),D=t.getTextBaseline();this.textState_={font:b!==void 0?b:u0,textAlign:P!==void 0?P:ls,textBaseline:D!==void 0?D:rc},this.text_=O!==void 0?Array.isArray(O)?O.reduce(function(X,G,F){return X+=F%2?" ":G},""):O:"",this.textOffsetX_=_!==void 0?this.pixelRatio_*_:0,this.textOffsetY_=w!==void 0?this.pixelRatio_*w:0,this.textRotateWithView_=k!==void 0?k:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}(R0),gP=pP,ro={FRACTION:"fraction",PIXELS:"pixels"},Tr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},vP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bP=function(n){vP(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=o,s.resolution=r,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return jt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){jt()},e}(ea),mP=bP,_P=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){_P(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,o,he.IDLE)||this;return u.src_=i,u.image_=new Image,s!==null&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=he.IDLE,u.imageLoadFunction_=c,u}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=he.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Zr(this.extent)/this.image_.height),this.state=he.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==he.IDLE||this.state==he.ERROR)&&(this.state=he.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=ad(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Zr(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(mP);function ad(n,e,t){var r=n,o=!0,i=!1,s=!1,c=[ql(r,Dt.LOAD,function(){s=!0,i||e()})];return r.src&&QA?(i=!0,r.decode().then(function(){o&&e()}).catch(function(u){o&&(s?e():t())})):c.push(ql(r,Dt.ERROR,t)),function(){o=!1,c.forEach(be)}}var yP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ia=null,xP=function(n){yP(e,n);function e(t,r,o,i,s,c){var u=n.call(this)||this;return u.hitDetectionImage_=null,u.image_=t||new Image,i!==null&&(u.image_.crossOrigin=i),u.canvas_={},u.color_=c,u.unlisten_=null,u.imageState_=s,u.size_=o,u.src_=r,u.tainted_,u}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===he.LOADED){Ia||(Ia=Mr(1,1)),Ia.drawImage(this.image_,0,0);try{Ia.getImageData(0,0,1,1),this.tainted_=!1}catch{Ia=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=he.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=he.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],o=Mr(t,r);o.fillRect(0,0,t,r),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==he.IDLE){this.imageState_=he.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=ad(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==he.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var o=r.getContext("2d");if(o.scale(t,t),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply",o.globalCompositeOperation==="multiply"||this.isTainted_())o.fillStyle=o0(this.color_),o.fillRect(0,0,r.width/t,r.height/t),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var i=o.getImageData(0,0,r.width,r.height),s=i.data,c=this.color_[0]/255,u=this.color_[1]/255,f=this.color_[2]/255,d=this.color_[3],g=0,p=s.length;g<p;g+=4)s[g]*=c,s[g+1]*=u,s[g+2]*=f,s[g+3]*=d;o.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ea);function wP(n,e,t,r,o,i){var s=Ql.get(e,r,i);return s||(s=new xP(n,e,t,r,o,i),Ql.set(e,r,i,s)),s}var kP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EP=function(n){kP(e,n);function e(t){var r=this,o=t||{},i=o.opacity!==void 0?o.opacity:1,s=o.rotation!==void 0?o.rotation:0,c=o.scale!==void 0?o.scale:1,u=o.rotateWithView!==void 0?o.rotateWithView:!1;r=n.call(this,{opacity:i,rotation:s,scale:c,displacement:o.displacement!==void 0?o.displacement:[0,0],rotateWithView:u})||this,r.anchor_=o.anchor!==void 0?o.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=o.anchorOrigin!==void 0?o.anchorOrigin:Tr.TOP_LEFT,r.anchorXUnits_=o.anchorXUnits!==void 0?o.anchorXUnits:ro.FRACTION,r.anchorYUnits_=o.anchorYUnits!==void 0?o.anchorYUnits:ro.FRACTION,r.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null;var f=o.img!==void 0?o.img:null;r.imgSize_=o.imgSize;var d=o.src;Kt(!(d!==void 0&&f),4),Kt(!f||f&&r.imgSize_,5),(d===void 0||d.length===0)&&f&&(d=f.src||ne(f)),Kt(d!==void 0&&d.length>0,6);var g=o.src!==void 0?he.IDLE:he.LOADED;return r.color_=o.color!==void 0?Jl(o.color):null,r.iconImage_=wP(f,d,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,g,r.color_),r.offset_=o.offset!==void 0?o.offset:[0,0],r.offsetOrigin_=o.offsetOrigin!==void 0?o.offsetOrigin:Tr.TOP_LEFT,r.origin_=null,r.size_=o.size!==void 0?o.size:null,r}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==ro.FRACTION||this.anchorYUnits_==ro.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==ro.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==ro.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=Tr.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Tr.TOP_RIGHT||this.anchorOrigin_==Tr.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==Tr.BOTTOM_LEFT||this.anchorOrigin_==Tr.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var o=this.getDisplacement();return[t[0]-o[0],t[1]+o[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Tr.TOP_LEFT){var r=this.getSize(),o=this.iconImage_.getSize();if(!r||!o)return null;t=t.slice(),(this.offsetOrigin_==Tr.TOP_RIGHT||this.offsetOrigin_==Tr.BOTTOM_RIGHT)&&(t[0]=o[0]-r[0]-t[0]),(this.offsetOrigin_==Tr.BOTTOM_LEFT||this.offsetOrigin_==Tr.BOTTOM_RIGHT)&&(t[1]=o[1]-r[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Dt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Dt.CHANGE,t)},e}(C0),CP=EP,nn=.5;function TP(n,e,t,r,o,i,s){var c=n[0]*nn,u=n[1]*nn,f=Mr(c,u);f.imageSmoothingEnabled=!1;for(var d=f.canvas,g=new gP(f,nn,o,null,s),p=t.length,b=Math.floor((256*256*256-1)/p),_={},w=1;w<=p;++w){var k=t[w-1],T=k.getStyleFunction()||r;if(!!r){var A=T(k,i);if(!!A){Array.isArray(A)||(A=[A]);for(var O=w*b,P="#"+("000000"+O.toString(16)).slice(-6),D=0,X=A.length;D<X;++D){var G=A[D],F=G.getGeometryFunction()(k);if(!(!F||!qe(o,F.getExtent()))){var j=G.clone(),et=j.getFill();et&&et.setColor(P);var at=j.getStroke();at&&(at.setColor(P),at.setLineDash(null)),j.setText(void 0);var ut=G.getImage();if(ut&&ut.getOpacity()!==0){var ft=ut.getImageSize();if(!ft)continue;var bt=Mr(ft[0],ft[1],void 0,{alpha:!1}),ot=bt.canvas;bt.fillStyle=P,bt.fillRect(0,0,ot.width,ot.height),j.setImage(new CP({img:ot,imgSize:ft,anchor:ut.getAnchor(),anchorXUnits:ro.PIXELS,anchorYUnits:ro.PIXELS,offset:ut.getOrigin(),opacity:1,size:ut.getSize(),scale:ut.getScale(),rotation:ut.getRotation(),rotateWithView:ut.getRotateWithView()}))}var ht=j.getZIndex()||0,tt=_[ht];tt||(tt={},_[ht]=tt,tt[lt.POLYGON]=[],tt[lt.CIRCLE]=[],tt[lt.LINE_STRING]=[],tt[lt.POINT]=[]),tt[F.getType().replace("Multi","")].push(F,j)}}}}}for(var ct=Object.keys(_).map(Number).sort(Jo),w=0,_t=ct.length;w<_t;++w){var tt=_[ct[w]];for(var Ot in tt)for(var St=tt[Ot],D=0,X=St.length;D<X;D+=2){g.setStyle(St[D+1]);for(var Z=0,Yt=e.length;Z<Yt;++Z)g.setTransform(e[Z]),g.drawGeometry(St[D])}}return f.getImageData(0,0,d.width,d.height)}function RP(n,e,t){var r=[];if(t){var o=Math.floor(Math.round(n[0])*nn),i=Math.floor(Math.round(n[1])*nn),s=(Ae(o,0,t.width-1)+Ae(i,0,t.height-1)*t.width)*4,c=t.data[s],u=t.data[s+1],f=t.data[s+2],d=f+256*(u+256*c),g=Math.floor((256*256*256-1)/e.length);d&&d%g===0&&r.push(e[d/g-1])}return r}var AP=.5,I0={Point:NP,LineString:MP,Polygon:GP,MultiPoint:zP,MultiLineString:FP,MultiPolygon:DP,GeometryCollection:LP,Circle:SP};function IP(n,e){return parseInt(ne(n),10)-parseInt(ne(e),10)}function OP(n,e){var t=eh(n,e);return t*t}function eh(n,e){return AP*n/e}function SP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.CIRCLE);c.setFillStrokeStyle(i,s),c.drawCircle(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function lb(n,e,t,r,o,i,s){var c=!1,u=t.getImage();if(u){var f=u.getImageState();f==he.LOADED||f==he.ERROR?u.unlistenImageChange(o):(f==he.IDLE&&u.load(),f=u.getImageState(),u.listenImageChange(o),c=!0)}return PP(n,e,t,r,i,s),c}function PP(n,e,t,r,o,i){var s=t.getGeometryFunction()(e);if(!!s){var c=s.simplifyTransformed(r,o),u=t.getRenderer();if(u)O0(n,c,t,e);else{var f=I0[c.getType()];f(n,c,t,e,i)}}}function O0(n,e,t,r){if(e.getType()==lt.GEOMETRY_COLLECTION){for(var o=e.getGeometries(),i=0,s=o.length;i<s;++i)O0(n,o[i],t,r);return}var c=n.getBuilder(t.getZIndex(),_e.DEFAULT);c.drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer())}function LP(n,e,t,r,o){var i=e.getGeometriesArray(),s,c;for(s=0,c=i.length;s<c;++s){var u=I0[i[s].getType()];u(n,i[s],t,r,o)}}function MP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function FP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function DP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(s||i){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawMultiPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function NP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawPoint(e,r)}if(s&&s.getText()){var f=n.getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function zP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawMultiPoint(e,r)}if(s&&s.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function GP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}var BP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WP=function(n){BP(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Pr(),r.wrappedRenderedExtent_=Pr(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return e.prototype.renderWorlds=function(t,r,o){var i=r.extent,s=r.viewState,c=s.center,u=s.resolution,f=s.projection,d=s.rotation,g=f.getExtent(),p=this.getLayer().getSource(),b=r.pixelRatio,_=r.viewHints,w=!(_[Ye.ANIMATING]||_[Ye.INTERACTING]),k=this.context,T=Math.round(r.size[0]*b),A=Math.round(r.size[1]*b),O=p.getWrapX()&&f.canWrapX(),P=O?xe(g):null,D=O?Math.ceil((i[2]-g[2])/P)+1:1,X=O?Math.floor((i[0]-g[0])/P):0;do{var G=this.getRenderTransform(c,u,d,b,T,A,X*P);t.execute(k,1,G,d,w,void 0,o)}while(++X<D)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,r){var o=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];rI(this.pixelTransform,1/o,1/o),Uh(this.inversePixelTransform,this.pixelTransform);var s=Bm(this.pixelTransform);this.useContainer(r,s,i.opacity,this.getBackground(t));var c=this.context,u=c.canvas,f=this.replayGroup_,d=this.declutterExecutorGroup;if((!f||f.isEmpty())&&(!d||d.isEmpty()))return null;var g=Math.round(t.size[0]*o),p=Math.round(t.size[1]*o);u.width!=g||u.height!=p?(u.width=g,u.height=p,u.style.transform!==s&&(u.style.transform=s)):this.containerReused||c.clearRect(0,0,g,p),this.preRender(c,t);var b=t.viewState,_=b.projection,w=!1,k=!0;if(i.extent&&this.clipping){var T=Bo(i.extent,_);k=qe(T,t.extent),w=k&&!Mi(T,t.extent),w&&this.clipUnrotated(c,t,T)}k&&this.renderWorlds(f,t),w&&c.restore(),this.postRender(c,t);var A=c0(i.opacity),O=this.container;return A!==O.style.opacity&&(O.style.opacity=A),this.renderedRotation_!==b.rotation&&(this.renderedRotation_=b.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];Re(this.pixelTransform,o);var i=this.renderedCenter_,s=this.renderedResolution_,c=this.renderedRotation_,u=this.renderedProjection_,f=this.wrappedRenderedExtent_,d=this.getLayer(),g=[],p=o[0]*nn,b=o[1]*nn;g.push(this.getRenderTransform(i,s,c,nn,p,b,0).slice());var _=d.getSource(),w=u.getExtent();if(_.getWrapX()&&u.canWrapX()&&!Mi(w,f)){for(var k=f[0],T=xe(w),A=0,O=void 0;k<w[0];)--A,O=T*A,g.push(this.getRenderTransform(i,s,c,nn,p,b,O).slice()),k+=T;for(A=0,k=f[2];k>w[2];)++A,O=T*A,g.push(this.getRenderTransform(i,s,c,nn,p,b,O).slice()),k-=T}this.hitDetectionImageData_=TP(o,g,this.renderedFeatures_,d.getStyleFunction(),f,s,c)}r(RP(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){var c=this;if(!!this.replayGroup_){var u=r.viewState.resolution,f=r.viewState.rotation,d=this.getLayer(),g={},p=function(w,k,T){var A=ne(w),O=g[A];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return g[A]=!0,s.splice(s.lastIndexOf(O),1),i(w,d,k);O.geometry=k,O.distanceSq=T}}else{if(T===0)return g[A]=!0,i(w,d,k);s.push(g[A]={feature:w,layer:d,geometry:k,distanceSq:T,callback:i})}},b,_=[this.replayGroup_];return this.declutterExecutorGroup&&_.push(this.declutterExecutorGroup),_.some(function(w){return b=w.forEachFeatureAtCoordinate(t,u,f,o,p,w===c.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(k){return k.value}):null)}),b}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var r=this.getLayer(),o=r.getSource();if(!o)return!1;var i=t.viewHints[Ye.ANIMATING],s=t.viewHints[Ye.INTERACTING],c=r.getUpdateWhileAnimating(),u=r.getUpdateWhileInteracting();if(!this.dirty_&&!c&&i||!u&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=t.extent,d=t.viewState,g=d.projection,p=d.resolution,b=t.pixelRatio,_=r.getRevision(),w=r.getRenderBuffer(),k=r.getRenderOrder();k===void 0&&(k=IP);var T=d.center.slice(),A=Sh(f,w*p),O=A.slice(),P=[A.slice()],D=g.getExtent();if(o.getWrapX()&&g.canWrapX()&&!Mi(D,t.extent)){var X=xe(D),G=Math.max(xe(A)/2,X);A[0]=D[0]-G,A[2]=D[2]+G,Mm(T,g);var F=xA(P[0],g);F[0]<D[0]&&F[2]<D[2]?P.push([F[0]+X,F[1],F[2]+X,F[3]]):F[0]>D[0]&&F[2]>D[2]&&P.push([F[0]-X,F[1],F[2]-X,F[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==_&&this.renderedRenderOrder_==k&&Mi(this.wrappedRenderedExtent_,A))return ei(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var j=new ob(eh(p,b),A,p,b),et;this.getLayer().getDeclutter()&&(et=new ob(eh(p,b),A,p,b));var at=bs(),ut;if(at){for(var ft=0,bt=P.length;ft<bt;++ft){var ot=P[ft],ht=Hf(ot,g);o.loadFeatures(ht,DA(p,g),at)}ut=Hi(at,g)}else for(var ft=0,bt=P.length;ft<bt;++ft)o.loadFeatures(P[ft],p,g);var tt=OP(p,b),ct=function(Yt){var kt,z=Yt.getStyleFunction()||r.getStyleFunction();if(z&&(kt=z(Yt,p)),kt){var rt=this.renderFeature(Yt,tt,kt,j,ut,et);this.dirty_=this.dirty_||rt}}.bind(this),_t=Hf(A,g),Ot=o.getFeaturesInExtent(_t);k&&Ot.sort(k);for(var ft=0,bt=Ot.length;ft<bt;++ft)ct(Ot[ft]);this.renderedFeatures_=Ot;var St=j.finish(),Z=new sb(A,p,b,o.getOverlaps(),St,r.getRenderBuffer());return et&&(this.declutterExecutorGroup=new sb(A,p,b,o.getOverlaps(),et.finish(),r.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=_,this.renderedRenderOrder_=k,this.renderedExtent_=O,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=g,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,r,o,i,s,c){if(!o)return!1;var u=!1;if(Array.isArray(o))for(var f=0,d=o.length;f<d;++f)u=lb(i,t,o[f],r,this.boundHandleStyleImageChange_,s,c)||u;else u=lb(i,t,o,r,this.boundHandleStyleImageChange_,s,c);return u},e}(A0),UP=WP,YP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XP=function(n){YP(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new UP(this)},e}(FS),rh=XP,VP=function(){function n(e){this.rbush_=new E0(e),this.items_={}}return n.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[ne(t)]=r},n.prototype.load=function(e,t){for(var r=new Array(t.length),o=0,i=t.length;o<i;o++){var s=e[o],c=t[o],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:c};r[o]=u,this.items_[ne(c)]=u}this.rbush_.load(r)},n.prototype.remove=function(e){var t=ne(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(e,t){var r=this.items_[ne(t)],o=[r.minX,r.minY,r.maxX,r.maxY];ts(o,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(o){return o.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var r,o=0,i=e.length;o<i;o++)if(r=t(e[o]),r)return r;return r},n.prototype.isEmpty=function(){return Qa(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Kr(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),cb=VP,HP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jP=function(n){HP(e,n);function e(t){var r=n.call(this)||this;r.projection=ir(t.projection),r.attributions_=ub(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:ti.READY,r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var o=r;return r.viewPromise_=new Promise(function(i,s){o.viewResolver=i,o.viewRejector=s}),r}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return jt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=ub(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(cn);function ub(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var S0=jP,Wr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function KP(n,e){return[[-1/0,-1/0,1/0,1/0]]}var ZP=!1;function $P(n,e,t,r,o,i,s){var c=new XMLHttpRequest;c.open("GET",typeof n=="function"?n(t,r,o):n,!0),e.getType()==Ra.ARRAY_BUFFER&&(c.responseType="arraybuffer"),c.withCredentials=ZP,c.onload=function(u){if(!c.status||c.status>=200&&c.status<300){var f=e.getType(),d=void 0;f==Ra.JSON||f==Ra.TEXT?d=c.responseText:f==Ra.XML?(d=c.responseXML,d||(d=new DOMParser().parseFromString(c.responseText,"application/xml"))):f==Ra.ARRAY_BUFFER&&(d=c.response),d?i(e.readFeatures(d,{extent:t,featureProjection:o}),e.readProjection(d)):s()}else s()},c.onerror=s,c.send()}function fb(n,e){return function(t,r,o,i,s){var c=this;$P(n,e,t,r,o,function(u,f){c.addFeatures(u),i!==void 0&&i(u)},s||Qo)}}var P0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zn=function(n){P0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.feature=r,i.features=o,i}return e}(ln),qP=function(n){P0(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:ti.READY,wrapX:o.wrapX!==void 0?o.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=Qo,r.format_=o.format,r.overlaps_=o.overlaps===void 0?!0:o.overlaps,r.url_=o.url,o.loader!==void 0?r.loader_=o.loader:r.url_!==void 0&&(Kt(r.format_,7),r.loader_=fb(r.url_,r.format_)),r.strategy_=o.strategy!==void 0?o.strategy:KP;var i=o.useSpatialIndex!==void 0?o.useSpatialIndex:!0;r.featuresRtree_=i?new cb:null,r.loadedExtentsRtree_=new cb,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,c;return Array.isArray(o.features)?c=o.features:o.features&&(s=o.features,c=s.getArray()),!i&&s===void 0&&(s=new Ir(c)),c!==void 0&&r.addFeaturesInternal(c),s!==void 0&&r.bindFeaturesCollection_(s),r}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var r=ne(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var o=t.getGeometry();if(o){var i=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Zn(Wr.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[qt(r,Dt.CHANGE,this.handleFeatureChange_,this),qt(r,ji.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,r){var o=!0,i=r.getId();return i!==void 0&&(i.toString()in this.idIndex_?o=!1:this.idIndex_[i.toString()]=r),o&&(Kt(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),o},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var r=[],o=[],i=[],s=0,c=t.length;s<c;s++){var u=t[s],f=ne(u);this.addToIndex_(f,u)&&o.push(u)}for(var s=0,d=o.length;s<d;s++){var u=o[s],f=ne(u);this.setupChangeEvents_(f,u);var g=u.getGeometry();if(g){var p=g.getExtent();r.push(p),i.push(u)}else this.nullGeometryFeatures_[f]=u}if(this.featuresRtree_&&this.featuresRtree_.load(r,i),this.hasListener(Wr.ADDFEATURE))for(var s=0,b=o.length;s<b;s++)this.dispatchEvent(new Zn(Wr.ADDFEATURE,o[s]))},e.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(Wr.ADDFEATURE,function(o){r||(r=!0,t.push(o.feature),r=!1)}),this.addEventListener(Wr.REMOVEFEATURE,function(o){r||(r=!0,t.remove(o.feature),r=!1)}),t.addEventListener(or.ADD,function(o){r||(r=!0,this.addFeature(o.element),r=!1)}.bind(this)),t.addEventListener(or.REMOVE,function(o){r||(r=!0,this.removeFeature(o.element),r=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var o=this.featureChangeKeys_[r];o.forEach(be)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(u){this.removeFeatureInternal(u)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var c=new Zn(Wr.CLEAR);this.dispatchEvent(c),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var o=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(o,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return r(i)})},e.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},e.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(o){var i=o.getGeometry();if(i.intersectsExtent(t)){var s=r(o);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Qa(this.nullGeometryFeatures_)||In(t,Im(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(o){r.push(o)}),r},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,r){var o=t[0],i=t[1],s=null,c=[NaN,NaN],u=1/0,f=[-1/0,-1/0,1/0,1/0],d=r||Ko;return this.featuresRtree_.forEachInExtent(f,function(g){if(d(g)){var p=g.getGeometry(),b=u;if(u=p.closestPointXY(o,i,c,u),u<b){s=g;var _=Math.sqrt(u);f[0]=o-_,f[1]=i-_,f[2]=o+_,f[3]=i+_}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var r=t.target,o=ne(r),i=r.getGeometry();if(!i)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[o]=r);else{var s=i.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var c=r.getId();if(c!==void 0){var u=c.toString();this.idIndex_[u]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[u]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[o]=r;this.changed(),this.dispatchEvent(new Zn(Wr.CHANGEFEATURE,r))},e.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:ne(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Qa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,r,o){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,r,o),c=function(g,p){var b=s[g],_=i.forEachInExtent(b,function(w){return Mi(w.extent,b)});_||(++u.loadingExtentsCount_,u.dispatchEvent(new Zn(Wr.FEATURESLOADSTART)),u.loader_.call(u,b,r,o,function(w){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wr.FEATURESLOADEND,void 0,w))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wr.FEATURESLOADERROR))}.bind(u)),i.insert(b,{extent:b.slice()}))},u=this,f=0,d=s.length;f<d;++f)c(f);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,o;r.forEachInExtent(t,function(i){if(ts(i.extent,t))return o=i,!0}),o&&r.remove(o)},e.prototype.removeFeature=function(t){if(!!t){var r=ne(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var o=this.removeFeatureInternal(t);o&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var r=ne(t),o=this.featureChangeKeys_[r];if(!!o){o.forEach(be),delete this.featureChangeKeys_[r];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Zn(Wr.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var r=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===t){delete this.idIndex_[o],r=!0;break}return r},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Kt(this.format_,7),this.url_=t,this.setLoader(fb(t,this.format_))},e}(S0),nh=qP,L0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qt={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Pl={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Ll=function(n){L0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.feature=r,o}return e}(ln),JP=function(n){L0(e,n);function e(t){var r=this,o=t;o.stopDown||(o.stopDown=ms),r=n.call(this,o)||this,r.on,r.once,r.un,r.shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.pointerType_,r.freehand_=!1,r.source_=t.source?t.source:null,r.features_=t.features?t.features:null,r.snapTolerance_=t.snapTolerance?t.snapTolerance:12,r.type_=t.type,r.mode_=eL(r.type_),r.stopClick_=!!t.stopClick,r.minPoints_=t.minPoints?t.minPoints:r.mode_===Qt.POLYGON?3:2,r.maxPoints_=r.mode_===Qt.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,r.finishCondition_=t.finishCondition?t.finishCondition:Ko;var i=t.geometryFunction;if(!i){var s=r.mode_;if(s===Qt.CIRCLE)i=function(u,f,d){var g=f||new Xm([NaN,NaN]),p=Rr(u[0],d),b=TA(p,Rr(u[u.length-1],d));g.setCenterAndRadius(p,Math.sqrt(b));var _=bs();return _&&g.transform(d,_),g};else{var c;s===Qt.POINT?c=qo:s===Qt.LINE_STRING?c=$o:s===Qt.POLYGON&&(c=ns),i=function(u,f,d){return f?s===Qt.POLYGON?u[0].length?f.setCoordinates([u[0].concat([u[0][0]])]):f.setCoordinates([]):f.setCoordinates(u):f=new c(u),f}}}return r.geometryFunction_=i,r.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,r.overlay_=new rh({source:new nh({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:QP(),updateWhileInteracting:!0}),r.geometryName_=t.geometryName,r.condition_=t.condition?t.condition:id,r.freehandCondition_,t.freehand?r.freehandCondition_=m0:r.freehandCondition_=t.freehandCondition?t.freehandCondition:y0,r.addChangeListener(Qf.ACTIVE,r.updateState_),r}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===Dt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Qt.POINT&&this.freehandCondition_(t);var r=t.type===te.POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===te.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===te.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),o=!1):this.freehand_&&t.type===te.POINTERDOWN?o=!1:r&&this.getPointerCount()<2?(o=t.type===te.POINTERMOVE,o&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===te.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===te.DBLCLICK&&(o=!1),n.prototype.handleEvent.call(this,t)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new En(te.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var r=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(t.coordinate),!o&&this.freehand_?this.finishDrawing():!this.freehand_&&(!o||this.mode_===Qt.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),r=!1}else this.freehand_&&this.abortDrawing();return!r&&this.stopClick_&&t.preventDefault(),r},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var r=this.downPx_,o=t.pixel,i=r[0]-o[0],s=r[1]-o[1],c=i*i+s*s;if(this.shouldHandle_=this.freehand_?c>this.squaredClickTolerance_:c<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var r=!1;if(this.sketchFeature_){var o=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===Qt.POINT)r=!0;else if(s===Qt.CIRCLE)r=this.sketchCoords_.length===2;else if(s===Qt.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(s===Qt.POLYGON){var c=this.sketchCoords_;o=c[0].length>this.minPoints_,i=[c[0][0],c[0][c[0].length-2]]}if(o)for(var u=this.getMap(),f=0,d=i.length;f<d;f++){var g=i[f],p=u.getPixelFromCoordinate(g),b=t[0]-p[0],_=t[1]-p[1],w=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(b*b+_*_)<=w,r){this.finishCoordinate_=g;break}}}return r},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new zo(new qo(t)),this.updateSketchFeatures_();else{var r=this.sketchPoint_.getGeometry();r.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new zo);var r=t.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(r.getLayout(),r.getFlatCoordinates()),o.changed()):(o=new $o(r.getFlatCoordinates(),r.getLayout()),this.sketchLine_.setGeometry(o))},e.prototype.startDrawing_=function(t){var r=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Qt.POINT?this.sketchCoords_=t.slice():this.mode_===Qt.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new zo(new $o(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new zo,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new Ll(Pl.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var r=this.getMap(),o=this.sketchFeature_.getGeometry(),i=r.getView().getProjection(),s,c;if(this.mode_===Qt.POINT?c=this.sketchCoords_:this.mode_===Qt.POLYGON?(s=this.sketchCoords_[0],c=s[s.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,c=s[s.length-1]),c[0]=t[0],c[1]=t[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_){var u=this.sketchPoint_.getGeometry();u.setCoordinates(t)}if(o.getType()===lt.POLYGON&&this.mode_!==Qt.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var f=this.sketchLine_.getGeometry();f.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i,s,c=this.mode_;c===Qt.LINE_STRING||c===Qt.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,r,o)):c===Qt.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,r,o)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o,i=this.mode_;if(i===Qt.LINE_STRING||i===Qt.CIRCLE){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();var s=this.finishCoordinate_.slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(o,t,r),t.getType()===lt.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===Qt.POLYGON){o=this.sketchCoords_[0],o.splice(-2,1);var c=this.sketchLine_.getGeometry();if(o.length>=2){var s=o[o.length-2].slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}c.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,r)}o.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var r=this.sketchCoords_,o=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===Qt.LINE_STRING?(r.pop(),this.geometryFunction_(r,o,i)):this.mode_===Qt.POLYGON&&(r[0].pop(),this.geometryFunction_(r,o,i),r=o.getCoordinates()),this.type_===lt.MULTI_POINT?t.setGeometry(new Jm([r])):this.type_===lt.MULTI_LINE_STRING?t.setGeometry(new PI([r])):this.type_===lt.MULTI_POLYGON&&t.setGeometry(new XI([r])),this.dispatchEvent(new Ll(Pl.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Ll(Pl.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var r=this.mode_,o=!this.sketchFeature_;o&&this.startDrawing_(t[0]);var i;if(r===Qt.LINE_STRING||r===Qt.CIRCLE)i=this.sketchCoords_;else if(r===Qt.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;o&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var c=t[t.length-1];this.addToDrawing_(c),this.modifyDrawing_(c)},e.prototype.extend=function(t){var r=t.getGeometry(),o=r;this.sketchFeature_=t,this.sketchCoords_=o.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new zo(new qo(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Ll(Pl.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var r=this.overlay_.getSource();r.clear(!0),r.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),r=this.getActive();(!t||!r)&&this.abortDrawing(),this.overlay_.setMap(r?t:null)},e}(na);function QP(){var n=SS();return function(e,t){return n[e.getGeometry().getType()]}}function tL(){return function(n,e,t){var r=Bf([n[0],n[n.length-1]].map(function(c){return Rr(c,t)})),o=[[Xi(r),gs(r),vs(r),po(r),Xi(r)]],i=e;i?i.setCoordinates(o):i=new ns(o);var s=bs();return s&&i.transform(t,s),i}}function eL(n){switch(n){case lt.POINT:case lt.MULTI_POINT:return Qt.POINT;case lt.LINE_STRING:case lt.MULTI_LINE_STRING:return Qt.LINE_STRING;case lt.POLYGON:case lt.MULTI_POLYGON:return Qt.POLYGON;case lt.CIRCLE:return Qt.CIRCLE;default:throw new Error("Invalid type: "+n)}}var rL=JP;function nL(n){var e=n||{},t=new Ir,r=new eS(-.005,.05,100),o=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;o&&t.push(new GO);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new RO({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new DO({onFocusOnly:e.onFocusOnly,kinetic:r}));var c=e.pinchRotate!==void 0?e.pinchRotate:!0;c&&t.push(new sS);var u=e.pinchZoom!==void 0?e.pinchZoom:!0;u&&t.push(new uS({duration:e.zoomDuration}));var f=e.keyboard!==void 0?e.keyboard:!0;f&&(t.push(new $O),t.push(new QO({delta:e.zoomDelta,duration:e.zoomDuration})));var d=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;d&&t.push(new oS({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var g=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return g&&t.push(new jO({duration:e.zoomDuration})),t}var oL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iL=function(n){oL(e,n);function e(t){return t=Me({},t),t.controls||(t.controls=v0()),t.interactions||(t.interactions=nL({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new W2(this)},e}(sO),aL=iL,sL=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var r=this.entries_[e];return Kt(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(e){var t=this.entries_[e];return Kt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){Kt(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),lL=sL,cL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uL=function(n){cL(e,n);function e(t,r,o){var i=n.call(this)||this,s=o||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Rt.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==Rt.LOADED){t.interimTile=null;break}else t.getState()==Rt.LOADING?r=t:t.getState()==Rt.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Rt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){jt()},e.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var o=this.transitionStarts_[t];if(!o)o=r,this.transitionStarts_[t]=o;else if(o===-1)return 1;var i=r-o+1e3/60;return i>=this.transition_?1:n0(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ea),M0=uL,fL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hL=function(n){fL(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,c)||this;return u.crossOrigin_=i,u.src_=o,u.key=o,u.image_=new Image,i!==null&&(u.image_.crossOrigin=i),u.unlisten_=null,u.tileLoadFunction_=s,u}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=Rt.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=Rt.ERROR,this.unlistenImage_(),this.image_=dL(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Rt.LOADED:this.state=Rt.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Rt.ERROR&&(this.state=Rt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Rt.IDLE&&(this.state=Rt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ad(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(M0);function dL(){var n=Mr(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var F0=hL,pL=.5,xn=!0,gL=10,hb=.25,vL=function(){function n(e,t,r,o,i,s){this.sourceProj_=e,this.targetProj_=t;var c={},u=es(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){var P=O[0]+"/"+O[1];return c[P]||(c[P]=u(O)),c[P]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&xe(o)==xe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xe(this.targetProj_.getExtent()):null;var f=po(r),d=vs(r),g=gs(r),p=Xi(r),b=this.transformInv_(f),_=this.transformInv_(d),w=this.transformInv_(g),k=this.transformInv_(p),T=gL+(s?Math.max(0,Math.ceil(ZR(Uf(r)/(s*s*256*256)))):0);if(this.addQuad_(f,d,g,p,b,_,w,k,T),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(O,P,D){A=Math.min(A,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(function(O){if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-A>this.sourceWorldWidth_/2){var P=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];P[0][0]-A>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-A>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-A>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);var D=Math.min(P[0][0],P[1][0],P[2][0]),X=Math.max(P[0][0],P[1][0],P[2][0]);X-D<this.sourceWorldWidth_/2&&(O.source=P)}}.bind(this))}c={}}return n.prototype.addTriangle_=function(e,t,r,o,i,s){this.triangles_.push({source:[o,i,s],target:[e,t,r]})},n.prototype.addQuad_=function(e,t,r,o,i,s,c,u,f){var d=Bf([i,s,c,u]),g=this.sourceWorldWidth_?xe(d)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,b=this.sourceProj_.canWrapX()&&g>.5&&g<1,_=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var w=Bf([e,t,r,o]),k=xe(w)/this.targetWorldWidth_;_=k>hb||_}!b&&this.sourceProj_.isGlobal()&&g&&(_=g>hb||_)}if(!(!_&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!qe(d,this.maxSourceExtent_))){var T=0;if(!_&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(u[0])||!isFinite(u[1]))){if(f>0)_=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(f>0){if(!_){var A=[(e[0]+r[0])/2,(e[1]+r[1])/2],O=this.transformInv_(A),P=void 0;if(b){var D=(Ni(i[0],p)+Ni(c[0],p))/2;P=D-Ni(O[0],p)}else P=(i[0]+c[0])/2-O[0];var X=(i[1]+c[1])/2-O[1],G=P*P+X*X;_=G>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var F=[(t[0]+r[0])/2,(t[1]+r[1])/2],j=this.transformInv_(F),et=[(o[0]+e[0])/2,(o[1]+e[1])/2],at=this.transformInv_(et);this.addQuad_(e,t,F,et,i,s,j,at,f-1),this.addQuad_(et,F,r,o,at,j,c,u,f-1)}else{var ut=[(e[0]+t[0])/2,(e[1]+t[1])/2],ft=this.transformInv_(ut),bt=[(r[0]+o[0])/2,(r[1]+o[1])/2],ot=this.transformInv_(bt);this.addQuad_(e,ut,bt,o,i,ft,ot,u,f-1),this.addQuad_(ut,t,r,bt,ft,s,c,ot,f-1)}return}}if(b){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,r,o,i,c,u),(T&14)==0&&this.addTriangle_(e,r,t,i,c,s),T&&((T&13)==0&&this.addTriangle_(t,o,e,s,u,i),(T&7)==0&&this.addTriangle_(t,o,r,s,u,c))}},n.prototype.calculateSourceExtent=function(){var e=Pr();return this.triangles_.forEach(function(t,r,o){var i=t.source;Ya(e,i[0]),Ya(e,i[1]),Ya(e,i[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),bL=vL,oh={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},mL={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},df;function db(n,e,t,r,o){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,o),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,o)),n.restore()}function pf(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function _L(){if(df===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",db(n,4,5,4,0),db(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;df=pf(e,0)||pf(e,4)||pf(e,8)}return df}function pb(n,e,t,r){var o=Gh(t,e,n),i=Ov(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var c=n.getMetersPerUnit();c!==void 0&&(i/=c);var u=n.getExtent();if(!u||ps(u,o)){var f=Ov(n,i,o)/i;isFinite(f)&&f>0&&(i/=f)}return i}function yL(n,e,t,r){var o=Vi(t),i=pb(n,e,o,r);return(!isFinite(i)||i<=0)&&Lh(t,function(s){return i=pb(n,e,s,r),isFinite(i)&&i>0}),i}function xL(n,e,t,r,o,i,s,c,u,f,d,g){var p=Mr(Math.round(t*n),Math.round(t*e));if(g||Me(p,oh),u.length===0)return p.canvas;p.scale(t,t);function b(P){return Math.round(P*t)/t}p.globalCompositeOperation="lighter";var _=Pr();u.forEach(function(P,D,X){gA(_,P.extent)});var w=xe(_),k=Zr(_),T=Mr(Math.round(t*w/r),Math.round(t*k/r));g||Me(T,oh);var A=t/r;u.forEach(function(P,D,X){var G=P.extent[0]-_[0],F=-(P.extent[3]-_[3]),j=xe(P.extent),et=Zr(P.extent);P.image.width>0&&P.image.height>0&&T.drawImage(P.image,f,f,P.image.width-2*f,P.image.height-2*f,G*A,F*A,j*A,et*A)});var O=po(s);return c.getTriangles().forEach(function(P,D,X){var G=P.source,F=P.target,j=G[0][0],et=G[0][1],at=G[1][0],ut=G[1][1],ft=G[2][0],bt=G[2][1],ot=b((F[0][0]-O[0])/i),ht=b(-(F[0][1]-O[1])/i),tt=b((F[1][0]-O[0])/i),ct=b(-(F[1][1]-O[1])/i),_t=b((F[2][0]-O[0])/i),Ot=b(-(F[2][1]-O[1])/i),St=j,Z=et;j=0,et=0,at-=St,ut-=Z,ft-=St,bt-=Z;var Yt=[[at,ut,0,0,tt-ot],[ft,bt,0,0,_t-ot],[0,0,at,ut,ct-ht],[0,0,ft,bt,Ot-ht]],kt=qR(Yt);if(!!kt){if(p.save(),p.beginPath(),_L()||!g){p.moveTo(tt,ct);for(var z=4,rt=ot-tt,J=ht-ct,it=0;it<z;it++)p.lineTo(tt+b((it+1)*rt/z),ct+b(it*J/(z-1))),it!=z-1&&p.lineTo(tt+b((it+1)*rt/z),ct+b((it+1)*J/(z-1)));p.lineTo(_t,Ot)}else p.moveTo(tt,ct),p.lineTo(ot,ht),p.lineTo(_t,Ot);p.clip(),p.transform(kt[0],kt[2],kt[1],kt[3],ot,ht),p.translate(_[0]-St,_[3]-Z),p.scale(r/t,-r/t),p.drawImage(T.canvas,0,0),p.restore()}}),d&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,c.getTriangles().forEach(function(P,D,X){var G=P.target,F=(G[0][0]-O[0])/i,j=-(G[0][1]-O[1])/i,et=(G[1][0]-O[0])/i,at=-(G[1][1]-O[1])/i,ut=(G[2][0]-O[0])/i,ft=-(G[2][1]-O[1])/i;p.beginPath(),p.moveTo(et,at),p.lineTo(F,j),p.lineTo(ut,ft),p.closePath(),p.stroke()}),p.restore()),p.canvas}var wL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kL=function(n){wL(e,n);function e(t,r,o,i,s,c,u,f,d,g,p,b){var _=n.call(this,s,Rt.IDLE,{interpolate:!!b})||this;_.renderEdges_=p!==void 0?p:!1,_.pixelRatio_=u,_.gutter_=f,_.canvas_=null,_.sourceTileGrid_=r,_.targetTileGrid_=i,_.wrappedTileCoord_=c||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var w=i.getTileCoordExtent(_.wrappedTileCoord_),k=_.targetTileGrid_.getExtent(),T=_.sourceTileGrid_.getExtent(),A=k?Xa(w,k):w;if(Uf(A)===0)return _.state=Rt.EMPTY,_;var O=t.getExtent();O&&(T?T=Xa(T,O):T=O);var P=i.getResolution(_.wrappedTileCoord_[0]),D=yL(t,o,A,P);if(!isFinite(D)||D<=0)return _.state=Rt.EMPTY,_;var X=g!==void 0?g:pL;if(_.triangulation_=new bL(t,o,A,T,D*X,P),_.triangulation_.getTriangles().length===0)return _.state=Rt.EMPTY,_;_.sourceZ_=r.getZForResolution(D);var G=_.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(G[1]=Ae(G[1],T[1],T[3]),G[3]=Ae(G[3],T[1],T[3])):G=Xa(G,T)),!Uf(G))_.state=Rt.EMPTY;else{for(var F=r.getTileRangeForExtentAndZ(G,_.sourceZ_),j=F.minX;j<=F.maxX;j++)for(var et=F.minY;et<=F.maxY;et++){var at=d(_.sourceZ_,j,et,u);at&&_.sourceTiles_.push(at)}_.sourceTiles_.length===0&&(_.state=Rt.EMPTY)}return _}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(d,g,p){d&&d.getState()==Rt.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Rt.ERROR;else{var r=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(r),i=typeof o=="number"?o:o[0],s=typeof o=="number"?o:o[1],c=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=xL(i,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Rt.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Rt.IDLE){this.state=Rt.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();if(s==Rt.IDLE||s==Rt.LOADING){t++;var c=qt(r,Dt.CHANGE,function(u){var f=r.getState();(f==Rt.LOADED||f==Rt.ERROR||f==Rt.EMPTY)&&(be(c),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();s==Rt.IDLE&&r.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(be),this.sourcesListenerKeys_=null},e}(M0),D0=kL;function gb(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function Pc(n,e,t){return n+"/"+e+"/"+t}function N0(n){return Pc(n[0],n[1],n[2])}function EL(n){return n.split("/").map(Number)}function CL(n){return(n[1]<<n[0])+n[2]}function TL(n,e){var t=n[0],r=n[1],o=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(r,o):!0}var RL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AL=function(n){RL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=EL(t),o=r[0];this.forEach(function(i){i.tileCoord[0]!==o&&(this.remove(N0(i.tileCoord)),i.release())}.bind(this))}},e}(lL),z0=AL,gf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},G0=function(){function n(e,t,r,o){this.minX=e,this.maxX=t,this.minY=r,this.maxY=o}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function Ei(n,e,t,r,o){return o!==void 0?(o.minX=n,o.maxX=e,o.minY=t,o.maxY=r,o):new G0(n,e,t,r)}var B0=G0,IL=[0,0,0],$n=5,OL=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Kt(UA(this.resolutions_,function(s,c){return c-s},!0),17);var t;if(!e.origins){for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Kt(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=po(i)),Kt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Kt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Jh,Kt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,c){var u=new B0(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var f=this.getTileRangeForExtentAndZ(i,c);u.minX=Math.max(f.minX,u.minX),u.maxX=Math.min(f.maxX,u.maxX),u.minY=Math.max(f.minY,u.minY),u.maxY=Math.min(f.maxY,u.maxY)}return u},this):i&&this.calculateTileRanges_(i)}return n.prototype.forEachTileCoord=function(e,t,r){for(var o=this.getTileRangeForExtentAndZ(e,t),i=o.minX,s=o.maxX;i<=s;++i)for(var c=o.minY,u=o.maxY;c<=u;++c)r([t,i,c])},n.prototype.forEachTileCoordParentTileRange=function(e,t,r,o){var i,s,c,u=null,f=e[0]-1;for(this.zoomFactor_===2?(s=e[1],c=e[2]):u=this.getTileCoordExtent(e,o);f>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),c=Math.floor(c/2),i=Ei(s,s,c,c,r)):i=this.getTileRangeForExtentAndZ(u,f,r),t(f,i))return!0;--f}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var o=e[1]*2,i=e[2]*2;return Ei(o,o+1,i,i+1,t)}var s=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var o=e[0],i=e[1],s=e[2];if(t===o)return Ei(i,s,i,s,r);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,t-o),u=Math.floor(i*c),f=Math.floor(s*c);if(t<o)return Ei(u,u,f,f,r);var d=Math.floor(c*(i+1))-1,g=Math.floor(c*(s+1))-1;return Ei(u,d,f,g,r)}var p=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,t,r)},n.prototype.getTileRangeExtent=function(e,t,r){var o=this.getOrigin(e),i=this.getResolution(e),s=Xr(this.getTileSize(e),this.tmpSize_),c=o[0]+t.minX*s[0]*i,u=o[0]+(t.maxX+1)*s[0]*i,f=o[1]+t.minY*s[1]*i,d=o[1]+(t.maxY+1)*s[1]*i;return Kr(c,f,u,d,r)},n.prototype.getTileRangeForExtentAndZ=function(e,t,r){var o=IL;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,o);var i=o[1],s=o[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,o),Ei(i,o[1],s,o[2],r)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Xr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*r,t[1]-(e[2]+.5)*o[1]*r]},n.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),o=this.getResolution(e[0]),i=Xr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*i[0]*o,c=r[1]-(e[2]+1)*i[1]*o,u=s+i[0]*o,f=c+i[1]*o;return Kr(s,c,u,f,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,r,o,i){var s=this.getZForResolution(r),c=r/this.getResolution(s),u=this.getOrigin(s),f=Xr(this.getTileSize(s),this.tmpSize_),d=c*(e-u[0])/r/f[0],g=c*(u[1]-t)/r/f[1];return o?(d=kl(d,$n)-1,g=kl(g,$n)-1):(d=wl(d,$n),g=wl(g,$n)),gb(s,d,g,i)},n.prototype.getTileCoordForXYAndZ_=function(e,t,r,o,i){var s=this.getOrigin(r),c=this.getResolution(r),u=Xr(this.getTileSize(r),this.tmpSize_),f=(e-s[0])/c/u[0],d=(s[1]-t)/c/u[1];return o?(f=kl(f,$n)-1,d=kl(d,$n)-1):(f=wl(f,$n),d=wl(d,$n)),gb(r,f,d,i)},n.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var r=Wh(this.resolutions_,e,t||0);return Ae(r,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),o=this.minZoom;o<t;++o)r[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=r},n}(),W0=OL;function U0(n){var e=n.getDefaultTileGrid();return e||(e=ML(n),n.setDefaultTileGrid(e)),e}function SL(n,e,t){var r=e[0],o=n.getTileCoordCenter(e),i=sd(t);if(ps(i,o))return e;var s=xe(i),c=Math.ceil((i[0]-o[0])/s);return o[0]+=s*c,n.getTileCoordForCoordAndZ(o,r)}function PL(n,e,t,r){var o=r!==void 0?r:Pa.TOP_LEFT,i=Y0(n,e,t);return new W0({extent:n,origin:bA(n,o),resolutions:i,tileSize:t})}function LL(n){var e=n||{},t=e.extent||ir("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Y0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new W0(r)}function Y0(n,e,t,r){for(var o=e!==void 0?e:t2,i=Zr(n),s=xe(n),c=Xr(t!==void 0?t:Jh),u=r>0?r:Math.max(s/c[0],i/c[1]),f=o+1,d=new Array(f),g=0;g<f;++g)d[g]=u/Math.pow(2,g);return d}function ML(n,e,t,r){var o=sd(n);return PL(o,e,t,r)}function sd(n){n=ir(n);var e=n.getExtent();if(!e){var t=180*Sr[gr.DEGREES]/n.getMetersPerUnit();e=Kr(-t,-t,t,t)}return e}var X0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FL=function(n){X0(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var o=[256,256];return r.tileGrid&&Xr(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),o),r.tileCache=new z0(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,r){var o=this.getTileCacheForProjection(t);o&&o.expireCache(r)},e.prototype.forEachLoadedTile=function(t,r,o,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var c=!0,u,f,d,g=o.minX;g<=o.maxX;++g)for(var p=o.minY;p<=o.maxY;++p)f=Pc(r,g,p),d=!1,s.containsKey(f)&&(u=s.get(f),d=u.getState()===Rt.LOADED,d&&(d=i(u)!==!1)),d||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,r,o,i,s){return jt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:U0(t)},e.prototype.getTileCacheForProjection=function(t){return Kt(Ii(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,r,o){var i=this.getTileGridForProjection(o),s=this.getTilePixelRatio(r),c=Xr(i.getTileSize(t),this.tmpSize);return s==1?c:nO(c,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,r){var o=r!==void 0?r:this.getProjection(),i=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(t=SL(i,t,o)),TL(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,r){var o=this.getTileCacheForProjection(r);t>o.highWaterMark&&(o.highWaterMark=t)},e.prototype.useTile=function(t,r,o,i){},e}(S0),DL=function(n){X0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.tile=r,o}return e}(ln),NL=FL;function zL(n,e){var t=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(s,c,u){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(o,s[2].toString()).replace(i,function(){var f=s[0],d=e.getFullTileRange(f);Kt(d,55);var g=d.getHeight()-s[2]-1;return g.toString()})}}function GL(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;++o)r[o]=zL(n[o],e);return BL(r)}function BL(n){return n.length===1?n[0]:function(e,t,r){if(e){var o=CL(e),i=Ni(o,n.length);return n[i](e,t,r)}else return}}function WL(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),o=t[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(n.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),c=parseInt(t[1],10);c<=s;c++)e.push(n.replace(t[0],c.toString()));return e}return e.push(n),e}var UL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YL=function(n){UL(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var r=t.target,o=ne(r),i=r.getState(),s;i==Rt.LOADING?(this.tileLoadingKeys_[o]=!0,s=gf.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],s=i==Rt.ERROR?gf.TILELOADERROR:i==Rt.LOADED?gf.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new DL(s,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r!="undefined"?this.setKey(r):this.changed()},e.prototype.setUrl=function(t){var r=WL(t);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(GL(t,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(t,r,o){},e.prototype.useTile=function(t,r,o){var i=Pc(t,r,o);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(NL),XL=YL,VL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HL=function(n){VL(e,n);function e(t){var r=this,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(o=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:jL,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:o,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:F0,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return e.prototype.canExpireCache=function(){if(!xn)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,r){if(!xn){n.prototype.expireCache.call(this,t,r);return}var o=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==o?r:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==o?r:{})}},e.prototype.getGutterForProjection=function(t){return xn&&this.getProjection()&&t&&!Ii(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return xn&&this.getProjection()&&t&&!Ii(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!xn)return n.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(this.tileGrid&&(!r||Ii(r,t)))return this.tileGrid;var o=ne(t);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=U0(t)),this.tileGridForProjection[o]},e.prototype.getTileCacheForProjection=function(t){if(!xn)return n.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||Ii(r,t))return this.tileCache;var o=ne(t);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new z0(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,r,o,i,s,c){var u=[t,r,o],f=this.getTileCoordForTileUrlFunction(u,s),d=f?this.tileUrlFunction(f,i,s):void 0,g=new this.tileClass(u,d!==void 0?Rt.IDLE:Rt.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return g.key=c,g.addEventListener(Dt.CHANGE,this.handleTileChange.bind(this)),g},e.prototype.getTile=function(t,r,o,i,s){var c=this.getProjection();if(!xn||!c||!s||Ii(c,s))return this.getTileInternal(t,r,o,i,c||s);var u=this.getTileCacheForProjection(s),f=[t,r,o],d=void 0,g=N0(f);u.containsKey(g)&&(d=u.get(g));var p=this.getKey();if(d&&d.key==p)return d;var b=this.getTileGridForProjection(c),_=this.getTileGridForProjection(s),w=this.getTileCoordForTileUrlFunction(f,s),k=new D0(c,b,s,_,f,w,this.getTilePixelRatio(i),this.getGutter(),function(T,A,O,P){return this.getTileInternal(T,A,O,P,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=p,d?(k.interimTile=d,k.refreshInterimChain(),u.replace(g,k)):u.set(g,k),k},e.prototype.getTileInternal=function(t,r,o,i,s){var c=null,u=Pc(t,r,o),f=this.getKey();if(!this.tileCache.containsKey(u))c=this.createTile_(t,r,o,i,s,f),this.tileCache.set(u,c);else if(c=this.tileCache.get(u),c.key!=f){var d=c;c=this.createTile_(t,r,o,i,s,f),d.getState()==Rt.IDLE?c.interimTile=d.interimTile:c.interimTile=d,c.refreshInterimChain(),this.tileCache.replace(u,c)}return c},e.prototype.setRenderReprojectionEdges=function(t){if(!(!xn||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,r){if(xn){var o=ir(t);if(o){var i=ne(o);i in this.tileGridForProjection||(this.tileGridForProjection[i]=r)}}},e}(XL);function jL(n,e){n.getImage().src=e}var KL=HL,ZL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$L=function(n){ZL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i=r.projection!==void 0?r.projection:"EPSG:3857",s=r.tileGrid!==void 0?r.tileGrid:LL({extent:sd(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX!==void 0?r.wrapX:!0,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return e}(KL),qL=$L,JL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QL='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',t3=function(n){JL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i;r.attributions!==void 0?i=r.attributions:i=[QL];var s=r.crossOrigin!==void 0?r.crossOrigin:"anonymous",c=r.url!==void 0?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:s,interpolate:o,maxZoom:r.maxZoom!==void 0?r.maxZoom:19,opaque:r.opaque!==void 0?r.opaque:!0,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:c,wrapX:r.wrapX,zDirection:r.zDirection})||this}return e}(qL),e3=t3,Ml={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},r3=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),n3=function(n){r3(e,n);function e(t){var r=this,o=t||{},i=Me({},o);return delete i.preload,delete i.useInterimTilesOnError,r=n.call(this,i)||this,r.on,r.once,r.un,r.setPreload(o.preload!==void 0?o.preload:0),r.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),r}return e.prototype.getPreload=function(){return this.get(Ml.PRELOAD)},e.prototype.setPreload=function(t){this.set(Ml.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Ml.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Ml.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Ac),o3=n3,i3=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a3=function(n){i3(e,n);function e(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Pr(),r.tmpTileRange_=new B0(0,0,0,0),r}return e.prototype.isDrawableTile=function(t){var r=this.getLayer(),o=t.getState(),i=r.getUseInterimTilesOnError();return o==Rt.LOADED||o==Rt.EMPTY||o==Rt.ERROR&&!i},e.prototype.getTile=function(t,r,o,i){var s=i.pixelRatio,c=i.viewState.projection,u=this.getLayer(),f=u.getSource(),d=f.getTile(t,r,o,s,c);return d.getState()==Rt.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):d.setState(Rt.LOADED)),this.isDrawableTile(d)||(d=d.getInterimTile()),d},e.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var o=this.getLayer(),i=Re(r.pixelToCoordinateTransform,t.slice()),s=o.getExtent();if(s&&!ps(s,i))return null;for(var c=r.pixelRatio,u=r.viewState.projection,f=r.viewState,d=o.getRenderSource(),g=d.getTileGridForProjection(f.projection),p=d.getTilePixelRatio(r.pixelRatio),b=g.getZForResolution(f.resolution);b>=g.getMinZoom();--b){var _=g.getTileCoordForCoordAndZ(i,b),w=d.getTile(b,_[1],_[2],c,u);if(!(w instanceof F0||w instanceof D0))return null;if(w.getState()===Rt.LOADED){var k=g.getOrigin(b),T=Xr(g.getTileSize(b)),A=g.getResolution(b),O=Math.floor(p*((i[0]-k[0])/A-_[1]*T[0])),P=Math.floor(p*((k[1]-i[1])/A-_[2]*T[1]));return this.getImageData(w.getImage(),O,P)}}return null},e.prototype.loadedTileCallback=function(t,r,o){return this.isDrawableTile(o)?n.prototype.loadedTileCallback.call(this,t,r,o):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,r){var o=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,c=i.resolution,u=i.center,f=i.rotation,d=t.pixelRatio,g=this.getLayer(),p=g.getSource(),b=p.getRevision(),_=p.getTileGridForProjection(s),w=_.getZForResolution(c,p.zDirection),k=_.getResolution(w),T=t.extent,A=o.extent&&Bo(o.extent,s);A&&(T=Xa(T,Bo(o.extent,s)));var O=p.getTilePixelRatio(d),P=Math.round(t.size[0]*O),D=Math.round(t.size[1]*O);if(f){var X=Math.round(Math.sqrt(P*P+D*D));P=X,D=X}var G=k*P/2/O,F=k*D/2/O,j=[u[0]-G,u[1]-F,u[0]+G,u[1]+F],et=_.getTileRangeForExtentAndZ(T,w),at={};at[w]={};var ut=this.createLoadedTileFinder(p,s,at),ft=this.tmpExtent,bt=this.tmpTileRange_;this.newTiles_=!1;for(var ot=et.minX;ot<=et.maxX;++ot)for(var ht=et.minY;ht<=et.maxY;++ht){var tt=this.getTile(w,ot,ht,t);if(this.isDrawableTile(tt)){var ct=ne(this);if(tt.getState()==Rt.LOADED){at[w][tt.tileCoord.toString()]=tt;var _t=tt.inTransition(ct);!this.newTiles_&&(_t||this.renderedTiles.indexOf(tt)===-1)&&(this.newTiles_=!0)}if(tt.getAlpha(ct,t.time)===1)continue}var Ot=_.getTileCoordChildTileRange(tt.tileCoord,bt,ft),St=!1;Ot&&(St=ut(w+1,Ot)),St||_.forEachTileCoordParentTileRange(tt.tileCoord,ut,bt,ft)}var Z=k/c;Pn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/O,1/O,f,-P/2,-D/2);var Yt=Bm(this.pixelTransform);this.useContainer(r,Yt,o.opacity,this.getBackground(t));var kt=this.context,z=kt.canvas;Uh(this.inversePixelTransform,this.pixelTransform),Pn(this.tempTransform,P/2,D/2,Z,Z,0,-P/2,-D/2),z.width!=P||z.height!=D?(z.width=P,z.height=D):this.containerReused||kt.clearRect(0,0,P,D),A&&this.clipUnrotated(kt,t,A),p.getInterpolate()||Me(kt,oh),this.preRender(kt,t),this.renderedTiles.length=0;var rt=Object.keys(at).map(Number);rt.sort(Jo);var J,it,It;o.opacity===1&&(!this.containerReused||p.getOpaque(t.viewState.projection))?rt=rt.reverse():(J=[],it=[]);for(var Zt=rt.length-1;Zt>=0;--Zt){var yt=rt[Zt],Et=p.getTilePixelSize(yt,d,s),E=_.getResolution(yt),I=E/k,M=Et[0]*I*Z,V=Et[1]*I*Z,W=_.getTileCoordForCoordAndZ(po(j),yt),Q=_.getTileCoordExtent(W),nt=Re(this.tempTransform,[O*(Q[0]-j[0])/k,O*(j[3]-Q[3])/k]),$=O*p.getGutterForProjection(s),q=at[yt];for(var H in q){var tt=q[H],pt=tt.tileCoord,dt=W[1]-pt[1],vt=Math.round(nt[0]-(dt-1)*M),xt=W[2]-pt[2],Pt=Math.round(nt[1]-(xt-1)*V),ot=Math.round(nt[0]-dt*M),ht=Math.round(nt[1]-xt*V),Lt=vt-ot,Nt=Pt-ht,Xt=w===yt,_t=Xt&&tt.getAlpha(ne(this),t.time)!==1,we=!1;if(!_t)if(J){It=[ot,ht,ot+Lt,ht,ot+Lt,ht+Nt,ot,ht+Nt];for(var de=0,Fr=J.length;de<Fr;++de)if(w!==yt&&yt<it[de]){var se=J[de];qe([ot,ht,ot+Lt,ht+Nt],[se[0],se[3],se[4],se[7]])&&(we||(kt.save(),we=!0),kt.beginPath(),kt.moveTo(It[0],It[1]),kt.lineTo(It[2],It[3]),kt.lineTo(It[4],It[5]),kt.lineTo(It[6],It[7]),kt.moveTo(se[6],se[7]),kt.lineTo(se[4],se[5]),kt.lineTo(se[2],se[3]),kt.lineTo(se[0],se[1]),kt.clip())}J.push(It),it.push(yt)}else kt.clearRect(ot,ht,Lt,Nt);this.drawTileImage(tt,t,ot,ht,Lt,Nt,$,Xt),J&&!_t?(we&&kt.restore(),this.renderedTiles.unshift(tt)):this.renderedTiles.push(tt),this.updateUsedTiles(t.usedTiles,p,tt)}}this.renderedRevision=b,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!ts(this.renderedExtent_,j),this.renderedExtent_=j,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(t,p,_,d,s,T,w,g.getPreload()),this.scheduleExpireCache(t,p),this.postRender(kt,t),o.extent&&kt.restore(),Me(kt,mL),Yt!==z.style.transform&&(z.style.transform=Yt);var ar=c0(o.opacity),pe=this.container;return ar!==pe.style.opacity&&(pe.style.opacity=ar),this.container},e.prototype.drawTileImage=function(t,r,o,i,s,c,u,f){var d=this.getTileImage(t);if(!!d){var g=ne(this),p=f?t.getAlpha(g,r.time):1,b=p!==this.context.globalAlpha;b&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,u,u,d.width-2*u,d.height-2*u,o,i,s,c),b&&this.context.restore(),p!==1?r.animate=!0:f&&t.endTransition(g)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var o=function(i,s,c){var u=ne(i);u in c.usedTiles&&i.expireCache(c.viewState.projection,c.usedTiles[u])}.bind(null,r);t.postRenderFunctions.push(o)}},e.prototype.updateUsedTiles=function(t,r,o){var i=ne(r);i in t||(t[i]={}),t[i][o.getKey()]=!0},e.prototype.manageTilePyramid=function(t,r,o,i,s,c,u,f,d){var g=ne(r);g in t.wantedTiles||(t.wantedTiles[g]={});var p=t.wantedTiles[g],b=t.tileQueue,_=o.getMinZoom(),w=0,k,T,A,O,P,D;for(D=_;D<=u;++D)for(T=o.getTileRangeForExtentAndZ(c,D,T),A=o.getResolution(D),O=T.minX;O<=T.maxX;++O)for(P=T.minY;P<=T.maxY;++P)u-D<=f?(++w,k=r.getTile(D,O,P,i,s),k.getState()==Rt.IDLE&&(p[k.getKey()]=!0,b.isKeyQueued(k.getKey())||b.enqueue([k,g,o.getTileCoordCenter(k.tileCoord),A])),d!==void 0&&d(k)):r.useTile(D,O,P,s);r.updateCacheSize(w,s)},e}(A0),s3=a3,l3=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c3=function(n){l3(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new s3(this)},e}(o3),u3=c3;const f3={class:"field is-grouped"},h3={class:"control"},d3=Le("label",{class:"label"},"Band width ",-1),p3={class:"control"},g3=Le("label",{class:"label"},"Point leap",-1),v3=Le("div",{id:"mouse-position"},null,-1),b3=Le("div",null,[Le("div",{id:"mapViewport",class:"mapViewport map-viewport"})],-1),m3=fs({__name:"MapLayer",setup(n){const e=HR();Vo(()=>e.bandWidth,d),Vo(()=>e.pointLeap,d),fc("mapViewport"),FA();const t=new u3({source:new e3}),r=new nh({wrapX:!1}),o=new rh({source:r}),i=new nh({wrapX:!1}),s=new rh({source:i,style:[new PS({stroke:new Va({color:"orangered",width:2}),fill:new ic({color:"orangered"})})]}),c=new xO({coordinateFormat:kA(6),projection:"EPSG:3857"});let u;xh(()=>{u=new aL({layers:[t,o,s],controls:v0().extend([c]),target:"mapViewport",view:new no({center:[23.1319788,37.4283254],zoom:17})})});function f(){r.clear(),i.clear();const g=new rL({source:r,type:"Circle",geometryFunction:tL()});u.addInteraction(g),g.on("drawend",function(p){u.removeInteraction(g);const b=p.feature.getGeometry().getCoordinates()[0];b.pop();const _=new QI(b.map(w=>[...w]));e.perimeter=_,d()})}function d(){if(i.clear(),!(e.bandWidth&&e.pointLeap&&e.perimeter))return;const g=jI(e.perimeter,e.bandWidth,e.pointLeap);e.trajectory=g;const p=new $o(g),b=new zo(p);i.addFeature(b),g.forEach(_=>i.addFeature(new zo(new Xm(_,2e-6))))}return(g,p)=>(Ch(),Th(Ar,null,[Le("div",null,[Le("div",f3,[Le("div",{class:"control"},[Le("button",{class:"button is-primary",onClick:f},"Draw perimeter")]),Le("div",h3,[d3,Vg(Le("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>on(e).bandWidth=b),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[cv,on(e).bandWidth]])]),Le("div",p3,[g3,Vg(Le("input",{"onUpdate:modelValue":p[1]||(p[1]=b=>on(e).pointLeap=b),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[cv,on(e).pointLeap]])])]),v3]),b3],64))}}),_3=fs({__name:"HomeView",setup(n){return(e,t)=>(Ch(),Th("main",null,[pr(m3)]))}}),y3=WR({history:oR("/lawnmower/"),routes:[{path:"/",name:"home",component:_3}]});const ld=ST(VR);ld.use(MT());ld.use(y3);ld.mount("#app");
