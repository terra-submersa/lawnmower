var eE=Object.defineProperty;var rE=(n,e,t)=>e in n?eE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var dl=(n,e,t)=>(rE(n,typeof e!="symbol"?e+"":e,t),t);const nE=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};nE();function nh(n,e){const t=Object.create(null),r=n.split(",");for(let o=0;o<r.length;o++)t[r[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const oE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iE=nh(oE);function db(n){return!!n||n===""}function oh(n){if(zt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Ve(r)?lE(r):oh(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(Ve(n))return n;if(He(n))return n}}const aE=/;(?![^(]*\))/g,sE=/:(.+)/;function lE(n){const e={};return n.split(aE).forEach(t=>{if(t){const r=t.split(sE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ih(n){let e="";if(Ve(n))e=n;else if(zt(n))for(let t=0;t<n.length;t++){const r=ih(n[t]);r&&(e+=r+" ")}else if(He(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const ue={},Di=[],Kr=()=>{},cE=()=>!1,uE=/^on[^a-z]/,oc=n=>uE.test(n),ah=n=>n.startsWith("onUpdate:"),Xe=Object.assign,sh=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},fE=Object.prototype.hasOwnProperty,qt=(n,e)=>fE.call(n,e),zt=Array.isArray,Fa=n=>ic(n)==="[object Map]",hE=n=>ic(n)==="[object Set]",Ut=n=>typeof n=="function",Ve=n=>typeof n=="string",lh=n=>typeof n=="symbol",He=n=>n!==null&&typeof n=="object",pb=n=>He(n)&&Ut(n.then)&&Ut(n.catch),dE=Object.prototype.toString,ic=n=>dE.call(n),pE=n=>ic(n).slice(8,-1),gE=n=>ic(n)==="[object Object]",ch=n=>Ve(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Pl=nh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ac=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},vE=/-(\w)/g,Gi=ac(n=>n.replace(vE,(e,t)=>t?t.toUpperCase():"")),bE=/\B([A-Z])/g,ji=ac(n=>n.replace(bE,"-$1").toLowerCase()),gb=ac(n=>n.charAt(0).toUpperCase()+n.slice(1)),Yu=ac(n=>n?`on${gb(n)}`:""),Va=(n,e)=>!Object.is(n,e),Ll=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},Gl=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},df=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Pg;const mE=()=>Pg||(Pg=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class vb{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(e){if(this.active){const t=en;try{return en=this,e()}finally{en=t}}}on(){en=this}off(){en=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function bb(n){return new vb(n)}function _E(n,e=en){e&&e.active&&e.effects.push(n)}const uh=n=>{const e=new Set(n);return e.w=0,e.n=0,e},mb=n=>(n.w&uo)>0,_b=n=>(n.n&uo)>0,yE=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=uo},xE=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const o=e[r];mb(o)&&!_b(o)?o.delete(n):e[t++]=o,o.w&=~uo,o.n&=~uo}e.length=t}},pf=new WeakMap;let Ia=0,uo=1;const gf=30;let Ur;const Xo=Symbol(""),vf=Symbol("");class fh{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,_E(this,r)}run(){if(!this.active)return this.fn();let e=Ur,t=ao;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ur,Ur=this,ao=!0,uo=1<<++Ia,Ia<=gf?yE(this):Lg(this),this.fn()}finally{Ia<=gf&&xE(this),uo=1<<--Ia,Ur=this.parent,ao=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ur===this?this.deferStop=!0:this.active&&(Lg(this),this.onStop&&this.onStop(),this.active=!1)}}function Lg(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let ao=!0;const yb=[];function Zi(){yb.push(ao),ao=!1}function $i(){const n=yb.pop();ao=n===void 0?!0:n}function gr(n,e,t){if(ao&&Ur){let r=pf.get(n);r||pf.set(n,r=new Map);let o=r.get(t);o||r.set(t,o=uh()),xb(o)}}function xb(n,e){let t=!1;Ia<=gf?_b(n)||(n.n|=uo,t=!mb(n)):t=!n.has(Ur),t&&(n.add(Ur),Ur.deps.push(n))}function Sn(n,e,t,r,o,i){const s=pf.get(n);if(!s)return;let c=[];if(e==="clear")c=[...s.values()];else if(t==="length"&&zt(n))s.forEach((u,f)=>{(f==="length"||f>=r)&&c.push(u)});else switch(t!==void 0&&c.push(s.get(t)),e){case"add":zt(n)?ch(t)&&c.push(s.get("length")):(c.push(s.get(Xo)),Fa(n)&&c.push(s.get(vf)));break;case"delete":zt(n)||(c.push(s.get(Xo)),Fa(n)&&c.push(s.get(vf)));break;case"set":Fa(n)&&c.push(s.get(Xo));break}if(c.length===1)c[0]&&bf(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);bf(uh(u))}}function bf(n,e){const t=zt(n)?n:[...n];for(const r of t)r.computed&&Mg(r);for(const r of t)r.computed||Mg(r)}function Mg(n,e){(n!==Ur||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const wE=nh("__proto__,__v_isRef,__isVue"),wb=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(lh)),kE=hh(),EE=hh(!1,!0),CE=hh(!0),Fg=TE();function TE(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=ee(this);for(let i=0,s=this.length;i<s;i++)gr(r,"get",i+"");const o=r[e](...t);return o===-1||o===!1?r[e](...t.map(ee)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Zi();const r=ee(this)[e].apply(this,t);return $i(),r}}),n}function hh(n=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(n?e?UE:Rb:e?Tb:Cb).get(r))return r;const s=zt(r);if(!n&&s&&qt(Fg,o))return Reflect.get(Fg,o,i);const c=Reflect.get(r,o,i);return(lh(o)?wb.has(o):wE(o))||(n||gr(r,"get",o),e)?c:Ce(c)?s&&ch(o)?c:c.value:He(c)?n?Ab(c):qi(c):c}}const RE=kb(),AE=kb(!0);function kb(n=!1){return function(t,r,o,i){let s=t[r];if(Ha(s)&&Ce(s)&&!Ce(o))return!1;if(!n&&!Ha(o)&&(mf(o)||(o=ee(o),s=ee(s)),!zt(t)&&Ce(s)&&!Ce(o)))return s.value=o,!0;const c=zt(t)&&ch(r)?Number(r)<t.length:qt(t,r),u=Reflect.set(t,r,o,i);return t===ee(i)&&(c?Va(o,s)&&Sn(t,"set",r,o):Sn(t,"add",r,o)),u}}function IE(n,e){const t=qt(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&Sn(n,"delete",e,void 0),r}function OE(n,e){const t=Reflect.has(n,e);return(!lh(e)||!wb.has(e))&&gr(n,"has",e),t}function SE(n){return gr(n,"iterate",zt(n)?"length":Xo),Reflect.ownKeys(n)}const Eb={get:kE,set:RE,deleteProperty:IE,has:OE,ownKeys:SE},PE={get:CE,set(n,e){return!0},deleteProperty(n,e){return!0}},LE=Xe({},Eb,{get:EE,set:AE}),dh=n=>n,sc=n=>Reflect.getPrototypeOf(n);function pl(n,e,t=!1,r=!1){n=n.__v_raw;const o=ee(n),i=ee(e);t||(e!==i&&gr(o,"get",e),gr(o,"get",i));const{has:s}=sc(o),c=r?dh:t?vh:Ka;if(s.call(o,e))return c(n.get(e));if(s.call(o,i))return c(n.get(i));n!==o&&n.get(e)}function gl(n,e=!1){const t=this.__v_raw,r=ee(t),o=ee(n);return e||(n!==o&&gr(r,"has",n),gr(r,"has",o)),n===o?t.has(n):t.has(n)||t.has(o)}function vl(n,e=!1){return n=n.__v_raw,!e&&gr(ee(n),"iterate",Xo),Reflect.get(n,"size",n)}function Dg(n){n=ee(n);const e=ee(this);return sc(e).has.call(e,n)||(e.add(n),Sn(e,"add",n,n)),this}function Ng(n,e){e=ee(e);const t=ee(this),{has:r,get:o}=sc(t);let i=r.call(t,n);i||(n=ee(n),i=r.call(t,n));const s=o.call(t,n);return t.set(n,e),i?Va(e,s)&&Sn(t,"set",n,e):Sn(t,"add",n,e),this}function zg(n){const e=ee(this),{has:t,get:r}=sc(e);let o=t.call(e,n);o||(n=ee(n),o=t.call(e,n)),r&&r.call(e,n);const i=e.delete(n);return o&&Sn(e,"delete",n,void 0),i}function Gg(){const n=ee(this),e=n.size!==0,t=n.clear();return e&&Sn(n,"clear",void 0,void 0),t}function bl(n,e){return function(r,o){const i=this,s=i.__v_raw,c=ee(s),u=e?dh:n?vh:Ka;return!n&&gr(c,"iterate",Xo),s.forEach((f,d)=>r.call(o,u(f),u(d),i))}}function ml(n,e,t){return function(...r){const o=this.__v_raw,i=ee(o),s=Fa(i),c=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,f=o[n](...r),d=t?dh:e?vh:Ka;return!e&&gr(i,"iterate",u?vf:Xo),{next(){const{value:g,done:p}=f.next();return p?{value:g,done:p}:{value:c?[d(g[0]),d(g[1])]:d(g),done:p}},[Symbol.iterator](){return this}}}}function Xn(n){return function(...e){return n==="delete"?!1:this}}function ME(){const n={get(i){return pl(this,i)},get size(){return vl(this)},has:gl,add:Dg,set:Ng,delete:zg,clear:Gg,forEach:bl(!1,!1)},e={get(i){return pl(this,i,!1,!0)},get size(){return vl(this)},has:gl,add:Dg,set:Ng,delete:zg,clear:Gg,forEach:bl(!1,!0)},t={get(i){return pl(this,i,!0)},get size(){return vl(this,!0)},has(i){return gl.call(this,i,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:bl(!0,!1)},r={get(i){return pl(this,i,!0,!0)},get size(){return vl(this,!0)},has(i){return gl.call(this,i,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:bl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=ml(i,!1,!1),t[i]=ml(i,!0,!1),e[i]=ml(i,!1,!0),r[i]=ml(i,!0,!0)}),[n,t,e,r]}const[FE,DE,NE,zE]=ME();function ph(n,e){const t=e?n?zE:NE:n?DE:FE;return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(qt(t,o)&&o in r?t:r,o,i)}const GE={get:ph(!1,!1)},BE={get:ph(!1,!0)},WE={get:ph(!0,!1)},Cb=new WeakMap,Tb=new WeakMap,Rb=new WeakMap,UE=new WeakMap;function YE(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function XE(n){return n.__v_skip||!Object.isExtensible(n)?0:YE(pE(n))}function qi(n){return Ha(n)?n:gh(n,!1,Eb,GE,Cb)}function VE(n){return gh(n,!1,LE,BE,Tb)}function Ab(n){return gh(n,!0,PE,WE,Rb)}function gh(n,e,t,r,o){if(!He(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const s=XE(n);if(s===0)return n;const c=new Proxy(n,s===2?r:t);return o.set(n,c),c}function so(n){return Ha(n)?so(n.__v_raw):!!(n&&n.__v_isReactive)}function Ha(n){return!!(n&&n.__v_isReadonly)}function mf(n){return!!(n&&n.__v_isShallow)}function Ib(n){return so(n)||Ha(n)}function ee(n){const e=n&&n.__v_raw;return e?ee(e):n}function Bi(n){return Gl(n,"__v_skip",!0),n}const Ka=n=>He(n)?qi(n):n,vh=n=>He(n)?Ab(n):n;function Ob(n){ao&&Ur&&(n=ee(n),xb(n.dep||(n.dep=uh())))}function Sb(n,e){n=ee(n),n.dep&&bf(n.dep)}function Ce(n){return!!(n&&n.__v_isRef===!0)}function lc(n){return Pb(n,!1)}function HE(n){return Pb(n,!0)}function Pb(n,e){return Ce(n)?n:new KE(n,e)}class KE{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ee(e),this._value=t?e:Ka(e)}get value(){return Ob(this),this._value}set value(e){e=this.__v_isShallow?e:ee(e),Va(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ka(e),Sb(this))}}function on(n){return Ce(n)?n.value:n}const jE={get:(n,e,t)=>on(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return Ce(o)&&!Ce(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function Lb(n){return so(n)?n:new Proxy(n,jE)}function ZE(n){const e=zt(n)?new Array(n.length):{};for(const t in n)e[t]=qE(n,t);return e}class $E{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function qE(n,e,t){const r=n[e];return Ce(r)?r:new $E(n,e,t)}class JE{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new fh(e,()=>{this._dirty||(this._dirty=!0,Sb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=ee(this);return Ob(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function QE(n,e,t=!1){let r,o;const i=Ut(n);return i?(r=n,o=Kr):(r=n.get,o=n.set),new JE(r,o,i||!o,t)}function lo(n,e,t,r){let o;try{o=r?n(...r):n()}catch(i){cc(i,e,t)}return o}function Or(n,e,t,r){if(Ut(n)){const i=lo(n,e,t,r);return i&&pb(i)&&i.catch(s=>{cc(s,e,t)}),i}const o=[];for(let i=0;i<n.length;i++)o.push(Or(n[i],e,t,r));return o}function cc(n,e,t,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,c=t;for(;i;){const f=i.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](n,s,c)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){lo(u,null,10,[n,s,c]);return}}tC(n,t,o,r)}function tC(n,e,t,r=!0){console.error(n)}let Bl=!1,_f=!1;const hr=[];let Tn=0;const Da=[];let Oa=null,Ci=0;const Na=[];let qn=null,Ti=0;const Mb=Promise.resolve();let bh=null,yf=null;function mh(n){const e=bh||Mb;return n?e.then(this?n.bind(this):n):e}function eC(n){let e=Tn+1,t=hr.length;for(;e<t;){const r=e+t>>>1;ja(hr[r])<n?e=r+1:t=r}return e}function Fb(n){(!hr.length||!hr.includes(n,Bl&&n.allowRecurse?Tn+1:Tn))&&n!==yf&&(n.id==null?hr.push(n):hr.splice(eC(n.id),0,n),Db())}function Db(){!Bl&&!_f&&(_f=!0,bh=Mb.then(Gb))}function rC(n){const e=hr.indexOf(n);e>Tn&&hr.splice(e,1)}function Nb(n,e,t,r){zt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?r+1:r))&&t.push(n),Db()}function nC(n){Nb(n,Oa,Da,Ci)}function oC(n){Nb(n,qn,Na,Ti)}function uc(n,e=null){if(Da.length){for(yf=e,Oa=[...new Set(Da)],Da.length=0,Ci=0;Ci<Oa.length;Ci++)Oa[Ci]();Oa=null,Ci=0,yf=null,uc(n,e)}}function zb(n){if(uc(),Na.length){const e=[...new Set(Na)];if(Na.length=0,qn){qn.push(...e);return}for(qn=e,qn.sort((t,r)=>ja(t)-ja(r)),Ti=0;Ti<qn.length;Ti++)qn[Ti]();qn=null,Ti=0}}const ja=n=>n.id==null?1/0:n.id;function Gb(n){_f=!1,Bl=!0,uc(n),hr.sort((t,r)=>ja(t)-ja(r));const e=Kr;try{for(Tn=0;Tn<hr.length;Tn++){const t=hr[Tn];t&&t.active!==!1&&lo(t,null,14)}}finally{Tn=0,hr.length=0,zb(),Bl=!1,bh=null,(hr.length||Da.length||Na.length)&&Gb(n)}}function iC(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ue;let o=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:p}=r[d]||ue;p&&(o=t.map(b=>b.trim())),g&&(o=t.map(df))}let c,u=r[c=Yu(e)]||r[c=Yu(Gi(e))];!u&&i&&(u=r[c=Yu(ji(e))]),u&&Or(u,n,6,o);const f=r[c+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,Or(f,n,6,o)}}function Bb(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},c=!1;if(!Ut(n)){const u=f=>{const d=Bb(f,e,!0);d&&(c=!0,Xe(s,d))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!i&&!c?(r.set(n,null),null):(zt(i)?i.forEach(u=>s[u]=null):Xe(s,i),r.set(n,s),s)}function fc(n,e){return!n||!oc(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(n,e[0].toLowerCase()+e.slice(1))||qt(n,ji(e))||qt(n,e))}let Vr=null,Wb=null;function Wl(n){const e=Vr;return Vr=n,Wb=n&&n.type.__scopeId||null,e}function aC(n,e=Vr,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&$g(-1);const i=Wl(e),s=n(...o);return Wl(i),r._d&&$g(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Xu(n){const{type:e,vnode:t,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:c,attrs:u,emit:f,render:d,renderCache:g,data:p,setupState:b,ctx:_,inheritAttrs:w}=n;let k,T;const A=Wl(n);try{if(t.shapeFlag&4){const P=o||r;k=rn(d.call(P,P,g,i,b,p,_)),T=u}else{const P=e;k=rn(P.length>1?P(i,{attrs:u,slots:c,emit:f}):P(i,null)),T=e.props?u:sC(u)}}catch(P){za.length=0,cc(P,n,1),k=dr(An)}let O=k;if(T&&w!==!1){const P=Object.keys(T),{shapeFlag:D}=O;P.length&&D&7&&(s&&P.some(ah)&&(T=lC(T,s)),O=fo(O,T))}return t.dirs&&(O=fo(O),O.dirs=O.dirs?O.dirs.concat(t.dirs):t.dirs),t.transition&&(O.transition=t.transition),k=O,Wl(A),k}const sC=n=>{let e;for(const t in n)(t==="class"||t==="style"||oc(t))&&((e||(e={}))[t]=n[t]);return e},lC=(n,e)=>{const t={};for(const r in n)(!ah(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function cC(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:c,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?Bg(r,s,f):!!s;if(u&8){const d=e.dynamicProps;for(let g=0;g<d.length;g++){const p=d[g];if(s[p]!==r[p]&&!fc(f,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?Bg(r,s,f):!0:!!s;return!1}function Bg(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!fc(t,i))return!0}return!1}function uC({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const fC=n=>n.__isSuspense;function hC(n,e){e&&e.pendingBranch?zt(n)?e.effects.push(...n):e.effects.push(n):oC(n)}function Ml(n,e){if(ze){let t=ze.provides;const r=ze.parent&&ze.parent.provides;r===t&&(t=ze.provides=Object.create(r)),t[n]=e}}function Rn(n,e,t=!1){const r=ze||Vr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&n in o)return o[n];if(arguments.length>1)return t&&Ut(e)?e.call(r.proxy):e}}const Wg={};function Vo(n,e,t){return Ub(n,e,t)}function Ub(n,e,{immediate:t,deep:r,flush:o,onTrack:i,onTrigger:s}=ue){const c=ze;let u,f=!1,d=!1;if(Ce(n)?(u=()=>n.value,f=mf(n)):so(n)?(u=()=>n,r=!0):zt(n)?(d=!0,f=n.some(T=>so(T)||mf(T)),u=()=>n.map(T=>{if(Ce(T))return T.value;if(so(T))return Go(T);if(Ut(T))return lo(T,c,2)})):Ut(n)?e?u=()=>lo(n,c,2):u=()=>{if(!(c&&c.isUnmounted))return g&&g(),Or(n,c,3,[p])}:u=Kr,e&&r){const T=u;u=()=>Go(T())}let g,p=T=>{g=k.onStop=()=>{lo(T,c,4)}};if($a)return p=Kr,e?t&&Or(e,c,3,[u(),d?[]:void 0,p]):u(),Kr;let b=d?[]:Wg;const _=()=>{if(!!k.active)if(e){const T=k.run();(r||f||(d?T.some((A,O)=>Va(A,b[O])):Va(T,b)))&&(g&&g(),Or(e,c,3,[T,b===Wg?void 0:b,p]),b=T)}else k.run()};_.allowRecurse=!!e;let w;o==="sync"?w=_:o==="post"?w=()=>nr(_,c&&c.suspense):w=()=>nC(_);const k=new fh(u,w);return e?t?_():b=k.run():o==="post"?nr(k.run.bind(k),c&&c.suspense):k.run(),()=>{k.stop(),c&&c.scope&&sh(c.scope.effects,k)}}function dC(n,e,t){const r=this.proxy,o=Ve(n)?n.includes(".")?Yb(r,n):()=>r[n]:n.bind(r,r);let i;Ut(e)?i=e:(i=e.handler,t=e);const s=ze;Wi(this);const c=Ub(o,i.bind(r),t);return s?Wi(s):Ho(),c}function Yb(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function Go(n,e){if(!He(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ce(n))Go(n.value,e);else if(zt(n))for(let t=0;t<n.length;t++)Go(n[t],e);else if(hE(n)||Fa(n))n.forEach(t=>{Go(t,e)});else if(gE(n))for(const t in n)Go(n[t],e);return n}function pC(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _h(()=>{n.isMounted=!0}),Kb(()=>{n.isUnmounting=!0}),n}const Cr=[Function,Array],gC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},setup(n,{slots:e}){const t=Th(),r=pC();let o;return()=>{const i=e.default&&Vb(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const w of i)if(w.type!==An){s=w;break}}const c=ee(n),{mode:u}=c;if(r.isLeaving)return Vu(s);const f=Ug(s);if(!f)return Vu(s);const d=xf(f,c,r,t);wf(f,d);const g=t.subTree,p=g&&Ug(g);let b=!1;const{getTransitionKey:_}=f.type;if(_){const w=_();o===void 0?o=w:w!==o&&(o=w,b=!0)}if(p&&p.type!==An&&(!Do(f,p)||b)){const w=xf(p,c,r,t);if(wf(p,w),u==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,t.update()},Vu(s);u==="in-out"&&f.type!==An&&(w.delayLeave=(k,T,A)=>{const O=Xb(r,p);O[String(p.key)]=p,k._leaveCb=()=>{T(),k._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=A})}return s}}},vC=gC;function Xb(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function xf(n,e,t,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:g,onLeave:p,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:w,onAppear:k,onAfterAppear:T,onAppearCancelled:A}=e,O=String(n.key),P=Xb(t,n),D=(F,K)=>{F&&Or(F,r,9,K)},X=(F,K)=>{const et=K[1];D(F,K),zt(F)?F.every(at=>at.length<=1)&&et():F.length<=1&&et()},G={mode:i,persisted:s,beforeEnter(F){let K=c;if(!t.isMounted)if(o)K=w||c;else return;F._leaveCb&&F._leaveCb(!0);const et=P[O];et&&Do(n,et)&&et.el._leaveCb&&et.el._leaveCb(),D(K,[F])},enter(F){let K=u,et=f,at=d;if(!t.isMounted)if(o)K=k||u,et=T||f,at=A||d;else return;let ut=!1;const ft=F._enterCb=bt=>{ut||(ut=!0,bt?D(at,[F]):D(et,[F]),G.delayedLeave&&G.delayedLeave(),F._enterCb=void 0)};K?X(K,[F,ft]):ft()},leave(F,K){const et=String(n.key);if(F._enterCb&&F._enterCb(!0),t.isUnmounting)return K();D(g,[F]);let at=!1;const ut=F._leaveCb=ft=>{at||(at=!0,K(),ft?D(_,[F]):D(b,[F]),F._leaveCb=void 0,P[et]===n&&delete P[et])};P[et]=n,p?X(p,[F,ut]):ut()},clone(F){return xf(F,e,t,r)}};return G}function Vu(n){if(hc(n))return n=fo(n),n.children=null,n}function Ug(n){return hc(n)?n.children?n.children[0]:void 0:n}function wf(n,e){n.shapeFlag&6&&n.component?wf(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Vb(n,e=!1,t){let r=[],o=0;for(let i=0;i<n.length;i++){let s=n[i];const c=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===Ar?(s.patchFlag&128&&o++,r=r.concat(Vb(s.children,e,c))):(e||s.type!==An)&&r.push(c!=null?fo(s,{key:c}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function cs(n){return Ut(n)?{setup:n,name:n.name}:n}const Fl=n=>!!n.type.__asyncLoader,hc=n=>n.type.__isKeepAlive;function bC(n,e){Hb(n,"a",e)}function mC(n,e){Hb(n,"da",e)}function Hb(n,e,t=ze){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(dc(e,r,t),t){let o=t.parent;for(;o&&o.parent;)hc(o.parent.vnode)&&_C(r,e,t,o),o=o.parent}}function _C(n,e,t,r){const o=dc(e,n,r,!0);yh(()=>{sh(r[e],o)},t)}function dc(n,e,t=ze,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;Zi(),Wi(t);const c=Or(e,t,n,s);return Ho(),$i(),c});return r?o.unshift(i):o.push(i),i}}const Ln=n=>(e,t=ze)=>(!$a||n==="sp")&&dc(n,e,t),yC=Ln("bm"),_h=Ln("m"),xC=Ln("bu"),wC=Ln("u"),Kb=Ln("bum"),yh=Ln("um"),kC=Ln("sp"),EC=Ln("rtg"),CC=Ln("rtc");function TC(n,e=ze){dc("ec",n,e)}function Yg(n,e){const t=Vr;if(t===null)return n;const r=gc(t)||t.proxy,o=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,c,u,f=ue]=e[i];Ut(s)&&(s={mounted:s,updated:s}),s.deep&&Go(c),o.push({dir:s,instance:r,value:c,oldValue:void 0,arg:u,modifiers:f})}return n}function Oo(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const c=o[s];i&&(c.oldValue=i[s].value);let u=c.dir[r];u&&(Zi(),Or(u,t,8,[n.el,c,n,e]),$i())}}const RC=Symbol(),kf=n=>n?om(n)?gc(n)||n.proxy:kf(n.parent):null,Ul=Xe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>kf(n.parent),$root:n=>kf(n.root),$emit:n=>n.emit,$options:n=>Zb(n),$forceUpdate:n=>n.f||(n.f=()=>Fb(n.update)),$nextTick:n=>n.n||(n.n=mh.bind(n.proxy)),$watch:n=>dC.bind(n)}),AC={get({_:n},e){const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:c,appContext:u}=n;let f;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(r!==ue&&qt(r,e))return s[e]=1,r[e];if(o!==ue&&qt(o,e))return s[e]=2,o[e];if((f=n.propsOptions[0])&&qt(f,e))return s[e]=3,i[e];if(t!==ue&&qt(t,e))return s[e]=4,t[e];Ef&&(s[e]=0)}}const d=Ul[e];let g,p;if(d)return e==="$attrs"&&gr(n,"get",e),d(n);if((g=c.__cssModules)&&(g=g[e]))return g;if(t!==ue&&qt(t,e))return s[e]=4,t[e];if(p=u.config.globalProperties,qt(p,e))return p[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return o!==ue&&qt(o,e)?(o[e]=t,!0):r!==ue&&qt(r,e)?(r[e]=t,!0):qt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let c;return!!t[s]||n!==ue&&qt(n,s)||e!==ue&&qt(e,s)||(c=i[0])&&qt(c,s)||qt(r,s)||qt(Ul,s)||qt(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:qt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let Ef=!0;function IC(n){const e=Zb(n),t=n.proxy,r=n.ctx;Ef=!1,e.beforeCreate&&Xg(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:c,provide:u,inject:f,created:d,beforeMount:g,mounted:p,beforeUpdate:b,updated:_,activated:w,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:O,unmounted:P,render:D,renderTracked:X,renderTriggered:G,errorCaptured:F,serverPrefetch:K,expose:et,inheritAttrs:at,components:ut,directives:ft,filters:bt}=e;if(f&&OC(f,r,null,n.appContext.config.unwrapInjectedRef),s)for(const tt in s){const ct=s[tt];Ut(ct)&&(r[tt]=ct.bind(t))}if(o){const tt=o.call(t,t);He(tt)&&(n.data=qi(tt))}if(Ef=!0,i)for(const tt in i){const ct=i[tt],_t=Ut(ct)?ct.bind(t,t):Ut(ct.get)?ct.get.bind(t,t):Kr,Ot=!Ut(ct)&&Ut(ct.set)?ct.set.bind(t):Kr,St=Yr({get:_t,set:Ot});Object.defineProperty(r,tt,{enumerable:!0,configurable:!0,get:()=>St.value,set:Z=>St.value=Z})}if(c)for(const tt in c)jb(c[tt],r,t,tt);if(u){const tt=Ut(u)?u.call(t):u;Reflect.ownKeys(tt).forEach(ct=>{Ml(ct,tt[ct])})}d&&Xg(d,n,"c");function ht(tt,ct){zt(ct)?ct.forEach(_t=>tt(_t.bind(t))):ct&&tt(ct.bind(t))}if(ht(yC,g),ht(_h,p),ht(xC,b),ht(wC,_),ht(bC,w),ht(mC,k),ht(TC,F),ht(CC,X),ht(EC,G),ht(Kb,A),ht(yh,P),ht(kC,K),zt(et))if(et.length){const tt=n.exposed||(n.exposed={});et.forEach(ct=>{Object.defineProperty(tt,ct,{get:()=>t[ct],set:_t=>t[ct]=_t})})}else n.exposed||(n.exposed={});D&&n.render===Kr&&(n.render=D),at!=null&&(n.inheritAttrs=at),ut&&(n.components=ut),ft&&(n.directives=ft)}function OC(n,e,t=Kr,r=!1){zt(n)&&(n=Cf(n));for(const o in n){const i=n[o];let s;He(i)?"default"in i?s=Rn(i.from||o,i.default,!0):s=Rn(i.from||o):s=Rn(i),Ce(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):e[o]=s}}function Xg(n,e,t){Or(zt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function jb(n,e,t,r){const o=r.includes(".")?Yb(t,r):()=>t[r];if(Ve(n)){const i=e[n];Ut(i)&&Vo(o,i)}else if(Ut(n))Vo(o,n.bind(t));else if(He(n))if(zt(n))n.forEach(i=>jb(i,e,t,r));else{const i=Ut(n.handler)?n.handler.bind(t):e[n.handler];Ut(i)&&Vo(o,i,n)}}function Zb(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,c=i.get(e);let u;return c?u=c:!o.length&&!t&&!r?u=e:(u={},o.length&&o.forEach(f=>Yl(u,f,s,!0)),Yl(u,e,s)),i.set(e,u),u}function Yl(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Yl(n,i,t,!0),o&&o.forEach(s=>Yl(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const c=SC[s]||t&&t[s];n[s]=c?c(n[s],e[s]):e[s]}return n}const SC={data:Vg,props:Mo,emits:Mo,methods:Mo,computed:Mo,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Mo,directives:Mo,watch:LC,provide:Vg,inject:PC};function Vg(n,e){return e?n?function(){return Xe(Ut(n)?n.call(this,this):n,Ut(e)?e.call(this,this):e)}:e:n}function PC(n,e){return Mo(Cf(n),Cf(e))}function Cf(n){if(zt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function $e(n,e){return n?[...new Set([].concat(n,e))]:e}function Mo(n,e){return n?Xe(Xe(Object.create(null),n),e):e}function LC(n,e){if(!n)return e;if(!e)return n;const t=Xe(Object.create(null),n);for(const r in e)t[r]=$e(n[r],e[r]);return t}function MC(n,e,t,r=!1){const o={},i={};Gl(i,pc,1),n.propsDefaults=Object.create(null),$b(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:VE(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function FC(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,c=ee(o),[u]=n.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=n.vnode.dynamicProps;for(let g=0;g<d.length;g++){let p=d[g];if(fc(n.emitsOptions,p))continue;const b=e[p];if(u)if(qt(i,p))b!==i[p]&&(i[p]=b,f=!0);else{const _=Gi(p);o[_]=Tf(u,c,_,b,n,!1)}else b!==i[p]&&(i[p]=b,f=!0)}}}else{$b(n,e,o,i)&&(f=!0);let d;for(const g in c)(!e||!qt(e,g)&&((d=ji(g))===g||!qt(e,d)))&&(u?t&&(t[g]!==void 0||t[d]!==void 0)&&(o[g]=Tf(u,c,g,void 0,n,!0)):delete o[g]);if(i!==c)for(const g in i)(!e||!qt(e,g)&&!0)&&(delete i[g],f=!0)}f&&Sn(n,"set","$attrs")}function $b(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,c;if(e)for(let u in e){if(Pl(u))continue;const f=e[u];let d;o&&qt(o,d=Gi(u))?!i||!i.includes(d)?t[d]=f:(c||(c={}))[d]=f:fc(n.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(i){const u=ee(t),f=c||ue;for(let d=0;d<i.length;d++){const g=i[d];t[g]=Tf(o,u,g,f[g],n,!qt(f,g))}}return s}function Tf(n,e,t,r,o,i){const s=n[t];if(s!=null){const c=qt(s,"default");if(c&&r===void 0){const u=s.default;if(s.type!==Function&&Ut(u)){const{propsDefaults:f}=o;t in f?r=f[t]:(Wi(o),r=f[t]=u.call(null,e),Ho())}else r=u}s[0]&&(i&&!c?r=!1:s[1]&&(r===""||r===ji(t))&&(r=!0))}return r}function qb(n,e,t=!1){const r=e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},c=[];let u=!1;if(!Ut(n)){const d=g=>{u=!0;const[p,b]=qb(g,e,!0);Xe(s,p),b&&c.push(...b)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!i&&!u)return r.set(n,Di),Di;if(zt(i))for(let d=0;d<i.length;d++){const g=Gi(i[d]);Hg(g)&&(s[g]=ue)}else if(i)for(const d in i){const g=Gi(d);if(Hg(g)){const p=i[d],b=s[g]=zt(p)||Ut(p)?{type:p}:p;if(b){const _=Zg(Boolean,b.type),w=Zg(String,b.type);b[0]=_>-1,b[1]=w<0||_<w,(_>-1||qt(b,"default"))&&c.push(g)}}}const f=[s,c];return r.set(n,f),f}function Hg(n){return n[0]!=="$"}function Kg(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function jg(n,e){return Kg(n)===Kg(e)}function Zg(n,e){return zt(e)?e.findIndex(t=>jg(t,n)):Ut(e)&&jg(e,n)?0:-1}const Jb=n=>n[0]==="_"||n==="$stable",xh=n=>zt(n)?n.map(rn):[rn(n)],DC=(n,e,t)=>{if(e._n)return e;const r=aC((...o)=>xh(e(...o)),t);return r._c=!1,r},Qb=(n,e,t)=>{const r=n._ctx;for(const o in n){if(Jb(o))continue;const i=n[o];if(Ut(i))e[o]=DC(o,i,r);else if(i!=null){const s=xh(i);e[o]=()=>s}}},tm=(n,e)=>{const t=xh(e);n.slots.default=()=>t},NC=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ee(e),Gl(e,"_",t)):Qb(e,n.slots={})}else n.slots={},e&&tm(n,e);Gl(n.slots,pc,1)},zC=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=ue;if(r.shapeFlag&32){const c=e._;c?t&&c===1?i=!1:(Xe(o,e),!t&&c===1&&delete o._):(i=!e.$stable,Qb(e,o)),s=e}else e&&(tm(n,e),s={default:1});if(i)for(const c in o)!Jb(c)&&!(c in s)&&delete o[c]};function em(){return{app:null,config:{isNativeTag:cE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GC=0;function BC(n,e){return function(r,o=null){Ut(r)||(r=Object.assign({},r)),o!=null&&!He(o)&&(o=null);const i=em(),s=new Set;let c=!1;const u=i.app={_uid:GC++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:iT,get config(){return i.config},set config(f){},use(f,...d){return s.has(f)||(f&&Ut(f.install)?(s.add(f),f.install(u,...d)):Ut(f)&&(s.add(f),f(u,...d))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,d){return d?(i.components[f]=d,u):i.components[f]},directive(f,d){return d?(i.directives[f]=d,u):i.directives[f]},mount(f,d,g){if(!c){const p=dr(r,o);return p.appContext=i,d&&e?e(p,f):n(p,f,g),c=!0,u._container=f,f.__vue_app__=u,gc(p.component)||p.component.proxy}},unmount(){c&&(n(null,u._container),delete u._container.__vue_app__)},provide(f,d){return i.provides[f]=d,u}};return u}}function Rf(n,e,t,r,o=!1){if(zt(n)){n.forEach((p,b)=>Rf(p,e&&(zt(e)?e[b]:e),t,r,o));return}if(Fl(r)&&!o)return;const i=r.shapeFlag&4?gc(r.component)||r.component.proxy:r.el,s=o?null:i,{i:c,r:u}=n,f=e&&e.r,d=c.refs===ue?c.refs={}:c.refs,g=c.setupState;if(f!=null&&f!==u&&(Ve(f)?(d[f]=null,qt(g,f)&&(g[f]=null)):Ce(f)&&(f.value=null)),Ut(u))lo(u,c,12,[s,d]);else{const p=Ve(u),b=Ce(u);if(p||b){const _=()=>{if(n.f){const w=p?d[u]:u.value;o?zt(w)&&sh(w,i):zt(w)?w.includes(i)||w.push(i):p?(d[u]=[i],qt(g,u)&&(g[u]=d[u])):(u.value=[i],n.k&&(d[n.k]=u.value))}else p?(d[u]=s,qt(g,u)&&(g[u]=s)):b&&(u.value=s,n.k&&(d[n.k]=s))};s?(_.id=-1,nr(_,t)):_()}}}const nr=hC;function WC(n){return UC(n)}function UC(n,e){const t=mE();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:c,createComment:u,setText:f,setElementText:d,parentNode:g,nextSibling:p,setScopeId:b=Kr,cloneNode:_,insertStaticContent:w}=n,k=(E,I,M,V=null,W=null,Q=null,nt=!1,$=null,q=!!I.dynamicChildren)=>{if(E===I)return;E&&!Do(E,I)&&(V=it(E),Yt(E,W,Q,!0),E=null),I.patchFlag===-2&&(q=!1,I.dynamicChildren=null);const{type:H,ref:pt,shapeFlag:dt}=I;switch(H){case wh:T(E,I,M,V);break;case An:A(E,I,M,V);break;case Hu:E==null&&O(I,M,V,nt);break;case Ar:ft(E,I,M,V,W,Q,nt,$,q);break;default:dt&1?X(E,I,M,V,W,Q,nt,$,q):dt&6?bt(E,I,M,V,W,Q,nt,$,q):(dt&64||dt&128)&&H.process(E,I,M,V,W,Q,nt,$,q,Zt)}pt!=null&&W&&Rf(pt,E&&E.ref,Q,I||E,!I)},T=(E,I,M,V)=>{if(E==null)r(I.el=c(I.children),M,V);else{const W=I.el=E.el;I.children!==E.children&&f(W,I.children)}},A=(E,I,M,V)=>{E==null?r(I.el=u(I.children||""),M,V):I.el=E.el},O=(E,I,M,V)=>{[E.el,E.anchor]=w(E.children,I,M,V,E.el,E.anchor)},P=({el:E,anchor:I},M,V)=>{let W;for(;E&&E!==I;)W=p(E),r(E,M,V),E=W;r(I,M,V)},D=({el:E,anchor:I})=>{let M;for(;E&&E!==I;)M=p(E),o(E),E=M;o(I)},X=(E,I,M,V,W,Q,nt,$,q)=>{nt=nt||I.type==="svg",E==null?G(I,M,V,W,Q,nt,$,q):et(E,I,W,Q,nt,$,q)},G=(E,I,M,V,W,Q,nt,$)=>{let q,H;const{type:pt,props:dt,shapeFlag:vt,transition:xt,patchFlag:Pt,dirs:Lt}=E;if(E.el&&_!==void 0&&Pt===-1)q=E.el=_(E.el);else{if(q=E.el=s(E.type,Q,dt&&dt.is,dt),vt&8?d(q,E.children):vt&16&&K(E.children,q,null,V,W,Q&&pt!=="foreignObject",nt,$),Lt&&Oo(E,null,V,"created"),dt){for(const Xt in dt)Xt!=="value"&&!Pl(Xt)&&i(q,Xt,null,dt[Xt],Q,E.children,V,W,J);"value"in dt&&i(q,"value",null,dt.value),(H=dt.onVnodeBeforeMount)&&tn(H,V,E)}F(q,E,E.scopeId,nt,V)}Lt&&Oo(E,null,V,"beforeMount");const Nt=(!W||W&&!W.pendingBranch)&&xt&&!xt.persisted;Nt&&xt.beforeEnter(q),r(q,I,M),((H=dt&&dt.onVnodeMounted)||Nt||Lt)&&nr(()=>{H&&tn(H,V,E),Nt&&xt.enter(q),Lt&&Oo(E,null,V,"mounted")},W)},F=(E,I,M,V,W)=>{if(M&&b(E,M),V)for(let Q=0;Q<V.length;Q++)b(E,V[Q]);if(W){let Q=W.subTree;if(I===Q){const nt=W.vnode;F(E,nt,nt.scopeId,nt.slotScopeIds,W.parent)}}},K=(E,I,M,V,W,Q,nt,$,q=0)=>{for(let H=q;H<E.length;H++){const pt=E[H]=$?Qn(E[H]):rn(E[H]);k(null,pt,I,M,V,W,Q,nt,$)}},et=(E,I,M,V,W,Q,nt)=>{const $=I.el=E.el;let{patchFlag:q,dynamicChildren:H,dirs:pt}=I;q|=E.patchFlag&16;const dt=E.props||ue,vt=I.props||ue;let xt;M&&So(M,!1),(xt=vt.onVnodeBeforeUpdate)&&tn(xt,M,I,E),pt&&Oo(I,E,M,"beforeUpdate"),M&&So(M,!0);const Pt=W&&I.type!=="foreignObject";if(H?at(E.dynamicChildren,H,$,M,V,Pt,Q):nt||_t(E,I,$,null,M,V,Pt,Q,!1),q>0){if(q&16)ut($,I,dt,vt,M,V,W);else if(q&2&&dt.class!==vt.class&&i($,"class",null,vt.class,W),q&4&&i($,"style",dt.style,vt.style,W),q&8){const Lt=I.dynamicProps;for(let Nt=0;Nt<Lt.length;Nt++){const Xt=Lt[Nt],we=dt[Xt],de=vt[Xt];(de!==we||Xt==="value")&&i($,Xt,we,de,W,E.children,M,V,J)}}q&1&&E.children!==I.children&&d($,I.children)}else!nt&&H==null&&ut($,I,dt,vt,M,V,W);((xt=vt.onVnodeUpdated)||pt)&&nr(()=>{xt&&tn(xt,M,I,E),pt&&Oo(I,E,M,"updated")},V)},at=(E,I,M,V,W,Q,nt)=>{for(let $=0;$<I.length;$++){const q=E[$],H=I[$],pt=q.el&&(q.type===Ar||!Do(q,H)||q.shapeFlag&70)?g(q.el):M;k(q,H,pt,null,V,W,Q,nt,!0)}},ut=(E,I,M,V,W,Q,nt)=>{if(M!==V){for(const $ in V){if(Pl($))continue;const q=V[$],H=M[$];q!==H&&$!=="value"&&i(E,$,H,q,nt,I.children,W,Q,J)}if(M!==ue)for(const $ in M)!Pl($)&&!($ in V)&&i(E,$,M[$],null,nt,I.children,W,Q,J);"value"in V&&i(E,"value",M.value,V.value)}},ft=(E,I,M,V,W,Q,nt,$,q)=>{const H=I.el=E?E.el:c(""),pt=I.anchor=E?E.anchor:c("");let{patchFlag:dt,dynamicChildren:vt,slotScopeIds:xt}=I;xt&&($=$?$.concat(xt):xt),E==null?(r(H,M,V),r(pt,M,V),K(I.children,M,pt,W,Q,nt,$,q)):dt>0&&dt&64&&vt&&E.dynamicChildren?(at(E.dynamicChildren,vt,M,W,Q,nt,$),(I.key!=null||W&&I===W.subTree)&&rm(E,I,!0)):_t(E,I,M,pt,W,Q,nt,$,q)},bt=(E,I,M,V,W,Q,nt,$,q)=>{I.slotScopeIds=$,E==null?I.shapeFlag&512?W.ctx.activate(I,M,V,nt,q):ot(I,M,V,W,Q,nt,q):ht(E,I,q)},ot=(E,I,M,V,W,Q,nt)=>{const $=E.component=QC(E,V,W);if(hc(E)&&($.ctx.renderer=Zt),tT($),$.asyncDep){if(W&&W.registerDep($,tt),!E.el){const q=$.subTree=dr(An);A(null,q,I,M)}return}tt($,E,I,M,W,Q,nt)},ht=(E,I,M)=>{const V=I.component=E.component;if(cC(E,I,M))if(V.asyncDep&&!V.asyncResolved){ct(V,I,M);return}else V.next=I,rC(V.update),V.update();else I.el=E.el,V.vnode=I},tt=(E,I,M,V,W,Q,nt)=>{const $=()=>{if(E.isMounted){let{next:pt,bu:dt,u:vt,parent:xt,vnode:Pt}=E,Lt=pt,Nt;So(E,!1),pt?(pt.el=Pt.el,ct(E,pt,nt)):pt=Pt,dt&&Ll(dt),(Nt=pt.props&&pt.props.onVnodeBeforeUpdate)&&tn(Nt,xt,pt,Pt),So(E,!0);const Xt=Xu(E),we=E.subTree;E.subTree=Xt,k(we,Xt,g(we.el),it(we),E,W,Q),pt.el=Xt.el,Lt===null&&uC(E,Xt.el),vt&&nr(vt,W),(Nt=pt.props&&pt.props.onVnodeUpdated)&&nr(()=>tn(Nt,xt,pt,Pt),W)}else{let pt;const{el:dt,props:vt}=I,{bm:xt,m:Pt,parent:Lt}=E,Nt=Fl(I);if(So(E,!1),xt&&Ll(xt),!Nt&&(pt=vt&&vt.onVnodeBeforeMount)&&tn(pt,Lt,I),So(E,!0),dt&&Et){const Xt=()=>{E.subTree=Xu(E),Et(dt,E.subTree,E,W,null)};Nt?I.type.__asyncLoader().then(()=>!E.isUnmounted&&Xt()):Xt()}else{const Xt=E.subTree=Xu(E);k(null,Xt,M,V,E,W,Q),I.el=Xt.el}if(Pt&&nr(Pt,W),!Nt&&(pt=vt&&vt.onVnodeMounted)){const Xt=I;nr(()=>tn(pt,Lt,Xt),W)}(I.shapeFlag&256||Lt&&Fl(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&E.a&&nr(E.a,W),E.isMounted=!0,I=M=V=null}},q=E.effect=new fh($,()=>Fb(H),E.scope),H=E.update=()=>q.run();H.id=E.uid,So(E,!0),H()},ct=(E,I,M)=>{I.component=E;const V=E.vnode.props;E.vnode=I,E.next=null,FC(E,I.props,V,M),zC(E,I.children,M),Zi(),uc(void 0,E.update),$i()},_t=(E,I,M,V,W,Q,nt,$,q=!1)=>{const H=E&&E.children,pt=E?E.shapeFlag:0,dt=I.children,{patchFlag:vt,shapeFlag:xt}=I;if(vt>0){if(vt&128){St(H,dt,M,V,W,Q,nt,$,q);return}else if(vt&256){Ot(H,dt,M,V,W,Q,nt,$,q);return}}xt&8?(pt&16&&J(H,W,Q),dt!==H&&d(M,dt)):pt&16?xt&16?St(H,dt,M,V,W,Q,nt,$,q):J(H,W,Q,!0):(pt&8&&d(M,""),xt&16&&K(dt,M,V,W,Q,nt,$,q))},Ot=(E,I,M,V,W,Q,nt,$,q)=>{E=E||Di,I=I||Di;const H=E.length,pt=I.length,dt=Math.min(H,pt);let vt;for(vt=0;vt<dt;vt++){const xt=I[vt]=q?Qn(I[vt]):rn(I[vt]);k(E[vt],xt,M,null,W,Q,nt,$,q)}H>pt?J(E,W,Q,!0,!1,dt):K(I,M,V,W,Q,nt,$,q,dt)},St=(E,I,M,V,W,Q,nt,$,q)=>{let H=0;const pt=I.length;let dt=E.length-1,vt=pt-1;for(;H<=dt&&H<=vt;){const xt=E[H],Pt=I[H]=q?Qn(I[H]):rn(I[H]);if(Do(xt,Pt))k(xt,Pt,M,null,W,Q,nt,$,q);else break;H++}for(;H<=dt&&H<=vt;){const xt=E[dt],Pt=I[vt]=q?Qn(I[vt]):rn(I[vt]);if(Do(xt,Pt))k(xt,Pt,M,null,W,Q,nt,$,q);else break;dt--,vt--}if(H>dt){if(H<=vt){const xt=vt+1,Pt=xt<pt?I[xt].el:V;for(;H<=vt;)k(null,I[H]=q?Qn(I[H]):rn(I[H]),M,Pt,W,Q,nt,$,q),H++}}else if(H>vt)for(;H<=dt;)Yt(E[H],W,Q,!0),H++;else{const xt=H,Pt=H,Lt=new Map;for(H=Pt;H<=vt;H++){const pe=I[H]=q?Qn(I[H]):rn(I[H]);pe.key!=null&&Lt.set(pe.key,H)}let Nt,Xt=0;const we=vt-Pt+1;let de=!1,Fr=0;const se=new Array(we);for(H=0;H<we;H++)se[H]=0;for(H=xt;H<=dt;H++){const pe=E[H];if(Xt>=we){Yt(pe,W,Q,!0);continue}let Me;if(pe.key!=null)Me=Lt.get(pe.key);else for(Nt=Pt;Nt<=vt;Nt++)if(se[Nt-Pt]===0&&Do(pe,I[Nt])){Me=Nt;break}Me===void 0?Yt(pe,W,Q,!0):(se[Me-Pt]=H+1,Me>=Fr?Fr=Me:de=!0,k(pe,I[Me],M,null,W,Q,nt,$,q),Xt++)}const ir=de?YC(se):Di;for(Nt=ir.length-1,H=we-1;H>=0;H--){const pe=Pt+H,Me=I[pe],vo=pe+1<pt?I[pe+1].el:V;se[H]===0?k(null,Me,M,vo,W,Q,nt,$,q):de&&(Nt<0||H!==ir[Nt]?Z(Me,M,vo,2):Nt--)}}},Z=(E,I,M,V,W=null)=>{const{el:Q,type:nt,transition:$,children:q,shapeFlag:H}=E;if(H&6){Z(E.component.subTree,I,M,V);return}if(H&128){E.suspense.move(I,M,V);return}if(H&64){nt.move(E,I,M,Zt);return}if(nt===Ar){r(Q,I,M);for(let dt=0;dt<q.length;dt++)Z(q[dt],I,M,V);r(E.anchor,I,M);return}if(nt===Hu){P(E,I,M);return}if(V!==2&&H&1&&$)if(V===0)$.beforeEnter(Q),r(Q,I,M),nr(()=>$.enter(Q),W);else{const{leave:dt,delayLeave:vt,afterLeave:xt}=$,Pt=()=>r(Q,I,M),Lt=()=>{dt(Q,()=>{Pt(),xt&&xt()})};vt?vt(Q,Pt,Lt):Lt()}else r(Q,I,M)},Yt=(E,I,M,V=!1,W=!1)=>{const{type:Q,props:nt,ref:$,children:q,dynamicChildren:H,shapeFlag:pt,patchFlag:dt,dirs:vt}=E;if($!=null&&Rf($,null,M,E,!0),pt&256){I.ctx.deactivate(E);return}const xt=pt&1&&vt,Pt=!Fl(E);let Lt;if(Pt&&(Lt=nt&&nt.onVnodeBeforeUnmount)&&tn(Lt,I,E),pt&6)rt(E.component,M,V);else{if(pt&128){E.suspense.unmount(M,V);return}xt&&Oo(E,null,I,"beforeUnmount"),pt&64?E.type.remove(E,I,M,W,Zt,V):H&&(Q!==Ar||dt>0&&dt&64)?J(H,I,M,!1,!0):(Q===Ar&&dt&384||!W&&pt&16)&&J(q,I,M),V&&kt(E)}(Pt&&(Lt=nt&&nt.onVnodeUnmounted)||xt)&&nr(()=>{Lt&&tn(Lt,I,E),xt&&Oo(E,null,I,"unmounted")},M)},kt=E=>{const{type:I,el:M,anchor:V,transition:W}=E;if(I===Ar){z(M,V);return}if(I===Hu){D(E);return}const Q=()=>{o(M),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(E.shapeFlag&1&&W&&!W.persisted){const{leave:nt,delayLeave:$}=W,q=()=>nt(M,Q);$?$(E.el,Q,q):q()}else Q()},z=(E,I)=>{let M;for(;E!==I;)M=p(E),o(E),E=M;o(I)},rt=(E,I,M)=>{const{bum:V,scope:W,update:Q,subTree:nt,um:$}=E;V&&Ll(V),W.stop(),Q&&(Q.active=!1,Yt(nt,E,I,M)),$&&nr($,I),nr(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},J=(E,I,M,V=!1,W=!1,Q=0)=>{for(let nt=Q;nt<E.length;nt++)Yt(E[nt],I,M,V,W)},it=E=>E.shapeFlag&6?it(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el),It=(E,I,M)=>{E==null?I._vnode&&Yt(I._vnode,null,null,!0):k(I._vnode||null,E,I,null,null,null,M),zb(),I._vnode=E},Zt={p:k,um:Yt,m:Z,r:kt,mt:ot,mc:K,pc:_t,pbc:at,n:it,o:n};let yt,Et;return e&&([yt,Et]=e(Zt)),{render:It,hydrate:yt,createApp:BC(It,yt)}}function So({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function rm(n,e,t=!1){const r=n.children,o=e.children;if(zt(r)&&zt(o))for(let i=0;i<r.length;i++){const s=r[i];let c=o[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[i]=Qn(o[i]),c.el=s.el),t||rm(s,c))}}function YC(n){const e=n.slice(),t=[0];let r,o,i,s,c;const u=n.length;for(r=0;r<u;r++){const f=n[r];if(f!==0){if(o=t[t.length-1],n[o]<f){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)c=i+s>>1,n[t[c]]<f?i=c+1:s=c;f<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const XC=n=>n.__isTeleport,Ar=Symbol(void 0),wh=Symbol(void 0),An=Symbol(void 0),Hu=Symbol(void 0),za=[];let Hr=null;function kh(n=!1){za.push(Hr=n?null:[])}function VC(){za.pop(),Hr=za[za.length-1]||null}let Za=1;function $g(n){Za+=n}function HC(n){return n.dynamicChildren=Za>0?Hr||Di:null,VC(),Za>0&&Hr&&Hr.push(n),n}function Eh(n,e,t,r,o,i){return HC(Ne(n,e,t,r,o,i,!0))}function Af(n){return n?n.__v_isVNode===!0:!1}function Do(n,e){return n.type===e.type&&n.key===e.key}const pc="__vInternal",nm=({key:n})=>n!=null?n:null,Dl=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ve(n)||Ce(n)||Ut(n)?{i:Vr,r:n,k:e,f:!!t}:n:null;function Ne(n,e=null,t=null,r=0,o=null,i=n===Ar?0:1,s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&nm(e),ref:e&&Dl(e),scopeId:Wb,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(Ch(u,t),i&128&&n.normalize(u)):t&&(u.shapeFlag|=Ve(t)?8:16),Za>0&&!s&&Hr&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Hr.push(u),u}const dr=KC;function KC(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===RC)&&(n=An),Af(n)){const c=fo(n,e,!0);return t&&Ch(c,t),Za>0&&!i&&Hr&&(c.shapeFlag&6?Hr[Hr.indexOf(n)]=c:Hr.push(c)),c.patchFlag|=-2,c}if(oT(n)&&(n=n.__vccOpts),e){e=jC(e);let{class:c,style:u}=e;c&&!Ve(c)&&(e.class=ih(c)),He(u)&&(Ib(u)&&!zt(u)&&(u=Xe({},u)),e.style=oh(u))}const s=Ve(n)?1:fC(n)?128:XC(n)?64:He(n)?4:Ut(n)?2:0;return Ne(n,e,t,r,o,s,i,!0)}function jC(n){return n?Ib(n)||pc in n?Xe({},n):n:null}function fo(n,e,t=!1){const{props:r,ref:o,patchFlag:i,children:s}=n,c=e?$C(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&nm(c),ref:e&&e.ref?t&&o?zt(o)?o.concat(Dl(e)):[o,Dl(e)]:Dl(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ar?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fo(n.ssContent),ssFallback:n.ssFallback&&fo(n.ssFallback),el:n.el,anchor:n.anchor}}function ZC(n=" ",e=0){return dr(wh,null,n,e)}function rn(n){return n==null||typeof n=="boolean"?dr(An):zt(n)?dr(Ar,null,n.slice()):typeof n=="object"?Qn(n):dr(wh,null,String(n))}function Qn(n){return n.el===null||n.memo?n:fo(n)}function Ch(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(zt(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Ch(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(pc in e)?e._ctx=Vr:o===3&&Vr&&(Vr.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:Vr},t=32):(e=String(e),r&64?(t=16,e=[ZC(e)]):t=8);n.children=e,n.shapeFlag|=t}function $C(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=ih([e.class,r.class]));else if(o==="style")e.style=oh([e.style,r.style]);else if(oc(o)){const i=e[o],s=r[o];s&&i!==s&&!(zt(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function tn(n,e,t,r=null){Or(n,e,7,[t,r])}const qC=em();let JC=0;function QC(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||qC,i={uid:JC++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new vb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qb(r,o),emitsOptions:Bb(r,o),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:r.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=iC.bind(null,i),n.ce&&n.ce(i),i}let ze=null;const Th=()=>ze||Vr,Wi=n=>{ze=n,n.scope.on()},Ho=()=>{ze&&ze.scope.off(),ze=null};function om(n){return n.vnode.shapeFlag&4}let $a=!1;function tT(n,e=!1){$a=e;const{props:t,children:r}=n.vnode,o=om(n);MC(n,t,o,e),NC(n,r);const i=o?eT(n,e):void 0;return $a=!1,i}function eT(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Bi(new Proxy(n.ctx,AC));const{setup:r}=t;if(r){const o=n.setupContext=r.length>1?nT(n):null;Wi(n),Zi();const i=lo(r,n,0,[n.props,o]);if($i(),Ho(),pb(i)){if(i.then(Ho,Ho),e)return i.then(s=>{qg(n,s,e)}).catch(s=>{cc(s,n,0)});n.asyncDep=i}else qg(n,i,e)}else im(n,e)}function qg(n,e,t){Ut(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:He(e)&&(n.setupState=Lb(e)),im(n,t)}let Jg;function im(n,e,t){const r=n.type;if(!n.render){if(!e&&Jg&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:c,compilerOptions:u}=r,f=Xe(Xe({isCustomElement:i,delimiters:c},s),u);r.render=Jg(o,f)}}n.render=r.render||Kr}Wi(n),Zi(),IC(n),$i(),Ho()}function rT(n){return new Proxy(n.attrs,{get(e,t){return gr(n,"get","$attrs"),e[t]}})}function nT(n){const e=r=>{n.exposed=r||{}};let t;return{get attrs(){return t||(t=rT(n))},slots:n.slots,emit:n.emit,expose:e}}function gc(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Lb(Bi(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ul)return Ul[t](n)}}))}function oT(n){return Ut(n)&&"__vccOpts"in n}const Yr=(n,e)=>QE(n,e,$a);function am(n,e,t){const r=arguments.length;return r===2?He(e)&&!zt(e)?Af(e)?dr(n,null,[e]):dr(n,e):dr(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Af(t)&&(t=[t]),dr(n,e,t))}const iT="3.2.37",aT="http://www.w3.org/2000/svg",No=typeof document!="undefined"?document:null,Qg=No&&No.createElement("template"),sT={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e?No.createElementNS(aT,n):No.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>No.createTextNode(n),createComment:n=>No.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>No.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{Qg.innerHTML=r?`<svg>${n}</svg>`:n;const c=Qg.content;if(r){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function lT(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function cT(n,e,t){const r=n.style,o=Ve(t);if(t&&!o){for(const i in t)If(r,i,t[i]);if(e&&!Ve(e))for(const i in e)t[i]==null&&If(r,i,"")}else{const i=r.display;o?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=i)}}const tv=/\s*!important$/;function If(n,e,t){if(zt(t))t.forEach(r=>If(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=uT(n,e);tv.test(t)?n.setProperty(ji(r),t.replace(tv,""),"important"):n[r]=t}}const ev=["Webkit","Moz","ms"],Ku={};function uT(n,e){const t=Ku[e];if(t)return t;let r=Gi(e);if(r!=="filter"&&r in n)return Ku[e]=r;r=gb(r);for(let o=0;o<ev.length;o++){const i=ev[o]+r;if(i in n)return Ku[e]=i}return e}const rv="http://www.w3.org/1999/xlink";function fT(n,e,t,r,o){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(rv,e.slice(6,e.length)):n.setAttributeNS(rv,e,t);else{const i=iE(e);t==null||i&&!db(t)?n.removeAttribute(e):n.setAttribute(e,i?"":t)}}function hT(n,e,t,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const u=t==null?"":t;(n.value!==u||n.tagName==="OPTION")&&(n.value=u),t==null&&n.removeAttribute(e);return}let c=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=db(t):t==null&&u==="string"?(t="",c=!0):u==="number"&&(t=0,c=!0)}try{n[e]=t}catch{}c&&n.removeAttribute(e)}const[sm,dT]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Of=0;const pT=Promise.resolve(),gT=()=>{Of=0},vT=()=>Of||(pT.then(gT),Of=sm());function Ri(n,e,t,r){n.addEventListener(e,t,r)}function bT(n,e,t,r){n.removeEventListener(e,t,r)}function mT(n,e,t,r,o=null){const i=n._vei||(n._vei={}),s=i[e];if(r&&s)s.value=r;else{const[c,u]=_T(e);if(r){const f=i[e]=yT(r,o);Ri(n,c,f,u)}else s&&(bT(n,c,s,u),i[e]=void 0)}}const nv=/(?:Once|Passive|Capture)$/;function _T(n){let e;if(nv.test(n)){e={};let t;for(;t=n.match(nv);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[ji(n.slice(2)),e]}function yT(n,e){const t=r=>{const o=r.timeStamp||sm();(dT||o>=t.attached-1)&&Or(xT(r,t.value),e,5,[r])};return t.value=n,t.attached=vT(),t}function xT(n,e){if(zt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const ov=/^on[a-z]/,wT=(n,e,t,r,o=!1,i,s,c,u)=>{e==="class"?lT(n,r,o):e==="style"?cT(n,t,r):oc(e)?ah(e)||mT(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):kT(n,e,r,o))?hT(n,e,r,i,s,c,u):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),fT(n,e,r,o))};function kT(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&ov.test(e)&&Ut(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||ov.test(e)&&Ve(t)?!1:e in n}const ET={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};vC.props;const iv=n=>{const e=n.props["onUpdate:modelValue"]||!1;return zt(e)?t=>Ll(e,t):e};function CT(n){n.target.composing=!0}function av(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const sv={created(n,{modifiers:{lazy:e,trim:t,number:r}},o){n._assign=iv(o);const i=r||o.props&&o.props.type==="number";Ri(n,e?"change":"input",s=>{if(s.target.composing)return;let c=n.value;t&&(c=c.trim()),i&&(c=df(c)),n._assign(c)}),t&&Ri(n,"change",()=>{n.value=n.value.trim()}),e||(Ri(n,"compositionstart",CT),Ri(n,"compositionend",av),Ri(n,"change",av))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:o}},i){if(n._assign=iv(i),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(o||n.type==="number")&&df(n.value)===e))return;const s=e==null?"":e;n.value!==s&&(n.value=s)}},TT=Xe({patchProp:wT},sT);let lv;function RT(){return lv||(lv=WC(TT))}const AT=(...n)=>{const e=RT().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=IT(r);if(!o)return;const i=e._component;!Ut(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function IT(n){return Ve(n)?document.querySelector(n):n}var OT=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let lm;const vc=n=>lm=n,cm=Symbol();function Sf(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ga;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ga||(Ga={}));function ST(){const n=bb(!0),e=n.run(()=>lc({}));let t=[],r=[];const o=Bi({install(i){vc(o),o._a=i,i.provide(cm,o),i.config.globalProperties.$pinia=o,r.forEach(s=>t.push(s)),r=[]},use(i){return!this._a&&!OT?r.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return o}const um=()=>{};function cv(n,e,t,r=um){n.push(e);const o=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),r())};return!t&&Th()&&yh(o),o}function _i(n,...e){n.slice().forEach(t=>{t(...e)})}function Pf(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],o=n[t];Sf(o)&&Sf(r)&&n.hasOwnProperty(t)&&!Ce(r)&&!so(r)?n[t]=Pf(o,r):n[t]=r}return n}const PT=Symbol();function LT(n){return!Sf(n)||!n.hasOwnProperty(PT)}const{assign:kn}=Object;function MT(n){return!!(Ce(n)&&n.effect)}function FT(n,e,t,r){const{state:o,actions:i,getters:s}=e,c=t.state.value[n];let u;function f(){c||(t.state.value[n]=o?o():{});const d=ZE(t.state.value[n]);return kn(d,i,Object.keys(s||{}).reduce((g,p)=>(g[p]=Bi(Yr(()=>{vc(t);const b=t._s.get(n);return s[p].call(b,b)})),g),{}))}return u=fm(n,f,e,t,r,!0),u.$reset=function(){const g=o?o():{};this.$patch(p=>{kn(p,g)})},u}function fm(n,e,t={},r,o,i){let s;const c=kn({actions:{}},t),u={deep:!0};let f,d,g=Bi([]),p=Bi([]),b;const _=r.state.value[n];!i&&!_&&(r.state.value[n]={}),lc({});let w;function k(G){let F;f=d=!1,typeof G=="function"?(G(r.state.value[n]),F={type:Ga.patchFunction,storeId:n,events:b}):(Pf(r.state.value[n],G),F={type:Ga.patchObject,payload:G,storeId:n,events:b});const K=w=Symbol();mh().then(()=>{w===K&&(f=!0)}),d=!0,_i(g,F,r.state.value[n])}const T=um;function A(){s.stop(),g=[],p=[],r._s.delete(n)}function O(G,F){return function(){vc(r);const K=Array.from(arguments),et=[],at=[];function ut(ot){et.push(ot)}function ft(ot){at.push(ot)}_i(p,{args:K,name:G,store:D,after:ut,onError:ft});let bt;try{bt=F.apply(this&&this.$id===n?this:D,K)}catch(ot){throw _i(at,ot),ot}return bt instanceof Promise?bt.then(ot=>(_i(et,ot),ot)).catch(ot=>(_i(at,ot),Promise.reject(ot))):(_i(et,bt),bt)}}const P={_p:r,$id:n,$onAction:cv.bind(null,p),$patch:k,$reset:T,$subscribe(G,F={}){const K=cv(g,G,F.detached,()=>et()),et=s.run(()=>Vo(()=>r.state.value[n],at=>{(F.flush==="sync"?d:f)&&G({storeId:n,type:Ga.direct,events:b},at)},kn({},u,F)));return K},$dispose:A},D=qi(kn({},P));r._s.set(n,D);const X=r._e.run(()=>(s=bb(),s.run(()=>e())));for(const G in X){const F=X[G];if(Ce(F)&&!MT(F)||so(F))i||(_&&LT(F)&&(Ce(F)?F.value=_[G]:Pf(F,_[G])),r.state.value[n][G]=F);else if(typeof F=="function"){const K=O(G,F);X[G]=K,c.actions[G]=F}}return kn(D,X),kn(ee(D),X),Object.defineProperty(D,"$state",{get:()=>r.state.value[n],set:G=>{k(F=>{kn(F,G)})}}),r._p.forEach(G=>{kn(D,s.run(()=>G({store:D,app:r._a,pinia:r,options:c})))}),_&&i&&t.hydrate&&t.hydrate(D.$state,_),f=!0,d=!0,D}function DT(n,e,t){let r,o;const i=typeof e=="function";typeof n=="string"?(r=n,o=i?t:e):(o=n,r=n.id);function s(c,u){const f=Th();return c=c||f&&Rn(cm),c&&vc(c),c=lm,c._s.has(r)||(i?fm(r,e,o,c):FT(r,o,c)),c._s.get(r)}return s.$id=r,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ji=n=>hm?Symbol(n):"_vr_"+n,NT=Ji("rvlm"),uv=Ji("rvd"),Rh=Ji("r"),dm=Ji("rl"),Lf=Ji("rvl"),Ai=typeof window!="undefined";function zT(n){return n.__esModule||hm&&n[Symbol.toStringTag]==="Module"}const ce=Object.assign;function ju(n,e){const t={};for(const r in e){const o=e[r];t[r]=Array.isArray(o)?o.map(n):n(o)}return t}const Ba=()=>{},GT=/\/$/,BT=n=>n.replace(GT,"");function Zu(n,e,t="/"){let r,o={},i="",s="";const c=e.indexOf("?"),u=e.indexOf("#",c>-1?c:0);return c>-1&&(r=e.slice(0,c),i=e.slice(c+1,u>-1?u:e.length),o=n(i)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=XT(r!=null?r:e,t),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function WT(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function fv(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function UT(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&Ui(e.matched[r],t.matched[o])&&pm(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ui(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function pm(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!YT(n[t],e[t]))return!1;return!0}function YT(n,e){return Array.isArray(n)?hv(n,e):Array.isArray(e)?hv(e,n):n===e}function hv(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function XT(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/");let o=t.length-1,i,s;for(i=0;i<r.length;i++)if(s=r[i],!(o===1||s==="."))if(s==="..")o--;else break;return t.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var qa;(function(n){n.pop="pop",n.push="push"})(qa||(qa={}));var Wa;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Wa||(Wa={}));function VT(n){if(!n)if(Ai){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),BT(n)}const HT=/^[^#]+#/;function KT(n,e){return n.replace(HT,"#")+e}function jT(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const bc=()=>({left:window.pageXOffset,top:window.pageYOffset});function ZT(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=jT(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function dv(n,e){return(history.state?history.state.position-e:-1)+n}const Mf=new Map;function $T(n,e){Mf.set(n,e)}function qT(n){const e=Mf.get(n);return Mf.delete(n),e}let JT=()=>location.protocol+"//"+location.host;function gm(n,e){const{pathname:t,search:r,hash:o}=e,i=n.indexOf("#");if(i>-1){let c=o.includes(n.slice(i))?n.slice(i).length:1,u=o.slice(c);return u[0]!=="/"&&(u="/"+u),fv(u,"")}return fv(t,n)+r+o}function QT(n,e,t,r){let o=[],i=[],s=null;const c=({state:p})=>{const b=gm(n,location),_=t.value,w=e.value;let k=0;if(p){if(t.value=b,e.value=p,s&&s===_){s=null;return}k=w?p.position-w.position:0}else r(b);o.forEach(T=>{T(t.value,_,{delta:k,type:qa.pop,direction:k?k>0?Wa.forward:Wa.back:Wa.unknown})})};function u(){s=t.value}function f(p){o.push(p);const b=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return i.push(b),b}function d(){const{history:p}=window;!p.state||p.replaceState(ce({},p.state,{scroll:bc()}),"")}function g(){for(const p of i)p();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:f,destroy:g}}function pv(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?bc():null}}function tR(n){const{history:e,location:t}=window,r={value:gm(n,t)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,d){const g=n.indexOf("#"),p=g>-1?(t.host&&document.querySelector("base")?n:n.slice(g))+u:JT()+n+u;try{e[d?"replaceState":"pushState"](f,"",p),o.value=f}catch(b){console.error(b),t[d?"replace":"assign"](p)}}function s(u,f){const d=ce({},e.state,pv(o.value.back,u,o.value.forward,!0),f,{position:o.value.position});i(u,d,!0),r.value=u}function c(u,f){const d=ce({},o.value,e.state,{forward:u,scroll:bc()});i(d.current,d,!0);const g=ce({},pv(r.value,u,null),{position:d.position+1},f);i(u,g,!1),r.value=u}return{location:r,state:o,push:c,replace:s}}function eR(n){n=VT(n);const e=tR(n),t=QT(n,e.state,e.location,e.replace);function r(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=ce({location:"",base:n,go:r,createHref:KT.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function rR(n){return typeof n=="string"||n&&typeof n=="object"}function vm(n){return typeof n=="string"||typeof n=="symbol"}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bm=Ji("nf");var gv;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(gv||(gv={}));function Yi(n,e){return ce(new Error,{type:n,[bm]:!0},e)}function Hn(n,e){return n instanceof Error&&bm in n&&(e==null||!!(n.type&e))}const vv="[^/]+?",nR={sensitive:!1,strict:!1,start:!0,end:!0},oR=/[.+*?^${}()[\]/\\]/g;function iR(n,e){const t=ce({},nR,e),r=[];let o=t.start?"^":"";const i=[];for(const f of n){const d=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let g=0;g<f.length;g++){const p=f[g];let b=40+(t.sensitive?.25:0);if(p.type===0)g||(o+="/"),o+=p.value.replace(oR,"\\$&"),b+=40;else if(p.type===1){const{value:_,repeatable:w,optional:k,regexp:T}=p;i.push({name:_,repeatable:w,optional:k});const A=T||vv;if(A!==vv){b+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${_}" (${A}): `+P.message)}}let O=w?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;g||(O=k&&f.length<2?`(?:/${O})`:"/"+O),k&&(O+="?"),o+=O,b+=20,k&&(b+=-8),w&&(b+=-20),A===".*"&&(b+=-50)}d.push(b)}r.push(d)}if(t.strict&&t.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function c(f){const d=f.match(s),g={};if(!d)return null;for(let p=1;p<d.length;p++){const b=d[p]||"",_=i[p-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function u(f){let d="",g=!1;for(const p of n){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const b of p)if(b.type===0)d+=b.value;else if(b.type===1){const{value:_,repeatable:w,optional:k}=b,T=_ in f?f[_]:"";if(Array.isArray(T)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(k)p.length<2&&n.length>1&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);d+=A}}return d}return{re:s,score:r,keys:i,parse:c,stringify:u}}function aR(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function sR(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const i=aR(r[t],o[t]);if(i)return i;t++}return o.length-r.length}const lR={type:0,value:""},cR=/[a-zA-Z0-9_]/;function uR(n){if(!n)return[[]];if(n==="/")return[[lR]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${f}": ${b}`)}let t=0,r=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let c=0,u,f="",d="";function g(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function p(){f+=u}for(;c<n.length;){if(u=n[c++],u==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:u==="/"?(f&&g(),s()):u===":"?(g(),t=1):p();break;case 4:p(),t=r;break;case 1:u==="("?t=2:cR.test(u)?p():(g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:t=3:d+=u;break;case 3:g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),s(),o}function fR(n,e,t){const r=iR(uR(n.path),t),o=ce(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function hR(n,e){const t=[],r=new Map;e=mv({strict:!1,end:!0,sensitive:!1},e);function o(d){return r.get(d)}function i(d,g,p){const b=!p,_=pR(d);_.aliasOf=p&&p.record;const w=mv(e,d),k=[_];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of O)k.push(ce({},_,{components:p?p.record.components:_.components,path:P,aliasOf:p?p.record:_}))}let T,A;for(const O of k){const{path:P}=O;if(g&&P[0]!=="/"){const D=g.record.path,X=D[D.length-1]==="/"?"":"/";O.path=g.record.path+(P&&X+P)}if(T=fR(O,g,w),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),b&&d.name&&!bv(T)&&s(d.name)),"children"in _){const D=_.children;for(let X=0;X<D.length;X++)i(D[X],T,p&&p.children[X])}p=p||T,u(T)}return A?()=>{s(A)}:Ba}function s(d){if(vm(d)){const g=r.get(d);g&&(r.delete(d),t.splice(t.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=t.indexOf(d);g>-1&&(t.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function c(){return t}function u(d){let g=0;for(;g<t.length&&sR(d,t[g])>=0&&(d.record.path!==t[g].record.path||!mm(d,t[g]));)g++;t.splice(g,0,d),d.record.name&&!bv(d)&&r.set(d.record.name,d)}function f(d,g){let p,b={},_,w;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw Yi(1,{location:d});w=p.record.name,b=ce(dR(g.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),d.params),_=p.stringify(b)}else if("path"in d)_=d.path,p=t.find(A=>A.re.test(_)),p&&(b=p.parse(_),w=p.record.name);else{if(p=g.name?r.get(g.name):t.find(A=>A.re.test(g.path)),!p)throw Yi(1,{location:d,currentLocation:g});w=p.record.name,b=ce({},g.params,d.params),_=p.stringify(b)}const k=[];let T=p;for(;T;)k.unshift(T.record),T=T.parent;return{name:w,path:_,params:b,matched:k,meta:vR(k)}}return n.forEach(d=>i(d)),{addRoute:i,resolve:f,removeRoute:s,getRoutes:c,getRecordMatcher:o}}function dR(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function pR(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:gR(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function gR(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="boolean"?t:t[r];return e}function bv(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function vR(n){return n.reduce((e,t)=>ce(e,t.meta),{})}function mv(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function mm(n,e){return e.children.some(t=>t===n||mm(n,t))}const _m=/#/g,bR=/&/g,mR=/\//g,_R=/=/g,yR=/\?/g,ym=/\+/g,xR=/%5B/g,wR=/%5D/g,xm=/%5E/g,kR=/%60/g,wm=/%7B/g,ER=/%7C/g,km=/%7D/g,CR=/%20/g;function Ah(n){return encodeURI(""+n).replace(ER,"|").replace(xR,"[").replace(wR,"]")}function TR(n){return Ah(n).replace(wm,"{").replace(km,"}").replace(xm,"^")}function Ff(n){return Ah(n).replace(ym,"%2B").replace(CR,"+").replace(_m,"%23").replace(bR,"%26").replace(kR,"`").replace(wm,"{").replace(km,"}").replace(xm,"^")}function RR(n){return Ff(n).replace(_R,"%3D")}function AR(n){return Ah(n).replace(_m,"%23").replace(yR,"%3F")}function IR(n){return n==null?"":AR(n).replace(mR,"%2F")}function Xl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function OR(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(ym," "),s=i.indexOf("="),c=Xl(s<0?i:i.slice(0,s)),u=s<0?null:Xl(i.slice(s+1));if(c in e){let f=e[c];Array.isArray(f)||(f=e[c]=[f]),f.push(u)}else e[c]=u}return e}function _v(n){let e="";for(let t in n){const r=n[t];if(t=RR(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(r)?r.map(i=>i&&Ff(i)):[r&&Ff(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function SR(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function Ea(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function to(n,e,t,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,c)=>{const u=g=>{g===!1?c(Yi(4,{from:t,to:e})):g instanceof Error?c(g):rR(g)?c(Yi(2,{from:e,to:g})):(i&&r.enterCallbacks[o]===i&&typeof g=="function"&&i.push(g),s())},f=n.call(r&&r.instances[o],e,t,u);let d=Promise.resolve(f);n.length<3&&(d=d.then(u)),d.catch(g=>c(g))})}function $u(n,e,t,r){const o=[];for(const i of n)for(const s in i.components){let c=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(PR(c)){const f=(c.__vccOpts||c)[e];f&&o.push(to(f,t,r,i,s))}else{let u=c();o.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const d=zT(f)?f.default:f;i.components[s]=d;const p=(d.__vccOpts||d)[e];return p&&to(p,t,r,i,s)()}))}}return o}function PR(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function yv(n){const e=Rn(Rh),t=Rn(dm),r=Yr(()=>e.resolve(on(n.to))),o=Yr(()=>{const{matched:u}=r.value,{length:f}=u,d=u[f-1],g=t.matched;if(!d||!g.length)return-1;const p=g.findIndex(Ui.bind(null,d));if(p>-1)return p;const b=xv(u[f-2]);return f>1&&xv(d)===b&&g[g.length-1].path!==b?g.findIndex(Ui.bind(null,u[f-2])):p}),i=Yr(()=>o.value>-1&&DR(t.params,r.value.params)),s=Yr(()=>o.value>-1&&o.value===t.matched.length-1&&pm(t.params,r.value.params));function c(u={}){return FR(u)?e[on(n.replace)?"replace":"push"](on(n.to)).catch(Ba):Promise.resolve()}return{route:r,href:Yr(()=>r.value.href),isActive:i,isExactActive:s,navigate:c}}const LR=cs({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yv,setup(n,{slots:e}){const t=qi(yv(n)),{options:r}=Rn(Rh),o=Yr(()=>({[wv(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[wv(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:am("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),MR=LR;function FR(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function DR(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function xv(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const wv=(n,e,t)=>n!=null?n:e!=null?e:t,NR=cs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Rn(Lf),o=Yr(()=>n.route||r.value),i=Rn(uv,0),s=Yr(()=>o.value.matched[i]);Ml(uv,i+1),Ml(NT,s),Ml(Lf,o);const c=lc();return Vo(()=>[c.value,s.value,n.name],([u,f,d],[g,p,b])=>{f&&(f.instances[d]=u,p&&p!==f&&u&&u===g&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),u&&f&&(!p||!Ui(f,p)||!g)&&(f.enterCallbacks[d]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=o.value,f=s.value,d=f&&f.components[n.name],g=n.name;if(!d)return kv(t.default,{Component:d,route:u});const p=f.props[n.name],b=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=am(d,ce({},b,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[g]=null)},ref:c}));return kv(t.default,{Component:w,route:u})||w}}});function kv(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Em=NR;function zR(n){const e=hR(n.routes,n),t=n.parseQuery||OR,r=n.stringifyQuery||_v,o=n.history,i=Ea(),s=Ea(),c=Ea(),u=HE(Vn);let f=Vn;Ai&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ju.bind(null,z=>""+z),g=ju.bind(null,IR),p=ju.bind(null,Xl);function b(z,rt){let J,it;return vm(z)?(J=e.getRecordMatcher(z),it=rt):it=z,e.addRoute(it,J)}function _(z){const rt=e.getRecordMatcher(z);rt&&e.removeRoute(rt)}function w(){return e.getRoutes().map(z=>z.record)}function k(z){return!!e.getRecordMatcher(z)}function T(z,rt){if(rt=ce({},rt||u.value),typeof z=="string"){const Et=Zu(t,z,rt.path),E=e.resolve({path:Et.path},rt),I=o.createHref(Et.fullPath);return ce(Et,E,{params:p(E.params),hash:Xl(Et.hash),redirectedFrom:void 0,href:I})}let J;if("path"in z)J=ce({},z,{path:Zu(t,z.path,rt.path).path});else{const Et=ce({},z.params);for(const E in Et)Et[E]==null&&delete Et[E];J=ce({},z,{params:g(z.params)}),rt.params=g(rt.params)}const it=e.resolve(J,rt),It=z.hash||"";it.params=d(p(it.params));const Zt=WT(r,ce({},z,{hash:TR(It),path:it.path})),yt=o.createHref(Zt);return ce({fullPath:Zt,hash:It,query:r===_v?SR(z.query):z.query||{}},it,{redirectedFrom:void 0,href:yt})}function A(z){return typeof z=="string"?Zu(t,z,u.value.path):ce({},z)}function O(z,rt){if(f!==z)return Yi(8,{from:rt,to:z})}function P(z){return G(z)}function D(z){return P(ce(A(z),{replace:!0}))}function X(z){const rt=z.matched[z.matched.length-1];if(rt&&rt.redirect){const{redirect:J}=rt;let it=typeof J=="function"?J(z):J;return typeof it=="string"&&(it=it.includes("?")||it.includes("#")?it=A(it):{path:it},it.params={}),ce({query:z.query,hash:z.hash,params:z.params},it)}}function G(z,rt){const J=f=T(z),it=u.value,It=z.state,Zt=z.force,yt=z.replace===!0,Et=X(J);if(Et)return G(ce(A(Et),{state:It,force:Zt,replace:yt}),rt||J);const E=J;E.redirectedFrom=rt;let I;return!Zt&&UT(r,it,J)&&(I=Yi(16,{to:E,from:it}),Ot(it,it,!0,!1)),(I?Promise.resolve(I):K(E,it)).catch(M=>Hn(M)?Hn(M,2)?M:_t(M):tt(M,E,it)).then(M=>{if(M){if(Hn(M,2))return G(ce(A(M.to),{state:It,force:Zt,replace:yt}),rt||E)}else M=at(E,it,!0,yt,It);return et(E,it,M),M})}function F(z,rt){const J=O(z,rt);return J?Promise.reject(J):Promise.resolve()}function K(z,rt){let J;const[it,It,Zt]=GR(z,rt);J=$u(it.reverse(),"beforeRouteLeave",z,rt);for(const Et of it)Et.leaveGuards.forEach(E=>{J.push(to(E,z,rt))});const yt=F.bind(null,z,rt);return J.push(yt),yi(J).then(()=>{J=[];for(const Et of i.list())J.push(to(Et,z,rt));return J.push(yt),yi(J)}).then(()=>{J=$u(It,"beforeRouteUpdate",z,rt);for(const Et of It)Et.updateGuards.forEach(E=>{J.push(to(E,z,rt))});return J.push(yt),yi(J)}).then(()=>{J=[];for(const Et of z.matched)if(Et.beforeEnter&&!rt.matched.includes(Et))if(Array.isArray(Et.beforeEnter))for(const E of Et.beforeEnter)J.push(to(E,z,rt));else J.push(to(Et.beforeEnter,z,rt));return J.push(yt),yi(J)}).then(()=>(z.matched.forEach(Et=>Et.enterCallbacks={}),J=$u(Zt,"beforeRouteEnter",z,rt),J.push(yt),yi(J))).then(()=>{J=[];for(const Et of s.list())J.push(to(Et,z,rt));return J.push(yt),yi(J)}).catch(Et=>Hn(Et,8)?Et:Promise.reject(Et))}function et(z,rt,J){for(const it of c.list())it(z,rt,J)}function at(z,rt,J,it,It){const Zt=O(z,rt);if(Zt)return Zt;const yt=rt===Vn,Et=Ai?history.state:{};J&&(it||yt?o.replace(z.fullPath,ce({scroll:yt&&Et&&Et.scroll},It)):o.push(z.fullPath,It)),u.value=z,Ot(z,rt,J,yt),_t()}let ut;function ft(){ut||(ut=o.listen((z,rt,J)=>{const it=T(z),It=X(it);if(It){G(ce(It,{replace:!0}),it).catch(Ba);return}f=it;const Zt=u.value;Ai&&$T(dv(Zt.fullPath,J.delta),bc()),K(it,Zt).catch(yt=>Hn(yt,12)?yt:Hn(yt,2)?(G(yt.to,it).then(Et=>{Hn(Et,20)&&!J.delta&&J.type===qa.pop&&o.go(-1,!1)}).catch(Ba),Promise.reject()):(J.delta&&o.go(-J.delta,!1),tt(yt,it,Zt))).then(yt=>{yt=yt||at(it,Zt,!1),yt&&(J.delta?o.go(-J.delta,!1):J.type===qa.pop&&Hn(yt,20)&&o.go(-1,!1)),et(it,Zt,yt)}).catch(Ba)}))}let bt=Ea(),ot=Ea(),ht;function tt(z,rt,J){_t(z);const it=ot.list();return it.length?it.forEach(It=>It(z,rt,J)):console.error(z),Promise.reject(z)}function ct(){return ht&&u.value!==Vn?Promise.resolve():new Promise((z,rt)=>{bt.add([z,rt])})}function _t(z){return ht||(ht=!z,ft(),bt.list().forEach(([rt,J])=>z?J(z):rt()),bt.reset()),z}function Ot(z,rt,J,it){const{scrollBehavior:It}=n;if(!Ai||!It)return Promise.resolve();const Zt=!J&&qT(dv(z.fullPath,0))||(it||!J)&&history.state&&history.state.scroll||null;return mh().then(()=>It(z,rt,Zt)).then(yt=>yt&&ZT(yt)).catch(yt=>tt(yt,z,rt))}const St=z=>o.go(z);let Z;const Yt=new Set;return{currentRoute:u,addRoute:b,removeRoute:_,hasRoute:k,getRoutes:w,resolve:T,options:n,push:P,replace:D,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:i.add,beforeResolve:s.add,afterEach:c.add,onError:ot.add,isReady:ct,install(z){const rt=this;z.component("RouterLink",MR),z.component("RouterView",Em),z.config.globalProperties.$router=rt,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>on(u)}),Ai&&!Z&&u.value===Vn&&(Z=!0,P(o.location).catch(It=>{}));const J={};for(const It in Vn)J[It]=Yr(()=>u.value[It]);z.provide(Rh,rt),z.provide(dm,qi(J)),z.provide(Lf,u);const it=z.unmount;Yt.add(z),z.unmount=function(){Yt.delete(z),Yt.size<1&&(f=Vn,ut&&ut(),ut=null,u.value=Vn,Z=!1,ht=!1),it()}}}}function yi(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function GR(n,e){const t=[],r=[],o=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const c=e.matched[s];c&&(n.matched.find(f=>Ui(f,c))?r.push(c):t.push(c));const u=n.matched[s];u&&(e.matched.find(f=>Ui(f,u))||o.push(u))}return[t,r,o]}const BR=Ne("header",null,[Ne("div",{class:"wrapper"})],-1),WR={class:"container"},UR=cs({__name:"App",setup(n){return(e,t)=>(kh(),Eh(Ar,null,[BR,Ne("div",WR,[dr(on(Em))])],64))}}),YR=DT({id:"mappingArea",state:()=>({perimeter:null,trajectory:[],bandWidth:10,pointLeap:5}),getters:{},actions:{}});var Ca=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Vl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",g=1,p=2,b=4,_=1,w=2,k=1,T=2,A=4,O=8,P=16,D=32,X=64,G=128,F=256,K=512,et=30,at="...",ut=800,ft=16,bt=1,ot=2,ht=3,tt=1/0,ct=9007199254740991,_t=17976931348623157e292,Ot=0/0,St=4294967295,Z=St-1,Yt=St>>>1,kt=[["ary",G],["bind",k],["bindKey",T],["curry",O],["curryRight",P],["flip",K],["partial",D],["partialRight",X],["rearg",F]],z="[object Arguments]",rt="[object Array]",J="[object AsyncFunction]",it="[object Boolean]",It="[object Date]",Zt="[object DOMException]",yt="[object Error]",Et="[object Function]",E="[object GeneratorFunction]",I="[object Map]",M="[object Number]",V="[object Null]",W="[object Object]",Q="[object Promise]",nt="[object Proxy]",$="[object RegExp]",q="[object Set]",H="[object String]",pt="[object Symbol]",dt="[object Undefined]",vt="[object WeakMap]",xt="[object WeakSet]",Pt="[object ArrayBuffer]",Lt="[object DataView]",Nt="[object Float32Array]",Xt="[object Float64Array]",we="[object Int8Array]",de="[object Int16Array]",Fr="[object Int32Array]",se="[object Uint8Array]",ir="[object Uint8ClampedArray]",pe="[object Uint16Array]",Me="[object Uint32Array]",vo=/\b__p \+= '';/g,na=/\b(__p \+=) '' \+/g,Sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_s=/&(?:amp|lt|gt|quot|#39);/g,oa=/[&<>"']/g,ys=RegExp(_s.source),ia=RegExp(oa.source),xs=/<%-([\s\S]+?)%>/g,aa=/<%([\s\S]+?)%>/g,Mn=/<%=([\s\S]+?)%>/g,bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mo=/^\w*$/,ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,Pc=RegExp(ri.source),sa=/^\s+/,_o=/\s/,yo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,ni=/,? & /,oi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,la=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ks=/\w*$/,Es=/^[-+]0x[0-9a-f]+$/i,U0=/^0b[01]+$/i,Y0=/^\[object .+?Constructor\]$/,X0=/^0o[0-7]+$/i,V0=/^(?:0|[1-9]\d*)$/,H0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cs=/($^)/,K0=/['\n\r\u2028\u2029\\]/g,Ts="\\ud800-\\udfff",j0="\\u0300-\\u036f",Z0="\\ufe20-\\ufe2f",$0="\\u20d0-\\u20ff",sd=j0+Z0+$0,ld="\\u2700-\\u27bf",cd="a-z\\xdf-\\xf6\\xf8-\\xff",q0="\\xac\\xb1\\xd7\\xf7",J0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Q0="\\u2000-\\u206f",t_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ud="A-Z\\xc0-\\xd6\\xd8-\\xde",fd="\\ufe0e\\ufe0f",hd=q0+J0+Q0+t_,Lc="['\u2019]",e_="["+Ts+"]",dd="["+hd+"]",Rs="["+sd+"]",pd="\\d+",r_="["+ld+"]",gd="["+cd+"]",vd="[^"+Ts+hd+pd+ld+cd+ud+"]",Mc="\\ud83c[\\udffb-\\udfff]",n_="(?:"+Rs+"|"+Mc+")",bd="[^"+Ts+"]",Fc="(?:\\ud83c[\\udde6-\\uddff]){2}",Dc="[\\ud800-\\udbff][\\udc00-\\udfff]",ii="["+ud+"]",md="\\u200d",_d="(?:"+gd+"|"+vd+")",o_="(?:"+ii+"|"+vd+")",yd="(?:"+Lc+"(?:d|ll|m|re|s|t|ve))?",xd="(?:"+Lc+"(?:D|LL|M|RE|S|T|VE))?",wd=n_+"?",kd="["+fd+"]?",i_="(?:"+md+"(?:"+[bd,Fc,Dc].join("|")+")"+kd+wd+")*",a_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ed=kd+wd+i_,l_="(?:"+[r_,Fc,Dc].join("|")+")"+Ed,c_="(?:"+[bd+Rs+"?",Rs,Fc,Dc,e_].join("|")+")",u_=RegExp(Lc,"g"),f_=RegExp(Rs,"g"),Nc=RegExp(Mc+"(?="+Mc+")|"+c_+Ed,"g"),h_=RegExp([ii+"?"+gd+"+"+yd+"(?="+[dd,ii,"$"].join("|")+")",o_+"+"+xd+"(?="+[dd,ii+_d,"$"].join("|")+")",ii+"?"+_d+"+"+yd,ii+"+"+xd,s_,a_,pd,l_].join("|"),"g"),d_=RegExp("["+md+Ts+sd+fd+"]"),p_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,g_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],v_=-1,ge={};ge[Nt]=ge[Xt]=ge[we]=ge[de]=ge[Fr]=ge[se]=ge[ir]=ge[pe]=ge[Me]=!0,ge[z]=ge[rt]=ge[Pt]=ge[it]=ge[Lt]=ge[It]=ge[yt]=ge[Et]=ge[I]=ge[M]=ge[W]=ge[$]=ge[q]=ge[H]=ge[vt]=!1;var fe={};fe[z]=fe[rt]=fe[Pt]=fe[Lt]=fe[it]=fe[It]=fe[Nt]=fe[Xt]=fe[we]=fe[de]=fe[Fr]=fe[I]=fe[M]=fe[W]=fe[$]=fe[q]=fe[H]=fe[pt]=fe[se]=fe[ir]=fe[pe]=fe[Me]=!0,fe[yt]=fe[Et]=fe[vt]=!1;var b_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},m_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},__={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},y_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},x_=parseFloat,w_=parseInt,Cd=typeof Ca=="object"&&Ca&&Ca.Object===Object&&Ca,k_=typeof self=="object"&&self&&self.Object===Object&&self,Fe=Cd||k_||Function("return this")(),zc=e&&!e.nodeType&&e,xo=zc&&!0&&n&&!n.nodeType&&n,Td=xo&&xo.exports===zc,Gc=Td&&Cd.process,br=function(){try{var S=xo&&xo.require&&xo.require("util").types;return S||Gc&&Gc.binding&&Gc.binding("util")}catch{}}(),Rd=br&&br.isArrayBuffer,Ad=br&&br.isDate,Id=br&&br.isMap,Od=br&&br.isRegExp,Sd=br&&br.isSet,Pd=br&&br.isTypedArray;function ar(S,B,N){switch(N.length){case 0:return S.call(B);case 1:return S.call(B,N[0]);case 2:return S.call(B,N[0],N[1]);case 3:return S.call(B,N[0],N[1],N[2])}return S.apply(B,N)}function E_(S,B,N,gt){for(var Mt=-1,re=S==null?0:S.length;++Mt<re;){var Ie=S[Mt];B(gt,Ie,N(Ie),S)}return gt}function mr(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt&&B(S[N],N,S)!==!1;);return S}function C_(S,B){for(var N=S==null?0:S.length;N--&&B(S[N],N,S)!==!1;);return S}function Ld(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(!B(S[N],N,S))return!1;return!0}function Fn(S,B){for(var N=-1,gt=S==null?0:S.length,Mt=0,re=[];++N<gt;){var Ie=S[N];B(Ie,N,S)&&(re[Mt++]=Ie)}return re}function As(S,B){var N=S==null?0:S.length;return!!N&&ai(S,B,0)>-1}function Bc(S,B,N){for(var gt=-1,Mt=S==null?0:S.length;++gt<Mt;)if(N(B,S[gt]))return!0;return!1}function ve(S,B){for(var N=-1,gt=S==null?0:S.length,Mt=Array(gt);++N<gt;)Mt[N]=B(S[N],N,S);return Mt}function Dn(S,B){for(var N=-1,gt=B.length,Mt=S.length;++N<gt;)S[Mt+N]=B[N];return S}function Wc(S,B,N,gt){var Mt=-1,re=S==null?0:S.length;for(gt&&re&&(N=S[++Mt]);++Mt<re;)N=B(N,S[Mt],Mt,S);return N}function T_(S,B,N,gt){var Mt=S==null?0:S.length;for(gt&&Mt&&(N=S[--Mt]);Mt--;)N=B(N,S[Mt],Mt,S);return N}function Uc(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(B(S[N],N,S))return!0;return!1}var R_=Yc("length");function A_(S){return S.split("")}function I_(S){return S.match(oi)||[]}function Md(S,B,N){var gt;return N(S,function(Mt,re,Ie){if(B(Mt,re,Ie))return gt=re,!1}),gt}function Is(S,B,N,gt){for(var Mt=S.length,re=N+(gt?1:-1);gt?re--:++re<Mt;)if(B(S[re],re,S))return re;return-1}function ai(S,B,N){return B===B?W_(S,B,N):Is(S,Fd,N)}function O_(S,B,N,gt){for(var Mt=N-1,re=S.length;++Mt<re;)if(gt(S[Mt],B))return Mt;return-1}function Fd(S){return S!==S}function Dd(S,B){var N=S==null?0:S.length;return N?Vc(S,B)/N:Ot}function Yc(S){return function(B){return B==null?t:B[S]}}function Xc(S){return function(B){return S==null?t:S[B]}}function Nd(S,B,N,gt,Mt){return Mt(S,function(re,Ie,le){N=gt?(gt=!1,re):B(N,re,Ie,le)}),N}function S_(S,B){var N=S.length;for(S.sort(B);N--;)S[N]=S[N].value;return S}function Vc(S,B){for(var N,gt=-1,Mt=S.length;++gt<Mt;){var re=B(S[gt]);re!==t&&(N=N===t?re:N+re)}return N}function Hc(S,B){for(var N=-1,gt=Array(S);++N<S;)gt[N]=B(N);return gt}function P_(S,B){return ve(B,function(N){return[N,S[N]]})}function zd(S){return S&&S.slice(0,Ud(S)+1).replace(sa,"")}function sr(S){return function(B){return S(B)}}function Kc(S,B){return ve(B,function(N){return S[N]})}function ca(S,B){return S.has(B)}function Gd(S,B){for(var N=-1,gt=S.length;++N<gt&&ai(B,S[N],0)>-1;);return N}function Bd(S,B){for(var N=S.length;N--&&ai(B,S[N],0)>-1;);return N}function L_(S,B){for(var N=S.length,gt=0;N--;)S[N]===B&&++gt;return gt}var M_=Xc(b_),F_=Xc(m_);function D_(S){return"\\"+y_[S]}function N_(S,B){return S==null?t:S[B]}function si(S){return d_.test(S)}function z_(S){return p_.test(S)}function G_(S){for(var B,N=[];!(B=S.next()).done;)N.push(B.value);return N}function jc(S){var B=-1,N=Array(S.size);return S.forEach(function(gt,Mt){N[++B]=[Mt,gt]}),N}function Wd(S,B){return function(N){return S(B(N))}}function Nn(S,B){for(var N=-1,gt=S.length,Mt=0,re=[];++N<gt;){var Ie=S[N];(Ie===B||Ie===d)&&(S[N]=d,re[Mt++]=N)}return re}function Os(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=gt}),N}function B_(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=[gt,gt]}),N}function W_(S,B,N){for(var gt=N-1,Mt=S.length;++gt<Mt;)if(S[gt]===B)return gt;return-1}function U_(S,B,N){for(var gt=N+1;gt--;)if(S[gt]===B)return gt;return gt}function li(S){return si(S)?X_(S):R_(S)}function Dr(S){return si(S)?V_(S):A_(S)}function Ud(S){for(var B=S.length;B--&&_o.test(S.charAt(B)););return B}var Y_=Xc(__);function X_(S){for(var B=Nc.lastIndex=0;Nc.test(S);)++B;return B}function V_(S){return S.match(Nc)||[]}function H_(S){return S.match(h_)||[]}var K_=function S(B){B=B==null?Fe:ci.defaults(Fe.Object(),B,ci.pick(Fe,g_));var N=B.Array,gt=B.Date,Mt=B.Error,re=B.Function,Ie=B.Math,le=B.Object,Zc=B.RegExp,j_=B.String,_r=B.TypeError,Ss=N.prototype,Z_=re.prototype,ui=le.prototype,Ps=B["__core-js_shared__"],Ls=Z_.toString,ie=ui.hasOwnProperty,$_=0,Yd=function(){var a=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ms=ui.toString,q_=Ls.call(le),J_=Fe._,Q_=Zc("^"+Ls.call(ie).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fs=Td?B.Buffer:t,zn=B.Symbol,Ds=B.Uint8Array,Xd=Fs?Fs.allocUnsafe:t,Ns=Wd(le.getPrototypeOf,le),Vd=le.create,Hd=ui.propertyIsEnumerable,zs=Ss.splice,Kd=zn?zn.isConcatSpreadable:t,ua=zn?zn.iterator:t,wo=zn?zn.toStringTag:t,Gs=function(){try{var a=Ro(le,"defineProperty");return a({},"",{}),a}catch{}}(),ty=B.clearTimeout!==Fe.clearTimeout&&B.clearTimeout,ey=gt&&gt.now!==Fe.Date.now&&gt.now,ry=B.setTimeout!==Fe.setTimeout&&B.setTimeout,Bs=Ie.ceil,Ws=Ie.floor,$c=le.getOwnPropertySymbols,ny=Fs?Fs.isBuffer:t,jd=B.isFinite,oy=Ss.join,iy=Wd(le.keys,le),Oe=Ie.max,Be=Ie.min,ay=gt.now,sy=B.parseInt,Zd=Ie.random,ly=Ss.reverse,qc=Ro(B,"DataView"),fa=Ro(B,"Map"),Jc=Ro(B,"Promise"),fi=Ro(B,"Set"),ha=Ro(B,"WeakMap"),da=Ro(le,"create"),Us=ha&&new ha,hi={},cy=Ao(qc),uy=Ao(fa),fy=Ao(Jc),hy=Ao(fi),dy=Ao(ha),Ys=zn?zn.prototype:t,pa=Ys?Ys.valueOf:t,$d=Ys?Ys.toString:t;function y(a){if(ye(a)&&!Ft(a)&&!(a instanceof Ht)){if(a instanceof yr)return a;if(ie.call(a,"__wrapped__"))return qp(a)}return new yr(a)}var di=function(){function a(){}return function(l){if(!me(l))return{};if(Vd)return Vd(l);a.prototype=l;var h=new a;return a.prototype=t,h}}();function Xs(){}function yr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}y.templateSettings={escape:xs,evaluate:aa,interpolate:Mn,variable:"",imports:{_:y}},y.prototype=Xs.prototype,y.prototype.constructor=y,yr.prototype=di(Xs.prototype),yr.prototype.constructor=yr;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function py(){var a=new Ht(this.__wrapped__);return a.__actions__=Qe(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Qe(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Qe(this.__views__),a}function gy(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function vy(){var a=this.__wrapped__.value(),l=this.__dir__,h=Ft(a),v=l<0,m=h?a.length:0,x=Ax(0,m,this.__views__),C=x.start,R=x.end,L=R-C,U=v?R:C-1,Y=this.__iteratees__,j=Y.length,st=0,mt=Be(L,this.__takeCount__);if(!h||!v&&m==L&&mt==L)return yp(a,this.__actions__);var Ct=[];t:for(;L--&&st<mt;){U+=l;for(var Bt=-1,Tt=a[U];++Bt<j;){var Vt=Y[Bt],$t=Vt.iteratee,ur=Vt.type,Ze=$t(Tt);if(ur==ot)Tt=Ze;else if(!Ze){if(ur==bt)continue t;break t}}Ct[st++]=Tt}return Ct}Ht.prototype=di(Xs.prototype),Ht.prototype.constructor=Ht;function ko(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function by(){this.__data__=da?da(null):{},this.size=0}function my(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function _y(a){var l=this.__data__;if(da){var h=l[a];return h===u?t:h}return ie.call(l,a)?l[a]:t}function yy(a){var l=this.__data__;return da?l[a]!==t:ie.call(l,a)}function xy(a,l){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=da&&l===t?u:l,this}ko.prototype.clear=by,ko.prototype.delete=my,ko.prototype.get=_y,ko.prototype.has=yy,ko.prototype.set=xy;function un(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function wy(){this.__data__=[],this.size=0}function ky(a){var l=this.__data__,h=Vs(l,a);if(h<0)return!1;var v=l.length-1;return h==v?l.pop():zs.call(l,h,1),--this.size,!0}function Ey(a){var l=this.__data__,h=Vs(l,a);return h<0?t:l[h][1]}function Cy(a){return Vs(this.__data__,a)>-1}function Ty(a,l){var h=this.__data__,v=Vs(h,a);return v<0?(++this.size,h.push([a,l])):h[v][1]=l,this}un.prototype.clear=wy,un.prototype.delete=ky,un.prototype.get=Ey,un.prototype.has=Cy,un.prototype.set=Ty;function fn(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var v=a[l];this.set(v[0],v[1])}}function Ry(){this.size=0,this.__data__={hash:new ko,map:new(fa||un),string:new ko}}function Ay(a){var l=nl(this,a).delete(a);return this.size-=l?1:0,l}function Iy(a){return nl(this,a).get(a)}function Oy(a){return nl(this,a).has(a)}function Sy(a,l){var h=nl(this,a),v=h.size;return h.set(a,l),this.size+=h.size==v?0:1,this}fn.prototype.clear=Ry,fn.prototype.delete=Ay,fn.prototype.get=Iy,fn.prototype.has=Oy,fn.prototype.set=Sy;function Eo(a){var l=-1,h=a==null?0:a.length;for(this.__data__=new fn;++l<h;)this.add(a[l])}function Py(a){return this.__data__.set(a,u),this}function Ly(a){return this.__data__.has(a)}Eo.prototype.add=Eo.prototype.push=Py,Eo.prototype.has=Ly;function Nr(a){var l=this.__data__=new un(a);this.size=l.size}function My(){this.__data__=new un,this.size=0}function Fy(a){var l=this.__data__,h=l.delete(a);return this.size=l.size,h}function Dy(a){return this.__data__.get(a)}function Ny(a){return this.__data__.has(a)}function zy(a,l){var h=this.__data__;if(h instanceof un){var v=h.__data__;if(!fa||v.length<o-1)return v.push([a,l]),this.size=++h.size,this;h=this.__data__=new fn(v)}return h.set(a,l),this.size=h.size,this}Nr.prototype.clear=My,Nr.prototype.delete=Fy,Nr.prototype.get=Dy,Nr.prototype.has=Ny,Nr.prototype.set=zy;function qd(a,l){var h=Ft(a),v=!h&&Io(a),m=!h&&!v&&Yn(a),x=!h&&!v&&!m&&bi(a),C=h||v||m||x,R=C?Hc(a.length,j_):[],L=R.length;for(var U in a)(l||ie.call(a,U))&&!(C&&(U=="length"||m&&(U=="offset"||U=="parent")||x&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||gn(U,L)))&&R.push(U);return R}function Jd(a){var l=a.length;return l?a[cu(0,l-1)]:t}function Gy(a,l){return ol(Qe(a),Co(l,0,a.length))}function By(a){return ol(Qe(a))}function Qc(a,l,h){(h!==t&&!zr(a[l],h)||h===t&&!(l in a))&&hn(a,l,h)}function ga(a,l,h){var v=a[l];(!(ie.call(a,l)&&zr(v,h))||h===t&&!(l in a))&&hn(a,l,h)}function Vs(a,l){for(var h=a.length;h--;)if(zr(a[h][0],l))return h;return-1}function Wy(a,l,h,v){return Gn(a,function(m,x,C){l(v,m,h(m),C)}),v}function Qd(a,l){return a&&Jr(l,Se(l),a)}function Uy(a,l){return a&&Jr(l,er(l),a)}function hn(a,l,h){l=="__proto__"&&Gs?Gs(a,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[l]=h}function tu(a,l){for(var h=-1,v=l.length,m=N(v),x=a==null;++h<v;)m[h]=x?t:Mu(a,l[h]);return m}function Co(a,l,h){return a===a&&(h!==t&&(a=a<=h?a:h),l!==t&&(a=a>=l?a:l)),a}function xr(a,l,h,v,m,x){var C,R=l&g,L=l&p,U=l&b;if(h&&(C=m?h(a,v,m,x):h(a)),C!==t)return C;if(!me(a))return a;var Y=Ft(a);if(Y){if(C=Ox(a),!R)return Qe(a,C)}else{var j=We(a),st=j==Et||j==E;if(Yn(a))return kp(a,R);if(j==W||j==z||st&&!m){if(C=L||st?{}:Up(a),!R)return L?_x(a,Uy(C,a)):mx(a,Qd(C,a))}else{if(!fe[j])return m?a:{};C=Sx(a,j,R)}}x||(x=new Nr);var mt=x.get(a);if(mt)return mt;x.set(a,C),bg(a)?a.forEach(function(Tt){C.add(xr(Tt,l,h,Tt,a,x))}):gg(a)&&a.forEach(function(Tt,Vt){C.set(Vt,xr(Tt,l,h,Vt,a,x))});var Ct=U?L?yu:_u:L?er:Se,Bt=Y?t:Ct(a);return mr(Bt||a,function(Tt,Vt){Bt&&(Vt=Tt,Tt=a[Vt]),ga(C,Vt,xr(Tt,l,h,Vt,a,x))}),C}function Yy(a){var l=Se(a);return function(h){return tp(h,a,l)}}function tp(a,l,h){var v=h.length;if(a==null)return!v;for(a=le(a);v--;){var m=h[v],x=l[m],C=a[m];if(C===t&&!(m in a)||!x(C))return!1}return!0}function ep(a,l,h){if(typeof a!="function")throw new _r(s);return wa(function(){a.apply(t,h)},l)}function va(a,l,h,v){var m=-1,x=As,C=!0,R=a.length,L=[],U=l.length;if(!R)return L;h&&(l=ve(l,sr(h))),v?(x=Bc,C=!1):l.length>=o&&(x=ca,C=!1,l=new Eo(l));t:for(;++m<R;){var Y=a[m],j=h==null?Y:h(Y);if(Y=v||Y!==0?Y:0,C&&j===j){for(var st=U;st--;)if(l[st]===j)continue t;L.push(Y)}else x(l,j,v)||L.push(Y)}return L}var Gn=Ap(qr),rp=Ap(ru,!0);function Xy(a,l){var h=!0;return Gn(a,function(v,m,x){return h=!!l(v,m,x),h}),h}function Hs(a,l,h){for(var v=-1,m=a.length;++v<m;){var x=a[v],C=l(x);if(C!=null&&(R===t?C===C&&!cr(C):h(C,R)))var R=C,L=x}return L}function Vy(a,l,h,v){var m=a.length;for(h=Gt(h),h<0&&(h=-h>m?0:m+h),v=v===t||v>m?m:Gt(v),v<0&&(v+=m),v=h>v?0:_g(v);h<v;)a[h++]=l;return a}function np(a,l){var h=[];return Gn(a,function(v,m,x){l(v,m,x)&&h.push(v)}),h}function De(a,l,h,v,m){var x=-1,C=a.length;for(h||(h=Lx),m||(m=[]);++x<C;){var R=a[x];l>0&&h(R)?l>1?De(R,l-1,h,v,m):Dn(m,R):v||(m[m.length]=R)}return m}var eu=Ip(),op=Ip(!0);function qr(a,l){return a&&eu(a,l,Se)}function ru(a,l){return a&&op(a,l,Se)}function Ks(a,l){return Fn(l,function(h){return vn(a[h])})}function To(a,l){l=Wn(l,a);for(var h=0,v=l.length;a!=null&&h<v;)a=a[Qr(l[h++])];return h&&h==v?a:t}function ip(a,l,h){var v=l(a);return Ft(a)?v:Dn(v,h(a))}function Ke(a){return a==null?a===t?dt:V:wo&&wo in le(a)?Rx(a):Bx(a)}function nu(a,l){return a>l}function Hy(a,l){return a!=null&&ie.call(a,l)}function Ky(a,l){return a!=null&&l in le(a)}function jy(a,l,h){return a>=Be(l,h)&&a<Oe(l,h)}function ou(a,l,h){for(var v=h?Bc:As,m=a[0].length,x=a.length,C=x,R=N(x),L=1/0,U=[];C--;){var Y=a[C];C&&l&&(Y=ve(Y,sr(l))),L=Be(Y.length,L),R[C]=!h&&(l||m>=120&&Y.length>=120)?new Eo(C&&Y):t}Y=a[0];var j=-1,st=R[0];t:for(;++j<m&&U.length<L;){var mt=Y[j],Ct=l?l(mt):mt;if(mt=h||mt!==0?mt:0,!(st?ca(st,Ct):v(U,Ct,h))){for(C=x;--C;){var Bt=R[C];if(!(Bt?ca(Bt,Ct):v(a[C],Ct,h)))continue t}st&&st.push(Ct),U.push(mt)}}return U}function Zy(a,l,h,v){return qr(a,function(m,x,C){l(v,h(m),x,C)}),v}function ba(a,l,h){l=Wn(l,a),a=Hp(a,l);var v=a==null?a:a[Qr(kr(l))];return v==null?t:ar(v,a,h)}function ap(a){return ye(a)&&Ke(a)==z}function $y(a){return ye(a)&&Ke(a)==Pt}function qy(a){return ye(a)&&Ke(a)==It}function ma(a,l,h,v,m){return a===l?!0:a==null||l==null||!ye(a)&&!ye(l)?a!==a&&l!==l:Jy(a,l,h,v,ma,m)}function Jy(a,l,h,v,m,x){var C=Ft(a),R=Ft(l),L=C?rt:We(a),U=R?rt:We(l);L=L==z?W:L,U=U==z?W:U;var Y=L==W,j=U==W,st=L==U;if(st&&Yn(a)){if(!Yn(l))return!1;C=!0,Y=!1}if(st&&!Y)return x||(x=new Nr),C||bi(a)?Gp(a,l,h,v,m,x):Cx(a,l,L,h,v,m,x);if(!(h&_)){var mt=Y&&ie.call(a,"__wrapped__"),Ct=j&&ie.call(l,"__wrapped__");if(mt||Ct){var Bt=mt?a.value():a,Tt=Ct?l.value():l;return x||(x=new Nr),m(Bt,Tt,h,v,x)}}return st?(x||(x=new Nr),Tx(a,l,h,v,m,x)):!1}function Qy(a){return ye(a)&&We(a)==I}function iu(a,l,h,v){var m=h.length,x=m,C=!v;if(a==null)return!x;for(a=le(a);m--;){var R=h[m];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++m<x;){R=h[m];var L=R[0],U=a[L],Y=R[1];if(C&&R[2]){if(U===t&&!(L in a))return!1}else{var j=new Nr;if(v)var st=v(U,Y,L,a,l,j);if(!(st===t?ma(Y,U,_|w,v,j):st))return!1}}return!0}function sp(a){if(!me(a)||Fx(a))return!1;var l=vn(a)?Q_:Y0;return l.test(Ao(a))}function tx(a){return ye(a)&&Ke(a)==$}function ex(a){return ye(a)&&We(a)==q}function rx(a){return ye(a)&&ul(a.length)&&!!ge[Ke(a)]}function lp(a){return typeof a=="function"?a:a==null?rr:typeof a=="object"?Ft(a)?fp(a[0],a[1]):up(a):Og(a)}function au(a){if(!xa(a))return iy(a);var l=[];for(var h in le(a))ie.call(a,h)&&h!="constructor"&&l.push(h);return l}function nx(a){if(!me(a))return Gx(a);var l=xa(a),h=[];for(var v in a)v=="constructor"&&(l||!ie.call(a,v))||h.push(v);return h}function su(a,l){return a<l}function cp(a,l){var h=-1,v=tr(a)?N(a.length):[];return Gn(a,function(m,x,C){v[++h]=l(m,x,C)}),v}function up(a){var l=wu(a);return l.length==1&&l[0][2]?Xp(l[0][0],l[0][1]):function(h){return h===a||iu(h,a,l)}}function fp(a,l){return Eu(a)&&Yp(l)?Xp(Qr(a),l):function(h){var v=Mu(h,a);return v===t&&v===l?Fu(h,a):ma(l,v,_|w)}}function js(a,l,h,v,m){a!==l&&eu(l,function(x,C){if(m||(m=new Nr),me(x))ox(a,l,C,h,js,v,m);else{var R=v?v(Tu(a,C),x,C+"",a,l,m):t;R===t&&(R=x),Qc(a,C,R)}},er)}function ox(a,l,h,v,m,x,C){var R=Tu(a,h),L=Tu(l,h),U=C.get(L);if(U){Qc(a,h,U);return}var Y=x?x(R,L,h+"",a,l,C):t,j=Y===t;if(j){var st=Ft(L),mt=!st&&Yn(L),Ct=!st&&!mt&&bi(L);Y=L,st||mt||Ct?Ft(R)?Y=R:ke(R)?Y=Qe(R):mt?(j=!1,Y=kp(L,!0)):Ct?(j=!1,Y=Ep(L,!0)):Y=[]:ka(L)||Io(L)?(Y=R,Io(R)?Y=yg(R):(!me(R)||vn(R))&&(Y=Up(L))):j=!1}j&&(C.set(L,Y),m(Y,L,v,x,C),C.delete(L)),Qc(a,h,Y)}function hp(a,l){var h=a.length;if(!!h)return l+=l<0?h:0,gn(l,h)?a[l]:t}function dp(a,l,h){l.length?l=ve(l,function(x){return Ft(x)?function(C){return To(C,x.length===1?x[0]:x)}:x}):l=[rr];var v=-1;l=ve(l,sr(wt()));var m=cp(a,function(x,C,R){var L=ve(l,function(U){return U(x)});return{criteria:L,index:++v,value:x}});return S_(m,function(x,C){return bx(x,C,h)})}function ix(a,l){return pp(a,l,function(h,v){return Fu(a,v)})}function pp(a,l,h){for(var v=-1,m=l.length,x={};++v<m;){var C=l[v],R=To(a,C);h(R,C)&&_a(x,Wn(C,a),R)}return x}function ax(a){return function(l){return To(l,a)}}function lu(a,l,h,v){var m=v?O_:ai,x=-1,C=l.length,R=a;for(a===l&&(l=Qe(l)),h&&(R=ve(a,sr(h)));++x<C;)for(var L=0,U=l[x],Y=h?h(U):U;(L=m(R,Y,L,v))>-1;)R!==a&&zs.call(R,L,1),zs.call(a,L,1);return a}function gp(a,l){for(var h=a?l.length:0,v=h-1;h--;){var m=l[h];if(h==v||m!==x){var x=m;gn(m)?zs.call(a,m,1):hu(a,m)}}return a}function cu(a,l){return a+Ws(Zd()*(l-a+1))}function sx(a,l,h,v){for(var m=-1,x=Oe(Bs((l-a)/(h||1)),0),C=N(x);x--;)C[v?x:++m]=a,a+=h;return C}function uu(a,l){var h="";if(!a||l<1||l>ct)return h;do l%2&&(h+=a),l=Ws(l/2),l&&(a+=a);while(l);return h}function Wt(a,l){return Ru(Vp(a,l,rr),a+"")}function lx(a){return Jd(mi(a))}function cx(a,l){var h=mi(a);return ol(h,Co(l,0,h.length))}function _a(a,l,h,v){if(!me(a))return a;l=Wn(l,a);for(var m=-1,x=l.length,C=x-1,R=a;R!=null&&++m<x;){var L=Qr(l[m]),U=h;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(m!=C){var Y=R[L];U=v?v(Y,L,R):t,U===t&&(U=me(Y)?Y:gn(l[m+1])?[]:{})}ga(R,L,U),R=R[L]}return a}var vp=Us?function(a,l){return Us.set(a,l),a}:rr,ux=Gs?function(a,l){return Gs(a,"toString",{configurable:!0,enumerable:!1,value:Nu(l),writable:!0})}:rr;function fx(a){return ol(mi(a))}function wr(a,l,h){var v=-1,m=a.length;l<0&&(l=-l>m?0:m+l),h=h>m?m:h,h<0&&(h+=m),m=l>h?0:h-l>>>0,l>>>=0;for(var x=N(m);++v<m;)x[v]=a[v+l];return x}function hx(a,l){var h;return Gn(a,function(v,m,x){return h=l(v,m,x),!h}),!!h}function Zs(a,l,h){var v=0,m=a==null?v:a.length;if(typeof l=="number"&&l===l&&m<=Yt){for(;v<m;){var x=v+m>>>1,C=a[x];C!==null&&!cr(C)&&(h?C<=l:C<l)?v=x+1:m=x}return m}return fu(a,l,rr,h)}function fu(a,l,h,v){var m=0,x=a==null?0:a.length;if(x===0)return 0;l=h(l);for(var C=l!==l,R=l===null,L=cr(l),U=l===t;m<x;){var Y=Ws((m+x)/2),j=h(a[Y]),st=j!==t,mt=j===null,Ct=j===j,Bt=cr(j);if(C)var Tt=v||Ct;else U?Tt=Ct&&(v||st):R?Tt=Ct&&st&&(v||!mt):L?Tt=Ct&&st&&!mt&&(v||!Bt):mt||Bt?Tt=!1:Tt=v?j<=l:j<l;Tt?m=Y+1:x=Y}return Be(x,Z)}function bp(a,l){for(var h=-1,v=a.length,m=0,x=[];++h<v;){var C=a[h],R=l?l(C):C;if(!h||!zr(R,L)){var L=R;x[m++]=C===0?0:C}}return x}function mp(a){return typeof a=="number"?a:cr(a)?Ot:+a}function lr(a){if(typeof a=="string")return a;if(Ft(a))return ve(a,lr)+"";if(cr(a))return $d?$d.call(a):"";var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function Bn(a,l,h){var v=-1,m=As,x=a.length,C=!0,R=[],L=R;if(h)C=!1,m=Bc;else if(x>=o){var U=l?null:kx(a);if(U)return Os(U);C=!1,m=ca,L=new Eo}else L=l?[]:R;t:for(;++v<x;){var Y=a[v],j=l?l(Y):Y;if(Y=h||Y!==0?Y:0,C&&j===j){for(var st=L.length;st--;)if(L[st]===j)continue t;l&&L.push(j),R.push(Y)}else m(L,j,h)||(L!==R&&L.push(j),R.push(Y))}return R}function hu(a,l){return l=Wn(l,a),a=Hp(a,l),a==null||delete a[Qr(kr(l))]}function _p(a,l,h,v){return _a(a,l,h(To(a,l)),v)}function $s(a,l,h,v){for(var m=a.length,x=v?m:-1;(v?x--:++x<m)&&l(a[x],x,a););return h?wr(a,v?0:x,v?x+1:m):wr(a,v?x+1:0,v?m:x)}function yp(a,l){var h=a;return h instanceof Ht&&(h=h.value()),Wc(l,function(v,m){return m.func.apply(m.thisArg,Dn([v],m.args))},h)}function du(a,l,h){var v=a.length;if(v<2)return v?Bn(a[0]):[];for(var m=-1,x=N(v);++m<v;)for(var C=a[m],R=-1;++R<v;)R!=m&&(x[m]=va(x[m]||C,a[R],l,h));return Bn(De(x,1),l,h)}function xp(a,l,h){for(var v=-1,m=a.length,x=l.length,C={};++v<m;){var R=v<x?l[v]:t;h(C,a[v],R)}return C}function pu(a){return ke(a)?a:[]}function gu(a){return typeof a=="function"?a:rr}function Wn(a,l){return Ft(a)?a:Eu(a,l)?[a]:$p(oe(a))}var dx=Wt;function Un(a,l,h){var v=a.length;return h=h===t?v:h,!l&&h>=v?a:wr(a,l,h)}var wp=ty||function(a){return Fe.clearTimeout(a)};function kp(a,l){if(l)return a.slice();var h=a.length,v=Xd?Xd(h):new a.constructor(h);return a.copy(v),v}function vu(a){var l=new a.constructor(a.byteLength);return new Ds(l).set(new Ds(a)),l}function px(a,l){var h=l?vu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function gx(a){var l=new a.constructor(a.source,ks.exec(a));return l.lastIndex=a.lastIndex,l}function vx(a){return pa?le(pa.call(a)):{}}function Ep(a,l){var h=l?vu(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function Cp(a,l){if(a!==l){var h=a!==t,v=a===null,m=a===a,x=cr(a),C=l!==t,R=l===null,L=l===l,U=cr(l);if(!R&&!U&&!x&&a>l||x&&C&&L&&!R&&!U||v&&C&&L||!h&&L||!m)return 1;if(!v&&!x&&!U&&a<l||U&&h&&m&&!v&&!x||R&&h&&m||!C&&m||!L)return-1}return 0}function bx(a,l,h){for(var v=-1,m=a.criteria,x=l.criteria,C=m.length,R=h.length;++v<C;){var L=Cp(m[v],x[v]);if(L){if(v>=R)return L;var U=h[v];return L*(U=="desc"?-1:1)}}return a.index-l.index}function Tp(a,l,h,v){for(var m=-1,x=a.length,C=h.length,R=-1,L=l.length,U=Oe(x-C,0),Y=N(L+U),j=!v;++R<L;)Y[R]=l[R];for(;++m<C;)(j||m<x)&&(Y[h[m]]=a[m]);for(;U--;)Y[R++]=a[m++];return Y}function Rp(a,l,h,v){for(var m=-1,x=a.length,C=-1,R=h.length,L=-1,U=l.length,Y=Oe(x-R,0),j=N(Y+U),st=!v;++m<Y;)j[m]=a[m];for(var mt=m;++L<U;)j[mt+L]=l[L];for(;++C<R;)(st||m<x)&&(j[mt+h[C]]=a[m++]);return j}function Qe(a,l){var h=-1,v=a.length;for(l||(l=N(v));++h<v;)l[h]=a[h];return l}function Jr(a,l,h,v){var m=!h;h||(h={});for(var x=-1,C=l.length;++x<C;){var R=l[x],L=v?v(h[R],a[R],R,h,a):t;L===t&&(L=a[R]),m?hn(h,R,L):ga(h,R,L)}return h}function mx(a,l){return Jr(a,ku(a),l)}function _x(a,l){return Jr(a,Bp(a),l)}function qs(a,l){return function(h,v){var m=Ft(h)?E_:Wy,x=l?l():{};return m(h,a,wt(v,2),x)}}function pi(a){return Wt(function(l,h){var v=-1,m=h.length,x=m>1?h[m-1]:t,C=m>2?h[2]:t;for(x=a.length>3&&typeof x=="function"?(m--,x):t,C&&je(h[0],h[1],C)&&(x=m<3?t:x,m=1),l=le(l);++v<m;){var R=h[v];R&&a(l,R,v,x)}return l})}function Ap(a,l){return function(h,v){if(h==null)return h;if(!tr(h))return a(h,v);for(var m=h.length,x=l?m:-1,C=le(h);(l?x--:++x<m)&&v(C[x],x,C)!==!1;);return h}}function Ip(a){return function(l,h,v){for(var m=-1,x=le(l),C=v(l),R=C.length;R--;){var L=C[a?R:++m];if(h(x[L],L,x)===!1)break}return l}}function yx(a,l,h){var v=l&k,m=ya(a);function x(){var C=this&&this!==Fe&&this instanceof x?m:a;return C.apply(v?h:this,arguments)}return x}function Op(a){return function(l){l=oe(l);var h=si(l)?Dr(l):t,v=h?h[0]:l.charAt(0),m=h?Un(h,1).join(""):l.slice(1);return v[a]()+m}}function gi(a){return function(l){return Wc(Ag(Rg(l).replace(u_,"")),a,"")}}function ya(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=di(a.prototype),v=a.apply(h,l);return me(v)?v:h}}function xx(a,l,h){var v=ya(a);function m(){for(var x=arguments.length,C=N(x),R=x,L=vi(m);R--;)C[R]=arguments[R];var U=x<3&&C[0]!==L&&C[x-1]!==L?[]:Nn(C,L);if(x-=U.length,x<h)return Fp(a,l,Js,m.placeholder,t,C,U,t,t,h-x);var Y=this&&this!==Fe&&this instanceof m?v:a;return ar(Y,this,C)}return m}function Sp(a){return function(l,h,v){var m=le(l);if(!tr(l)){var x=wt(h,3);l=Se(l),h=function(R){return x(m[R],R,m)}}var C=a(l,h,v);return C>-1?m[x?l[C]:C]:t}}function Pp(a){return pn(function(l){var h=l.length,v=h,m=yr.prototype.thru;for(a&&l.reverse();v--;){var x=l[v];if(typeof x!="function")throw new _r(s);if(m&&!C&&rl(x)=="wrapper")var C=new yr([],!0)}for(v=C?v:h;++v<h;){x=l[v];var R=rl(x),L=R=="wrapper"?xu(x):t;L&&Cu(L[0])&&L[1]==(G|O|D|F)&&!L[4].length&&L[9]==1?C=C[rl(L[0])].apply(C,L[3]):C=x.length==1&&Cu(x)?C[R]():C.thru(x)}return function(){var U=arguments,Y=U[0];if(C&&U.length==1&&Ft(Y))return C.plant(Y).value();for(var j=0,st=h?l[j].apply(this,U):Y;++j<h;)st=l[j].call(this,st);return st}})}function Js(a,l,h,v,m,x,C,R,L,U){var Y=l&G,j=l&k,st=l&T,mt=l&(O|P),Ct=l&K,Bt=st?t:ya(a);function Tt(){for(var Vt=arguments.length,$t=N(Vt),ur=Vt;ur--;)$t[ur]=arguments[ur];if(mt)var Ze=vi(Tt),fr=L_($t,Ze);if(v&&($t=Tp($t,v,m,mt)),x&&($t=Rp($t,x,C,mt)),Vt-=fr,mt&&Vt<U){var Ee=Nn($t,Ze);return Fp(a,l,Js,Tt.placeholder,h,$t,Ee,R,L,U-Vt)}var Gr=j?h:this,mn=st?Gr[a]:a;return Vt=$t.length,R?$t=Wx($t,R):Ct&&Vt>1&&$t.reverse(),Y&&L<Vt&&($t.length=L),this&&this!==Fe&&this instanceof Tt&&(mn=Bt||ya(mn)),mn.apply(Gr,$t)}return Tt}function Lp(a,l){return function(h,v){return Zy(h,a,l(v),{})}}function Qs(a,l){return function(h,v){var m;if(h===t&&v===t)return l;if(h!==t&&(m=h),v!==t){if(m===t)return v;typeof h=="string"||typeof v=="string"?(h=lr(h),v=lr(v)):(h=mp(h),v=mp(v)),m=a(h,v)}return m}}function bu(a){return pn(function(l){return l=ve(l,sr(wt())),Wt(function(h){var v=this;return a(l,function(m){return ar(m,v,h)})})})}function tl(a,l){l=l===t?" ":lr(l);var h=l.length;if(h<2)return h?uu(l,a):l;var v=uu(l,Bs(a/li(l)));return si(l)?Un(Dr(v),0,a).join(""):v.slice(0,a)}function wx(a,l,h,v){var m=l&k,x=ya(a);function C(){for(var R=-1,L=arguments.length,U=-1,Y=v.length,j=N(Y+L),st=this&&this!==Fe&&this instanceof C?x:a;++U<Y;)j[U]=v[U];for(;L--;)j[U++]=arguments[++R];return ar(st,m?h:this,j)}return C}function Mp(a){return function(l,h,v){return v&&typeof v!="number"&&je(l,h,v)&&(h=v=t),l=bn(l),h===t?(h=l,l=0):h=bn(h),v=v===t?l<h?1:-1:bn(v),sx(l,h,v,a)}}function el(a){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Er(l),h=Er(h)),a(l,h)}}function Fp(a,l,h,v,m,x,C,R,L,U){var Y=l&O,j=Y?C:t,st=Y?t:C,mt=Y?x:t,Ct=Y?t:x;l|=Y?D:X,l&=~(Y?X:D),l&A||(l&=~(k|T));var Bt=[a,l,m,mt,j,Ct,st,R,L,U],Tt=h.apply(t,Bt);return Cu(a)&&Kp(Tt,Bt),Tt.placeholder=v,jp(Tt,a,l)}function mu(a){var l=Ie[a];return function(h,v){if(h=Er(h),v=v==null?0:Be(Gt(v),292),v&&jd(h)){var m=(oe(h)+"e").split("e"),x=l(m[0]+"e"+(+m[1]+v));return m=(oe(x)+"e").split("e"),+(m[0]+"e"+(+m[1]-v))}return l(h)}}var kx=fi&&1/Os(new fi([,-0]))[1]==tt?function(a){return new fi(a)}:Bu;function Dp(a){return function(l){var h=We(l);return h==I?jc(l):h==q?B_(l):P_(l,a(l))}}function dn(a,l,h,v,m,x,C,R){var L=l&T;if(!L&&typeof a!="function")throw new _r(s);var U=v?v.length:0;if(U||(l&=~(D|X),v=m=t),C=C===t?C:Oe(Gt(C),0),R=R===t?R:Gt(R),U-=m?m.length:0,l&X){var Y=v,j=m;v=m=t}var st=L?t:xu(a),mt=[a,l,h,v,m,Y,j,x,C,R];if(st&&zx(mt,st),a=mt[0],l=mt[1],h=mt[2],v=mt[3],m=mt[4],R=mt[9]=mt[9]===t?L?0:a.length:Oe(mt[9]-U,0),!R&&l&(O|P)&&(l&=~(O|P)),!l||l==k)var Ct=yx(a,l,h);else l==O||l==P?Ct=xx(a,l,R):(l==D||l==(k|D))&&!m.length?Ct=wx(a,l,h,v):Ct=Js.apply(t,mt);var Bt=st?vp:Kp;return jp(Bt(Ct,mt),a,l)}function Np(a,l,h,v){return a===t||zr(a,ui[h])&&!ie.call(v,h)?l:a}function zp(a,l,h,v,m,x){return me(a)&&me(l)&&(x.set(l,a),js(a,l,t,zp,x),x.delete(l)),a}function Ex(a){return ka(a)?t:a}function Gp(a,l,h,v,m,x){var C=h&_,R=a.length,L=l.length;if(R!=L&&!(C&&L>R))return!1;var U=x.get(a),Y=x.get(l);if(U&&Y)return U==l&&Y==a;var j=-1,st=!0,mt=h&w?new Eo:t;for(x.set(a,l),x.set(l,a);++j<R;){var Ct=a[j],Bt=l[j];if(v)var Tt=C?v(Bt,Ct,j,l,a,x):v(Ct,Bt,j,a,l,x);if(Tt!==t){if(Tt)continue;st=!1;break}if(mt){if(!Uc(l,function(Vt,$t){if(!ca(mt,$t)&&(Ct===Vt||m(Ct,Vt,h,v,x)))return mt.push($t)})){st=!1;break}}else if(!(Ct===Bt||m(Ct,Bt,h,v,x))){st=!1;break}}return x.delete(a),x.delete(l),st}function Cx(a,l,h,v,m,x,C){switch(h){case Lt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Pt:return!(a.byteLength!=l.byteLength||!x(new Ds(a),new Ds(l)));case it:case It:case M:return zr(+a,+l);case yt:return a.name==l.name&&a.message==l.message;case $:case H:return a==l+"";case I:var R=jc;case q:var L=v&_;if(R||(R=Os),a.size!=l.size&&!L)return!1;var U=C.get(a);if(U)return U==l;v|=w,C.set(a,l);var Y=Gp(R(a),R(l),v,m,x,C);return C.delete(a),Y;case pt:if(pa)return pa.call(a)==pa.call(l)}return!1}function Tx(a,l,h,v,m,x){var C=h&_,R=_u(a),L=R.length,U=_u(l),Y=U.length;if(L!=Y&&!C)return!1;for(var j=L;j--;){var st=R[j];if(!(C?st in l:ie.call(l,st)))return!1}var mt=x.get(a),Ct=x.get(l);if(mt&&Ct)return mt==l&&Ct==a;var Bt=!0;x.set(a,l),x.set(l,a);for(var Tt=C;++j<L;){st=R[j];var Vt=a[st],$t=l[st];if(v)var ur=C?v($t,Vt,st,l,a,x):v(Vt,$t,st,a,l,x);if(!(ur===t?Vt===$t||m(Vt,$t,h,v,x):ur)){Bt=!1;break}Tt||(Tt=st=="constructor")}if(Bt&&!Tt){var Ze=a.constructor,fr=l.constructor;Ze!=fr&&"constructor"in a&&"constructor"in l&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof fr=="function"&&fr instanceof fr)&&(Bt=!1)}return x.delete(a),x.delete(l),Bt}function pn(a){return Ru(Vp(a,t,tg),a+"")}function _u(a){return ip(a,Se,ku)}function yu(a){return ip(a,er,Bp)}var xu=Us?function(a){return Us.get(a)}:Bu;function rl(a){for(var l=a.name+"",h=hi[l],v=ie.call(hi,l)?h.length:0;v--;){var m=h[v],x=m.func;if(x==null||x==a)return m.name}return l}function vi(a){var l=ie.call(y,"placeholder")?y:a;return l.placeholder}function wt(){var a=y.iteratee||zu;return a=a===zu?lp:a,arguments.length?a(arguments[0],arguments[1]):a}function nl(a,l){var h=a.__data__;return Mx(l)?h[typeof l=="string"?"string":"hash"]:h.map}function wu(a){for(var l=Se(a),h=l.length;h--;){var v=l[h],m=a[v];l[h]=[v,m,Yp(m)]}return l}function Ro(a,l){var h=N_(a,l);return sp(h)?h:t}function Rx(a){var l=ie.call(a,wo),h=a[wo];try{a[wo]=t;var v=!0}catch{}var m=Ms.call(a);return v&&(l?a[wo]=h:delete a[wo]),m}var ku=$c?function(a){return a==null?[]:(a=le(a),Fn($c(a),function(l){return Hd.call(a,l)}))}:Wu,Bp=$c?function(a){for(var l=[];a;)Dn(l,ku(a)),a=Ns(a);return l}:Wu,We=Ke;(qc&&We(new qc(new ArrayBuffer(1)))!=Lt||fa&&We(new fa)!=I||Jc&&We(Jc.resolve())!=Q||fi&&We(new fi)!=q||ha&&We(new ha)!=vt)&&(We=function(a){var l=Ke(a),h=l==W?a.constructor:t,v=h?Ao(h):"";if(v)switch(v){case cy:return Lt;case uy:return I;case fy:return Q;case hy:return q;case dy:return vt}return l});function Ax(a,l,h){for(var v=-1,m=h.length;++v<m;){var x=h[v],C=x.size;switch(x.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=Be(l,a+C);break;case"takeRight":a=Oe(a,l-C);break}}return{start:a,end:l}}function Ix(a){var l=a.match($r);return l?l[1].split(ni):[]}function Wp(a,l,h){l=Wn(l,a);for(var v=-1,m=l.length,x=!1;++v<m;){var C=Qr(l[v]);if(!(x=a!=null&&h(a,C)))break;a=a[C]}return x||++v!=m?x:(m=a==null?0:a.length,!!m&&ul(m)&&gn(C,m)&&(Ft(a)||Io(a)))}function Ox(a){var l=a.length,h=new a.constructor(l);return l&&typeof a[0]=="string"&&ie.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function Up(a){return typeof a.constructor=="function"&&!xa(a)?di(Ns(a)):{}}function Sx(a,l,h){var v=a.constructor;switch(l){case Pt:return vu(a);case it:case It:return new v(+a);case Lt:return px(a,h);case Nt:case Xt:case we:case de:case Fr:case se:case ir:case pe:case Me:return Ep(a,h);case I:return new v;case M:case H:return new v(a);case $:return gx(a);case q:return new v;case pt:return vx(a)}}function Px(a,l){var h=l.length;if(!h)return a;var v=h-1;return l[v]=(h>1?"& ":"")+l[v],l=l.join(h>2?", ":" "),a.replace(yo,`{
/* [wrapped with `+l+`] */
`)}function Lx(a){return Ft(a)||Io(a)||!!(Kd&&a&&a[Kd])}function gn(a,l){var h=typeof a;return l=l==null?ct:l,!!l&&(h=="number"||h!="symbol"&&V0.test(a))&&a>-1&&a%1==0&&a<l}function je(a,l,h){if(!me(h))return!1;var v=typeof l;return(v=="number"?tr(h)&&gn(l,h.length):v=="string"&&l in h)?zr(h[l],a):!1}function Eu(a,l){if(Ft(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||cr(a)?!0:mo.test(a)||!bo.test(a)||l!=null&&a in le(l)}function Mx(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Cu(a){var l=rl(a),h=y[l];if(typeof h!="function"||!(l in Ht.prototype))return!1;if(a===h)return!0;var v=xu(h);return!!v&&a===v[0]}function Fx(a){return!!Yd&&Yd in a}var Dx=Ps?vn:Uu;function xa(a){var l=a&&a.constructor,h=typeof l=="function"&&l.prototype||ui;return a===h}function Yp(a){return a===a&&!me(a)}function Xp(a,l){return function(h){return h==null?!1:h[a]===l&&(l!==t||a in le(h))}}function Nx(a){var l=ll(a,function(v){return h.size===f&&h.clear(),v}),h=l.cache;return l}function zx(a,l){var h=a[1],v=l[1],m=h|v,x=m<(k|T|G),C=v==G&&h==O||v==G&&h==F&&a[7].length<=l[8]||v==(G|F)&&l[7].length<=l[8]&&h==O;if(!(x||C))return a;v&k&&(a[2]=l[2],m|=h&k?0:A);var R=l[3];if(R){var L=a[3];a[3]=L?Tp(L,R,l[4]):R,a[4]=L?Nn(a[3],d):l[4]}return R=l[5],R&&(L=a[5],a[5]=L?Rp(L,R,l[6]):R,a[6]=L?Nn(a[5],d):l[6]),R=l[7],R&&(a[7]=R),v&G&&(a[8]=a[8]==null?l[8]:Be(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=m,a}function Gx(a){var l=[];if(a!=null)for(var h in le(a))l.push(h);return l}function Bx(a){return Ms.call(a)}function Vp(a,l,h){return l=Oe(l===t?a.length-1:l,0),function(){for(var v=arguments,m=-1,x=Oe(v.length-l,0),C=N(x);++m<x;)C[m]=v[l+m];m=-1;for(var R=N(l+1);++m<l;)R[m]=v[m];return R[l]=h(C),ar(a,this,R)}}function Hp(a,l){return l.length<2?a:To(a,wr(l,0,-1))}function Wx(a,l){for(var h=a.length,v=Be(l.length,h),m=Qe(a);v--;){var x=l[v];a[v]=gn(x,h)?m[x]:t}return a}function Tu(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var Kp=Zp(vp),wa=ry||function(a,l){return Fe.setTimeout(a,l)},Ru=Zp(ux);function jp(a,l,h){var v=l+"";return Ru(a,Px(v,Ux(Ix(v),h)))}function Zp(a){var l=0,h=0;return function(){var v=ay(),m=ft-(v-h);if(h=v,m>0){if(++l>=ut)return arguments[0]}else l=0;return a.apply(t,arguments)}}function ol(a,l){var h=-1,v=a.length,m=v-1;for(l=l===t?v:l;++h<l;){var x=cu(h,m),C=a[x];a[x]=a[h],a[h]=C}return a.length=l,a}var $p=Nx(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(ws,function(h,v,m,x){l.push(m?x.replace(Je,"$1"):v||h)}),l});function Qr(a){if(typeof a=="string"||cr(a))return a;var l=a+"";return l=="0"&&1/a==-tt?"-0":l}function Ao(a){if(a!=null){try{return Ls.call(a)}catch{}try{return a+""}catch{}}return""}function Ux(a,l){return mr(kt,function(h){var v="_."+h[0];l&h[1]&&!As(a,v)&&a.push(v)}),a.sort()}function qp(a){if(a instanceof Ht)return a.clone();var l=new yr(a.__wrapped__,a.__chain__);return l.__actions__=Qe(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Yx(a,l,h){(h?je(a,l,h):l===t)?l=1:l=Oe(Gt(l),0);var v=a==null?0:a.length;if(!v||l<1)return[];for(var m=0,x=0,C=N(Bs(v/l));m<v;)C[x++]=wr(a,m,m+=l);return C}function Xx(a){for(var l=-1,h=a==null?0:a.length,v=0,m=[];++l<h;){var x=a[l];x&&(m[v++]=x)}return m}function Vx(){var a=arguments.length;if(!a)return[];for(var l=N(a-1),h=arguments[0],v=a;v--;)l[v-1]=arguments[v];return Dn(Ft(h)?Qe(h):[h],De(l,1))}var Hx=Wt(function(a,l){return ke(a)?va(a,De(l,1,ke,!0)):[]}),Kx=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?va(a,De(l,1,ke,!0),wt(h,2)):[]}),jx=Wt(function(a,l){var h=kr(l);return ke(h)&&(h=t),ke(a)?va(a,De(l,1,ke,!0),t,h):[]});function Zx(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),wr(a,l<0?0:l,v)):[]}function $x(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),l=v-l,wr(a,0,l<0?0:l)):[]}function qx(a,l){return a&&a.length?$s(a,wt(l,3),!0,!0):[]}function Jx(a,l){return a&&a.length?$s(a,wt(l,3),!0):[]}function Qx(a,l,h,v){var m=a==null?0:a.length;return m?(h&&typeof h!="number"&&je(a,l,h)&&(h=0,v=m),Vy(a,l,h,v)):[]}function Jp(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=h==null?0:Gt(h);return m<0&&(m=Oe(v+m,0)),Is(a,wt(l,3),m)}function Qp(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=v-1;return h!==t&&(m=Gt(h),m=h<0?Oe(v+m,0):Be(m,v-1)),Is(a,wt(l,3),m,!0)}function tg(a){var l=a==null?0:a.length;return l?De(a,1):[]}function tw(a){var l=a==null?0:a.length;return l?De(a,tt):[]}function ew(a,l){var h=a==null?0:a.length;return h?(l=l===t?1:Gt(l),De(a,l)):[]}function rw(a){for(var l=-1,h=a==null?0:a.length,v={};++l<h;){var m=a[l];v[m[0]]=m[1]}return v}function eg(a){return a&&a.length?a[0]:t}function nw(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=h==null?0:Gt(h);return m<0&&(m=Oe(v+m,0)),ai(a,l,m)}function ow(a){var l=a==null?0:a.length;return l?wr(a,0,-1):[]}var iw=Wt(function(a){var l=ve(a,pu);return l.length&&l[0]===a[0]?ou(l):[]}),aw=Wt(function(a){var l=kr(a),h=ve(a,pu);return l===kr(h)?l=t:h.pop(),h.length&&h[0]===a[0]?ou(h,wt(l,2)):[]}),sw=Wt(function(a){var l=kr(a),h=ve(a,pu);return l=typeof l=="function"?l:t,l&&h.pop(),h.length&&h[0]===a[0]?ou(h,t,l):[]});function lw(a,l){return a==null?"":oy.call(a,l)}function kr(a){var l=a==null?0:a.length;return l?a[l-1]:t}function cw(a,l,h){var v=a==null?0:a.length;if(!v)return-1;var m=v;return h!==t&&(m=Gt(h),m=m<0?Oe(v+m,0):Be(m,v-1)),l===l?U_(a,l,m):Is(a,Fd,m,!0)}function uw(a,l){return a&&a.length?hp(a,Gt(l)):t}var fw=Wt(rg);function rg(a,l){return a&&a.length&&l&&l.length?lu(a,l):a}function hw(a,l,h){return a&&a.length&&l&&l.length?lu(a,l,wt(h,2)):a}function dw(a,l,h){return a&&a.length&&l&&l.length?lu(a,l,t,h):a}var pw=pn(function(a,l){var h=a==null?0:a.length,v=tu(a,l);return gp(a,ve(l,function(m){return gn(m,h)?+m:m}).sort(Cp)),v});function gw(a,l){var h=[];if(!(a&&a.length))return h;var v=-1,m=[],x=a.length;for(l=wt(l,3);++v<x;){var C=a[v];l(C,v,a)&&(h.push(C),m.push(v))}return gp(a,m),h}function Au(a){return a==null?a:ly.call(a)}function vw(a,l,h){var v=a==null?0:a.length;return v?(h&&typeof h!="number"&&je(a,l,h)?(l=0,h=v):(l=l==null?0:Gt(l),h=h===t?v:Gt(h)),wr(a,l,h)):[]}function bw(a,l){return Zs(a,l)}function mw(a,l,h){return fu(a,l,wt(h,2))}function _w(a,l){var h=a==null?0:a.length;if(h){var v=Zs(a,l);if(v<h&&zr(a[v],l))return v}return-1}function yw(a,l){return Zs(a,l,!0)}function xw(a,l,h){return fu(a,l,wt(h,2),!0)}function ww(a,l){var h=a==null?0:a.length;if(h){var v=Zs(a,l,!0)-1;if(zr(a[v],l))return v}return-1}function kw(a){return a&&a.length?bp(a):[]}function Ew(a,l){return a&&a.length?bp(a,wt(l,2)):[]}function Cw(a){var l=a==null?0:a.length;return l?wr(a,1,l):[]}function Tw(a,l,h){return a&&a.length?(l=h||l===t?1:Gt(l),wr(a,0,l<0?0:l)):[]}function Rw(a,l,h){var v=a==null?0:a.length;return v?(l=h||l===t?1:Gt(l),l=v-l,wr(a,l<0?0:l,v)):[]}function Aw(a,l){return a&&a.length?$s(a,wt(l,3),!1,!0):[]}function Iw(a,l){return a&&a.length?$s(a,wt(l,3)):[]}var Ow=Wt(function(a){return Bn(De(a,1,ke,!0))}),Sw=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),Bn(De(a,1,ke,!0),wt(l,2))}),Pw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,Bn(De(a,1,ke,!0),t,l)});function Lw(a){return a&&a.length?Bn(a):[]}function Mw(a,l){return a&&a.length?Bn(a,wt(l,2)):[]}function Fw(a,l){return l=typeof l=="function"?l:t,a&&a.length?Bn(a,t,l):[]}function Iu(a){if(!(a&&a.length))return[];var l=0;return a=Fn(a,function(h){if(ke(h))return l=Oe(h.length,l),!0}),Hc(l,function(h){return ve(a,Yc(h))})}function ng(a,l){if(!(a&&a.length))return[];var h=Iu(a);return l==null?h:ve(h,function(v){return ar(l,t,v)})}var Dw=Wt(function(a,l){return ke(a)?va(a,l):[]}),Nw=Wt(function(a){return du(Fn(a,ke))}),zw=Wt(function(a){var l=kr(a);return ke(l)&&(l=t),du(Fn(a,ke),wt(l,2))}),Gw=Wt(function(a){var l=kr(a);return l=typeof l=="function"?l:t,du(Fn(a,ke),t,l)}),Bw=Wt(Iu);function Ww(a,l){return xp(a||[],l||[],ga)}function Uw(a,l){return xp(a||[],l||[],_a)}var Yw=Wt(function(a){var l=a.length,h=l>1?a[l-1]:t;return h=typeof h=="function"?(a.pop(),h):t,ng(a,h)});function og(a){var l=y(a);return l.__chain__=!0,l}function Xw(a,l){return l(a),a}function il(a,l){return l(a)}var Vw=pn(function(a){var l=a.length,h=l?a[0]:0,v=this.__wrapped__,m=function(x){return tu(x,a)};return l>1||this.__actions__.length||!(v instanceof Ht)||!gn(h)?this.thru(m):(v=v.slice(h,+h+(l?1:0)),v.__actions__.push({func:il,args:[m],thisArg:t}),new yr(v,this.__chain__).thru(function(x){return l&&!x.length&&x.push(t),x}))});function Hw(){return og(this)}function Kw(){return new yr(this.value(),this.__chain__)}function jw(){this.__values__===t&&(this.__values__=mg(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function Zw(){return this}function $w(a){for(var l,h=this;h instanceof Xs;){var v=qp(h);v.__index__=0,v.__values__=t,l?m.__wrapped__=v:l=v;var m=v;h=h.__wrapped__}return m.__wrapped__=a,l}function qw(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:il,args:[Au],thisArg:t}),new yr(l,this.__chain__)}return this.thru(Au)}function Jw(){return yp(this.__wrapped__,this.__actions__)}var Qw=qs(function(a,l,h){ie.call(a,h)?++a[h]:hn(a,h,1)});function t1(a,l,h){var v=Ft(a)?Ld:Xy;return h&&je(a,l,h)&&(l=t),v(a,wt(l,3))}function e1(a,l){var h=Ft(a)?Fn:np;return h(a,wt(l,3))}var r1=Sp(Jp),n1=Sp(Qp);function o1(a,l){return De(al(a,l),1)}function i1(a,l){return De(al(a,l),tt)}function a1(a,l,h){return h=h===t?1:Gt(h),De(al(a,l),h)}function ig(a,l){var h=Ft(a)?mr:Gn;return h(a,wt(l,3))}function ag(a,l){var h=Ft(a)?C_:rp;return h(a,wt(l,3))}var s1=qs(function(a,l,h){ie.call(a,h)?a[h].push(l):hn(a,h,[l])});function l1(a,l,h,v){a=tr(a)?a:mi(a),h=h&&!v?Gt(h):0;var m=a.length;return h<0&&(h=Oe(m+h,0)),fl(a)?h<=m&&a.indexOf(l,h)>-1:!!m&&ai(a,l,h)>-1}var c1=Wt(function(a,l,h){var v=-1,m=typeof l=="function",x=tr(a)?N(a.length):[];return Gn(a,function(C){x[++v]=m?ar(l,C,h):ba(C,l,h)}),x}),u1=qs(function(a,l,h){hn(a,h,l)});function al(a,l){var h=Ft(a)?ve:cp;return h(a,wt(l,3))}function f1(a,l,h,v){return a==null?[]:(Ft(l)||(l=l==null?[]:[l]),h=v?t:h,Ft(h)||(h=h==null?[]:[h]),dp(a,l,h))}var h1=qs(function(a,l,h){a[h?0:1].push(l)},function(){return[[],[]]});function d1(a,l,h){var v=Ft(a)?Wc:Nd,m=arguments.length<3;return v(a,wt(l,4),h,m,Gn)}function p1(a,l,h){var v=Ft(a)?T_:Nd,m=arguments.length<3;return v(a,wt(l,4),h,m,rp)}function g1(a,l){var h=Ft(a)?Fn:np;return h(a,cl(wt(l,3)))}function v1(a){var l=Ft(a)?Jd:lx;return l(a)}function b1(a,l,h){(h?je(a,l,h):l===t)?l=1:l=Gt(l);var v=Ft(a)?Gy:cx;return v(a,l)}function m1(a){var l=Ft(a)?By:fx;return l(a)}function _1(a){if(a==null)return 0;if(tr(a))return fl(a)?li(a):a.length;var l=We(a);return l==I||l==q?a.size:au(a).length}function y1(a,l,h){var v=Ft(a)?Uc:hx;return h&&je(a,l,h)&&(l=t),v(a,wt(l,3))}var x1=Wt(function(a,l){if(a==null)return[];var h=l.length;return h>1&&je(a,l[0],l[1])?l=[]:h>2&&je(l[0],l[1],l[2])&&(l=[l[0]]),dp(a,De(l,1),[])}),sl=ey||function(){return Fe.Date.now()};function w1(a,l){if(typeof l!="function")throw new _r(s);return a=Gt(a),function(){if(--a<1)return l.apply(this,arguments)}}function sg(a,l,h){return l=h?t:l,l=a&&l==null?a.length:l,dn(a,G,t,t,t,t,l)}function lg(a,l){var h;if(typeof l!="function")throw new _r(s);return a=Gt(a),function(){return--a>0&&(h=l.apply(this,arguments)),a<=1&&(l=t),h}}var Ou=Wt(function(a,l,h){var v=k;if(h.length){var m=Nn(h,vi(Ou));v|=D}return dn(a,v,l,h,m)}),cg=Wt(function(a,l,h){var v=k|T;if(h.length){var m=Nn(h,vi(cg));v|=D}return dn(l,v,a,h,m)});function ug(a,l,h){l=h?t:l;var v=dn(a,O,t,t,t,t,t,l);return v.placeholder=ug.placeholder,v}function fg(a,l,h){l=h?t:l;var v=dn(a,P,t,t,t,t,t,l);return v.placeholder=fg.placeholder,v}function hg(a,l,h){var v,m,x,C,R,L,U=0,Y=!1,j=!1,st=!0;if(typeof a!="function")throw new _r(s);l=Er(l)||0,me(h)&&(Y=!!h.leading,j="maxWait"in h,x=j?Oe(Er(h.maxWait)||0,l):x,st="trailing"in h?!!h.trailing:st);function mt(Ee){var Gr=v,mn=m;return v=m=t,U=Ee,C=a.apply(mn,Gr),C}function Ct(Ee){return U=Ee,R=wa(Vt,l),Y?mt(Ee):C}function Bt(Ee){var Gr=Ee-L,mn=Ee-U,Sg=l-Gr;return j?Be(Sg,x-mn):Sg}function Tt(Ee){var Gr=Ee-L,mn=Ee-U;return L===t||Gr>=l||Gr<0||j&&mn>=x}function Vt(){var Ee=sl();if(Tt(Ee))return $t(Ee);R=wa(Vt,Bt(Ee))}function $t(Ee){return R=t,st&&v?mt(Ee):(v=m=t,C)}function ur(){R!==t&&wp(R),U=0,v=L=m=R=t}function Ze(){return R===t?C:$t(sl())}function fr(){var Ee=sl(),Gr=Tt(Ee);if(v=arguments,m=this,L=Ee,Gr){if(R===t)return Ct(L);if(j)return wp(R),R=wa(Vt,l),mt(L)}return R===t&&(R=wa(Vt,l)),C}return fr.cancel=ur,fr.flush=Ze,fr}var k1=Wt(function(a,l){return ep(a,1,l)}),E1=Wt(function(a,l,h){return ep(a,Er(l)||0,h)});function C1(a){return dn(a,K)}function ll(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new _r(s);var h=function(){var v=arguments,m=l?l.apply(this,v):v[0],x=h.cache;if(x.has(m))return x.get(m);var C=a.apply(this,v);return h.cache=x.set(m,C)||x,C};return h.cache=new(ll.Cache||fn),h}ll.Cache=fn;function cl(a){if(typeof a!="function")throw new _r(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function T1(a){return lg(2,a)}var R1=dx(function(a,l){l=l.length==1&&Ft(l[0])?ve(l[0],sr(wt())):ve(De(l,1),sr(wt()));var h=l.length;return Wt(function(v){for(var m=-1,x=Be(v.length,h);++m<x;)v[m]=l[m].call(this,v[m]);return ar(a,this,v)})}),Su=Wt(function(a,l){var h=Nn(l,vi(Su));return dn(a,D,t,l,h)}),dg=Wt(function(a,l){var h=Nn(l,vi(dg));return dn(a,X,t,l,h)}),A1=pn(function(a,l){return dn(a,F,t,t,t,l)});function I1(a,l){if(typeof a!="function")throw new _r(s);return l=l===t?l:Gt(l),Wt(a,l)}function O1(a,l){if(typeof a!="function")throw new _r(s);return l=l==null?0:Oe(Gt(l),0),Wt(function(h){var v=h[l],m=Un(h,0,l);return v&&Dn(m,v),ar(a,this,m)})}function S1(a,l,h){var v=!0,m=!0;if(typeof a!="function")throw new _r(s);return me(h)&&(v="leading"in h?!!h.leading:v,m="trailing"in h?!!h.trailing:m),hg(a,l,{leading:v,maxWait:l,trailing:m})}function P1(a){return sg(a,1)}function L1(a,l){return Su(gu(l),a)}function M1(){if(!arguments.length)return[];var a=arguments[0];return Ft(a)?a:[a]}function F1(a){return xr(a,b)}function D1(a,l){return l=typeof l=="function"?l:t,xr(a,b,l)}function N1(a){return xr(a,g|b)}function z1(a,l){return l=typeof l=="function"?l:t,xr(a,g|b,l)}function G1(a,l){return l==null||tp(a,l,Se(l))}function zr(a,l){return a===l||a!==a&&l!==l}var B1=el(nu),W1=el(function(a,l){return a>=l}),Io=ap(function(){return arguments}())?ap:function(a){return ye(a)&&ie.call(a,"callee")&&!Hd.call(a,"callee")},Ft=N.isArray,U1=Rd?sr(Rd):$y;function tr(a){return a!=null&&ul(a.length)&&!vn(a)}function ke(a){return ye(a)&&tr(a)}function Y1(a){return a===!0||a===!1||ye(a)&&Ke(a)==it}var Yn=ny||Uu,X1=Ad?sr(Ad):qy;function V1(a){return ye(a)&&a.nodeType===1&&!ka(a)}function H1(a){if(a==null)return!0;if(tr(a)&&(Ft(a)||typeof a=="string"||typeof a.splice=="function"||Yn(a)||bi(a)||Io(a)))return!a.length;var l=We(a);if(l==I||l==q)return!a.size;if(xa(a))return!au(a).length;for(var h in a)if(ie.call(a,h))return!1;return!0}function K1(a,l){return ma(a,l)}function j1(a,l,h){h=typeof h=="function"?h:t;var v=h?h(a,l):t;return v===t?ma(a,l,t,h):!!v}function Pu(a){if(!ye(a))return!1;var l=Ke(a);return l==yt||l==Zt||typeof a.message=="string"&&typeof a.name=="string"&&!ka(a)}function Z1(a){return typeof a=="number"&&jd(a)}function vn(a){if(!me(a))return!1;var l=Ke(a);return l==Et||l==E||l==J||l==nt}function pg(a){return typeof a=="number"&&a==Gt(a)}function ul(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ct}function me(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function ye(a){return a!=null&&typeof a=="object"}var gg=Id?sr(Id):Qy;function $1(a,l){return a===l||iu(a,l,wu(l))}function q1(a,l,h){return h=typeof h=="function"?h:t,iu(a,l,wu(l),h)}function J1(a){return vg(a)&&a!=+a}function Q1(a){if(Dx(a))throw new Mt(i);return sp(a)}function tk(a){return a===null}function ek(a){return a==null}function vg(a){return typeof a=="number"||ye(a)&&Ke(a)==M}function ka(a){if(!ye(a)||Ke(a)!=W)return!1;var l=Ns(a);if(l===null)return!0;var h=ie.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Ls.call(h)==q_}var Lu=Od?sr(Od):tx;function rk(a){return pg(a)&&a>=-ct&&a<=ct}var bg=Sd?sr(Sd):ex;function fl(a){return typeof a=="string"||!Ft(a)&&ye(a)&&Ke(a)==H}function cr(a){return typeof a=="symbol"||ye(a)&&Ke(a)==pt}var bi=Pd?sr(Pd):rx;function nk(a){return a===t}function ok(a){return ye(a)&&We(a)==vt}function ik(a){return ye(a)&&Ke(a)==xt}var ak=el(su),sk=el(function(a,l){return a<=l});function mg(a){if(!a)return[];if(tr(a))return fl(a)?Dr(a):Qe(a);if(ua&&a[ua])return G_(a[ua]());var l=We(a),h=l==I?jc:l==q?Os:mi;return h(a)}function bn(a){if(!a)return a===0?a:0;if(a=Er(a),a===tt||a===-tt){var l=a<0?-1:1;return l*_t}return a===a?a:0}function Gt(a){var l=bn(a),h=l%1;return l===l?h?l-h:l:0}function _g(a){return a?Co(Gt(a),0,St):0}function Er(a){if(typeof a=="number")return a;if(cr(a))return Ot;if(me(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=me(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=zd(a);var h=U0.test(a);return h||X0.test(a)?w_(a.slice(2),h?2:8):Es.test(a)?Ot:+a}function yg(a){return Jr(a,er(a))}function lk(a){return a?Co(Gt(a),-ct,ct):a===0?a:0}function oe(a){return a==null?"":lr(a)}var ck=pi(function(a,l){if(xa(l)||tr(l)){Jr(l,Se(l),a);return}for(var h in l)ie.call(l,h)&&ga(a,h,l[h])}),xg=pi(function(a,l){Jr(l,er(l),a)}),hl=pi(function(a,l,h,v){Jr(l,er(l),a,v)}),uk=pi(function(a,l,h,v){Jr(l,Se(l),a,v)}),fk=pn(tu);function hk(a,l){var h=di(a);return l==null?h:Qd(h,l)}var dk=Wt(function(a,l){a=le(a);var h=-1,v=l.length,m=v>2?l[2]:t;for(m&&je(l[0],l[1],m)&&(v=1);++h<v;)for(var x=l[h],C=er(x),R=-1,L=C.length;++R<L;){var U=C[R],Y=a[U];(Y===t||zr(Y,ui[U])&&!ie.call(a,U))&&(a[U]=x[U])}return a}),pk=Wt(function(a){return a.push(t,zp),ar(wg,t,a)});function gk(a,l){return Md(a,wt(l,3),qr)}function vk(a,l){return Md(a,wt(l,3),ru)}function bk(a,l){return a==null?a:eu(a,wt(l,3),er)}function mk(a,l){return a==null?a:op(a,wt(l,3),er)}function _k(a,l){return a&&qr(a,wt(l,3))}function yk(a,l){return a&&ru(a,wt(l,3))}function xk(a){return a==null?[]:Ks(a,Se(a))}function wk(a){return a==null?[]:Ks(a,er(a))}function Mu(a,l,h){var v=a==null?t:To(a,l);return v===t?h:v}function kk(a,l){return a!=null&&Wp(a,l,Hy)}function Fu(a,l){return a!=null&&Wp(a,l,Ky)}var Ek=Lp(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ms.call(l)),a[l]=h},Nu(rr)),Ck=Lp(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=Ms.call(l)),ie.call(a,l)?a[l].push(h):a[l]=[h]},wt),Tk=Wt(ba);function Se(a){return tr(a)?qd(a):au(a)}function er(a){return tr(a)?qd(a,!0):nx(a)}function Rk(a,l){var h={};return l=wt(l,3),qr(a,function(v,m,x){hn(h,l(v,m,x),v)}),h}function Ak(a,l){var h={};return l=wt(l,3),qr(a,function(v,m,x){hn(h,m,l(v,m,x))}),h}var Ik=pi(function(a,l,h){js(a,l,h)}),wg=pi(function(a,l,h,v){js(a,l,h,v)}),Ok=pn(function(a,l){var h={};if(a==null)return h;var v=!1;l=ve(l,function(x){return x=Wn(x,a),v||(v=x.length>1),x}),Jr(a,yu(a),h),v&&(h=xr(h,g|p|b,Ex));for(var m=l.length;m--;)hu(h,l[m]);return h});function Sk(a,l){return kg(a,cl(wt(l)))}var Pk=pn(function(a,l){return a==null?{}:ix(a,l)});function kg(a,l){if(a==null)return{};var h=ve(yu(a),function(v){return[v]});return l=wt(l),pp(a,h,function(v,m){return l(v,m[0])})}function Lk(a,l,h){l=Wn(l,a);var v=-1,m=l.length;for(m||(m=1,a=t);++v<m;){var x=a==null?t:a[Qr(l[v])];x===t&&(v=m,x=h),a=vn(x)?x.call(a):x}return a}function Mk(a,l,h){return a==null?a:_a(a,l,h)}function Fk(a,l,h,v){return v=typeof v=="function"?v:t,a==null?a:_a(a,l,h,v)}var Eg=Dp(Se),Cg=Dp(er);function Dk(a,l,h){var v=Ft(a),m=v||Yn(a)||bi(a);if(l=wt(l,4),h==null){var x=a&&a.constructor;m?h=v?new x:[]:me(a)?h=vn(x)?di(Ns(a)):{}:h={}}return(m?mr:qr)(a,function(C,R,L){return l(h,C,R,L)}),h}function Nk(a,l){return a==null?!0:hu(a,l)}function zk(a,l,h){return a==null?a:_p(a,l,gu(h))}function Gk(a,l,h,v){return v=typeof v=="function"?v:t,a==null?a:_p(a,l,gu(h),v)}function mi(a){return a==null?[]:Kc(a,Se(a))}function Bk(a){return a==null?[]:Kc(a,er(a))}function Wk(a,l,h){return h===t&&(h=l,l=t),h!==t&&(h=Er(h),h=h===h?h:0),l!==t&&(l=Er(l),l=l===l?l:0),Co(Er(a),l,h)}function Uk(a,l,h){return l=bn(l),h===t?(h=l,l=0):h=bn(h),a=Er(a),jy(a,l,h)}function Yk(a,l,h){if(h&&typeof h!="boolean"&&je(a,l,h)&&(l=h=t),h===t&&(typeof l=="boolean"?(h=l,l=t):typeof a=="boolean"&&(h=a,a=t)),a===t&&l===t?(a=0,l=1):(a=bn(a),l===t?(l=a,a=0):l=bn(l)),a>l){var v=a;a=l,l=v}if(h||a%1||l%1){var m=Zd();return Be(a+m*(l-a+x_("1e-"+((m+"").length-1))),l)}return cu(a,l)}var Xk=gi(function(a,l,h){return l=l.toLowerCase(),a+(h?Tg(l):l)});function Tg(a){return Du(oe(a).toLowerCase())}function Rg(a){return a=oe(a),a&&a.replace(H0,M_).replace(f_,"")}function Vk(a,l,h){a=oe(a),l=lr(l);var v=a.length;h=h===t?v:Co(Gt(h),0,v);var m=h;return h-=l.length,h>=0&&a.slice(h,m)==l}function Hk(a){return a=oe(a),a&&ia.test(a)?a.replace(oa,F_):a}function Kk(a){return a=oe(a),a&&Pc.test(a)?a.replace(ri,"\\$&"):a}var jk=gi(function(a,l,h){return a+(h?"-":"")+l.toLowerCase()}),Zk=gi(function(a,l,h){return a+(h?" ":"")+l.toLowerCase()}),$k=Op("toLowerCase");function qk(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;if(!l||v>=l)return a;var m=(l-v)/2;return tl(Ws(m),h)+a+tl(Bs(m),h)}function Jk(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;return l&&v<l?a+tl(l-v,h):a}function Qk(a,l,h){a=oe(a),l=Gt(l);var v=l?li(a):0;return l&&v<l?tl(l-v,h)+a:a}function t5(a,l,h){return h||l==null?l=0:l&&(l=+l),sy(oe(a).replace(sa,""),l||0)}function e5(a,l,h){return(h?je(a,l,h):l===t)?l=1:l=Gt(l),uu(oe(a),l)}function r5(){var a=arguments,l=oe(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var n5=gi(function(a,l,h){return a+(h?"_":"")+l.toLowerCase()});function o5(a,l,h){return h&&typeof h!="number"&&je(a,l,h)&&(l=h=t),h=h===t?St:h>>>0,h?(a=oe(a),a&&(typeof l=="string"||l!=null&&!Lu(l))&&(l=lr(l),!l&&si(a))?Un(Dr(a),0,h):a.split(l,h)):[]}var i5=gi(function(a,l,h){return a+(h?" ":"")+Du(l)});function a5(a,l,h){return a=oe(a),h=h==null?0:Co(Gt(h),0,a.length),l=lr(l),a.slice(h,h+l.length)==l}function s5(a,l,h){var v=y.templateSettings;h&&je(a,l,h)&&(l=t),a=oe(a),l=hl({},l,v,Np);var m=hl({},l.imports,v.imports,Np),x=Se(m),C=Kc(m,x),R,L,U=0,Y=l.interpolate||Cs,j="__p += '",st=Zc((l.escape||Cs).source+"|"+Y.source+"|"+(Y===Mn?la:Cs).source+"|"+(l.evaluate||Cs).source+"|$","g"),mt="//# sourceURL="+(ie.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++v_+"]")+`
`;a.replace(st,function(Tt,Vt,$t,ur,Ze,fr){return $t||($t=ur),j+=a.slice(U,fr).replace(K0,D_),Vt&&(R=!0,j+=`' +
__e(`+Vt+`) +
'`),Ze&&(L=!0,j+=`';
`+Ze+`;
__p += '`),$t&&(j+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),U=fr+Tt.length,Tt}),j+=`';
`;var Ct=ie.call(l,"variable")&&l.variable;if(!Ct)j=`with (obj) {
`+j+`
}
`;else if(Ge.test(Ct))throw new Mt(c);j=(L?j.replace(vo,""):j).replace(na,"$1").replace(Sc,"$1;"),j="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var Bt=Ig(function(){return re(x,mt+"return "+j).apply(t,C)});if(Bt.source=j,Pu(Bt))throw Bt;return Bt}function l5(a){return oe(a).toLowerCase()}function c5(a){return oe(a).toUpperCase()}function u5(a,l,h){if(a=oe(a),a&&(h||l===t))return zd(a);if(!a||!(l=lr(l)))return a;var v=Dr(a),m=Dr(l),x=Gd(v,m),C=Bd(v,m)+1;return Un(v,x,C).join("")}function f5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.slice(0,Ud(a)+1);if(!a||!(l=lr(l)))return a;var v=Dr(a),m=Bd(v,Dr(l))+1;return Un(v,0,m).join("")}function h5(a,l,h){if(a=oe(a),a&&(h||l===t))return a.replace(sa,"");if(!a||!(l=lr(l)))return a;var v=Dr(a),m=Gd(v,Dr(l));return Un(v,m).join("")}function d5(a,l){var h=et,v=at;if(me(l)){var m="separator"in l?l.separator:m;h="length"in l?Gt(l.length):h,v="omission"in l?lr(l.omission):v}a=oe(a);var x=a.length;if(si(a)){var C=Dr(a);x=C.length}if(h>=x)return a;var R=h-li(v);if(R<1)return v;var L=C?Un(C,0,R).join(""):a.slice(0,R);if(m===t)return L+v;if(C&&(R+=L.length-R),Lu(m)){if(a.slice(R).search(m)){var U,Y=L;for(m.global||(m=Zc(m.source,oe(ks.exec(m))+"g")),m.lastIndex=0;U=m.exec(Y);)var j=U.index;L=L.slice(0,j===t?R:j)}}else if(a.indexOf(lr(m),R)!=R){var st=L.lastIndexOf(m);st>-1&&(L=L.slice(0,st))}return L+v}function p5(a){return a=oe(a),a&&ys.test(a)?a.replace(_s,Y_):a}var g5=gi(function(a,l,h){return a+(h?" ":"")+l.toUpperCase()}),Du=Op("toUpperCase");function Ag(a,l,h){return a=oe(a),l=h?t:l,l===t?z_(a)?H_(a):I_(a):a.match(l)||[]}var Ig=Wt(function(a,l){try{return ar(a,t,l)}catch(h){return Pu(h)?h:new Mt(h)}}),v5=pn(function(a,l){return mr(l,function(h){h=Qr(h),hn(a,h,Ou(a[h],a))}),a});function b5(a){var l=a==null?0:a.length,h=wt();return a=l?ve(a,function(v){if(typeof v[1]!="function")throw new _r(s);return[h(v[0]),v[1]]}):[],Wt(function(v){for(var m=-1;++m<l;){var x=a[m];if(ar(x[0],this,v))return ar(x[1],this,v)}})}function m5(a){return Yy(xr(a,g))}function Nu(a){return function(){return a}}function _5(a,l){return a==null||a!==a?l:a}var y5=Pp(),x5=Pp(!0);function rr(a){return a}function zu(a){return lp(typeof a=="function"?a:xr(a,g))}function w5(a){return up(xr(a,g))}function k5(a,l){return fp(a,xr(l,g))}var E5=Wt(function(a,l){return function(h){return ba(h,a,l)}}),C5=Wt(function(a,l){return function(h){return ba(a,h,l)}});function Gu(a,l,h){var v=Se(l),m=Ks(l,v);h==null&&!(me(l)&&(m.length||!v.length))&&(h=l,l=a,a=this,m=Ks(l,Se(l)));var x=!(me(h)&&"chain"in h)||!!h.chain,C=vn(a);return mr(m,function(R){var L=l[R];a[R]=L,C&&(a.prototype[R]=function(){var U=this.__chain__;if(x||U){var Y=a(this.__wrapped__),j=Y.__actions__=Qe(this.__actions__);return j.push({func:L,args:arguments,thisArg:a}),Y.__chain__=U,Y}return L.apply(a,Dn([this.value()],arguments))})}),a}function T5(){return Fe._===this&&(Fe._=J_),this}function Bu(){}function R5(a){return a=Gt(a),Wt(function(l){return hp(l,a)})}var A5=bu(ve),I5=bu(Ld),O5=bu(Uc);function Og(a){return Eu(a)?Yc(Qr(a)):ax(a)}function S5(a){return function(l){return a==null?t:To(a,l)}}var P5=Mp(),L5=Mp(!0);function Wu(){return[]}function Uu(){return!1}function M5(){return{}}function F5(){return""}function D5(){return!0}function N5(a,l){if(a=Gt(a),a<1||a>ct)return[];var h=St,v=Be(a,St);l=wt(l),a-=St;for(var m=Hc(v,l);++h<a;)l(h);return m}function z5(a){return Ft(a)?ve(a,Qr):cr(a)?[a]:Qe($p(oe(a)))}function G5(a){var l=++$_;return oe(a)+l}var B5=Qs(function(a,l){return a+l},0),W5=mu("ceil"),U5=Qs(function(a,l){return a/l},1),Y5=mu("floor");function X5(a){return a&&a.length?Hs(a,rr,nu):t}function V5(a,l){return a&&a.length?Hs(a,wt(l,2),nu):t}function H5(a){return Dd(a,rr)}function K5(a,l){return Dd(a,wt(l,2))}function j5(a){return a&&a.length?Hs(a,rr,su):t}function Z5(a,l){return a&&a.length?Hs(a,wt(l,2),su):t}var $5=Qs(function(a,l){return a*l},1),q5=mu("round"),J5=Qs(function(a,l){return a-l},0);function Q5(a){return a&&a.length?Vc(a,rr):0}function tE(a,l){return a&&a.length?Vc(a,wt(l,2)):0}return y.after=w1,y.ary=sg,y.assign=ck,y.assignIn=xg,y.assignInWith=hl,y.assignWith=uk,y.at=fk,y.before=lg,y.bind=Ou,y.bindAll=v5,y.bindKey=cg,y.castArray=M1,y.chain=og,y.chunk=Yx,y.compact=Xx,y.concat=Vx,y.cond=b5,y.conforms=m5,y.constant=Nu,y.countBy=Qw,y.create=hk,y.curry=ug,y.curryRight=fg,y.debounce=hg,y.defaults=dk,y.defaultsDeep=pk,y.defer=k1,y.delay=E1,y.difference=Hx,y.differenceBy=Kx,y.differenceWith=jx,y.drop=Zx,y.dropRight=$x,y.dropRightWhile=qx,y.dropWhile=Jx,y.fill=Qx,y.filter=e1,y.flatMap=o1,y.flatMapDeep=i1,y.flatMapDepth=a1,y.flatten=tg,y.flattenDeep=tw,y.flattenDepth=ew,y.flip=C1,y.flow=y5,y.flowRight=x5,y.fromPairs=rw,y.functions=xk,y.functionsIn=wk,y.groupBy=s1,y.initial=ow,y.intersection=iw,y.intersectionBy=aw,y.intersectionWith=sw,y.invert=Ek,y.invertBy=Ck,y.invokeMap=c1,y.iteratee=zu,y.keyBy=u1,y.keys=Se,y.keysIn=er,y.map=al,y.mapKeys=Rk,y.mapValues=Ak,y.matches=w5,y.matchesProperty=k5,y.memoize=ll,y.merge=Ik,y.mergeWith=wg,y.method=E5,y.methodOf=C5,y.mixin=Gu,y.negate=cl,y.nthArg=R5,y.omit=Ok,y.omitBy=Sk,y.once=T1,y.orderBy=f1,y.over=A5,y.overArgs=R1,y.overEvery=I5,y.overSome=O5,y.partial=Su,y.partialRight=dg,y.partition=h1,y.pick=Pk,y.pickBy=kg,y.property=Og,y.propertyOf=S5,y.pull=fw,y.pullAll=rg,y.pullAllBy=hw,y.pullAllWith=dw,y.pullAt=pw,y.range=P5,y.rangeRight=L5,y.rearg=A1,y.reject=g1,y.remove=gw,y.rest=I1,y.reverse=Au,y.sampleSize=b1,y.set=Mk,y.setWith=Fk,y.shuffle=m1,y.slice=vw,y.sortBy=x1,y.sortedUniq=kw,y.sortedUniqBy=Ew,y.split=o5,y.spread=O1,y.tail=Cw,y.take=Tw,y.takeRight=Rw,y.takeRightWhile=Aw,y.takeWhile=Iw,y.tap=Xw,y.throttle=S1,y.thru=il,y.toArray=mg,y.toPairs=Eg,y.toPairsIn=Cg,y.toPath=z5,y.toPlainObject=yg,y.transform=Dk,y.unary=P1,y.union=Ow,y.unionBy=Sw,y.unionWith=Pw,y.uniq=Lw,y.uniqBy=Mw,y.uniqWith=Fw,y.unset=Nk,y.unzip=Iu,y.unzipWith=ng,y.update=zk,y.updateWith=Gk,y.values=mi,y.valuesIn=Bk,y.without=Dw,y.words=Ag,y.wrap=L1,y.xor=Nw,y.xorBy=zw,y.xorWith=Gw,y.zip=Bw,y.zipObject=Ww,y.zipObjectDeep=Uw,y.zipWith=Yw,y.entries=Eg,y.entriesIn=Cg,y.extend=xg,y.extendWith=hl,Gu(y,y),y.add=B5,y.attempt=Ig,y.camelCase=Xk,y.capitalize=Tg,y.ceil=W5,y.clamp=Wk,y.clone=F1,y.cloneDeep=N1,y.cloneDeepWith=z1,y.cloneWith=D1,y.conformsTo=G1,y.deburr=Rg,y.defaultTo=_5,y.divide=U5,y.endsWith=Vk,y.eq=zr,y.escape=Hk,y.escapeRegExp=Kk,y.every=t1,y.find=r1,y.findIndex=Jp,y.findKey=gk,y.findLast=n1,y.findLastIndex=Qp,y.findLastKey=vk,y.floor=Y5,y.forEach=ig,y.forEachRight=ag,y.forIn=bk,y.forInRight=mk,y.forOwn=_k,y.forOwnRight=yk,y.get=Mu,y.gt=B1,y.gte=W1,y.has=kk,y.hasIn=Fu,y.head=eg,y.identity=rr,y.includes=l1,y.indexOf=nw,y.inRange=Uk,y.invoke=Tk,y.isArguments=Io,y.isArray=Ft,y.isArrayBuffer=U1,y.isArrayLike=tr,y.isArrayLikeObject=ke,y.isBoolean=Y1,y.isBuffer=Yn,y.isDate=X1,y.isElement=V1,y.isEmpty=H1,y.isEqual=K1,y.isEqualWith=j1,y.isError=Pu,y.isFinite=Z1,y.isFunction=vn,y.isInteger=pg,y.isLength=ul,y.isMap=gg,y.isMatch=$1,y.isMatchWith=q1,y.isNaN=J1,y.isNative=Q1,y.isNil=ek,y.isNull=tk,y.isNumber=vg,y.isObject=me,y.isObjectLike=ye,y.isPlainObject=ka,y.isRegExp=Lu,y.isSafeInteger=rk,y.isSet=bg,y.isString=fl,y.isSymbol=cr,y.isTypedArray=bi,y.isUndefined=nk,y.isWeakMap=ok,y.isWeakSet=ik,y.join=lw,y.kebabCase=jk,y.last=kr,y.lastIndexOf=cw,y.lowerCase=Zk,y.lowerFirst=$k,y.lt=ak,y.lte=sk,y.max=X5,y.maxBy=V5,y.mean=H5,y.meanBy=K5,y.min=j5,y.minBy=Z5,y.stubArray=Wu,y.stubFalse=Uu,y.stubObject=M5,y.stubString=F5,y.stubTrue=D5,y.multiply=$5,y.nth=uw,y.noConflict=T5,y.noop=Bu,y.now=sl,y.pad=qk,y.padEnd=Jk,y.padStart=Qk,y.parseInt=t5,y.random=Yk,y.reduce=d1,y.reduceRight=p1,y.repeat=e5,y.replace=r5,y.result=Lk,y.round=q5,y.runInContext=S,y.sample=v1,y.size=_1,y.snakeCase=n5,y.some=y1,y.sortedIndex=bw,y.sortedIndexBy=mw,y.sortedIndexOf=_w,y.sortedLastIndex=yw,y.sortedLastIndexBy=xw,y.sortedLastIndexOf=ww,y.startCase=i5,y.startsWith=a5,y.subtract=J5,y.sum=Q5,y.sumBy=tE,y.template=s5,y.times=N5,y.toFinite=bn,y.toInteger=Gt,y.toLength=_g,y.toLower=l5,y.toNumber=Er,y.toSafeInteger=lk,y.toString=oe,y.toUpper=c5,y.trim=u5,y.trimEnd=f5,y.trimStart=h5,y.truncate=d5,y.unescape=p5,y.uniqueId=G5,y.upperCase=g5,y.upperFirst=Du,y.each=ig,y.eachRight=ag,y.first=eg,Gu(y,function(){var a={};return qr(y,function(l,h){ie.call(y.prototype,h)||(a[h]=l)}),a}(),{chain:!1}),y.VERSION=r,mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),mr(["drop","take"],function(a,l){Ht.prototype[a]=function(h){h=h===t?1:Oe(Gt(h),0);var v=this.__filtered__&&!l?new Ht(this):this.clone();return v.__filtered__?v.__takeCount__=Be(h,v.__takeCount__):v.__views__.push({size:Be(h,St),type:a+(v.__dir__<0?"Right":"")}),v},Ht.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),mr(["filter","map","takeWhile"],function(a,l){var h=l+1,v=h==bt||h==ht;Ht.prototype[a]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:wt(m,3),type:h}),x.__filtered__=x.__filtered__||v,x}}),mr(["head","last"],function(a,l){var h="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[h](1).value()[0]}}),mr(["initial","tail"],function(a,l){var h="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[h](1)}}),Ht.prototype.compact=function(){return this.filter(rr)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Wt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(h){return ba(h,a,l)})}),Ht.prototype.reject=function(a){return this.filter(cl(wt(a)))},Ht.prototype.slice=function(a,l){a=Gt(a);var h=this;return h.__filtered__&&(a>0||l<0)?new Ht(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),l!==t&&(l=Gt(l),h=l<0?h.dropRight(-l):h.take(l-a)),h)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(St)},qr(Ht.prototype,function(a,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),v=/^(?:head|last)$/.test(l),m=y[v?"take"+(l=="last"?"Right":""):l],x=v||/^find/.test(l);!m||(y.prototype[l]=function(){var C=this.__wrapped__,R=v?[1]:arguments,L=C instanceof Ht,U=R[0],Y=L||Ft(C),j=function(Vt){var $t=m.apply(y,Dn([Vt],R));return v&&st?$t[0]:$t};Y&&h&&typeof U=="function"&&U.length!=1&&(L=Y=!1);var st=this.__chain__,mt=!!this.__actions__.length,Ct=x&&!st,Bt=L&&!mt;if(!x&&Y){C=Bt?C:new Ht(this);var Tt=a.apply(C,R);return Tt.__actions__.push({func:il,args:[j],thisArg:t}),new yr(Tt,st)}return Ct&&Bt?a.apply(this,R):(Tt=this.thru(j),Ct?v?Tt.value()[0]:Tt.value():Tt)})}),mr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Ss[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",v=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(v&&!this.__chain__){var x=this.value();return l.apply(Ft(x)?x:[],m)}return this[h](function(C){return l.apply(Ft(C)?C:[],m)})}}),qr(Ht.prototype,function(a,l){var h=y[l];if(h){var v=h.name+"";ie.call(hi,v)||(hi[v]=[]),hi[v].push({name:l,func:h})}}),hi[Js(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=py,Ht.prototype.reverse=gy,Ht.prototype.value=vy,y.prototype.at=Vw,y.prototype.chain=Hw,y.prototype.commit=Kw,y.prototype.next=jw,y.prototype.plant=$w,y.prototype.reverse=qw,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=Jw,y.prototype.first=y.prototype.head,ua&&(y.prototype[ua]=Zw),y},ci=K_();xo?((xo.exports=ci)._=ci,zc._=ci):Fe._=ci}).call(Ca)})(Vl,Vl.exports);var pr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Sr={};Sr[pr.RADIANS]=6370997/(2*Math.PI);Sr[pr.DEGREES]=2*Math.PI*6370997/360;Sr[pr.FEET]=.3048;Sr[pr.METERS]=1;Sr[pr.USFEET]=1200/3937;var XR=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Sr[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),mc=XR;function Ae(n,e,t){return Math.min(Math.max(n,e),t)}var VR=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),HR=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function KR(n,e,t,r,o,i){var s=o-t,c=i-r;if(s!==0||c!==0){var u=((n-t)*s+(e-r)*c)/(s*s+c*c);u>1?(t=o,r=i):u>0&&(t+=s*u,r+=c*u)}return Ko(n,e,t,r)}function Ko(n,e,t,r){var o=t-n,i=r-e;return o*o+i*i}function jR(n){for(var e=n.length,t=0;t<e;t++){for(var r=t,o=Math.abs(n[t][t]),i=t+1;i<e;i++){var s=Math.abs(n[i][t]);s>o&&(o=s,r=i)}if(o===0)return null;var c=n[r];n[r]=n[t],n[t]=c;for(var u=t+1;u<e;u++)for(var f=-n[u][t]/n[t][t],d=t;d<e+1;d++)t==d?n[u][d]=0:n[u][d]+=f*n[t][d]}for(var g=new Array(e),p=e-1;p>=0;p--){g[p]=n[p][e]/n[p][p];for(var b=p-1;b>=0;b--)n[b][e]-=n[b][p]*g[p]}return g}function Nl(n){return n*Math.PI/180}function Ni(n,e){var t=n%e;return t*e<0?t+e:t}function Cn(n,e,t){return n+t*(e-n)}function Cm(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function _l(n,e){return Math.floor(Cm(n,e))}function yl(n,e){return Math.ceil(Cm(n,e))}var ZR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),us=6378137,Li=Math.PI*us,$R=[-Li,-Li,Li,Li],qR=[-180,-85,180,85],xl=us*Math.log(Math.tan(Math.PI/2)),xi=function(n){ZR(e,n);function e(t){return n.call(this,{code:t,units:pr.METERS,extent:$R,global:!0,worldExtent:qR,getPointResolution:function(r,o){return r/VR(o[1]/us)}})||this}return e}(mc),Ev=[new xi("EPSG:3857"),new xi("EPSG:102100"),new xi("EPSG:102113"),new xi("EPSG:900913"),new xi("http://www.opengis.net/def/crs/EPSG/0/3857"),new xi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function JR(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o){i[s]=Li*n[s]/180;var c=us*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));c>xl?c=xl:c<-xl&&(c=-xl),i[s+1]=c}return i}function QR(n,e,t){var r=n.length,o=t>1?t:2,i=e;i===void 0&&(o>2?i=n.slice():i=new Array(r));for(var s=0;s<r;s+=o)i[s]=180*n[s]/Li,i[s+1]=360*Math.atan(Math.exp(n[s+1]/us))/Math.PI-90;return i}var tA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eA=6378137,Cv=[-180,-90,180,90],rA=Math.PI*eA/180,Po=function(n){tA(e,n);function e(t,r){return n.call(this,{code:t,units:pr.DEGREES,extent:Cv,axisOrientation:r,global:!0,metersPerUnit:rA,worldExtent:Cv})||this}return e}(mc),Tv=[new Po("CRS:84"),new Po("EPSG:4326","neu"),new Po("urn:ogc:def:crs:OGC:1.3:CRS84"),new Po("urn:ogc:def:crs:OGC:2:84"),new Po("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Po("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Po("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Df={};function nA(n){return Df[n]||Df[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function oA(n,e){Df[n]=e}var Le=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function fs(n){for(var e in n)delete n[e]}var Tm=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function Ja(n){var e;for(e in n)return!1;return!e}var zi={};function Hl(n,e,t){var r=n.getCode(),o=e.getCode();r in zi||(zi[r]={}),zi[r][o]=t}function iA(n,e){var t;return n in zi&&e in zi[n]&&(t=zi[n][e]),t}var Sa={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Pe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Kt(){return function(){throw new Error("Unimplemented abstract method.")}()}var aA=0;function ne(n){return n.ol_uid||(n.ol_uid=String(++aA))}var sA="6.14.1",lA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cA=function(n){lA(e,n);function e(t){var r=this,o="v"+sA.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+t+" for details.";return r=n.call(this,i)||this,r.code=t,r.name="AssertionError",r.message=i,r}return e}(Error),Rm=cA;function jt(n,e){if(!n)throw new Rm(e)}function Nf(n){for(var e=Pr(),t=0,r=n.length;t<r;++t)Ua(e,n[t]);return e}function uA(n,e,t){var r=Math.min.apply(null,n),o=Math.min.apply(null,e),i=Math.max.apply(null,n),s=Math.max.apply(null,e);return jr(r,o,i,s,t)}function Ih(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Am(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Qi(n,e,t){var r,o;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?o=n[1]-t:n[3]<t?o=t-n[3]:o=0,r*r+o*o}function hs(n,e){return Oh(n,e[0],e[1])}function Mi(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Oh(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function zf(n,e){var t=n[0],r=n[1],o=n[2],i=n[3],s=e[0],c=e[1],u=Pe.UNKNOWN;return s<t?u=u|Pe.LEFT:s>o&&(u=u|Pe.RIGHT),c<r?u=u|Pe.BELOW:c>i&&(u=u|Pe.ABOVE),u===Pe.UNKNOWN&&(u=Pe.INTERSECTING),u}function Pr(){return[1/0,1/0,-1/0,-1/0]}function jr(n,e,t,r,o){return o?(o[0]=n,o[1]=e,o[2]=t,o[3]=r,o):[n,e,t,r]}function _c(n){return jr(1/0,1/0,-1/0,-1/0,n)}function fA(n,e){var t=n[0],r=n[1];return jr(t,r,t,r,e)}function Im(n,e,t,r,o){var i=_c(o);return Om(i,n,e,t,r)}function Qa(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function hA(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Ua(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Om(n,e,t,r,o){for(;t<r;t+=o)dA(n,e[t],e[t+1]);return n}function dA(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Sh(n,e){var t;return t=e(Xi(n)),t||(t=e(ds(n)),t)||(t=e(ps(n)),t)||(t=e(po(n)),t)?t:!1}function Gf(n){var e=0;return Ph(n)||(e=xe(n)*Zr(n)),e}function Xi(n){return[n[0],n[1]]}function ds(n){return[n[2],n[1]]}function Vi(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function pA(n,e){var t;return e===Sa.BOTTOM_LEFT?t=Xi(n):e===Sa.BOTTOM_RIGHT?t=ds(n):e===Sa.TOP_LEFT?t=po(n):e===Sa.TOP_RIGHT?t=ps(n):jt(!1,13),t}function Bf(n,e,t,r,o){var i=e*r[0]/2,s=e*r[1]/2,c=Math.cos(t),u=Math.sin(t),f=i*c,d=i*u,g=s*c,p=s*u,b=n[0],_=n[1],w=b-f+p,k=b-f-p,T=b+f-p,A=b+f+p,O=_-d-g,P=_-d+g,D=_+d+g,X=_+d-g;return jr(Math.min(w,k,T,A),Math.min(O,P,D,X),Math.max(w,k,T,A),Math.max(O,P,D,X),o)}function Zr(n){return n[3]-n[1]}function Ya(n,e,t){var r=t||Pr();return qe(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):_c(r),r}function po(n){return[n[0],n[3]]}function ps(n){return[n[2],n[3]]}function xe(n){return n[2]-n[0]}function qe(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Ph(n){return n[2]<n[0]||n[3]<n[1]}function gA(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function vA(n,e,t){var r=!1,o=zf(n,e),i=zf(n,t);if(o===Pe.INTERSECTING||i===Pe.INTERSECTING)r=!0;else{var s=n[0],c=n[1],u=n[2],f=n[3],d=e[0],g=e[1],p=t[0],b=t[1],_=(b-g)/(p-d),w=void 0,k=void 0;!!(i&Pe.ABOVE)&&!(o&Pe.ABOVE)&&(w=p-(b-f)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.RIGHT)&&!(o&Pe.RIGHT)&&(k=b-(p-u)*_,r=k>=c&&k<=f),!r&&!!(i&Pe.BELOW)&&!(o&Pe.BELOW)&&(w=p-(b-c)/_,r=w>=s&&w<=u),!r&&!!(i&Pe.LEFT)&&!(o&Pe.LEFT)&&(k=b-(p-s)*_,r=k>=c&&k<=f)}return r}function bA(n,e,t,r){var o=[];if(r>1)for(var i=n[2]-n[0],s=n[3]-n[1],c=0;c<r;++c)o.push(n[0]+i*c/r,n[1],n[2],n[1]+s*c/r,n[2]-i*c/r,n[3],n[0],n[3]-s*c/r);else o=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(o,o,2);for(var u=[],f=[],c=0,d=o.length;c<d;c+=2)u.push(o[c]),f.push(o[c+1]);return uA(u,f,t)}function mA(n,e){var t=e.getExtent(),r=Vi(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var o=xe(t),i=Math.floor((r[0]-t[0])/o),s=i*o;n[0]-=s,n[2]-=s}return n}function _A(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function Kl(n,e){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function Lh(n,e){var t=Math.cos(e),r=Math.sin(e),o=n[0]*t-n[1]*r,i=n[1]*t+n[0]*r;return n[0]=o,n[1]=i,n}function yA(n,e){return n[0]*=e,n[1]*=e,n}function xA(n,e){var t=n[0]-e[0],r=n[1]-e[1];return t*t+r*r}function Sm(n,e){if(e.canWrapX()){var t=xe(e.getExtent()),r=wA(n,e,t);r&&(n[0]-=r*t)}return n}function wA(n,e,t){var r=e.getExtent(),o=0;if(e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var i=t||xe(r);o=Math.floor((n[0]-r[0])/i)}return o}var lt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},kA=63710088e-1;function Rv(n,e,t){var r=t||kA,o=Nl(n[1]),i=Nl(e[1]),s=(i-o)/2,c=Nl(e[0]-n[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var Wf=!0;function EA(n){var e=n===void 0?!0:n;Wf=!e}function Mh(n,e,t){var r;if(e!==void 0){for(var o=0,i=n.length;o<i;++o)e[o]=n[o];r=e}else r=n.slice();return r}function Pm(n,e,t){if(e!==void 0&&n!==e){for(var r=0,o=n.length;r<o;++r)e[r]=n[r];n=e}return n}function CA(n){oA(n.getCode(),n),Hl(n,n,Mh)}function TA(n){n.forEach(CA)}function vr(n){return typeof n=="string"?nA(n):n||null}function Av(n,e,t,r){n=vr(n);var o,i=n.getPointResolutionFunc();if(i){if(o=i(e,t),r&&r!==n.getUnits()){var s=n.getMetersPerUnit();s&&(o=o*s/Sr[r])}}else{var c=n.getUnits();if(c==pr.DEGREES&&!r||r==pr.DEGREES)o=e;else{var u=yc(n,vr("EPSG:4326"));if(u===Pm&&c!==pr.DEGREES)o=e*n.getMetersPerUnit();else{var f=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];f=u(f,f,2);var d=Rv(f.slice(0,2),f.slice(2,4)),g=Rv(f.slice(4,6),f.slice(6,8));o=(d+g)/2}var s=r?Sr[r]:n.getMetersPerUnit();s!==void 0&&(o/=s)}}return o}function Iv(n){TA(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Hl(e,t,Mh)})})}function RA(n,e,t,r){n.forEach(function(o){e.forEach(function(i){Hl(o,i,t),Hl(i,o,r)})})}function Fh(n,e){return n?typeof n=="string"?vr(n):n:vr(e)}function Ii(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var r=yc(n,e);return r===Mh&&t}function yc(n,e){var t=n.getCode(),r=e.getCode(),o=iA(t,r);return o||(o=Pm),o}function ts(n,e){var t=vr(n),r=vr(e);return yc(t,r)}function Dh(n,e,t){var r=ts(e,t);return r(n,void 0,n.length)}function Lm(n,e,t,r){var o=ts(e,t);return bA(n,o,void 0,r)}var Lr=null;function AA(n){Lr=vr(n)}function xc(){return Lr}function IA(){AA("EPSG:4326")}function Uf(n,e){return Lr?Dh(n,e,Lr):n}function Rr(n,e){return Lr?Dh(n,Lr,e):(Wf&&!Kl(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Wf=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Yf(n,e){return Lr?Lm(n,e,Lr):n}function Bo(n,e){return Lr?Lm(n,Lr,e):n}function OA(n,e){if(!Lr)return n;var t=vr(e).getUnits(),r=Lr.getUnits();return t&&r?n*Sr[t]/Sr[r]:n}function SA(){Iv(Ev),Iv(Tv),RA(Tv,Ev,JR,QR)}SA();var PA=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),ln=PA,Hi={PROPERTYCHANGE:"propertychange"},LA=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),Nh=LA;function MA(n,e,t){for(var r,o,i=t||Jo,s=0,c=n.length,u=!1;s<c;)r=s+(c-s>>1),o=+i(n[r],e),o<0?s=r+1:(c=r,u=!o);return u?s:~s}function Jo(n,e){return n>e?1:n<e?-1:0}function zh(n,e,t){var r=n.length;if(n[0]<=e)return 0;if(e<=n[r-1])return r-1;var o=void 0;if(t>0){for(o=1;o<r;++o)if(n[o]<e)return o-1}else if(t<0){for(o=1;o<r;++o)if(n[o]<=e)return o}else for(o=1;o<r;++o){if(n[o]==e)return o;if(n[o]<e)return typeof t=="function"?t(e,n[o-1],n[o])>0?o-1:o:n[o-1]-e<e-n[o]?o-1:o}return r-1}function FA(n,e,t){for(;e<t;){var r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function In(n,e){for(var t=Array.isArray(e)?e:[e],r=t.length,o=0;o<r;o++)n[n.length]=t[o]}function ei(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function DA(n,e,t){var r=e||Jo;return n.every(function(o,i){if(i===0)return!0;var s=r(n[i-1],o);return!(s>0||t&&s===0)})}function jo(){return!0}function gs(){return!1}function Qo(){}function NA(n){var e=!1,t,r,o;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==o||!ei(i,r))&&(e=!0,o=this,r=i,t=n.apply(this,arguments)),t}}var zA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GA=function(n){zA(e,n);function e(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(t,r){if(!(!t||!r)){var o=this.listeners_||(this.listeners_={}),i=o[t]||(o[t]=[]);i.indexOf(r)===-1&&i.push(r)}},e.prototype.dispatchEvent=function(t){var r=typeof t=="string",o=r?t:t.type,i=this.listeners_&&this.listeners_[o];if(!!i){var s=r?new ln(t):t;s.target||(s.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});o in c||(c[o]=0,u[o]=0),++c[o];for(var f,d=0,g=i.length;d<g;++d)if("handleEvent"in i[d]?f=i[d].handleEvent(s):f=i[d].call(this,s),f===!1||s.propagationStopped){f=!1;break}if(--c[o]===0){var p=u[o];for(delete u[o];p--;)this.removeEventListener(o,Qo);delete c[o]}return f}},e.prototype.disposeInternal=function(){this.listeners_&&fs(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,r){var o=this.listeners_&&this.listeners_[t];if(o){var i=o.indexOf(r);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(o[i]=Qo,++this.pendingRemovals_[t]):(o.splice(i,1),o.length===0&&delete this.listeners_[t]))}},e}(Nh),ta=GA,Dt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function te(n,e,t,r,o){if(r&&r!==n&&(t=t.bind(r)),o){var i=t;t=function(){n.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function jl(n,e,t,r){return te(n,e,t,r,!0)}function be(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),fs(n))}var BA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wc=function(n){BA(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Dt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var o=t.length,i=new Array(o),s=0;s<o;++s)i[s]=te(this,t[s],r);return i}else return te(this,t,r)},e.prototype.onceInternal=function(t,r){var o;if(Array.isArray(t)){var i=t.length;o=new Array(i);for(var s=0;s<i;++s)o[s]=jl(this,t[s],r)}else o=jl(this,t,r);return r.ol_key=o,o},e.prototype.unInternal=function(t,r){var o=r.ol_key;if(o)WA(o);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],r);else this.removeEventListener(t,r)},e}(ta);wc.prototype.on;wc.prototype.once;wc.prototype.un;function WA(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)be(n[e]);else be(n)}var Mm=wc,Fm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ov=function(n){Fm(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.key=r,i.oldValue=o,i}return e}(ln),UA=function(n){Fm(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,ne(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return e.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Le({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,r){var o;o="change:".concat(t),this.hasListener(o)&&this.dispatchEvent(new Ov(o,t,r)),o=Hi.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new Ov(o,t,r))},e.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},e.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},e.prototype.set=function(t,r,o){var i=this.values_||(this.values_={});if(o)i[t]=r;else{var s=i[t];i[t]=r,s!==r&&this.notify(t,s)}},e.prototype.setProperties=function(t,r){for(var o in t)this.set(o,t[o],r)},e.prototype.applyProperties=function(t){!t.values_||Le(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var o=this.values_[t];delete this.values_[t],Ja(this.values_)&&(this.values_=null),r||this.notify(t,o)}},e}(Mm),cn=UA,ho=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",YA=ho.indexOf("firefox")!==-1,XA=ho.indexOf("safari")!==-1&&ho.indexOf("chrom")==-1;XA&&(ho.indexOf("version/15.4")>=0||ho.match(/cpu (os|iphone os) 15_4 like mac os x/));var VA=ho.indexOf("webkit")!==-1&&ho.indexOf("edge")==-1,HA=ho.indexOf("macintosh")!==-1,Dm=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,kc=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,KA=typeof Image!="undefined"&&Image.prototype.decode,Nm=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function sn(){return[1,0,0,1,0,0]}function jA(n,e,t,r,o,i,s){return n[0]=e,n[1]=t,n[2]=r,n[3]=o,n[4]=i,n[5]=s,n}function ZA(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Re(n,e){var t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function $A(n,e,t){return jA(n,e,0,0,t,0,0)}function Pn(n,e,t,r,o,i,s,c){var u=Math.sin(i),f=Math.cos(i);return n[0]=r*f,n[1]=o*u,n[2]=-r*u,n[3]=o*f,n[4]=s*r*f-c*r*u+e,n[5]=s*o*u+c*o*f+t,n}function Gh(n,e){var t=qA(e);jt(t!==0,32);var r=e[0],o=e[1],i=e[2],s=e[3],c=e[4],u=e[5];return n[0]=s/t,n[1]=-o/t,n[2]=-i/t,n[3]=r/t,n[4]=(i*u-s*c)/t,n[5]=-(r*u-o*c)/t,n}function qA(n){return n[0]*n[3]-n[1]*n[2]}var Sv;function zm(n){var e="matrix("+n.join(", ")+")";if(kc)return e;var t=Sv||(Sv=document.createElement("div"));return t.style.transform=e,t.style.transform}function Zo(n,e,t,r,o,i){for(var s=i||[],c=0,u=e;u<t;u+=r){var f=n[u],d=n[u+1];s[c++]=o[0]*f+o[2]*d+o[4],s[c++]=o[1]*f+o[3]*d+o[5]}return i&&s.length!=c&&(s.length=c),s}function Bh(n,e,t,r,o,i,s){for(var c=s||[],u=Math.cos(o),f=Math.sin(o),d=i[0],g=i[1],p=0,b=e;b<t;b+=r){var _=n[b]-d,w=n[b+1]-g;c[p++]=d+_*u-w*f,c[p++]=g+_*f+w*u;for(var k=b+2;k<b+r;++k)c[p++]=n[k]}return s&&c.length!=p&&(c.length=p),c}function JA(n,e,t,r,o,i,s,c){for(var u=c||[],f=s[0],d=s[1],g=0,p=e;p<t;p+=r){var b=n[p]-f,_=n[p+1]-d;u[g++]=f+o*b,u[g++]=d+i*_;for(var w=p+2;w<p+r;++w)u[g++]=n[w]}return c&&u.length!=g&&(u.length=g),u}function Gm(n,e,t,r,o,i,s){for(var c=s||[],u=0,f=e;f<t;f+=r){c[u++]=n[f]+o,c[u++]=n[f+1]+i;for(var d=f+2;d<f+r;++d)c[u++]=n[d]}return s&&c.length!=u&&(c.length=u),c}var QA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pv=sn(),t2=function(n){QA(e,n);function e(){var t=n.call(this)||this;return t.extent_=Pr(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=NA(function(r,o,i){if(!i)return this.getSimplifiedGeometry(o);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(o)}),t}return e.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},e.prototype.clone=function(){return Kt()},e.prototype.closestPointXY=function(t,r,o,i){return Kt()},e.prototype.containsXY=function(t,r){var o=this.getClosestPoint([t,r]);return o[0]===t&&o[1]===r},e.prototype.getClosestPoint=function(t,r){var o=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],o,1/0),o},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Kt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&_c(r),this.extentRevision_=this.getRevision()}return gA(this.extent_,t)},e.prototype.rotate=function(t,r){Kt()},e.prototype.scale=function(t,r,o){Kt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Kt()},e.prototype.getType=function(){return Kt()},e.prototype.applyTransform=function(t){Kt()},e.prototype.intersectsExtent=function(t){return Kt()},e.prototype.translate=function(t,r){Kt()},e.prototype.transform=function(t,r){var o=vr(t),i=o.getUnits()==pr.TILE_PIXELS?function(s,c,u){var f=o.getExtent(),d=o.getWorldExtent(),g=Zr(d)/Zr(f);return Pn(Pv,d[0],d[3],g,-g,0,0,0),Zo(s,0,s.length,u,Pv,c),ts(o,r)(s,c,u)}:ts(o,r);return this.applyTransform(i),this},e}(cn),e2=t2,Te={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},r2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),n2=function(n){r2(e,n);function e(){var t=n.call(this)||this;return t.layout=Te.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Im(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Kt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),o=r.getFlatCoordinates();return o.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,r){this.stride=Lv(t),this.layout=t,this.flatCoordinates=r},e.prototype.setCoordinates=function(t,r){Kt()},e.prototype.setLayout=function(t,r,o){var i;if(t)i=Lv(t);else{for(var s=0;s<o;++s)if(r.length===0){this.layout=Te.XY,this.stride=2;return}else r=r[0];i=r.length,t=o2(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Bh(o,0,o.length,i,t,r,o),this.changed()}},e.prototype.scale=function(t,r,o){var i=r;i===void 0&&(i=t);var s=o;s||(s=Vi(this.getExtent()));var c=this.getFlatCoordinates();if(c){var u=this.getStride();JA(c,0,c.length,u,t,i,s,c),this.changed()}},e.prototype.translate=function(t,r){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Gm(o,0,o.length,i,t,r,o),this.changed()}},e}(e2);function o2(n){var e;return n==2?e=Te.XY:n==3?e=Te.XYZ:n==4&&(e=Te.XYZM),e}function Lv(n){var e;return n==Te.XY?e=2:n==Te.XYZ||n==Te.XYM?e=3:n==Te.XYZM&&(e=4),e}function i2(n,e,t){var r=n.getFlatCoordinates();if(r){var o=n.getStride();return Zo(r,0,r.length,o,e,t)}else return null}var go=n2;function Bm(n,e,t,r){for(var o=0,i=t.length;o<i;++o)n[e++]=t[o];return e}function Ec(n,e,t,r){for(var o=0,i=t.length;o<i;++o)for(var s=t[o],c=0;c<r;++c)n[e++]=s[c];return e}function Wh(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=Ec(n,e,t[c],r);i[s++]=f,e=f}return i.length=s,i}function a2(n,e,t,r,o){for(var i=o||[],s=0,c=0,u=t.length;c<u;++c){var f=Wh(n,e,t[c],r,i[s]);i[s++]=f,e=f[f.length-1]}return i.length=s,i}var s2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wm=function(n){s2(e,n);function e(t,r,o){var i=n.call(this)||this;if(o!==void 0&&r===void 0)i.setFlatCoordinates(o,t);else{var s=r||0;i.setCenterAndRadius(t,s,o)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=t-s[0],u=r-s[1],f=c*c+u*u;if(f<i){if(f===0)for(var d=0;d<this.stride;++d)o[d]=s[d];else{var g=this.getRadius()/Math.sqrt(f);o[0]=s[0]+g*c,o[1]=s[1]+g*u;for(var d=2;d<this.stride;++d)o[d]=s[d]}return o.length=this.stride,f}else return i},e.prototype.containsXY=function(t,r){var o=this.flatCoordinates,i=t-o[0],s=r-o[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var r=this.flatCoordinates,o=r[this.stride]-r[0];return jr(r[0]-o,r[1]-o,r[0]+o,r[1]+o,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],r=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+r*r},e.prototype.getType=function(){return lt.CIRCLE},e.prototype.intersectsExtent=function(t){var r=this.getExtent();if(qe(t,r)){var o=this.getCenter();return t[0]<=o[0]&&t[2]>=o[0]||t[1]<=o[1]&&t[3]>=o[1]?!0:Sh(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var r=this.stride,o=this.flatCoordinates[r]-this.flatCoordinates[0],i=t.slice();i[r]=i[0]+o;for(var s=1;s<r;++s)i[r+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,r,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=Bm(i,0,t,this.stride);i[s++]=i[0]+r;for(var c=1,u=this.stride;c<u;++c)i[s++]=i[c];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,r){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Bh(o,0,o.length,i,t,r,o)),this.changed()},e.prototype.translate=function(t,r){var o=this.getCenter(),i=this.getStride();this.setCenter(Gm(o,0,o.length,i,t,r,o)),this.changed()},e}(go);Wm.prototype.transform;var Um=Wm;function Mv(n,e,t,r,o,i,s){var c=n[e],u=n[e+1],f=n[t]-c,d=n[t+1]-u,g;if(f===0&&d===0)g=e;else{var p=((o-c)*f+(i-u)*d)/(f*f+d*d);if(p>1)g=t;else if(p>0){for(var b=0;b<r;++b)s[b]=Cn(n[e+b],n[t+b],p);s.length=r;return}else g=e}for(var b=0;b<r;++b)s[b]=n[g+b];s.length=r}function Uh(n,e,t,r,o){var i=n[e],s=n[e+1];for(e+=r;e<t;e+=r){var c=n[e],u=n[e+1],f=Ko(i,s,c,u);f>o&&(o=f),i=c,s=u}return o}function Yh(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=Uh(n,e,c,r,o),e=c}return o}function l2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];o=Yh(n,e,c,r,o),e=c[c.length-1]}return o}function Xh(n,e,t,r,o,i,s,c,u,f,d){if(e==t)return f;var g,p;if(o===0)if(p=Ko(s,c,n[e],n[e+1]),p<f){for(g=0;g<r;++g)u[g]=n[e+g];return u.length=r,p}else return f;for(var b=d||[NaN,NaN],_=e+r;_<t;)if(Mv(n,_-r,_,r,s,c,b),p=Ko(s,c,b[0],b[1]),p<f){for(f=p,g=0;g<r;++g)u[g]=b[g];u.length=r,_+=r}else _+=r*Math.max((Math.sqrt(p)-Math.sqrt(f))/o|0,1);if(i&&(Mv(n,t-r,e,r,s,c,b),p=Ko(s,c,b[0],b[1]),p<f)){for(f=p,g=0;g<r;++g)u[g]=b[g];u.length=r}return f}function Vh(n,e,t,r,o,i,s,c,u,f,d){for(var g=d||[NaN,NaN],p=0,b=t.length;p<b;++p){var _=t[p];f=Xh(n,e,_,r,o,i,s,c,u,f,g),e=_}return f}function c2(n,e,t,r,o,i,s,c,u,f,d){for(var g=d||[NaN,NaN],p=0,b=t.length;p<b;++p){var _=t[p];f=Vh(n,e,_,r,o,i,s,c,u,f,g),e=_[_.length-1]}return f}function Hh(n,e,t,r,o,i,s){var c=(t-e)/r;if(c<3){for(;e<t;e+=r)i[s++]=n[e],i[s++]=n[e+1];return s}var u=new Array(c);u[0]=1,u[c-1]=1;for(var f=[e,t-r],d=0;f.length>0;){for(var g=f.pop(),p=f.pop(),b=0,_=n[p],w=n[p+1],k=n[g],T=n[g+1],A=p+r;A<g;A+=r){var O=n[A],P=n[A+1],D=KR(O,P,_,w,k,T);D>b&&(d=A,b=D)}b>o&&(u[(d-e)/r]=1,p+r<d&&f.push(p,d),d+r<g&&f.push(d,g))}for(var A=0;A<c;++A)u[A]&&(i[s++]=n[e+A*r],i[s++]=n[e+A*r+1]);return s}function u2(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=Hh(n,e,d,r,o,i,s),c.push(s),e=d}return s}function Fo(n,e){return e*Math.round(n/e)}function f2(n,e,t,r,o,i,s){if(e==t)return s;var c=Fo(n[e],o),u=Fo(n[e+1],o);e+=r,i[s++]=c,i[s++]=u;var f,d;do if(f=Fo(n[e],o),d=Fo(n[e+1],o),e+=r,e==t)return i[s++]=f,i[s++]=d,s;while(f==c&&d==u);for(;e<t;){var g=Fo(n[e],o),p=Fo(n[e+1],o);if(e+=r,!(g==f&&p==d)){var b=f-c,_=d-u,w=g-c,k=p-u;if(b*k==_*w&&(b<0&&w<b||b==w||b>0&&w>b)&&(_<0&&k<_||_==k||_>0&&k>_)){f=g,d=p;continue}i[s++]=f,i[s++]=d,c=f,u=d,f=g,d=p}}return i[s++]=f,i[s++]=d,s}function Ym(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u];s=f2(n,e,d,r,o,i,s),c.push(s),e=d}return s}function h2(n,e,t,r,o,i,s,c){for(var u=0,f=t.length;u<f;++u){var d=t[u],g=[];s=Ym(n,e,d,r,o,i,s,g),c.push(g),e=d[d.length-1]}return s}function oo(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=e;c<t;c+=r)i[s++]=n.slice(c,c+r);return i.length=s,i}function es(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=oo(n,e,f,r,i[s]),e=f}return i.length=s,i}function Xf(n,e,t,r,o){for(var i=o!==void 0?o:[],s=0,c=0,u=t.length;c<u;++c){var f=t[c];i[s++]=es(n,e,f,r,i[s]),e=f[f.length-1]}return i.length=s,i}function Xm(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=s*c-i*u,i=c,s=u}return o/2}function Vm(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=Xm(n,e,c,r),e=c}return o}function d2(n,e,t,r){for(var o=0,i=0,s=t.length;i<s;++i){var c=t[i];o+=Vm(n,e,c,r),e=c[c.length-1]}return o}var p2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),g2=function(n){p2(e,n);function e(t,r){var o=n.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,r,o,i){return i<Qi(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.getArea=function(){return Xm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return lt.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ec(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),Fv=g2;function Hm(n,e,t,r,o){var i;for(e+=r;e<t;e+=r)if(i=o(n.slice(e-r,e),n.slice(e,e+r)),i)return i;return!1}function Km(n,e,t,r,o,i,s){var c,u,f=(t-e)/r;if(f===1)c=e;else if(f===2)c=e,u=o;else if(f!==0){for(var d=n[e],g=n[e+1],p=0,b=[0],_=e+r;_<t;_+=r){var w=n[_],k=n[_+1];p+=Math.sqrt((w-d)*(w-d)+(k-g)*(k-g)),b.push(p),d=w,g=k}var T=o*p,A=MA(b,T);A<0?(u=(T-b[-A-2])/(b[-A-1]-b[-A-2]),c=e+(-A-2)*r):c=e+A*r}for(var O=s>1?s:2,P=i||new Array(O),_=0;_<O;++_)P[_]=c===void 0?NaN:u===void 0?n[c+_]:Cn(n[c+_],n[c+r+_],u);return P}function Vf(n,e,t,r,o,i){if(t==e)return null;var s;if(o<n[e+r-1])return i?(s=n.slice(e,e+r),s[r-1]=o,s):null;if(n[t-1]<o)return i?(s=n.slice(t-r,t),s[r-1]=o,s):null;if(o==n[e+r-1])return n.slice(e,e+r);for(var c=e/r,u=t/r;c<u;){var f=c+u>>1;o<n[(f+1)*r-1]?u=f:c=f+1}var d=n[c*r-1];if(o==d)return n.slice((c-1)*r,(c-1)*r+r);var g=n[(c+1)*r-1],p=(o-d)/(g-d);s=[];for(var b=0;b<r-1;++b)s.push(Cn(n[(c-1)*r+b],n[c*r+b],p));return s.push(o),s}function v2(n,e,t,r,o,i,s){if(s)return Vf(n,e,t[t.length-1],r,o,i);var c;if(o<n[r-1])return i?(c=n.slice(0,r),c[r-1]=o,c):null;if(n[n.length-1]<o)return i?(c=n.slice(n.length-r),c[r-1]=o,c):null;for(var u=0,f=t.length;u<f;++u){var d=t[u];if(e!=d){if(o<n[e+r-1])return null;if(o<=n[d-1])return Vf(n,e,d,r,o,!1);e=d}}return null}function b2(n,e,t,r,o){var i=Sh(o,function(s){return!Wo(n,e,t,r,s[0],s[1])});return!i}function Wo(n,e,t,r,o,i){for(var s=0,c=n[t-r],u=n[t-r+1];e<t;e+=r){var f=n[e],d=n[e+1];u<=i?d>i&&(f-c)*(i-u)-(o-c)*(d-u)>0&&s++:d<=i&&(f-c)*(i-u)-(o-c)*(d-u)<0&&s--,c=f,u=d}return s!==0}function Kh(n,e,t,r,o,i){if(t.length===0||!Wo(n,e,t[0],r,o,i))return!1;for(var s=1,c=t.length;s<c;++s)if(Wo(n,t[s-1],t[s],r,o,i))return!1;return!0}function m2(n,e,t,r,o,i){if(t.length===0)return!1;for(var s=0,c=t.length;s<c;++s){var u=t[s];if(Kh(n,e,u,r,o,i))return!0;e=u[u.length-1]}return!1}function Cc(n,e,t,r,o){var i=Om(Pr(),n,e,t,r);return qe(o,i)?Mi(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]?!0:Hm(n,e,t,r,function(s,c){return vA(o,s,c)}):!1}function _2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){if(Cc(n,e,t[i],r,o))return!0;e=t[i]}return!1}function y2(n,e,t,r,o){return!!(Cc(n,e,t,r,o)||Wo(n,e,t,r,o[0],o[1])||Wo(n,e,t,r,o[0],o[3])||Wo(n,e,t,r,o[2],o[1])||Wo(n,e,t,r,o[2],o[3]))}function jm(n,e,t,r,o){if(!y2(n,e,t[0],r,o))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(b2(n,t[i-1],t[i],r,o)&&!Cc(n,t[i-1],t[i],r,o))return!1;return!0}function x2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(jm(n,e,c,r,o))return!0;e=c[c.length-1]}return!1}function Zm(n,e,t,r){for(var o=n[e],i=n[e+1],s=0,c=e+r;c<t;c+=r){var u=n[c],f=n[c+1];s+=Math.sqrt((u-o)*(u-o)+(f-i)*(f-i)),o=u,i=f}return s}var w2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k2=function(n){w2(e,n);function e(t,r){var o=n.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?In(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<Qi(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.forEachSegment=function(t){return Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM)return null;var o=r!==void 0?r:!1;return Vf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,r){return Km(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},e.prototype.getLength=function(){return Zm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Te.XY)},e.prototype.getType=function(){return lt.LINE_STRING},e.prototype.intersectsExtent=function(t){return Cc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ec(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),$o=k2,E2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),C2=function(n){E2(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,r);else if(r!==void 0&&o)i.setFlatCoordinates(r,t),i.ends_=o;else{for(var s=i.getLayout(),c=t,u=[],f=[],d=0,g=c.length;d<g;++d){var p=c[d];d===0&&(s=p.getLayout()),In(u,p.getFlatCoordinates()),f.push(u.length)}i.setFlatCoordinates(s,u),i.ends_=f}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<Qi(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,o,i))},e.prototype.getCoordinateAtM=function(t,r,o){if(this.layout!=Te.XYM&&this.layout!=Te.XYZM||this.flatCoordinates.length===0)return null;var i=r!==void 0?r:!1,s=o!==void 0?o:!1;return v2(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return es(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new $o(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,o=this.layout,i=[],s=0,c=0,u=r.length;c<u;++c){var f=r[c],d=new $o(t.slice(s,f),o);i.push(d),s=f}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,o=0,i=this.ends_,s=this.stride,c=0,u=i.length;c<u;++c){var f=i[c],d=Km(r,o,f,s,.5);In(t,d),o=f}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=u2(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return lt.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return _2(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Wh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(go),T2=C2,R2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A2=function(n){R2(e,n);function e(t,r){var o=n.call(this)||this;return o.setCoordinates(t,r),o}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){var s=this.flatCoordinates,c=Ko(t,r,s[0],s[1]);if(c<i){for(var u=this.stride,f=0;f<u;++f)o[f]=s[f];return o.length=u,c}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return fA(this.flatCoordinates,t)},e.prototype.getType=function(){return lt.POINT},e.prototype.intersectsExtent=function(t){return Oh(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bm(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),qo=A2,I2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),O2=function(n){I2(e,n);function e(t,r){var o=n.call(this)||this;return r&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return e.prototype.appendPoint=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){if(i<Qi(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,c=this.stride,u=0,f=s.length;u<f;u+=c){var d=Ko(t,r,s[u],s[u+1]);if(d<i){i=d;for(var g=0;g<c;++g)o[g]=s[u+g];o.length=c}}return i},e.prototype.getCoordinates=function(){return oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new qo(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,o=this.stride,i=[],s=0,c=t.length;s<c;s+=o){var u=new qo(t.slice(s,s+o),r);i.push(u)}return i},e.prototype.getType=function(){return lt.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var c=r[i],u=r[i+1];if(Oh(t,c,u))return!0}return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ec(this.flatCoordinates,0,t,this.stride),this.changed()},e}(go),$m=O2;function qm(n,e,t,r,o,i,s){for(var c,u,f,d,g,p,b,_=o[i+1],w=[],k=0,T=t.length;k<T;++k){var A=t[k];for(d=n[A-r],p=n[A-r+1],c=e;c<A;c+=r)g=n[c],b=n[c+1],(_<=p&&b<=_||p<=_&&_<=b)&&(f=(_-p)/(b-p)*(g-d)+d,w.push(f)),d=g,p=b}var O=NaN,P=-1/0;for(w.sort(Jo),d=w[0],c=1,u=w.length;c<u;++c){g=w[c];var D=Math.abs(g-d);D>P&&(f=(d+g)/2,Kh(n,e,t,r,f,_)&&(O=f,P=D)),d=g}return isNaN(O)&&(O=o[i]),s?(s.push(O,_,P),s):[O,_,P]}function S2(n,e,t,r,o){for(var i=[],s=0,c=t.length;s<c;++s){var u=t[s];i=qm(n,e,u,r,o,2*s,i),e=u[u.length-1]}return i}function P2(n,e,t,r){for(;e<t-r;){for(var o=0;o<r;++o){var i=n[e+o];n[e+o]=n[t-r+o],n[t-r+o]=i}e+=r,t-=r}}function Jm(n,e,t,r){for(var o=0,i=n[t-r],s=n[t-r+1];e<t;e+=r){var c=n[e],u=n[e+1];o+=(c-i)*(u+s),i=c,s=u}return o===0?void 0:o>0}function Qm(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=Jm(n,e,u,r);if(s===0){if(i&&f||!i&&!f)return!1}else if(i&&!f||!i&&f)return!1;e=u}return!0}function L2(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(!Qm(n,e,c,r,o))return!1;c.length&&(e=c[c.length-1])}return!0}function Hf(n,e,t,r,o){for(var i=o!==void 0?o:!1,s=0,c=t.length;s<c;++s){var u=t[s],f=Jm(n,e,u,r),d=s===0?i&&f||!i&&!f:i&&!f||!i&&f;d&&P2(n,e,u,r),e=u}return e}function Dv(n,e,t,r,o){for(var i=0,s=t.length;i<s;++i)e=Hf(n,e,t[i],r,o);return e}var M2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t0=function(n){M2(e,n);function e(t,r,o){var i=n.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,r!==void 0&&o?(i.setFlatCoordinates(r,t),i.ends_=o):i.setCoordinates(t,r),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?In(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,o,i){return i<Qi(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return Kh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},e.prototype.getArea=function(){return Vm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Hf(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,es(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Vi(this.getExtent());this.flatInteriorPoint_=qm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new qo(this.getFlatInteriorPoint(),Te.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Fv(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.ends_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c],d=new Fv(r.slice(s,f),t);i.push(d),s=f}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Qm(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Hf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=Ym(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getType=function(){return lt.POLYGON},e.prototype.intersectsExtent=function(t){return jm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Wh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},e}(go),rs=t0;function Nv(n){var e=n[0],t=n[1],r=n[2],o=n[3],i=[e,t,e,o,r,o,r,t,e,t];return new t0(i,Te.XY,[i.length])}function F2(n,e,t,r){for(var o=[],i=Pr(),s=0,c=t.length;s<c;++s){var u=t[s];i=Im(n,e,u[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return o}var D2=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N2=function(n){D2(e,n);function e(t,r,o){var i=n.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!o&&!Array.isArray(t[0])){for(var s=i.getLayout(),c=t,u=[],f=[],d=0,g=c.length;d<g;++d){var p=c[d];d===0&&(s=p.getLayout());for(var b=u.length,_=p.getEnds(),w=0,k=_.length;w<k;++w)_[w]+=b;In(u,p.getFlatCoordinates()),f.push(_)}r=s,t=u,o=f}return r!==void 0&&o?(i.setFlatCoordinates(r,t),i.endss_=o):i.setCoordinates(t,r),i}return e.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;In(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var i=0,s=r.length;i<s;++i)r[i]+=o}this.endss_.push(r),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),o=0;o<t;++o)r[o]=this.endss_[o].slice();var i=new e(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,r,o,i){return i<Qi(this.getExtent(),t,r)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l2(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),c2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,o,i))},e.prototype.containsXY=function(t,r){return m2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},e.prototype.getArea=function(){return d2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Dv(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,Xf(r,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=F2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=S2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new $m(this.getFlatInteriorPoints().slice(),Te.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;L2(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Dv(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=h2(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,o),new e(r,Te.XY,o)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var o=this.endss_[t-1];r=o[o.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(r!==0)for(var c=0,u=i.length;c<u;++c)i[c]-=r;return new rs(this.flatCoordinates.slice(r,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.endss_,i=[],s=0,c=0,u=o.length;c<u;++c){var f=o[c].slice(),d=f[f.length-1];if(s!==0)for(var g=0,p=f.length;g<p;++g)f[g]-=s;var b=new rs(r.slice(s,d),t,f);i.push(b),s=d}return i},e.prototype.getType=function(){return lt.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return x2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=a2(this.flatCoordinates,0,t,this.stride,this.endss_);if(o.length===0)this.flatCoordinates.length=0;else{var i=o[o.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(go),z2=N2;class jh{constructor(e,t){dl(this,"x");dl(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new jh(-this.y,this.x)}}const G2=new mc({code:"EPSG:4326"}),B2=new mc({code:"EPSG:900913"});function zv(n){return new qo(n).transform(G2,B2).getExtent()}function zl(n,e){return new $o([zv(n),zv(e)]).getLength()}function qu(n,e,t){const r=Math.ceil(zl(n,e)/t),o=Vl.exports.range(0,r).map(i=>[n[0]+i/r*(e[0]-n[0]),n[1]+i/r*(e[1]-n[1])]);return o.push(e),o}function W2(n,e,t){const r=new jh(n.path[0],n.path[3]),o=qu(n.path[0],n.path[1],e),i=o.map(c=>n.intersectOtherSide(c,r)),s=[];for(let c=0;c<o.length;c++){let u;c%2===0?u=qu(o[c],i[c],t):u=qu(i[c],o[c],t),u.forEach(f=>s.push(f))}return s}var U2=Tc("colinear"),Y2=Tc("parallel"),X2=Tc("none");function V2(n,e,t,r,o,i,s,c){var u=(c-i)*(t-n)-(s-o)*(r-e),f=(s-o)*(e-i)-(c-i)*(n-o),d=(t-n)*(e-i)-(r-e)*(n-o);if(u==0)return f==0&&d==0?U2:Y2;var g=f/u,p=d/u;return g>=0&&g<=1&&p>=0&&p<=1?H2({x:n+g*(t-n),y:e+g*(r-e)}):X2}function H2(n){var e=Tc("intersecting");return e.point=n,e}function Tc(n){return{type:n}}class K2{constructor(e){dl(this,"path");this.path=[...e]}width(){return zl(this.path[0],this.path[1])}height(){return zl(this.path[0],this.path[3])}diagonalLength(){return zl(this.path[0],this.path[2])}intersectOtherSide(e,t){const r=Math.sqrt(t.x*t.x+t.y*t.y),o=t.x/r,i=t.y/r,s=this.diagonalLength()*1.1,c=[[e[0]-s*o,e[1]-s*i],[e[0]+s*o,e[1]+s*i]],u=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],f=Vl.exports.chain(u).map(d=>V2(c[0][0],c[0][1],c[1][0],c[1][1],d[0][0],d[0][1],d[1][0],d[1][1])).filter(d=>d.type==="intersecting").map("point").maxBy(d=>(d.x-e[0])*(d.x-e[0])+(d.y-e[1])*(d.y-e[1])).value();return[f.x,f.y]}}var Ye={ANIMATING:0,INTERACTING:1},Br={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},j2=42,Zh=256;function Gv(n,e,t){return function(r,o,i,s,c){if(!!r){if(!o&&!e)return r;var u=e?0:i[0]*o,f=e?0:i[1]*o,d=c?c[0]:0,g=c?c[1]:0,p=n[0]+u/2+d,b=n[2]-u/2+d,_=n[1]+f/2+g,w=n[3]-f/2+g;p>b&&(p=(b+p)/2,b=p),_>w&&(_=(w+_)/2,w=_);var k=Ae(r[0],p,b),T=Ae(r[1],_,w);if(s&&t&&o){var A=30*o;k+=-A*Math.log(1+Math.max(0,p-r[0])/A)+A*Math.log(1+Math.max(0,r[0]-b)/A),T+=-A*Math.log(1+Math.max(0,_-r[1])/A)+A*Math.log(1+Math.max(0,r[1]-w)/A)}return[k,T]}}}function Z2(n){return n}function $h(n,e,t,r){var o=xe(e)/t[0],i=Zr(e)/t[1];return r?Math.min(n,Math.max(o,i)):Math.min(n,Math.min(o,i))}function qh(n,e,t){var r=Math.min(n,e),o=50;return r*=Math.log(1+o*Math.max(0,n/e-1))/o+1,t&&(r=Math.max(r,t),r/=Math.log(1+o*Math.max(0,t/n-1))/o+1),Ae(r,t/2,e*2)}function $2(n,e,t,r){return function(o,i,s,c){if(o!==void 0){var u=n[0],f=n[n.length-1],d=t?$h(u,t,s,r):u;if(c){var g=e!==void 0?e:!0;return g?qh(o,d,f):Ae(o,f,d)}var p=Math.min(d,o),b=Math.floor(zh(n,p,i));return n[b]>d&&b<n.length-1?n[b+1]:n[b]}else return}}function q2(n,e,t,r,o,i){return function(s,c,u,f){if(s!==void 0){var d=o?$h(e,o,u,i):e,g=t!==void 0?t:0;if(f){var p=r!==void 0?r:!0;return p?qh(s,d,g):Ae(s,g,d)}var b=1e-9,_=Math.ceil(Math.log(e/d)/Math.log(n)-b),w=-c*(.5-b)+.5,k=Math.min(d,s),T=Math.floor(Math.log(e/k)/Math.log(n)+w),A=Math.max(_,T),O=e/Math.pow(n,A);return Ae(O,g,d)}else return}}function Bv(n,e,t,r,o){return function(i,s,c,u){if(i!==void 0){var f=r?$h(n,r,c,o):n,d=t!==void 0?t:!0;return!d||!u?Ae(i,e,f):qh(i,f,e)}else return}}function Jh(n){if(n!==void 0)return 0}function Wv(n){if(n!==void 0)return n}function J2(n){var e=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Q2(n){var e=n||Nl(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function e0(n){return Math.pow(n,3)}function ea(n){return 1-e0(1-n)}function tI(n){return 3*n*n-2*n*n*n}function eI(n){return n}var rI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ju=0,nI=function(n){rI(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=Le({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Fh(o.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,o.projection&&EA(),o.center&&(o.center=Rr(o.center,r.projection_)),o.extent&&(o.extent=Bo(o.extent,r.projection_)),r.applyOptions_(o),r}return e.prototype.applyOptions_=function(t){var r=Le({},t);for(var o in Br)delete r[o];this.setProperties(r,!0);var i=iI(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=oI(t),c=i.constraint,u=aI(t);this.constraints_={center:s,resolution:c,rotation:u},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var o=this.getCenter();if(o){var i=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),c=s/2*(i[3]-r[3]+r[1]-i[1]),u=s/2*(i[0]-r[0]+r[2]-i[2]);this.setCenterInternal([o[0]+c,o[1]-u])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Le({},r,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),o=0;o<r.length;++o){var i=arguments[o];i.center&&(i=Le({},i),i.center=Rr(i.center,this.getProjection())),i.anchor&&(i=Le({},i),i.anchor=Rr(i.anchor,this.getProjection())),r[o]=i}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(t){var r=arguments.length,o;r>1&&typeof arguments[r-1]=="function"&&(o=arguments[r-1],--r);for(var i=0;i<r&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===r){o&&wl(o,!0);return}for(var c=Date.now(),u=this.targetCenter_.slice(),f=this.targetResolution_,d=this.targetRotation_,g=[];i<r;++i){var p=arguments[i],b={start:c,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||tI,callback:o};if(p.center&&(b.sourceCenter=u,b.targetCenter=p.center.slice(),u=b.targetCenter),p.zoom!==void 0?(b.sourceResolution=f,b.targetResolution=this.getResolutionForZoom(p.zoom),f=b.targetResolution):p.resolution&&(b.sourceResolution=f,b.targetResolution=p.resolution,f=b.targetResolution),p.rotation!==void 0){b.sourceRotation=d;var _=Ni(p.rotation-d+Math.PI,2*Math.PI)-Math.PI;b.targetRotation=d+_,d=b.targetRotation}sI(b)?b.complete=!0:c+=b.duration,g.push(b)}this.animations_.push(g),this.setHint(Ye.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ye.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Ye.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Ye.ANIMATING,-this.hints_[Ye.ANIMATING]);for(var t,r=0,o=this.animations_.length;r<o;++r){var i=this.animations_[r];if(i[0].callback&&wl(i[0].callback,!1),!t)for(var s=0,c=i.length;s<c;++s){var u=i[s];if(!u.complete){t=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],s=!0,c=0,u=i.length;c<u;++c){var f=i[c];if(!f.complete){var d=t-f.start,g=f.duration>0?d/f.duration:1;g>=1?(f.complete=!0,g=1):s=!1;var p=f.easing(g);if(f.sourceCenter){var b=f.sourceCenter[0],_=f.sourceCenter[1],w=f.targetCenter[0],k=f.targetCenter[1];this.nextCenter_=f.targetCenter;var T=b+p*(w-b),A=_+p*(k-_);this.targetCenter_=[T,A]}if(f.sourceResolution&&f.targetResolution){var O=p===1?f.targetResolution:f.sourceResolution+p*(f.targetResolution-f.sourceResolution);if(f.anchor){var P=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(O,0,P,!0);this.targetCenter_=this.calculateCenterZoom(D,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){var X=p===1?Ni(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+p*(f.targetRotation-f.sourceRotation);if(f.anchor){var G=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(G,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),r=!0,!f.complete)break}}if(s){this.animations_[o]=null,this.setHint(Ye.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var F=i[0].callback;F&&wl(F,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,r){var o,i=this.getCenterInternal();return i!==void 0&&(o=[i[0]-r[0],i[1]-r[1]],Lh(o,t-this.getRotation()),_A(o,r)),o},e.prototype.calculateCenterZoom=function(t,r){var o,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var c=r[0]-t*(r[0]-i[0])/s,u=r[1]-t*(r[1]-i[1])/s;o=[c,u]}return o},e.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var o=r[0],i=r[1];return[Math.abs(o*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(o*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return r},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Uf(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Br.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return Yf(r,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();jt(o,1);var i=this.getResolution();jt(i!==void 0,2);var s=this.getRotation();return jt(s!==void 0,3),Bf(o,i,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Br.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(Bo(t,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(t,r){var o=r||this.getViewportSizeMinusPadding_(),i=xe(t)/o[0],s=Zr(t)/o[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var r=t||2,o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/Math.log(r);return function(c){var u=o/Math.pow(r,c*s);return u}},e.prototype.getRotation=function(){return this.get(Br.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(o/i)/r;return function(c){var u=Math.log(o/c)/r/s;return u}},e.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),o=this.padding_;return o&&(r=[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]),r},e.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),o=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var c=this.getViewportSizeMinusPadding_();i=Qu(i,this.getViewportSize_(),[c[0]/2+s[3],c[1]/2+s[0]],r,o)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},e.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,o,i;if(this.resolutions_){var s=zh(this.resolutions_,t,1);r=s,o=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=o/this.resolutions_[s+1]}else o=this.maxResolution_,i=this.zoomFactor_;return r+Math.log(o/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Ae(Math.floor(t),0,this.resolutions_.length-2),o=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(o,Ae(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,r){var o;if(jt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){jt(!Ph(t),25);var i=Bo(t,this.getProjection());o=Nv(i)}else if(t.getType()===lt.CIRCLE){var i=Bo(t.getExtent(),this.getProjection());o=Nv(i),o.rotate(this.getRotation(),Vi(i))}else{var s=xc();s?o=t.clone().transform(s,this.getProjection()):o=t}this.fitInternal(o,r)},e.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),o=Math.cos(r),i=Math.sin(-r),s=t.getFlatCoordinates(),c=t.getStride(),u=1/0,f=1/0,d=-1/0,g=-1/0,p=0,b=s.length;p<b;p+=c){var _=s[p]*o-s[p+1]*i,w=s[p]*i+s[p+1]*o;u=Math.min(u,_),f=Math.min(f,w),d=Math.max(d,_),g=Math.max(g,w)}return[u,f,d,g]},e.prototype.fitInternal=function(t,r){var o=r||{},i=o.size;i||(i=this.getViewportSizeMinusPadding_());var s=o.padding!==void 0?o.padding:[0,0,0,0],c=o.nearest!==void 0?o.nearest:!1,u;o.minResolution!==void 0?u=o.minResolution:o.maxZoom!==void 0?u=this.getResolutionForZoom(o.maxZoom):u=0;var f=this.rotatedExtentForGeometry(t),d=this.getResolutionForExtentInternal(f,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,c?0:1);var g=this.getRotation(),p=Math.sin(g),b=Math.cos(g),_=Vi(f);_[0]+=(s[1]-s[3])/2*d,_[1]+=(s[0]-s[2])/2*d;var w=_[0]*b-_[1]*p,k=_[1]*b+_[0]*p,T=this.getConstrainedCenter([w,k],d),A=o.callback?o.callback:Qo;o.duration!==void 0?this.animateInternal({resolution:d,center:T,duration:o.duration,easing:o.easing},A):(this.targetResolution_=d,this.targetCenter_=T,this.applyTargetState_(!1,!0),wl(A,!0))},e.prototype.centerOn=function(t,r,o){this.centerOnInternal(Rr(t,this.getProjection()),r,o)},e.prototype.centerOnInternal=function(t,r,o){this.setCenterInternal(Qu(t,r,o,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,r,o,i){var s,c=this.padding_;if(c&&t){var u=this.getViewportSizeMinusPadding_(-o),f=Qu(t,i,[u[0]/2+c[3],u[1]/2+c[0]],r,o);s=[t[0]-f[0],t[1]-f[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var r=Uf(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustResolution=function(t,r){var o=r&&Rr(r,this.getProjection());this.adjustResolutionInternal(t,o)},e.prototype.adjustResolutionInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,o);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},e.prototype.adjustRotation=function(t,r){r&&(r=Rr(r,this.getProjection())),this.adjustRotationInternal(t,r)},e.prototype.adjustRotationInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,o);r&&(this.targetCenter_=this.calculateCenterRotate(i,r)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Rr(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,r){var o=this.getAnimating()||this.getInteracting()||r,i=this.constraints_.rotation(this.targetRotation_,o),s=this.getViewportSize_(i),c=this.constraints_.resolution(this.targetResolution_,0,s,o),u=this.constraints_.center(this.targetCenter_,c,s,o,this.calculateCenterShift(this.targetCenter_,c,i,s));this.get(Br.ROTATION)!==i&&this.set(Br.ROTATION,i),this.get(Br.RESOLUTION)!==c&&(this.set(Br.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(Br.CENTER)||!Kl(this.get(Br.CENTER),u))&&this.set(Br.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,r,o){var i=t!==void 0?t:200,s=r||0,c=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(c),f=this.constraints_.resolution(this.targetResolution_,s,u),d=this.constraints_.center(this.targetCenter_,f,u,!1,this.calculateCenterShift(this.targetCenter_,f,c,u));if(i===0&&!this.cancelAnchor_){this.targetResolution_=f,this.targetRotation_=c,this.targetCenter_=d,this.applyTargetState_();return}var g=o||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==f||this.getRotation()!==c||!this.getCenterInternal()||!Kl(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:d,resolution:f,duration:i,easing:ea,anchor:g}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ye.INTERACTING,1)},e.prototype.endInteraction=function(t,r,o){var i=o&&Rr(o,this.getProjection());this.endInteractionInternal(t,r,i)},e.prototype.endInteractionInternal=function(t,r,o){this.setHint(Ye.INTERACTING,-1),this.resolveConstraints(t,r,o)},e.prototype.getConstrainedCenter=function(t,r){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),o)},e.prototype.getConstrainedZoom=function(t,r){var o=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(o,r))},e.prototype.getConstrainedResolution=function(t,r){var o=r||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,o,i)},e}(cn);function wl(n,e){setTimeout(function(){n(e)},0)}function oI(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Gv(n.extent,n.constrainOnlyCenter,e)}var t=Fh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Gv(r,!1,!1)}return Z2}function iI(n){var e,t,r,o=28,i=2,s=n.minZoom!==void 0?n.minZoom:Ju,c=n.maxZoom!==void 0?n.maxZoom:o,u=n.zoomFactor!==void 0?n.zoomFactor:i,f=n.multiWorld!==void 0?n.multiWorld:!1,d=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,g=n.showFullExtent!==void 0?n.showFullExtent:!1,p=Fh(n.projection,"EPSG:3857"),b=p.getExtent(),_=n.constrainOnlyCenter,w=n.extent;if(!f&&!w&&p.isGlobal()&&(_=!1,w=b),n.resolutions!==void 0){var k=n.resolutions;t=k[s],r=k[c]!==void 0?k[c]:k[k.length-1],n.constrainResolution?e=$2(k,d,!_&&w,g):e=Bv(t,r,d,!_&&w,g)}else{var T=b?Math.max(xe(b),Zr(b)):360*Sr[pr.DEGREES]/p.getMetersPerUnit(),A=T/Zh/Math.pow(i,Ju),O=A/Math.pow(i,o-Ju);t=n.maxResolution,t!==void 0?s=0:t=A/Math.pow(u,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(u,c):r=A/Math.pow(u,c):r=O),c=s+Math.floor(Math.log(t/r)/Math.log(u)),r=t/Math.pow(u,c-s),n.constrainResolution?e=q2(u,t,r,d,!_&&w,g):e=Bv(t,r,d,!_&&w,g)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:u}}function aI(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?Q2():t===!1?Wv:typeof t=="number"?J2(t):Wv}else return Jh}function sI(n){return!(n.sourceCenter&&n.targetCenter&&!Kl(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Qu(n,e,t,r,o){var i=Math.cos(-o),s=Math.sin(-o),c=n[0]*i-n[1]*s,u=n[1]*i+n[0]*s;c+=(e[0]/2-t[0])*r,u+=(t[1]-e[1]/2)*r,s=-s;var f=c*i-u*s,d=u*i+c*s;return[f,d]}var no=nI,lI=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,cI=/^([a-z]*)$|^hsla?\(.*\)$/i;function r0(n){return typeof n=="string"?n:n0(n)}function uI(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var fI=function(){var n=1024,e={},t=0;return function(r){var o;if(e.hasOwnProperty(r))o=e[r];else{if(t>=n){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}o=hI(r),e[r]=o,++t}return o}}();function Zl(n){return Array.isArray(n)?n:fI(n)}function hI(n){var e,t,r,o,i;if(cI.exec(n)&&(n=uI(n)),lI.exec(n)){var s=n.length-1,c=void 0;s<=4?c=1:c=2;var u=s===4||s===8;e=parseInt(n.substr(1+0*c,c),16),t=parseInt(n.substr(1+1*c,c),16),r=parseInt(n.substr(1+2*c,c),16),u?o=parseInt(n.substr(1+3*c,c),16):o=255,c==1&&(e=(e<<4)+e,t=(t<<4)+t,r=(r<<4)+r,u&&(o=(o<<4)+o)),i=[e,t,r,o/255]}else n.indexOf("rgba(")==0?(i=n.slice(5,-1).split(",").map(Number),Uv(i)):n.indexOf("rgb(")==0?(i=n.slice(4,-1).split(",").map(Number),i.push(1),Uv(i)):jt(!1,14);return i}function Uv(n){return n[0]=Ae(n[0]+.5|0,0,255),n[1]=Ae(n[1]+.5|0,0,255),n[2]=Ae(n[2]+.5|0,0,255),n[3]=Ae(n[3],0,1),n}function n0(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var o=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+r+","+o+")"}var dI=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,r){var o=Yv(e,t,r);return o in this.cache_?this.cache_[o]:null},n.prototype.set=function(e,t,r,o){var i=Yv(e,t,r);this.cache_[i]=o,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function Yv(n,e,t){var r=t?r0(t):"null";return e+":"+n+":"+r}var $l=new dI,ae={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},pI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gI=function(n){pI(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var o=Le({},t);return typeof t.properties=="object"&&(delete o.properties,Le(o,t.properties)),o[ae.OPACITY]=t.opacity!==void 0?t.opacity:1,jt(typeof o[ae.OPACITY]=="number",64),o[ae.VISIBLE]=t.visible!==void 0?t.visible:!0,o[ae.Z_INDEX]=t.zIndex,o[ae.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,o[ae.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,o[ae.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,o[ae.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,r.setProperties(o),r.state_=null,r}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},o=this.getZIndex();return r.opacity=Ae(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=o===void 0&&!r.managed?1/0:o,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(t){return Kt()},e.prototype.getLayerStatesArray=function(t){return Kt()},e.prototype.getExtent=function(){return this.get(ae.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ae.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ae.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(ae.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(ae.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(ae.OPACITY)},e.prototype.getSourceState=function(){return Kt()},e.prototype.getVisible=function(){return this.get(ae.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ae.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(ae.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ae.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ae.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(ae.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(ae.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){jt(typeof t=="number",64),this.set(ae.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ae.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ae.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(cn),o0=gI,co={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ti={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},vI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bI=function(n){vI(e,n);function e(t){var r=this,o=Le({},t);delete o.source,r=n.call(this,o)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(ae.SOURCE,r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return e.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get(ae.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ti.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(be(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=te(t,Dt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,r){var o=this.getRenderer();if(o.prepareFrame(t))return this.rendered=!0,o.renderFrame(t,r)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(ae.MAP,t)},e.prototype.getMapInternal=function(){return this.get(ae.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(be(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(be(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=te(t,co.PRECOMPOSE,function(r){var o=r,i=o.frameState.layerStatesArray,s=this.getLayerState(!1);jt(!i.some(function(c){return c.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=te(this,Dt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ae.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(o0);function ql(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var Rc=bI,mI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_I=function(n){mI(e,n);function e(t){var r=n.call(this)||this;return r.map_=t,r}return e.prototype.dispatchRenderEvent=function(t,r){Kt()},e.prototype.calculateMatrices2D=function(t){var r=t.viewState,o=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Pn(o,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),Gh(i,o)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s,c,u,f){var d,g=r.viewState;function p(ot,ht,tt,ct){return s.call(c,ht,ot?tt:null,ct)}var b=g.projection,_=Sm(t.slice(),b),w=[[0,0]];if(b.canWrapX()&&i){var k=b.getExtent(),T=xe(k);w.push([-T,0],[T,0])}for(var A=r.layerStatesArray,O=A.length,P=[],D=[],X=0;X<w.length;X++)for(var G=O-1;G>=0;--G){var F=A[G],K=F.layer;if(K.hasRenderer()&&ql(F,g)&&u.call(f,K)){var et=K.getRenderer(),at=K.getSource();if(et&&at){var ut=at.getWrapX()?_:t,ft=p.bind(null,F.managed);D[0]=ut[0]+w[X][0],D[1]=ut[1]+w[X][1],d=et.forEachFeatureAtCoordinate(D,r,o,ft,P)}if(d)return d}}if(P.length!==0){var bt=1/P.length;return P.forEach(function(ot,ht){return ot.distanceSq+=ht*bt}),P.sort(function(ot,ht){return ot.distanceSq-ht.distanceSq}),P.some(function(ot){return d=ot.callback(ot.feature,ot.layer,ot.geometry)}),d}},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){return Kt()},e.prototype.hasFeatureAtCoordinate=function(t,r,o,i,s,c){var u=this.forEachFeatureAtCoordinate(t,r,o,i,jo,this,s,c);return u!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Kt()},e.prototype.scheduleExpireIconCache=function(t){$l.canExpireCache()&&t.postRenderFunctions.push(yI)},e}(Nh);function yI(n,e){$l.expire()}var xI=_I,wI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kI=function(n){wI(e,n);function e(t,r,o,i){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=o,s.context=i,s}return e}(ln),i0=kI,kl="ol-hidden",Ac="ol-unselectable",Qh="ol-control",Xv="ol-collapsed",EI=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Vv=["style","variant","weight","size","lineHeight","family"],a0=function(n){var e=n.match(EI);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=Vv.length;r<o;++r){var i=e[r+1];i!==void 0&&(t[Vv[r]]=i)}return t.families=t.family.split(/,\s?/),t};function s0(n){return n===1?"":String(Math.round(n*100)/100)}function Mr(n,e,t,r){var o;return t&&t.length?o=t.shift():kc?o=new OffscreenCanvas(n||300,e||300):o=document.createElement("canvas"),n&&(o.width=n),e&&(o.height=e),o.getContext("2d",r)}function Hv(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function Kf(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function CI(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function TI(n,e){for(var t=n.childNodes,r=0;;++r){var o=t[r],i=e[r];if(!o&&!i)break;if(o!==i){if(!o){n.appendChild(i);continue}if(!i){n.removeChild(o),--r;continue}n.insertBefore(i,o)}}}var l0="10px sans-serif",On="#000",Jl="round",ns=[],os=0,Ki="round",is=10,as="#000",ss="center",Ql="middle",Uo=[0,0,0,0],ls=1,wn=new cn,RI=new ta;RI.setSize=function(){console.warn("labelCache is deprecated.")};var Oi=null,jf,Zf={},AI=function(){var n=100,e="32px ",t=["monospace","serif"],r=t.length,o="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function c(f,d,g){for(var p=!0,b=0;b<r;++b){var _=t[b];if(s=tc(f+" "+d+" "+e+_,o),g!=_){var w=tc(f+" "+d+" "+e+g+","+_,o);p=p&&w!=s}}return!!p}function u(){for(var f=!0,d=wn.getKeys(),g=0,p=d.length;g<p;++g){var b=d[g];wn.get(b)<n&&(c.apply(this,b.split(`
`))?(fs(Zf),Oi=null,jf=void 0,wn.set(b,n)):(wn.set(b,wn.get(b)+1,!0),f=!1))}f&&(clearInterval(i),i=void 0)}return function(f){var d=a0(f);if(!!d)for(var g=d.families,p=0,b=g.length;p<b;++p){var _=g[p],w=d.style+`
`+d.weight+`
`+_;wn.get(w)===void 0&&(wn.set(w,n,!0),c(d.style,d.weight,_)||(wn.set(w,0,!0),i===void 0&&(i=setInterval(u,32))))}}}(),II=function(){var n;return function(e){var t=Zf[e];if(t==null){if(kc){var r=a0(e),o=c0(e,"\u017Dg"),i=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=i*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Zf[e]=t}return t}}();function c0(n,e){return Oi||(Oi=Mr(1,1)),n!=jf&&(Oi.font=n,jf=Oi.font),Oi.measureText(e)}function tc(n,e){return c0(n,e).width}function Kv(n,e,t){if(e in t)return t[e];var r=tc(n,e);return t[e]=r,r}function OI(n,e){for(var t=[],r=[],o=[],i=0,s=0,c=0,u=0,f=0,d=e.length;f<=d;f+=2){var g=e[f];if(g===`
`||f===d){i=Math.max(i,s),o.push(s),s=0,c+=u;continue}var p=e[f+1]||n.font,b=tc(p,g);t.push(b),s+=b;var _=II(p);r.push(_),u=Math.max(u,_)}return{width:i,height:c,widths:t,heights:r,lineWidths:o}}function SI(n,e,t,r,o,i,s,c,u,f,d){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),r.contextInstructions?(n.translate(u,f),n.scale(d[0],d[1]),PI(r,n)):d[0]<0||d[1]<0?(n.translate(u,f),n.scale(d[0],d[1]),n.drawImage(r,o,i,s,c,0,0,s,c)):n.drawImage(r,o,i,s,c,u,f,s*d[0],c*d[1]),n.restore()}function PI(n,e){for(var t=n.contextInstructions,r=0,o=t.length;r<o;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var LI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MI=function(n){LI(e,n);function e(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=te(wn,Hi.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var o=r.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",r.element_.className=Ac+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return e.prototype.dispatchRenderEvent=function(t,r){var o=this.getMap();if(o.hasListener(t)){var i=new i0(t,void 0,r);o.dispatchEvent(i)}},e.prototype.disposeInternal=function(){be(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(co.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(b,_){return b.zIndex-_.zIndex}),o=t.viewState;this.children_.length=0;for(var i=[],s=null,c=0,u=r.length;c<u;++c){var f=r[c];t.layerIndex=c;var d=f.layer,g=d.getSourceState();if(!ql(f,o)||g!=ti.READY&&g!=ti.UNDEFINED){d.unrender();continue}var p=d.render(t,s);!p||(p!==s&&(this.children_.push(p),s=p),"getDeclutter"in d&&i.push(d))}for(var c=i.length-1;c>=0;--c)i[c].renderDeclutter(t);TI(this.element_,this.children_),this.dispatchRenderEvent(co.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,r,o,i,s){for(var c=r.viewState,u=r.layerStatesArray,f=u.length,d=f-1;d>=0;--d){var g=u[d],p=g.layer;if(p.hasRenderer()&&ql(g,c)&&s(p)){var b=p.getRenderer(),_=b.getDataAtPixel(t,r,o);if(_){var w=i(p,_);if(w)return w}}}},e}(xI),FI=MI,or={ADD:"add",REMOVE:"remove"},u0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jv={LENGTH:"length"},El=function(n){u0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.element=r,i.index=o,i}return e}(ln),DI=function(n){u0(e,n);function e(t,r){var o=n.call(this)||this;o.on,o.once,o.un;var i=r||{};if(o.unique_=!!i.unique,o.array_=t||[],o.unique_)for(var s=0,c=o.array_.length;s<c;++s)o.assertUnique_(o.array_[s],s);return o.updateLength_(),o}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var r=0,o=t.length;r<o;++r)this.push(t[r]);return this},e.prototype.forEach=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)t(r[o],o,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(jv.LENGTH)},e.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new El(or.ADD,r,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},e.prototype.remove=function(t){for(var r=this.array_,o=0,i=r.length;o<i;++o)if(r[o]===t)return this.removeAt(o)},e.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new El(or.REMOVE,r,t)),r},e.prototype.setAt=function(t,r){var o=this.getLength();if(t<o){this.unique_&&this.assertUnique_(r,t);var i=this.array_[t];this.array_[t]=r,this.dispatchEvent(new El(or.REMOVE,i,t)),this.dispatchEvent(new El(or.ADD,r,t))}else{for(var s=o;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},e.prototype.updateLength_=function(){this.set(jv.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,r){for(var o=0,i=this.array_.length;o<i;++o)if(this.array_[o]===t&&o!==r)throw new Rm(58)},e}(cn),Ir=DI,f0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eo=function(n){f0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.layer=r,o}return e}(ln),tf={LAYERS:"layers"},NI=function(n){f0(e,n);function e(t){var r=this,o=t||{},i=Le({},o);delete i.layers;var s=o.layers;return r=n.call(this,i)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(tf.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new Ir(s.slice(),{unique:!0}):jt(typeof s.getArray=="function",43):s=new Ir(void 0,{unique:!0}),r.setLayers(s),r}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(be),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(te(t,or.ADD,this.handleLayersAdd_,this),te(t,or.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(be);fs(this.listenerKeys_);for(var o=t.getArray(),i=0,s=o.length;i<s;i++){var c=o[i];this.registerLayerListeners_(c),this.dispatchEvent(new eo("addlayer",c))}this.changed()},e.prototype.registerLayerListeners_=function(t){var r=[te(t,Hi.PROPERTYCHANGE,this.handleLayerChange_,this),te(t,Dt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&r.push(te(t,"addlayer",this.handleLayerGroupAdd_,this),te(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ne(t)]=r},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new eo("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new eo("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new eo("addlayer",r)),this.changed()},e.prototype.handleLayersRemove_=function(t){var r=t.element,o=ne(r);this.listenerKeys_[o].forEach(be),delete this.listenerKeys_[o],this.dispatchEvent(new eo("removelayer",r)),this.changed()},e.prototype.getLayers=function(){return this.get(tf.LAYERS)},e.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var o=r.getArray(),i=0,s=o.length;i<s;++i)this.dispatchEvent(new eo("removelayer",o[i]));this.set(tf.LAYERS,t)},e.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(o){o.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],o=r.length;this.getLayers().forEach(function(d){d.getLayerStatesArray(r)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var c=o,u=r.length;c<u;c++){var f=r[c];f.opacity*=i.opacity,f.visible=f.visible&&i.visible,f.maxResolution=Math.min(f.maxResolution,i.maxResolution),f.minResolution=Math.max(f.minResolution,i.minResolution),f.minZoom=Math.max(f.minZoom,i.minZoom),f.maxZoom=Math.min(f.maxZoom,i.maxZoom),i.extent!==void 0&&(f.extent!==void 0?f.extent=Ya(f.extent,i.extent):f.extent=i.extent),f.zIndex===void 0&&(f.zIndex=s)}return r},e.prototype.getSourceState=function(){return ti.READY},e}(o0),Ic=NI,zI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GI=function(n){zI(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.map=r,i.frameState=o!==void 0?o:null,i}return e}(ln),Si=GI,BI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WI=function(n){BI(e,n);function e(t,r,o,i,s){var c=n.call(this,t,r,s)||this;return c.originalEvent=o,c.pixel_=null,c.coordinate_=null,c.dragging=i!==void 0?i:!1,c}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Si),En=WI,Qt={SINGLECLICK:"singleclick",CLICK:Dt.CLICK,DBLCLICK:Dt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$f={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},UI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YI=function(n){UI(e,n);function e(t,r){var o=n.call(this,t)||this;o.map_=t,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=r===void 0?1:r,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=te(i,$f.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=te(i,$f.POINTERMOVE,o.relayEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(Dt.TOUCHMOVE,o.boundHandleTouchMove_,Nm?{passive:!1}:!1),o}return e.prototype.emulateClick_=function(t){var r=new En(Qt.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new En(Qt.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var o=new En(Qt.SINGLECLICK,this.map_,t);this.dispatchEvent(o)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var r=t;r.type==Qt.POINTERUP||r.type==Qt.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==Qt.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new En(Qt.POINTERUP,this.map_,t);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var r=new En(Qt.POINTERDOWN,this.map_,t);this.dispatchEvent(r),this.down_={};for(var o in t){var i=t[o];this.down_[o]=typeof i=="function"?Qo:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(te(s,Qt.POINTERMOVE,this.handlePointerMove_,this),te(s,Qt.POINTERUP,this.handlePointerUp_,this),te(this.element_,Qt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(te(this.element_.getRootNode(),Qt.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var r=new En(Qt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(r)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new En(t.type,this.map_,t,r))},e.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(be(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Dt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(be(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(be),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(ta),XI=YI,Jn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ue={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ec=1/0,VI=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,fs(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var o=this.keyFunction_(r);return delete this.queuedElements_[o],r},n.prototype.enqueue=function(e){jt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=ec?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,o=t.length,i=t[e],s=r[e],c=e;e<o>>1;){var u=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),d=f<o&&r[f]<r[u]?f:u;t[e]=t[d],r[e]=r[d],e=d}t[e]=i,r[e]=s,this.siftDown_(c,e)},n.prototype.siftDown_=function(e,t){for(var r=this.elements_,o=this.priorities_,i=r[t],s=o[t];t>e;){var c=this.getParentIndex_(t);if(o[c]>s)r[t]=r[c],o[t]=o[c],t=c;else break}r[t]=i,o[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,o=0,i=t.length,s,c,u;for(c=0;c<i;++c)s=t[c],u=e(s),u==ec?delete this.queuedElements_[this.keyFunction_(s)]:(r[o]=u,t[o++]=s);t.length=o,r.length=o,this.heapify_()},n}(),HI=VI,Rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},KI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jI=function(n){KI(e,n);function e(t,r){var o=n.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=r,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return e.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var o=t[0];o.addEventListener(Dt.CHANGE,this.boundHandleTileChange_)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var r=t.target,o=r.getState();if(o===Rt.LOADED||o===Rt.ERROR||o===Rt.EMPTY){r.removeEventListener(Dt.CHANGE,this.boundHandleTileChange_);var i=r.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,r){for(var o=0,i,s,c;this.tilesLoading_<t&&o<r&&this.getCount()>0;)s=this.dequeue()[0],c=s.getKey(),i=s.getState(),i===Rt.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++o,s.load())},e}(HI),ZI=jI;function $I(n,e,t,r,o){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return ec;var i=n.viewState.center,s=r[0]-i[0],c=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(s*s+c*c)/o}function Zv(n){return n[0]>0&&n[1]>0}function qI(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Xr(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var JI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function h0(n){if(n instanceof Rc){n.setMapInternal(null);return}n instanceof Ic&&n.getLayers().forEach(h0)}function d0(n,e){if(n instanceof Rc){n.setMapInternal(e);return}if(n instanceof Ic)for(var t=n.getLayers().getArray(),r=0,o=t.length;r<o;++r)d0(t[r],e)}var QI=function(n){JI(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=tO(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Dm,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=sn(),r.pixelToCoordinateTransform_=sn(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=o.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=o.controls||new Ir,r.interactions=o.interactions||new Ir,r.overlays_=o.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new ZI(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Ue.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(Ue.VIEW,r.handleViewChanged_),r.addChangeListener(Ue.SIZE,r.handleSizeChanged_),r.addChangeListener(Ue.TARGET,r.handleTargetChanged_),r.setProperties(o.values);var i=r;return t.view&&!(t.view instanceof no)&&t.view.then(function(s){i.setView(new no(s))}),r.controls.addEventListener(or.ADD,function(s){s.element.setMap(this)}.bind(r)),r.controls.addEventListener(or.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.interactions.addEventListener(or.ADD,function(s){s.element.setMap(this)}.bind(r)),r.interactions.addEventListener(or.REMOVE,function(s){s.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(or.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(r)),r.overlays_.addEventListener(or.REMOVE,function(s){var c=s.element,u=c.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],s.element.setMap(null)}.bind(r)),r.controls.forEach(function(s){s.setMap(this)}.bind(r)),r.interactions.forEach(function(s){s.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},e.prototype.handleLayerAdd_=function(t){d0(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var s=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.layerFilter!==void 0?o.layerFilter:jo,u=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,u,r,null,c,null)}},e.prototype.getFeaturesAtPixel=function(t,r){var o=[];return this.forEachFeatureAtPixel(t,function(i){o.push(i)},r),o},e.prototype.getAllLayers=function(){var t=[];function r(o){o.forEach(function(i){i instanceof Ic?r(i.getLayers()):t.push(i)})}return r(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,r,o){if(!(!this.frameState_||!this.renderer_)){var i=o||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter||jo;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,c)}},e.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var o=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var i=r.layerFilter!==void 0?r.layerFilter:jo,s=r.hitTolerance!==void 0?r.hitTolerance:0,c=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,s,c,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),o="changedTouches"in t?t.changedTouches[0]:t;return[o.clientX-r.left,o.clientY-r.top]},e.prototype.getTarget=function(){return this.get(Ue.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Uf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Re(r.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ue.LAYERGROUP)},e.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof Ir){r.setLayers(t);return}var o=r.getLayers();o.clear(),o.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var c=i.layer.getSource();if(c&&c.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var r=Rr(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Re(r.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ue.SIZE)},e.prototype.getView=function(){return this.get(Ue.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,r,o,i){return $I(this.frameState_,t,r,o,i)},e.prototype.handleBrowserEvent=function(t,r){var o=r||t.type,i=new En(o,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var r=t.originalEvent,o=r.type;if(o===$f.POINTERDOWN||o===Dt.WHEEL||o===Dt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,c=r.target;if(this.overlayContainerStopEvent_.contains(c)||!(s===i?i.documentElement:s).contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var u=this.getInteractions().getArray().slice(),f=u.length-1;f>=0;f--){var d=u[f];if(!(d.getMap()!==this||!d.getActive()||!this.getTargetElement())){var g=d.handleEvent(t);if(!g||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var o=this.maxTilesLoading_,i=o;if(t){var s=t.viewHints;if(s[Ye.ANIMATING]||s[Ye.INTERACTING]){var c=Date.now()-t.time>8;o=c?0:8,i=c?0:2}}r.getTilesLoading()<o&&(r.reprioritize(),r.loadMoreTiles(o,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(co.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(co.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Si(Jn.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Si(Jn.LOADSTART,this,t))));for(var u=this.postRenderFunctions_,f=0,d=u.length;f<d;++f)u[f](this,t);u.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)be(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Kf(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new XI(this,this.moveTolerance_);for(var i in Qt)this.mapBrowserEventHandler_.addEventListener(Qt[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Dt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Dt.WHEEL,this.boundHandleBrowserEvent_,Nm?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[te(c,Dt.KEYDOWN,this.handleBrowserEvent,this),te(c,Dt.KEYPRESS,this.handleBrowserEvent,this),te(s,Dt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(be(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(be(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=te(t,Hi.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=te(t,Dt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(be),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new eo("addlayer",t)),this.layerGroupPropertyListenerKeys_=[te(t,Hi.PROPERTYCHANGE,this.render,this),te(t,Dt.CHANGE,this.render,this),te(t,"addlayer",this.handleLayerAdd_,this),te(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var i=t[r].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},e.prototype.handleLayerRemove_=function(t){h0(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var r=this,o=this.getSize(),i=this.getView(),s=this.frameState_,c=null;if(o!==void 0&&Zv(o)&&i&&i.isDef()){var u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),f=i.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Bf(f.center,f.resolution,f.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:f,viewHints:u,wantedTiles:{},mapId:ne(this),renderTargets:{}},f.nextCenter&&f.nextResolution){var d=isNaN(f.nextRotation)?f.rotation:f.nextRotation;c.nextExtent=Bf(f.nextCenter,f.nextResolution,d,o)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),s){var g=!this.previousExtent_||!Ph(this.previousExtent_)&&!Qa(c.extent,this.previousExtent_);g&&(this.dispatchEvent(new Si(Jn.MOVESTART,this,s)),this.previousExtent_=_c(this.previousExtent_))}var p=this.previousExtent_&&!c.viewHints[Ye.ANIMATING]&&!c.viewHints[Ye.INTERACTING]&&!Qa(c.extent,this.previousExtent_);p&&(this.dispatchEvent(new Si(Jn.MOVEEND,this,c)),Am(c.extent,this.previousExtent_))}this.dispatchEvent(new Si(Jn.POSTRENDER,this,c)),this.renderComplete_=this.hasListener(Jn.LOADSTART)||this.hasListener(Jn.LOADEND)||this.hasListener(co.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new eo("removelayer",r)),this.set(Ue.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ue.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ue.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof no){this.set(Ue.VIEW,t);return}this.set(Ue.VIEW,new no);var r=this;t.then(function(o){r.setView(new no(o))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var o=getComputedStyle(t),i=t.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),s=t.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(r=[i,s],!Zv(r)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(r=[parseInt(o.width,10),parseInt(o.height,10)]),t.setViewportSize(r)}},e}(cn);function tO(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Ic({layers:n.layers});t[Ue.LAYERGROUP]=r,t[Ue.TARGET]=n.target,t[Ue.VIEW]=n.view instanceof no?n.view:new no;var o;n.controls!==void 0&&(Array.isArray(n.controls)?o=new Ir(n.controls.slice()):(jt(typeof n.controls.getArray=="function",47),o=n.controls));var i;n.interactions!==void 0&&(Array.isArray(n.interactions)?i=new Ir(n.interactions.slice()):(jt(typeof n.interactions.getArray=="function",48),i=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Ir(n.overlays.slice()):(jt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Ir,{controls:o,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var eO=QI,rO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nO=function(n){rO(e,n);function e(t){var r=n.call(this)||this,o=t.element;return o&&!t.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),r.element=o||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return e.prototype.disposeInternal=function(){Kf(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Kf(this.element);for(var r=0,o=this.listenerKeys.length;r<o;++r)be(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==Qo&&this.listenerKeys.push(te(t,Jn.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(cn),td=nO,oO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iO=function(n){oO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=o.collapsed!==void 0?o.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=o.collapsible!==void 0,r.collapsible_=o.collapsible!==void 0?o.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var i=o.className!==void 0?o.className:"ol-attribution",s=o.tipLabel!==void 0?o.tipLabel:"Attributions",c=o.expandClassName!==void 0?o.expandClassName:i+"-expand",u=o.collapseLabel!==void 0?o.collapseLabel:"\u203A",f=o.collapseClassName!==void 0?o.collapseClassName:i+"-collapse";typeof u=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=f):r.collapseLabel_=u;var d=o.label!==void 0?o.label:"i";typeof d=="string"?(r.label_=document.createElement("span"),r.label_.textContent=d,r.label_.className=c):r.label_=d;var g=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(g),r.toggleButton_.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var p=i+" "+Ac+" "+Qh+(r.collapsed_&&r.collapsible_?" "+Xv:"")+(r.collapsible_?"":" ol-uncollapsible"),b=r.element;return b.className=p,b.appendChild(r.toggleButton_),b.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return e.prototype.collectSourceAttributions_=function(t){for(var r={},o=[],i=!0,s=t.layerStatesArray,c=0,u=s.length;c<u;++c){var f=s[c];if(!!ql(f,t.viewState)){var d=f.layer.getSource();if(!!d){var g=d.getAttributions();if(!!g){var p=g(t);if(!!p)if(i=i&&d.getAttributionsCollapsible()!==!1,Array.isArray(p))for(var b=0,_=p.length;b<_;++b)p[b]in r||(o.push(p[b]),r[p[b]]=!0);else p in r||(o.push(p),r[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),o},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),o=r.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!ei(r,this.renderedAttributions_)){CI(this.ulElement_);for(var i=0,s=r.length;i<s;++i){var c=document.createElement("li");c.innerHTML=r[i],this.ulElement_.appendChild(c)}this.renderedAttributions_=r}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Xv),this.collapsed_?Hv(this.collapseLabel_,this.label_):Hv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(td),aO=iO,sO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lO=function(n){sO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=o.className!==void 0?o.className:"ol-rotate",s=o.label!==void 0?o.label:"\u21E7",c=o.compassClassName!==void 0?o.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=c,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(c));var u=o.tipLabel?o.tipLabel:"Reset rotation",f=document.createElement("button");f.className=i+"-reset",f.setAttribute("type","button"),f.title=u,f.appendChild(r.label_),f.addEventListener(Dt.CLICK,r.handleClick_.bind(r),!1);var d=i+" "+Ac+" "+Qh,g=r.element;return g.className=d,g.appendChild(f),r.callResetNorth_=o.resetNorth?o.resetNorth:void 0,r.duration_=o.duration!==void 0?o.duration:250,r.autoHide_=o.autoHide!==void 0?o.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(kl),r}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(!!r){var o=r.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:ea}):r.setRotation(0))}},e.prototype.render=function(t){var r=t.frameState;if(!!r){var o=r.viewState.rotation;if(o!=this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var s=this.element.classList.contains(kl);!s&&o===0?this.element.classList.add(kl):s&&o!==0&&this.element.classList.remove(kl)}this.label_.style.transform=i}this.rotation_=o}},e}(td),cO=lO,uO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fO=function(n){uO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),target:o.target})||this;var i=o.className!==void 0?o.className:"ol-zoom",s=o.delta!==void 0?o.delta:1,c=o.zoomInClassName!==void 0?o.zoomInClassName:i+"-in",u=o.zoomOutClassName!==void 0?o.zoomOutClassName:i+"-out",f=o.zoomInLabel!==void 0?o.zoomInLabel:"+",d=o.zoomOutLabel!==void 0?o.zoomOutLabel:"\u2013",g=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",p=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",b=document.createElement("button");b.className=c,b.setAttribute("type","button"),b.title=g,b.appendChild(typeof f=="string"?document.createTextNode(f):f),b.addEventListener(Dt.CLICK,r.handleClick_.bind(r,s),!1);var _=document.createElement("button");_.className=u,_.setAttribute("type","button"),_.title=p,_.appendChild(typeof d=="string"?document.createTextNode(d):d),_.addEventListener(Dt.CLICK,r.handleClick_.bind(r,-s),!1);var w=i+" "+Ac+" "+Qh,k=r.element;return k.className=w,k.appendChild(b),k.appendChild(_),r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var r=this.getMap(),o=r.getView();if(!!o){var i=o.getZoom();if(i!==void 0){var s=o.getConstrainedZoom(i+t);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:s,duration:this.duration_,easing:ea})):o.setZoom(s)}}},e}(td),hO=fO;function dO(n){var e=n||{},t=new Ir,r=e.zoom!==void 0?e.zoom:!0;r&&t.push(new hO(e.zoomOptions));var o=e.rotate!==void 0?e.rotate:!0;o&&t.push(new cO(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new aO(e.attributionOptions)),t}var qf={ACTIVE:"active"},pO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gO=function(n){pO(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return e.prototype.getActive=function(){return this.get(qf.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(qf.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(cn);function vO(n,e,t){var r=n.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:eI,center:n.getConstrainedCenter(o)})}}function ed(n,e,t,r){var o=n.getZoom();if(o!==void 0){var i=n.getConstrainedZoom(o+e),s=n.getResolutionForZoom(i);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:ea})}}var vs=gO,bO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mO=function(n){bO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Qt.DBLCLICK){var o=t.originalEvent,i=t.map,s=t.coordinate,c=o.shiftKey?-this.delta_:this.delta_,u=i.getView();ed(u,c,s,this.duration_),o.preventDefault(),r=!0}return!r},e}(vs),_O=mO,yO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xO=function(n){yO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,o)||this,o.handleDownEvent&&(r.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(r.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(r.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(r.handleUpEvent=o.handleUpEvent),o.stopDown&&(r.stopDown=o.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Qt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Qt.POINTERUP){var o=this.handleUpEvent(t);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(t.type==Qt.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,r=this.stopDown(i)}else t.type==Qt.POINTERMOVE&&this.handleMoveEvent(t);return!r},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(wO(t)){var r=t.originalEvent,o=r.pointerId.toString();t.type==Qt.POINTERUP?delete this.trackedPointers_[o]:t.type==Qt.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=Tm(this.trackedPointers_)}},e}(vs);function rd(n){for(var e=n.length,t=0,r=0,o=0;o<e;o++)t+=n[o].clientX,r+=n[o].clientY;return[t/e,r/e]}function wO(n){var e=n.type;return e===Qt.POINTERDOWN||e===Qt.POINTERDRAG||e===Qt.POINTERUP}var ra=xO;function Jf(n){var e=arguments;return function(t){for(var r=!0,o=0,i=e.length;o<i&&(r=r&&e[o](t),!!r);++o);return r}}var kO=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},EO=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},p0=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?EO(n):!0},g0=jo,v0=function(n){var e=n.originalEvent;return e.button==0&&!(VA&&HA&&e.ctrlKey)},nd=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},b0=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},m0=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},ef=function(n){var e=n.originalEvent;return jt(e!==void 0,56),e.pointerType=="mouse"},CO=function(n){var e=n.originalEvent;return jt(e!==void 0,56),e.isPrimary&&e.button===0},TO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RO=function(n){TO(e,n);function e(t){var r=n.call(this,{stopDown:gs})||this,o=t||{};r.kinetic_=o.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var i=o.condition?o.condition:Jf(nd,CO);return r.condition_=o.onFocusOnly?Jf(p0,i):i,r.noKinetic_=!1,r}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,o=rd(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map,c=s.getView();yA(i,c.getResolution()),Lh(i,c.getRotation()),c.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var r=t.map,o=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),c=o.getCenterInternal(),u=r.getPixelFromCoordinateInternal(c),f=r.getCoordinateFromPixelInternal([u[0]-i*Math.cos(s),u[1]-i*Math.sin(s)]);o.animateInternal({center:o.getConstrainedCenter(f),duration:500,easing:ea})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,o=r.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(ra),AO=RO,IO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OO=function(n){IO(e,n);function e(t){var r=this,o=t||{};return r=n.call(this,{stopDown:gs})||this,r.condition_=o.condition?o.condition:kO,r.lastAngle_=void 0,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){if(!!ef(t)){var r=t.map,o=r.getView();if(o.getConstraints().rotation!==Jh){var i=r.getSize(),s=t.pixel,c=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var u=c-this.lastAngle_;o.adjustRotationInternal(-u)}this.lastAngle_=c}}},e.prototype.handleUpEvent=function(t){if(!ef(t))return!0;var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!ef(t))return!1;if(v0(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(ra),SO=OO,PO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LO=function(n){PO(e,n);function e(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,o="px",i=this.element_.style;i.left=Math.min(t[0],r[0])+o,i.top=Math.min(t[1],r[1])+o,i.width=Math.abs(r[0]-t[0])+o,i.height=Math.abs(r[1]-t[1])+o},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,o=[t,[t[0],r[1]],r,[r[0],t[1]]],i=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new rs([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(Nh),MO=LO,_0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},rf=function(n){_0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=o,i}return e}(ln),FO=function(n){_0(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=t||{};return r.box_=new MO(o.className||"ol-dragbox"),r.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(r.onBoxEnd=o.onBoxEnd),r.startPixel_=null,r.condition_=o.condition?o.condition:v0,r.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:r.defaultBoxEndCondition,r}return e.prototype.defaultBoxEndCondition=function(t,r,o){var i=o[0]-r[0],s=o[1]-r[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new rf(Cl.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new rf(r?Cl.BOXEND:Cl.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new rf(Cl.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(ra),DO=FO,NO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zO=function(n){NO(e,n);function e(t){var r=this,o=t||{},i=o.condition?o.condition:b0;return r=n.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,r.duration_=o.duration!==void 0?o.duration:200,r.out_=o.out!==void 0?o.out:!1,r}return e.prototype.onBoxEnd=function(t){var r=this.getMap(),o=r.getView(),i=this.getGeometry();if(this.out_){var s=o.rotatedExtentForGeometry(i),c=o.getResolutionForExtentInternal(s),u=o.getResolution()/c;i=i.clone(),i.scale(u*u)}o.fitInternal(i,{duration:this.duration_,easing:ea})},e}(DO),GO=zO,Lo={LEFT:37,UP:38,RIGHT:39,DOWN:40},BO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WO=function(n){BO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.defaultCondition_=function(i){return nd(i)&&m0(i)},r.condition_=o.condition!==void 0?o.condition:r.defaultCondition_,r.duration_=o.duration!==void 0?o.duration:100,r.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN){var o=t.originalEvent,i=o.keyCode;if(this.condition_(t)&&(i==Lo.DOWN||i==Lo.LEFT||i==Lo.RIGHT||i==Lo.UP)){var s=t.map,c=s.getView(),u=c.getResolution()*this.pixelDelta_,f=0,d=0;i==Lo.DOWN?d=-u:i==Lo.LEFT?f=-u:i==Lo.RIGHT?f=u:d=u;var g=[f,d];Lh(g,c.getRotation()),vO(c,g,this.duration_),o.preventDefault(),r=!0}}return!r},e}(vs),UO=WO,YO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XO=function(n){YO(e,n);function e(t){var r=n.call(this)||this,o=t||{};return r.condition_=o.condition?o.condition:m0,r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:100,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Dt.KEYDOWN||t.type==Dt.KEYPRESS){var o=t.originalEvent,i=o.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,c=i=="+".charCodeAt(0)?this.delta_:-this.delta_,u=s.getView();ed(u,c,void 0,this.duration_),o.preventDefault(),r=!0}}return!r},e}(vs),VO=XO,HO=function(){function n(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var o=this.points_[t+2]-this.points_[r+2];if(o<1e3/60)return!1;var i=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/o,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),KO=HO,jO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nf={TRACKPAD:"trackpad",WHEEL:"wheel"},ZO=function(n){jO(e,n);function e(t){var r=this,o=t||{};r=n.call(this,o)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,r.duration_=o.duration!==void 0?o.duration:250,r.timeout_=o.timeout!==void 0?o.timeout:80,r.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,r.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var i=o.condition?o.condition:g0;return r.condition_=o.onFocusOnly?Jf(p0,i):i,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Dt.WHEEL)return!0;var o=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Dt.WHEEL&&(s=i.deltaY,YA&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Dm),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?nf.TRACKPAD:nf.WHEEL);var u=o.getView();if(this.mode_===nf.TRACKPAD&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=s;var f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),f),!1},e.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var o=-Ae(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),ed(r,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(vs),$O=ZO,qO=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JO=function(n){qO(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=gs),r=n.call(this,i)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=o.threshold!==void 0?o.threshold:.3,r.duration_=o.duration!==void 0?o.duration:250,r}return e.prototype.handleDragEvent=function(t){var r=0,o=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(this.lastAngle_!==void 0){var c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=c}this.lastAngle_=s;var u=t.map,f=u.getView();if(f.getConstraints().rotation!==Jh){var d=u.getViewport().getBoundingClientRect(),g=rd(this.targetPointers);g[0]-=d.left,g[1]-=d.top,this.anchor_=u.getCoordinateFromPixelInternal(g),this.rotating_&&(u.render(),f.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(ra),QO=JO,tS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eS=function(n){tS(e,n);function e(t){var r=this,o=t||{},i=o;return i.stopDown||(i.stopDown=gs),r=n.call(this,i)||this,r.anchor_=null,r.duration_=o.duration!==void 0?o.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return e.prototype.handleDragEvent=function(t){var r=1,o=this.targetPointers[0],i=this.targetPointers[1],s=o.clientX-i.clientX,c=o.clientY-i.clientY,u=Math.sqrt(s*s+c*c);this.lastDistance_!==void 0&&(r=this.lastDistance_/u),this.lastDistance_=u;var f=t.map,d=f.getView();r!=1&&(this.lastScaleDelta_=r);var g=f.getViewport().getBoundingClientRect(),p=rd(this.targetPointers);p[0]-=g.left,p[1]-=g.top,this.anchor_=f.getCoordinateFromPixelInternal(p),f.render(),d.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView(),i=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(ra),rS=eS,Ta={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},nS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oS=function(n){nS(e,n);function e(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var o=t;r.setGeometry(o)}else{var i=t;r.setProperties(i)}return r}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(be(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=te(t,Dt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?iS(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(cn);function iS(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{jt(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var zo=oS;function aS(n,e,t,r,o){y0(n,e,t||0,r||n.length-1,o||sS)}function y0(n,e,t,r,o){for(;r>t;){if(r-t>600){var i=r-t+1,s=e-t+1,c=Math.log(i),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(i-u)/i)*(s-i/2<0?-1:1),d=Math.max(t,Math.floor(e-s*u/i+f)),g=Math.min(r,Math.floor(e+(i-s)*u/i+f));y0(n,e,d,g,o)}var p=n[e],b=t,_=r;for(Ra(n,t,e),o(n[r],p)>0&&Ra(n,t,r);b<_;){for(Ra(n,b,_),b++,_--;o(n[b],p)<0;)b++;for(;o(n[_],p)>0;)_--}o(n[t],p)===0?Ra(n,t,_):(_++,Ra(n,_,r)),_<=e&&(t=_+1),e<=_&&(r=_-1)}}function Ra(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function sS(n,e){return n<e?-1:n>e?1:0}class x0{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!Rl(e,t))return r;const o=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const c=t.children[s],u=t.leaf?o(c):c;Rl(e,u)&&(t.leaf?r.push(c):af(e,u)?this._all(c,r):i.push(c))}t=i.pop()}return r}collides(e){let t=this.data;if(!Rl(e,t))return!1;const r=[];for(;t;){for(let o=0;o<t.children.length;o++){const i=t.children[o],s=t.leaf?this.toBBox(i):i;if(Rl(e,s)){if(t.leaf||af(e,s))return!0;r.push(i)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Pi([]),this}remove(e,t){if(!e)return this;let r=this.data;const o=this.toBBox(e),i=[],s=[];let c,u,f;for(;r||i.length;){if(r||(r=i.pop(),u=i[i.length-1],c=s.pop(),f=!0),r.leaf){const d=lS(e,r.children,t);if(d!==-1)return r.children.splice(d,1),i.push(r),this._condense(i),this}!f&&!r.leaf&&af(r,o)?(i.push(r),s.push(c),c=0,u=r,r=r.children[0]):u?(c++,r=u.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,o){const i=r-t+1;let s=this._maxEntries,c;if(i<=s)return c=Pi(e.slice(t,r+1)),wi(c,this.toBBox),c;o||(o=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,o-1))),c=Pi([]),c.leaf=!1,c.height=o;const u=Math.ceil(i/s),f=u*Math.ceil(Math.sqrt(s));$v(e,t,r,f,this.compareMinX);for(let d=t;d<=r;d+=f){const g=Math.min(d+f-1,r);$v(e,d,g,u,this.compareMinY);for(let p=d;p<=g;p+=u){const b=Math.min(p+u-1,g);c.children.push(this._build(e,p,b,o-1))}}return wi(c,this.toBBox),c}_chooseSubtree(e,t,r,o){for(;o.push(t),!(t.leaf||o.length-1===r);){let i=1/0,s=1/0,c;for(let u=0;u<t.children.length;u++){const f=t.children[u],d=of(f),g=fS(e,f)-d;g<s?(s=g,i=d<i?d:i,c=f):g===s&&d<i&&(i=d,c=f)}t=c||t.children[0]}return t}_insert(e,t,r){const o=r?e:this.toBBox(e),i=[],s=this._chooseSubtree(o,this.data,t,i);for(s.children.push(e),La(s,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)}_split(e,t){const r=e[t],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);const s=this._chooseSplitIndex(r,i,o),c=Pi(r.children.splice(s,r.children.length-s));c.height=r.height,c.leaf=r.leaf,wi(r,this.toBBox),wi(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,t){this.data=Pi([e,t]),this.data.height=e.height+1,this.data.leaf=!1,wi(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let o,i=1/0,s=1/0;for(let c=t;c<=r-t;c++){const u=Pa(e,0,c,this.toBBox),f=Pa(e,c,r,this.toBBox),d=hS(u,f),g=of(u)+of(f);d<i?(i=d,o=c,s=g<s?g:s):d===i&&g<s&&(s=g,o=c)}return o||r-t}_chooseSplitAxis(e,t,r){const o=e.leaf?this.compareMinX:cS,i=e.leaf?this.compareMinY:uS,s=this._allDistMargin(e,t,r,o),c=this._allDistMargin(e,t,r,i);s<c&&e.children.sort(o)}_allDistMargin(e,t,r,o){e.children.sort(o);const i=this.toBBox,s=Pa(e,0,t,i),c=Pa(e,r-t,r,i);let u=Tl(s)+Tl(c);for(let f=t;f<r-t;f++){const d=e.children[f];La(s,e.leaf?i(d):d),u+=Tl(s)}for(let f=r-t-1;f>=t;f--){const d=e.children[f];La(c,e.leaf?i(d):d),u+=Tl(c)}return u}_adjustParentBBoxes(e,t,r){for(let o=r;o>=0;o--)La(t[o],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():wi(e[t],this.toBBox)}}function lS(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function wi(n,e){Pa(n,0,n.children.length,e,n)}function Pa(n,e,t,r,o){o||(o=Pi(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=e;i<t;i++){const s=n.children[i];La(o,n.leaf?r(s):s)}return o}function La(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function cS(n,e){return n.minX-e.minX}function uS(n,e){return n.minY-e.minY}function of(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Tl(n){return n.maxX-n.minX+(n.maxY-n.minY)}function fS(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function hS(n,e){const t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),o=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,o-t)*Math.max(0,i-r)}function af(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Rl(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Pi(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $v(n,e,t,r,o){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=r)continue;const s=e+Math.ceil((t-e)/r/2)*r;aS(n,s,e,t,o),i.push(e,s,s,t)}}var he={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},dS=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Xr(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Kt()},n.prototype.getImage=function(e){return Kt()},n.prototype.getHitDetectionImage=function(){return Kt()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return Kt()},n.prototype.getImageSize=function(){return Kt()},n.prototype.getOrigin=function(){return Kt()},n.prototype.getSize=function(){return Kt()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Xr(e)},n.prototype.listenImageChange=function(e){Kt()},n.prototype.load=function(){Kt()},n.prototype.unlistenImageChange=function(e){Kt()},n}(),w0=dS;function an(n){return Array.isArray(n)?n0(n):n}var pS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gS=function(n){pS(e,n);function e(t){var r=this,o=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:o,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var o=this.renderOptions_,i=Mr(o.size*t,o.size*t);this.draw_(o,i,t),r=i.canvas,this.canvas_[t]=r}return r},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return he.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,r,o){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var c=i;i=s,s=c}var u=this.radius2_===void 0?this.points_:this.points_*2,f=2*Math.PI/u,d=s*Math.sin(f),g=Math.sqrt(s*s-d*d),p=i-g,b=Math.sqrt(d*d+p*p),_=b/d;if(t==="miter"&&_<=o)return _*r;var w=r/2/_,k=r/2*(p/b),T=Math.sqrt((i+w)*(i+w)+k*k),A=T-i;if(this.radius2_===void 0||t==="bevel")return A*2;var O=i*Math.sin(f),P=Math.sqrt(i*i-O*O),D=s-P,X=Math.sqrt(O*O+D*D),G=X/O;if(G<=o){var F=G*r/2-s-i;return 2*Math.max(A,F)}return A*2},e.prototype.createRenderOptions=function(){var t=Ki,r=0,o=null,i=0,s,c=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=as),s=an(s),c=this.stroke_.getWidth(),c===void 0&&(c=ls),o=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Ki),r=this.stroke_.getMiterLimit(),r===void 0&&(r=is));var u=this.calculateLineJoinSize_(t,c,r),f=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*f+u);return{strokeStyle:s,strokeWidth:c,size:d,lineDash:o,lineDashOffset:i,lineJoin:t,miterLimit:r}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,r,o){if(r.scale(o,o),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var i=this.fill_.getColor();i===null&&(i=On),r.fillStyle=an(i),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),o=0;if(typeof r=="string"&&(r=Zl(r)),r===null?o=1:Array.isArray(r)&&(o=r.length===4?r[3]:1),o===0){var i=Mr(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var r=this.points_,o=this.radius_;if(r===1/0)t.arc(0,0,o,0,2*Math.PI);else{var i=this.radius2_===void 0?o:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,c=2*Math.PI/r,u=0;u<r;u++){var f=s+u*c,d=u%2===0?o:i;t.lineTo(d*Math.cos(f),d*Math.sin(f))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=On,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e}(w0),vS=gS,bS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mS=function(n){bS(e,n);function e(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(vS),k0=mS,_S=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),rc=_S,yS=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),Xa=yS,Fi=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=qv,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=qv,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function xS(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{jt(typeof n.getZIndex=="function",41);var r=n;t=[r]}e=function(){return t}}return e}var sf=null;function wS(n,e){if(!sf){var t=new rc({color:"rgba(255,255,255,0.4)"}),r=new Xa({color:"#3399CC",width:1.25});sf=[new Fi({image:new k0({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return sf}function kS(){var n={},e=[255,255,255,1],t=[0,153,255,1],r=3;return n[lt.POLYGON]=[new Fi({fill:new rc({color:[255,255,255,.5]})})],n[lt.MULTI_POLYGON]=n[lt.POLYGON],n[lt.LINE_STRING]=[new Fi({stroke:new Xa({color:e,width:r+2})}),new Fi({stroke:new Xa({color:t,width:r})})],n[lt.MULTI_LINE_STRING]=n[lt.LINE_STRING],n[lt.CIRCLE]=n[lt.POLYGON].concat(n[lt.LINE_STRING]),n[lt.POINT]=[new Fi({image:new k0({radius:r*2,fill:new rc({color:t}),stroke:new Xa({color:e,width:r/2})}),zIndex:1/0})],n[lt.MULTI_POINT]=n[lt.POINT],n[lt.GEOMETRY_COLLECTION]=n[lt.POLYGON].concat(n[lt.LINE_STRING],n[lt.POINT]),n}function qv(n){return n.getGeometry()}var ES=Fi,CS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jv={RENDER_ORDER:"renderOrder"},TS=function(n){CS(e,n);function e(t){var r=this,o=t||{},i=Le({},o);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,r=n.call(this,i)||this,r.declutter_=o.declutter!==void 0?o.declutter:!1,r.renderBuffer_=o.renderBuffer!==void 0?o.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(o.style),r.updateWhileAnimating_=o.updateWhileAnimating!==void 0?o.updateWhileAnimating:!1,r.updateWhileInteracting_=o.updateWhileInteracting!==void 0?o.updateWhileInteracting:!1,r}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Jv.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new x0(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Jv.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:wS,this.styleFunction_=t===null?void 0:xS(this.style_),this.changed()},e}(Rc),RS=TS,bs={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Al=[bs.FILL],io=[bs.STROKE],Yo=[bs.BEGIN_PATH],Qv=[bs.CLOSE_PATH],At=bs,AS=function(){function n(){}return n.prototype.drawCustom=function(e,t,r,o){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),E0=AS,IS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OS=function(n){IS(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=o,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(o){return o*r})},e.prototype.appendFlatPointCoordinates=function(t,r){for(var o=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,c=s.length,u=0,f=t.length;u<f;u+=r)i[0]=t[u],i[1]=t[u+1],hs(o,i)&&(s[c++]=i[0],s[c++]=i[1]);return c},e.prototype.appendFlatLineCoordinates=function(t,r,o,i,s,c){var u=this.coordinates,f=u.length,d=this.getBufferedMaxExtent();c&&(r+=i);var g=t[r],p=t[r+1],b=this.tmpCoordinate_,_=!0,w,k,T;for(w=r+i;w<o;w+=i)b[0]=t[w],b[1]=t[w+1],T=zf(d,b),T!==k?(_&&(u[f++]=g,u[f++]=p,_=!1),u[f++]=b[0],u[f++]=b[1]):T===Pe.INTERSECTING?(u[f++]=b[0],u[f++]=b[1],_=!1):_=!0,g=b[0],p=b[1],k=T;return(s&&_||w===r+i)&&(u[f++]=g,u[f++]=p),f},e.prototype.drawCustomCoordinates_=function(t,r,o,i,s){for(var c=0,u=o.length;c<u;++c){var f=o[c],d=this.appendFlatLineCoordinates(t,r,f,i,!1,!1);s.push(d),r=f}return r},e.prototype.drawCustom=function(t,r,o,i){this.beginGeometry(t,r);var s=t.getType(),c=t.getStride(),u=this.coordinates.length,f,d,g,p,b;switch(s){case lt.MULTI_POLYGON:f=t.getOrientedFlatCoordinates(),p=[];var _=t.getEndss();b=0;for(var w=0,k=_.length;w<k;++w){var T=[];b=this.drawCustomCoordinates_(f,b,_[w],c,T),p.push(T)}this.instructions.push([At.CUSTOM,u,p,t,o,Xf]),this.hitDetectionInstructions.push([At.CUSTOM,u,p,t,i||o,Xf]);break;case lt.POLYGON:case lt.MULTI_LINE_STRING:g=[],f=s==lt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),b=this.drawCustomCoordinates_(f,0,t.getEnds(),c,g),this.instructions.push([At.CUSTOM,u,g,t,o,es]),this.hitDetectionInstructions.push([At.CUSTOM,u,g,t,i||o,es]);break;case lt.LINE_STRING:case lt.CIRCLE:f=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([At.CUSTOM,u,d,t,o,oo]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,oo]);break;case lt.MULTI_POINT:f=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(f,c),d>u&&(this.instructions.push([At.CUSTOM,u,d,t,o,oo]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o,oo]));break;case lt.POINT:f=t.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),d=this.coordinates.length,this.instructions.push([At.CUSTOM,u,d,t,o]),this.hitDetectionInstructions.push([At.CUSTOM,u,d,t,i||o]);break}this.endGeometry(r)},e.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[At.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[At.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,o=t.length,i,s,c=-1;for(r=0;r<o;++r)i=t[r],s=i[0],s==At.END_GEOMETRY?c=r:s==At.BEGIN_GEOMETRY&&(i[2]=r,FA(this.hitDetectionInstructions,c,r),c=-1)},e.prototype.setFillStrokeStyle=function(t,r){var o=this.state;if(t){var i=t.getColor();o.fillStyle=an(i||On)}else o.fillStyle=void 0;if(r){var s=r.getColor();o.strokeStyle=an(s||as);var c=r.getLineCap();o.lineCap=c!==void 0?c:Jl;var u=r.getLineDash();o.lineDash=u?u.slice():ns;var f=r.getLineDashOffset();o.lineDashOffset=f||os;var d=r.getLineJoin();o.lineJoin=d!==void 0?d:Ki;var g=r.getWidth();o.lineWidth=g!==void 0?g:ls;var p=r.getMiterLimit();o.miterLimit=p!==void 0?p:is,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},e.prototype.createFill=function(t){var r=t.fillStyle,o=[At.SET_FILL_STYLE,r];return typeof r!="string"&&o.push(!0),o},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[At.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,r){var o=t.fillStyle;(typeof o!="string"||t.currentFillStyle!=o)&&(o!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=o)},e.prototype.updateStrokeStyle=function(t,r){var o=t.strokeStyle,i=t.lineCap,s=t.lineDash,c=t.lineDashOffset,u=t.lineJoin,f=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=o||t.currentLineCap!=i||s!=t.currentLineDash&&!ei(t.currentLineDash,s)||t.currentLineDashOffset!=c||t.currentLineJoin!=u||t.currentLineWidth!=f||t.currentMiterLimit!=d)&&(o!==void 0&&r.call(this,t),t.currentStrokeStyle=o,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=c,t.currentLineJoin=u,t.currentLineWidth=f,t.currentMiterLimit=d)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[At.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Am(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ih(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(E0),ms=OS,SS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PS=function(n){SS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.drawMultiPoint=function(t,r){if(!!this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(o,i);this.instructions.push([At.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,r){var o=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),c=t.getImage(this.pixelRatio),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=s,this.image_=c,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=u[0]*this.imagePixelRatio_,this.originY_=u[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=r},e}(ms),LS=PS,MS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FS=function(n){MS(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinates_=function(t,r,o,i){var s=this.coordinates.length,c=this.appendFlatLineCoordinates(t,r,o,i,!1,!1),u=[At.MOVE_TO_LINE_TO,s,c];return this.instructions.push(u),this.hitDetectionInstructions.push(u),o},e.prototype.drawLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,ns,os],Yo);var c=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(c,0,c.length,u),this.hitDetectionInstructions.push(io),this.endGeometry(r)}},e.prototype.drawMultiLineString=function(t,r){var o=this.state,i=o.strokeStyle,s=o.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],Yo);for(var c=t.getEnds(),u=t.getFlatCoordinates(),f=t.getStride(),d=0,g=0,p=c.length;g<p;++g)d=this.drawFlatCoordinates_(u,d,c[g],f);this.hitDetectionInstructions.push(io),this.endGeometry(r)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(io),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(io),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Yo)},e}(ms),DS=FS,NS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zS=function(n){NS(e,n);function e(t,r,o,i){return n.call(this,t,r,o,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,r,o,i){var s=this.state,c=s.fillStyle!==void 0,u=s.strokeStyle!==void 0,f=o.length;this.instructions.push(Yo),this.hitDetectionInstructions.push(Yo);for(var d=0;d<f;++d){var g=o[d],p=this.coordinates.length,b=this.appendFlatLineCoordinates(t,r,g,i,!0,!u),_=[At.MOVE_TO_LINE_TO,p,b];this.instructions.push(_),this.hitDetectionInstructions.push(_),u&&(this.instructions.push(Qv),this.hitDetectionInstructions.push(Qv)),r=g}return c&&(this.instructions.push(Al),this.hitDetectionInstructions.push(Al)),u&&(this.instructions.push(io),this.hitDetectionInstructions.push(io)),r},e.prototype.drawCircle=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getFlatCoordinates(),u=t.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,u,!1,!1);var d=[At.CIRCLE,f];this.instructions.push(Yo,d),this.hitDetectionInstructions.push(Yo,d),o.fillStyle!==void 0&&(this.instructions.push(Al),this.hitDetectionInstructions.push(Al)),o.strokeStyle!==void 0&&(this.instructions.push(io),this.hitDetectionInstructions.push(io)),this.endGeometry(r)}},e.prototype.drawPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var c=t.getEnds(),u=t.getOrientedFlatCoordinates(),f=t.getStride();this.drawFlatCoordinatess_(u,0,c,f),this.endGeometry(r)}},e.prototype.drawMultiPolygon=function(t,r){var o=this.state,i=o.fillStyle,s=o.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,On]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var c=t.getEndss(),u=t.getOrientedFlatCoordinates(),f=t.getStride(),d=0,g=0,p=c.length;g<p;++g)d=this.drawFlatCoordinatess_(u,d,c[g],f);this.endGeometry(r)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,o=0,i=r.length;o<i;++o)r[o]=Fo(r[o],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(ms),tb=zS,GS={POINT:"point",LINE:"line"};function BS(n,e,t,r,o){var i=t,s=t,c=0,u=0,f=t,d,g,p,b,_,w,k,T,A,O;for(g=t;g<r;g+=o){var P=e[g],D=e[g+1];_!==void 0&&(A=P-_,O=D-w,b=Math.sqrt(A*A+O*O),k!==void 0&&(u+=p,d=Math.acos((k*A+T*O)/(p*b)),d>n&&(u>c&&(c=u,i=f,s=g),u=0,f=g-o)),p=b,k=A,T=O),_=P,w=D}return u+=b,u>c?[f,g]:[i,s]}var WS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nc={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},US=function(n){WS(e,n);function e(t,r,o,i){var s=n.call(this,t,r,o,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,r){var o=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!o&&!i)){var c=this.coordinates,u=c.length,f=t.getType(),d=null,g=t.getStride();if(s.placement===GS.LINE&&(f==lt.LINE_STRING||f==lt.MULTI_LINE_STRING||f==lt.POLYGON||f==lt.MULTI_POLYGON)){if(!qe(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(d=t.getFlatCoordinates(),f==lt.LINE_STRING)p=[d.length];else if(f==lt.MULTI_LINE_STRING)p=t.getEnds();else if(f==lt.POLYGON)p=t.getEnds().slice(0,1);else if(f==lt.MULTI_POLYGON){var b=t.getEndss();p=[];for(var _=0,w=b.length;_<w;++_)p.push(b[_][0])}this.beginGeometry(t,r);for(var k=s.textAlign,T=0,A=void 0,O=0,P=p.length;O<P;++O){if(k==null){var D=BS(s.maxAngle,d,T,p[O],g);T=D[0],A=D[1]}else A=p[O];for(var _=T;_<A;_+=g)c.push(d[_],d[_+1]);var X=c.length;T=p[O],this.drawChars_(u,X),u=X}this.endGeometry(r)}else{var G=s.overflow?null:[];switch(f){case lt.POINT:case lt.MULTI_POINT:d=t.getFlatCoordinates();break;case lt.LINE_STRING:d=t.getFlatMidpoint();break;case lt.CIRCLE:d=t.getCenter();break;case lt.MULTI_LINE_STRING:d=t.getFlatMidpoints(),g=2;break;case lt.POLYGON:d=t.getFlatInteriorPoint(),s.overflow||G.push(d[2]/this.resolution),g=3;break;case lt.MULTI_POLYGON:var F=t.getFlatInteriorPoints();d=[];for(var _=0,w=F.length;_<w;_+=3)s.overflow||G.push(F[_+2]/this.resolution),d.push(F[_],F[_+1]);if(d.length===0)return;g=2;break}var X=this.appendFlatPointCoordinates(d,g);if(X===u)return;if(G&&(X-u)/2!==d.length/g){var K=u/2;G=G.filter(function(ct,_t){var Ot=c[(K+_t)*2]===d[_t*g]&&c[(K+_t)*2+1]===d[_t*g+1];return Ot||--K,Ot})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var et=s.padding;if(et!=Uo&&(s.scale[0]<0||s.scale[1]<0)){var at=s.padding[0],ut=s.padding[1],ft=s.padding[2],bt=s.padding[3];s.scale[0]<0&&(ut=-ut,bt=-bt),s.scale[1]<0&&(at=-at,ft=-ft),et=[at,ut,ft,bt]}var ot=this.pixelRatio;this.instructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,et==Uo?Uo:et.map(function(ct){return ct*ot}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]);var ht=1/ot;this.hitDetectionInstructions.push([At.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ht,ht],NaN,this.declutterImageWithText_,et,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]),this.endGeometry(r)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,o=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||ss,textBaseline:r.textBaseline||Ql,scale:r.scale});var c=this.fillKey_;o&&(c in this.fillStates||(this.fillStates[c]={fillStyle:o.fillStyle}))},e.prototype.drawChars_=function(t,r){var o=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,c=this.textKey_,u=this.fillKey_;this.saveTextStates_();var f=this.pixelRatio,d=nc[i.textBaseline],g=this.textOffsetY_*f,p=this.text_,b=o?o.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,f,g,s,b*f,p,c,1]),this.hitDetectionInstructions.push([At.DRAW_CHARS,t,r,d,i.overflow,u,i.maxAngle,1,g,s,b,p,c,1/f])},e.prototype.setTextStyle=function(t,r){var o,i,s;if(!t)this.text_="";else{var c=t.getFill();c?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=an(c.getColor()||On)):(i=null,this.textFillState_=i);var u=t.getStroke();if(!u)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var f=u.getLineDash(),d=u.getLineDashOffset(),g=u.getWidth(),p=u.getMiterLimit();s.lineCap=u.getLineCap()||Jl,s.lineDash=f?f.slice():ns,s.lineDashOffset=d===void 0?os:d,s.lineJoin=u.getLineJoin()||Ki,s.lineWidth=g===void 0?ls:g,s.miterLimit=p===void 0?is:p,s.strokeStyle=an(u.getColor()||as)}o=this.textState_;var b=t.getFont()||l0;AI(b);var _=t.getScaleArray();o.overflow=t.getOverflow(),o.font=b,o.maxAngle=t.getMaxAngle(),o.placement=t.getPlacement(),o.textAlign=t.getTextAlign(),o.textBaseline=t.getTextBaseline()||Ql,o.backgroundFill=t.getBackgroundFill(),o.backgroundStroke=t.getBackgroundStroke(),o.padding=t.getPadding()||Uo,o.scale=_===void 0?[1,1]:_;var w=t.getOffsetX(),k=t.getOffsetY(),T=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=w===void 0?0:w,this.textOffsetY_=k===void 0?0:k,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=A===void 0?0:A,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:ne(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+ne(i.fillStyle):""}this.declutterImageWithText_=r},e}(ms),YS=US,XS={Circle:tb,Default:ms,Image:LS,LineString:DS,Polygon:tb,Text:YS},VS=function(){function n(e,t,r,o){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var o in r){var i=r[o].finish();e[t][o]=i}}return e},n.prototype.getBuilder=function(e,t){var r=e!==void 0?e.toString():"0",o=this.buildersByZIndex_[r];o===void 0&&(o={},this.buildersByZIndex_[r]=o);var i=o[t];if(i===void 0){var s=XS[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=i}return i},n}(),eb=VS,HS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KS=function(n){HS(e,n);function e(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return e.prototype.getFeatures=function(t){return Kt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Kt()},e.prototype.renderFrame=function(t,r){return Kt()},e.prototype.loadedTileCallback=function(t,r,o){t[r]||(t[r]={}),t[r][o.tileCoord.toString()]=o},e.prototype.createLoadedTileFinder=function(t,r,o){return function(i,s){var c=this.loadedTileCallback.bind(this,o,i);return t.forEachLoadedTile(r,i,s,c)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){},e.prototype.getDataAtPixel=function(t,r,o){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===he.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var r=t.getState();return r!=he.LOADED&&r!=he.ERROR&&t.addEventListener(Dt.CHANGE,this.boundHandleImageChange_),r==he.IDLE&&(t.load(),r=t.getState()),r==he.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ti.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(Mm),jS=KS,ZS=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ma=null;function $S(){var n=document.createElement("canvas");n.width=1,n.height=1,Ma=n.getContext("2d")}var qS=function(n){ZS(e,n);function e(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=sn(),r.pixelTransform=sn(),r.inversePixelTransform=sn(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return e.prototype.getImageData=function(t,r,o){Ma||$S(),Ma.clearRect(0,0,1,1);var i;try{Ma.drawImage(t,r,o,1,1,0,0,1,1),i=Ma.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var r=this.getLayer(),o=r.getBackground();return typeof o=="function"&&(o=o(t.viewState.resolution)),o||void 0},e.prototype.useContainer=function(t,r,o,i){var s=this.getLayer().getClassName(),c,u;if(t&&t.className===s&&t.style.opacity===""&&o===1&&(!i||t.style.backgroundColor&&ei(Zl(t.style.backgroundColor),Zl(i)))){var f=t.firstElementChild;f instanceof HTMLCanvasElement&&(u=f.getContext("2d"))}if(u&&u.canvas.style.transform===r?(this.container=t,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){c=document.createElement("div"),c.className=s;var d=c.style;d.position="absolute",d.width="100%",d.height="100%",i&&(d.backgroundColor=i),u=Mr();var f=u.canvas;c.appendChild(f),d=f.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=c,this.context=u}},e.prototype.clipUnrotated=function(t,r,o){var i=po(o),s=ps(o),c=ds(o),u=Xi(o);Re(r.coordinateToPixelTransform,i),Re(r.coordinateToPixelTransform,s),Re(r.coordinateToPixelTransform,c),Re(r.coordinateToPixelTransform,u);var f=this.inversePixelTransform;Re(f,i),Re(f,s),Re(f,c),Re(f,u),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,r,o){var i=this.getLayer();if(i.hasListener(t)){var s=new i0(t,this.inversePixelTransform,o,r);i.dispatchEvent(s)}},e.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(co.PRERENDER,t,r)},e.prototype.postRender=function(t,r){this.dispatchRenderEvent_(co.POSTRENDER,t,r)},e.prototype.getRenderTransform=function(t,r,o,i,s,c,u){var f=s/2,d=c/2,g=i/r,p=-g,b=-t[0]+u,_=-t[1];return Pn(this.tempTransform,f,d,g,p,-o,b,_)},e.prototype.getDataAtPixel=function(t,r,o){var i=Re(this.inversePixelTransform,t.slice()),s=this.context,c=this.getLayer(),u=c.getExtent();if(u){var f=Re(r.pixelToCoordinateTransform,t.slice());if(!hs(u,f))return null}var d=Math.round(i[0]),g=Math.round(i[1]),p=this.pixelContext_;if(!p){var b=document.createElement("canvas");b.width=1,b.height=1,p=b.getContext("2d"),this.pixelContext_=p}p.clearRect(0,0,1,1);var _;try{p.drawImage(s.canvas,d,g,1,1,0,0,1,1),_=p.getImageData(0,0,1,1).data}catch(w){return w.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):_}return _[3]===0?null:_},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(jS),C0=qS,_e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function JS(n,e,t,r,o,i,s,c,u,f,d,g){var p=n[e],b=n[e+1],_=0,w=0,k=0,T=0;function A(){_=p,w=b,e+=r,p=n[e],b=n[e+1],T+=k,k=Math.sqrt((p-_)*(p-_)+(b-w)*(b-w))}do A();while(e<t-r&&T+k<i);for(var O=k===0?0:(i-T)/k,P=Cn(_,p,O),D=Cn(w,b,O),X=e-r,G=T,F=i+c*u(f,o,d);e<t-r&&T+k<F;)A();O=k===0?0:(F-T)/k;var K=Cn(_,p,O),et=Cn(w,b,O),at;if(g){var ut=[P,D,K,et];Bh(ut,0,4,2,g,ut,ut),at=ut[0]>ut[2]}else at=P>K;var ft=Math.PI,bt=[],ot=X+r===e;e=X,k=0,T=G,p=n[e],b=n[e+1];var ht;if(ot){A(),ht=Math.atan2(b-w,p-_),at&&(ht+=ht>0?-ft:ft);var tt=(K+P)/2,ct=(et+D)/2;return bt[0]=[tt,ct,(F-i)/2,ht,o],bt}for(var _t=0,Ot=o.length;_t<Ot;){A();var St=Math.atan2(b-w,p-_);if(at&&(St+=St>0?-ft:ft),ht!==void 0){var Z=St-ht;if(Z+=Z>ft?-2*ft:Z<-ft?2*ft:0,Math.abs(Z)>s)return null}ht=St;for(var Yt=_t,kt=0;_t<Ot;++_t){var z=at?Ot-_t-1:_t,rt=c*u(f,o[z],d);if(e+r<t&&T+k<i+kt+rt/2)break;kt+=rt}if(_t!==Yt){var J=at?o.substring(Ot-Yt,Ot-_t):o.substring(Yt,_t);O=k===0?0:(i+kt/2-T)/k;var tt=Cn(_,p,O),ct=Cn(w,b,O);bt.push([tt,ct,kt/2,St,J]),i+=kt}}return bt}var ki=Pr(),Kn=[],_n=[],yn=[],jn=[];function rb(n){return n[3].declutterBox}var QS=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function nb(n,e){return(e==="start"||e==="end")&&!QS.test(n)&&(e=e==="start"?"left":"right"),nc[e]}function tP(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var eP=function(){function n(e,t,r,o){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=sn(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,r,o){var i=e+t+r+o;if(this.labels_[i])return this.labels_[i];var s=o?this.strokeStates[o]:null,c=r?this.fillStates[r]:null,u=this.textStates[t],f=this.pixelRatio,d=[u.scale[0]*f,u.scale[1]*f],g=Array.isArray(e),p=nb(g?e[0]:e,u.textAlign||ss),b=o&&s.lineWidth?s.lineWidth:0,_=g?e:e.split(`
`).reduce(tP,[]),w=OI(u,_),k=w.width,T=w.height,A=w.widths,O=w.heights,P=w.lineWidths,D=k+b,X=[],G=(D+2)*d[0],F=(T+b)*d[1],K={width:G<0?Math.floor(G):Math.ceil(G),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:X};if((d[0]!=1||d[1]!=1)&&X.push("scale",d),o){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",b),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var et=kc?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;et.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}r&&X.push("fillStyle",c.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var at=.5-p,ut=p*D+at*b,ft=[],bt=[],ot=0,ht=0,tt=0,ct=0,_t,Ot=0,St=_.length;Ot<St;Ot+=2){var Z=_[Ot];if(Z===`
`){ht+=ot,ot=0,ut=p*D+at*b,++ct;continue}var Yt=_[Ot+1]||u.font;Yt!==_t&&(o&&ft.push("font",Yt),r&&bt.push("font",Yt),_t=Yt),ot=Math.max(ot,O[tt]);var kt=[Z,ut+at*A[tt]+p*(A[tt]-P[ct]),.5*(b+ot)+ht];ut+=A[tt],o&&ft.push("strokeText",kt),r&&bt.push("fillText",kt),++tt}return Array.prototype.push.apply(X,ft),Array.prototype.push.apply(X,bt),this.labels_[i]=K,K},n.prototype.replayTextBackground_=function(e,t,r,o,i,s,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,r,o,i,s,c,u,f,d,g,p,b,_,w,k){c*=p[0],u*=p[1];var T=r-c,A=o-u,O=i+f>e?e-f:i,P=s+d>t?t-d:s,D=_[3]+O*p[0]+_[1],X=_[0]+P*p[1]+_[2],G=T-_[3],F=A-_[0];(w||g!==0)&&(Kn[0]=G,jn[0]=G,Kn[1]=F,_n[1]=F,_n[0]=G+D,yn[0]=_n[0],yn[1]=F+X,jn[1]=yn[1]);var K;return g!==0?(K=Pn(sn(),r,o,1,1,g,-r,-o),Re(K,Kn),Re(K,_n),Re(K,yn),Re(K,jn),jr(Math.min(Kn[0],_n[0],yn[0],jn[0]),Math.min(Kn[1],_n[1],yn[1],jn[1]),Math.max(Kn[0],_n[0],yn[0],jn[0]),Math.max(Kn[1],_n[1],yn[1],jn[1]),ki)):jr(Math.min(G,G+D),Math.min(F,F+X),Math.max(G,G+D),Math.max(F,F+X),ki),b&&(T=Math.round(T),A=Math.round(A)),{drawImageX:T,drawImageY:A,drawImageW:O,drawImageH:P,originX:f,originY:d,declutterBox:{minX:ki[0],minY:ki[1],maxX:ki[2],maxY:ki[3],value:k},canvasTransform:K,scale:p}},n.prototype.replayImageOrLabel_=function(e,t,r,o,i,s,c){var u=!!(s||c),f=o.declutterBox,d=e.canvas,g=c?c[2]*o.scale[0]/2:0,p=f.minX-g<=d.width/t&&f.maxX+g>=0&&f.minY-g<=d.height/t&&f.maxY+g>=0;return p&&(u&&this.replayTextBackground_(e,Kn,_n,yn,jn,s,c),SI(e,o.canvasTransform,i,r,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Re(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,r,o){var i=this.textStates[t],s=this.createLabel(e,t,o,r),c=this.strokeStates[r],u=this.pixelRatio,f=nb(Array.isArray(e)?e[0]:e,i.textAlign||ss),d=nc[i.textBaseline||Ql],g=c&&c.lineWidth?c.lineWidth:0,p=s.width/u-2*i.scale[0],b=f*p+2*(.5-f)*g,_=d*s.height/u+2*(.5-d)*g;return{label:s,anchorX:b,anchorY:_}},n.prototype.execute_=function(e,t,r,o,i,s,c,u){var f;this.pixelCoordinates_&&ei(r,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Zo(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),ZA(this.renderedTransform_,r));for(var d=0,g=o.length,p=0,b,_,w,k,T,A,O,P,D,X,G,F,K=0,et=0,at=null,ut=null,ft=this.coordinateCache_,bt=this.viewRotation_,ot=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:bt},tt=this.instructions!=o||this.overlaps?0:200,ct,_t,Ot,St;d<g;){var Z=o[d],Yt=Z[0];switch(Yt){case At.BEGIN_GEOMETRY:ct=Z[1],St=Z[3],ct.getGeometry()?c!==void 0&&!qe(c,St.getExtent())?d=Z[2]+1:++d:d=Z[2];break;case At.BEGIN_PATH:K>tt&&(this.fill_(e),K=0),et>tt&&(e.stroke(),et=0),!K&&!et&&(e.beginPath(),k=NaN,T=NaN),++d;break;case At.CIRCLE:p=Z[1];var kt=f[p],z=f[p+1],rt=f[p+2],J=f[p+3],it=rt-kt,It=J-z,Zt=Math.sqrt(it*it+It*It);e.moveTo(kt+Zt,z),e.arc(kt,z,Zt,0,2*Math.PI,!0),++d;break;case At.CLOSE_PATH:e.closePath(),++d;break;case At.CUSTOM:p=Z[1],b=Z[2];var yt=Z[3],Et=Z[4],E=Z.length==6?Z[5]:void 0;ht.geometry=yt,ht.feature=ct,d in ft||(ft[d]=[]);var I=ft[d];E?E(f,p,b,2,I):(I[0]=f[p],I[1]=f[p+1],I.length=2),Et(I,ht),++d;break;case At.DRAW_IMAGE:p=Z[1],b=Z[2],P=Z[3],_=Z[4],w=Z[5];var M=Z[6],V=Z[7],W=Z[8],Q=Z[9],nt=Z[10],$=Z[11],q=Z[12],H=Z[13],pt=Z[14];if(!P&&Z.length>=19){D=Z[18],X=Z[19],G=Z[20],F=Z[21];var dt=this.drawLabelWithPointPlacement_(D,X,G,F);P=dt.label,Z[3]=P;var vt=Z[22];_=(dt.anchorX-vt)*this.pixelRatio,Z[4]=_;var xt=Z[23];w=(dt.anchorY-xt)*this.pixelRatio,Z[5]=w,M=P.height,Z[6]=M,H=P.width,Z[13]=H}var Pt=void 0;Z.length>24&&(Pt=Z[24]);var Lt=void 0,Nt=void 0,Xt=void 0;Z.length>16?(Lt=Z[15],Nt=Z[16],Xt=Z[17]):(Lt=Uo,Nt=!1,Xt=!1),nt&&ot?$+=bt:!nt&&!ot&&($-=bt);for(var we=0;p<b;p+=2)if(!(Pt&&Pt[we++]<H/this.pixelRatio)){var de=this.calculateImageOrLabelDimensions_(P.width,P.height,f[p],f[p+1],H,M,_,w,W,Q,$,q,i,Lt,Nt||Xt,ct),Fr=[e,t,P,de,V,Nt?at:null,Xt?ut:null],se=void 0,ir=void 0;if(u&&pt){var pe=b-p;if(!pt[pe]){pt[pe]=Fr;continue}if(se=pt[pe],delete pt[pe],ir=rb(se),u.collides(ir))continue}u&&u.collides(de.declutterBox)||(se&&(u&&u.insert(ir),this.replayImageOrLabel_.apply(this,se)),u&&u.insert(de.declutterBox),this.replayImageOrLabel_.apply(this,Fr))}++d;break;case At.DRAW_CHARS:var Me=Z[1],vo=Z[2],na=Z[3],Sc=Z[4];F=Z[5];var _s=Z[6],oa=Z[7],ys=Z[8];G=Z[9];var ia=Z[10];D=Z[11],X=Z[12];var xs=[Z[13],Z[13]],aa=this.textStates[X],Mn=aa.font,bo=[aa.scale[0]*oa,aa.scale[1]*oa],mo=void 0;Mn in this.widths_?mo=this.widths_[Mn]:(mo={},this.widths_[Mn]=mo);var ws=Zm(f,Me,vo,2),ri=Math.abs(bo[0])*Kv(Mn,D,mo);if(Sc||ri<=ws){var Pc=this.textStates[X].textAlign,sa=(ws-ri)*nc[Pc],_o=JS(f,Me,vo,2,D,sa,_s,Math.abs(bo[0]),Kv,Mn,mo,ot?0:this.viewRotation_);t:if(_o){var yo=[],$r=void 0,ni=void 0,oi=void 0,Ge=void 0,Je=void 0;if(G)for($r=0,ni=_o.length;$r<ni;++$r){Je=_o[$r],oi=Je[4],Ge=this.createLabel(oi,X,"",G),_=Je[2]+(bo[0]<0?-ia:ia),w=na*Ge.height+(.5-na)*2*ia*bo[1]/bo[0]-ys;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Je[0],Je[1],Ge.width,Ge.height,_,w,0,0,Je[3],xs,!1,Uo,!1,ct);if(u&&u.collides(de.declutterBox))break t;yo.push([e,t,Ge,de,1,null,null])}if(F)for($r=0,ni=_o.length;$r<ni;++$r){Je=_o[$r],oi=Je[4],Ge=this.createLabel(oi,X,F,""),_=Je[2],w=na*Ge.height-ys;var de=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,Je[0],Je[1],Ge.width,Ge.height,_,w,0,0,Je[3],xs,!1,Uo,!1,ct);if(u&&u.collides(de.declutterBox))break t;yo.push([e,t,Ge,de,1,null,null])}u&&u.load(yo.map(rb));for(var la=0,ks=yo.length;la<ks;++la)this.replayImageOrLabel_.apply(this,yo[la])}}++d;break;case At.END_GEOMETRY:if(s!==void 0){ct=Z[1];var Es=s(ct,St);if(Es)return Es}++d;break;case At.FILL:tt?K++:this.fill_(e),++d;break;case At.MOVE_TO_LINE_TO:for(p=Z[1],b=Z[2],_t=f[p],Ot=f[p+1],A=_t+.5|0,O=Ot+.5|0,(A!==k||O!==T)&&(e.moveTo(_t,Ot),k=A,T=O),p+=2;p<b;p+=2)_t=f[p],Ot=f[p+1],A=_t+.5|0,O=Ot+.5|0,(p==b-2||A!==k||O!==T)&&(e.lineTo(_t,Ot),k=A,T=O);++d;break;case At.SET_FILL_STYLE:at=Z,this.alignFill_=Z[2],K&&(this.fill_(e),K=0,et&&(e.stroke(),et=0)),e.fillStyle=Z[1],++d;break;case At.SET_STROKE_STYLE:ut=Z,et&&(e.stroke(),et=0),this.setStrokeStyle_(e,Z),++d;break;case At.STROKE:tt?et++:e.stroke(),++d;break;default:++d;break}}K&&this.fill_(e),et&&e.stroke()},n.prototype.execute=function(e,t,r,o,i,s){this.viewRotation_=o,this.execute_(e,t,r,this.instructions,i,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,r,o,i){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,o,i)},n}(),rP=eP,lf=[_e.POLYGON,_e.CIRCLE,_e.LINE_STRING,_e.IMAGE,_e.TEXT,_e.DEFAULT],nP=function(){function n(e,t,r,o,i,s){this.maxExtent_=e,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=sn(),this.createExecutors_(i)}return n.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var o=e[t];for(var i in o){var s=o[i];r[i]=new rP(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,i=e.length;o<i;++o)if(e[o]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,s){o=Math.round(o);var c=o*2+1,u=Pn(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-r,-e[0],-e[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Mr(c,c));var d=this.hitDetectionContext_;d.canvas.width!==c||d.canvas.height!==c?(d.canvas.width=c,d.canvas.height=c):f||d.clearRect(0,0,c,c);var g;this.renderBuffer_!==void 0&&(g=Pr(),Ua(g,e),Ih(g,t*(this.renderBuffer_+o),g));var p=oP(o),b;function _(X,G){for(var F=d.getImageData(0,0,c,c).data,K=0,et=p.length;K<et;K++)if(F[p[K]]>0){if(!s||b!==_e.IMAGE&&b!==_e.TEXT||s.indexOf(X)!==-1){var at=(p[K]-3)/4,ut=o-at%c,ft=o-(at/c|0),bt=i(X,G,ut*ut+ft*ft);if(bt)return bt}d.clearRect(0,0,c,c);break}}var w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Jo);var k,T,A,O,P;for(k=w.length-1;k>=0;--k){var D=w[k].toString();for(A=this.executorsByZIndex_[D],T=lf.length-1;T>=0;--T)if(b=lf[T],O=A[b],O!==void 0&&(P=O.executeHitDetection(d,u,r,_,g),P))return P}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],o=t[1],i=t[2],s=t[3],c=[r,o,r,s,i,s,i,o];return Zo(c,0,8,2,e,c),c},n.prototype.isEmpty=function(){return Ja(this.executorsByZIndex_)},n.prototype.execute=function(e,t,r,o,i,s,c){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(Jo),this.maxExtent_&&(e.save(),this.clip(e,r));var f=s||lf,d,g,p,b,_,w;for(c&&u.reverse(),d=0,g=u.length;d<g;++d){var k=u[d].toString();for(_=this.executorsByZIndex_[k],p=0,b=f.length;p<b;++p){var T=f[p];w=_[T],w!==void 0&&w.execute(e,t,r,o,i,c)}}this.maxExtent_&&e.restore()},n}(),cf={};function oP(n){if(cf[n]!==void 0)return cf[n];for(var e=n*2+1,t=n*n,r=new Array(t+1),o=0;o<=n;++o)for(var i=0;i<=n;++i){var s=o*o+i*i;if(s>t)break;var c=r[s];c||(c=[],r[s]=c),c.push(((n+o)*e+(n+i))*4+3),o>0&&c.push(((n-o)*e+(n+i))*4+3),i>0&&(c.push(((n+o)*e+(n-i))*4+3),o>0&&c.push(((n-o)*e+(n-i))*4+3))}for(var u=[],o=0,f=r.length;o<f;++o)r[o]&&u.push.apply(u,r[o]);return cf[n]=u,u}var ob=nP,iP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aP=function(n){iP(e,n);function e(t,r,o,i,s,c,u){var f=n.call(this)||this;return f.context_=t,f.pixelRatio_=r,f.extent_=o,f.transform_=i,f.viewRotation_=s,f.squaredTolerance_=c,f.userTransform_=u,f.contextFillState_=null,f.contextStrokeState_=null,f.contextTextState_=null,f.fillState_=null,f.strokeState_=null,f.image_=null,f.imageAnchorX_=0,f.imageAnchorY_=0,f.imageHeight_=0,f.imageOpacity_=0,f.imageOriginX_=0,f.imageOriginY_=0,f.imageRotateWithView_=!1,f.imageRotation_=0,f.imageScale_=[0,0],f.imageWidth_=0,f.text_="",f.textOffsetX_=0,f.textOffsetY_=0,f.textRotateWithView_=!1,f.textRotation_=0,f.textScale_=[0,0],f.textFillState_=null,f.textStrokeState_=null,f.textState_=null,f.pixelCoordinates_=[],f.tmpLocalTransform_=sn(),f}return e.prototype.drawImages_=function(t,r,o,i){if(!!this.image_){var s=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var g=0,p=s.length;g<p;g+=2){var b=s[g]-this.imageAnchorX_,_=s[g+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var w=b+this.imageAnchorX_,k=_+this.imageAnchorY_;Pn(u,w,k,1,1,d,-w,-k),c.setTransform.apply(c,u),c.translate(w,k),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,b,_,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}},e.prototype.drawText_=function(t,r,o,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);r<o;r+=i){var f=s[r]+this.textOffsetX_,d=s[r+1]+this.textOffsetY_;if(u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var g=Pn(this.tmpLocalTransform_,f,d,1,1,u,-f,-d);c.setTransform.apply(c,g),c.translate(f,d),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&c.strokeText(this.text_,f,d),this.textFillState_&&c.fillText(this.text_,f,d)}}},e.prototype.moveToLineTo_=function(t,r,o,i,s){var c=this.context_,u=Zo(t,r,o,i,this.transform_,this.pixelCoordinates_);c.moveTo(u[0],u[1]);var f=u.length;s&&(f-=2);for(var d=2;d<f;d+=2)c.lineTo(u[d],u[d+1]);return s&&c.closePath(),o},e.prototype.drawRings_=function(t,r,o,i){for(var s=0,c=o.length;s<c;++s)r=this.moveToLineTo_(t,r,o[s],i,!0);return r},e.prototype.drawCircle=function(t){if(!!qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=i2(t,this.transform_,this.pixelCoordinates_),o=r[2]-r[0],i=r[3]-r[1],s=Math.sqrt(o*o+i*i),c=this.context_;c.beginPath(),c.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case lt.POINT:this.drawPoint(t);break;case lt.LINE_STRING:this.drawLineString(t);break;case lt.POLYGON:this.drawPolygon(t);break;case lt.MULTI_POINT:this.drawMultiPoint(t);break;case lt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case lt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case lt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case lt.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,r){var o=r.getGeometryFunction()(t);!o||!qe(this.extent_,o.getExtent())||(this.setStyle(r),this.drawGeometry(o))},e.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),o=0,i=r.length;o<i;++o)this.drawGeometry(r[o])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(o,0,o.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(!!qe(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,i=t.getFlatCoordinates(),s=0,c=t.getEnds(),u=t.getStride();o.beginPath();for(var f=0,d=c.length;f<d;++f)s=this.moveToLineTo_(i,s,c[f],u,!1);o.stroke()}if(this.text_!==""){var g=t.getFlatMidpoints();this.drawText_(g,0,g.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var o=t.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),c=t.getStride();r.beginPath();for(var u=0,f=s.length;u<f;++u){var d=s[u];i=this.drawRings_(o,i,d,c)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var g=t.getFlatInteriorPoints();this.drawText_(g,0,g.length,2)}}},e.prototype.setContextFillState_=function(t){var r=this.context_,o=this.contextFillState_;o?o.fillStyle!=t.fillStyle&&(o.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var r=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=t.lineCap&&(o.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(ei(o.lineDash,t.lineDash)||r.setLineDash(o.lineDash=t.lineDash),o.lineDashOffset!=t.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),o.lineJoin!=t.lineJoin&&(o.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),o.lineWidth!=t.lineWidth&&(o.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),o.miterLimit!=t.miterLimit&&(o.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),o.strokeStyle!=t.strokeStyle&&(o.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var r=this.context_,o=this.contextTextState_,i=t.textAlign?t.textAlign:ss;o?(o.font!=t.font&&(o.font=t.font,r.font=t.font),o.textAlign!=i&&(o.textAlign=i,r.textAlign=i),o.textBaseline!=t.textBaseline&&(o.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=i,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,r){var o=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:an(i||On)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),c=r.getLineCap(),u=r.getLineDash(),f=r.getLineDashOffset(),d=r.getLineJoin(),g=r.getWidth(),p=r.getMiterLimit(),b=u||ns;this.strokeState_={lineCap:c!==void 0?c:Jl,lineDash:this.pixelRatio_===1?b:b.map(function(_){return _*o.pixelRatio_}),lineDashOffset:(f||os)*this.pixelRatio_,lineJoin:d!==void 0?d:Ki,lineWidth:(g!==void 0?g:ls)*this.pixelRatio_,miterLimit:p!==void 0?p:is,strokeStyle:an(s||as)}}},e.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var o=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var o=r.getColor();this.textFillState_={fillStyle:an(o||On)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),c=i.getLineCap(),u=i.getLineDash(),f=i.getLineDashOffset(),d=i.getLineJoin(),g=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:c!==void 0?c:Jl,lineDash:u||ns,lineDashOffset:f||os,lineJoin:d!==void 0?d:Ki,lineWidth:g!==void 0?g:ls,miterLimit:p!==void 0?p:is,strokeStyle:an(s||as)}}var b=t.getFont(),_=t.getOffsetX(),w=t.getOffsetY(),k=t.getRotateWithView(),T=t.getRotation(),A=t.getScaleArray(),O=t.getText(),P=t.getTextAlign(),D=t.getTextBaseline();this.textState_={font:b!==void 0?b:l0,textAlign:P!==void 0?P:ss,textBaseline:D!==void 0?D:Ql},this.text_=O!==void 0?Array.isArray(O)?O.reduce(function(X,G,F){return X+=F%2?" ":G},""):O:"",this.textOffsetX_=_!==void 0?this.pixelRatio_*_:0,this.textOffsetY_=w!==void 0?this.pixelRatio_*w:0,this.textRotateWithView_=k!==void 0?k:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}(E0),sP=aP,ro={FRACTION:"fraction",PIXELS:"pixels"},Tr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},lP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cP=function(n){lP(e,n);function e(t,r,o,i){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=o,s.resolution=r,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Kt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Kt()},e}(ta),uP=cP,fP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){fP(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,o,he.IDLE)||this;return u.src_=i,u.image_=new Image,s!==null&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=he.IDLE,u.imageLoadFunction_=c,u}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=he.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Zr(this.extent)/this.image_.height),this.state=he.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==he.IDLE||this.state==he.ERROR)&&(this.state=he.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=od(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Zr(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(uP);function od(n,e,t){var r=n,o=!0,i=!1,s=!1,c=[jl(r,Dt.LOAD,function(){s=!0,i||e()})];return r.src&&KA?(i=!0,r.decode().then(function(){o&&e()}).catch(function(u){o&&(s?e():t())})):c.push(jl(r,Dt.ERROR,t)),function(){o=!1,c.forEach(be)}}var hP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Aa=null,dP=function(n){hP(e,n);function e(t,r,o,i,s,c){var u=n.call(this)||this;return u.hitDetectionImage_=null,u.image_=t||new Image,i!==null&&(u.image_.crossOrigin=i),u.canvas_={},u.color_=c,u.unlisten_=null,u.imageState_=s,u.size_=o,u.src_=r,u.tainted_,u}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===he.LOADED){Aa||(Aa=Mr(1,1)),Aa.drawImage(this.image_,0,0);try{Aa.getImageData(0,0,1,1),this.tainted_=!1}catch{Aa=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=he.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=he.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],o=Mr(t,r);o.fillRect(0,0,t,r),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==he.IDLE){this.imageState_=he.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=od(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==he.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var o=r.getContext("2d");if(o.scale(t,t),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply",o.globalCompositeOperation==="multiply"||this.isTainted_())o.fillStyle=r0(this.color_),o.fillRect(0,0,r.width/t,r.height/t),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var i=o.getImageData(0,0,r.width,r.height),s=i.data,c=this.color_[0]/255,u=this.color_[1]/255,f=this.color_[2]/255,d=this.color_[3],g=0,p=s.length;g<p;g+=4)s[g]*=c,s[g+1]*=u,s[g+2]*=f,s[g+3]*=d;o.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ta);function pP(n,e,t,r,o,i){var s=$l.get(e,r,i);return s||(s=new dP(n,e,t,r,o,i),$l.set(e,r,i,s)),s}var gP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vP=function(n){gP(e,n);function e(t){var r=this,o=t||{},i=o.opacity!==void 0?o.opacity:1,s=o.rotation!==void 0?o.rotation:0,c=o.scale!==void 0?o.scale:1,u=o.rotateWithView!==void 0?o.rotateWithView:!1;r=n.call(this,{opacity:i,rotation:s,scale:c,displacement:o.displacement!==void 0?o.displacement:[0,0],rotateWithView:u})||this,r.anchor_=o.anchor!==void 0?o.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=o.anchorOrigin!==void 0?o.anchorOrigin:Tr.TOP_LEFT,r.anchorXUnits_=o.anchorXUnits!==void 0?o.anchorXUnits:ro.FRACTION,r.anchorYUnits_=o.anchorYUnits!==void 0?o.anchorYUnits:ro.FRACTION,r.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null;var f=o.img!==void 0?o.img:null;r.imgSize_=o.imgSize;var d=o.src;jt(!(d!==void 0&&f),4),jt(!f||f&&r.imgSize_,5),(d===void 0||d.length===0)&&f&&(d=f.src||ne(f)),jt(d!==void 0&&d.length>0,6);var g=o.src!==void 0?he.IDLE:he.LOADED;return r.color_=o.color!==void 0?Zl(o.color):null,r.iconImage_=pP(f,d,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,g,r.color_),r.offset_=o.offset!==void 0?o.offset:[0,0],r.offsetOrigin_=o.offsetOrigin!==void 0?o.offsetOrigin:Tr.TOP_LEFT,r.origin_=null,r.size_=o.size!==void 0?o.size:null,r}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==ro.FRACTION||this.anchorYUnits_==ro.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==ro.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==ro.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=Tr.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Tr.TOP_RIGHT||this.anchorOrigin_==Tr.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==Tr.BOTTOM_LEFT||this.anchorOrigin_==Tr.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var o=this.getDisplacement();return[t[0]-o[0],t[1]+o[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Tr.TOP_LEFT){var r=this.getSize(),o=this.iconImage_.getSize();if(!r||!o)return null;t=t.slice(),(this.offsetOrigin_==Tr.TOP_RIGHT||this.offsetOrigin_==Tr.BOTTOM_RIGHT)&&(t[0]=o[0]-r[0]-t[0]),(this.offsetOrigin_==Tr.BOTTOM_LEFT||this.offsetOrigin_==Tr.BOTTOM_RIGHT)&&(t[1]=o[1]-r[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Dt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Dt.CHANGE,t)},e}(w0),bP=vP,nn=.5;function mP(n,e,t,r,o,i,s){var c=n[0]*nn,u=n[1]*nn,f=Mr(c,u);f.imageSmoothingEnabled=!1;for(var d=f.canvas,g=new sP(f,nn,o,null,s),p=t.length,b=Math.floor((256*256*256-1)/p),_={},w=1;w<=p;++w){var k=t[w-1],T=k.getStyleFunction()||r;if(!!r){var A=T(k,i);if(!!A){Array.isArray(A)||(A=[A]);for(var O=w*b,P="#"+("000000"+O.toString(16)).slice(-6),D=0,X=A.length;D<X;++D){var G=A[D],F=G.getGeometryFunction()(k);if(!(!F||!qe(o,F.getExtent()))){var K=G.clone(),et=K.getFill();et&&et.setColor(P);var at=K.getStroke();at&&(at.setColor(P),at.setLineDash(null)),K.setText(void 0);var ut=G.getImage();if(ut&&ut.getOpacity()!==0){var ft=ut.getImageSize();if(!ft)continue;var bt=Mr(ft[0],ft[1],void 0,{alpha:!1}),ot=bt.canvas;bt.fillStyle=P,bt.fillRect(0,0,ot.width,ot.height),K.setImage(new bP({img:ot,imgSize:ft,anchor:ut.getAnchor(),anchorXUnits:ro.PIXELS,anchorYUnits:ro.PIXELS,offset:ut.getOrigin(),opacity:1,size:ut.getSize(),scale:ut.getScale(),rotation:ut.getRotation(),rotateWithView:ut.getRotateWithView()}))}var ht=K.getZIndex()||0,tt=_[ht];tt||(tt={},_[ht]=tt,tt[lt.POLYGON]=[],tt[lt.CIRCLE]=[],tt[lt.LINE_STRING]=[],tt[lt.POINT]=[]),tt[F.getType().replace("Multi","")].push(F,K)}}}}}for(var ct=Object.keys(_).map(Number).sort(Jo),w=0,_t=ct.length;w<_t;++w){var tt=_[ct[w]];for(var Ot in tt)for(var St=tt[Ot],D=0,X=St.length;D<X;D+=2){g.setStyle(St[D+1]);for(var Z=0,Yt=e.length;Z<Yt;++Z)g.setTransform(e[Z]),g.drawGeometry(St[D])}}return f.getImageData(0,0,d.width,d.height)}function _P(n,e,t){var r=[];if(t){var o=Math.floor(Math.round(n[0])*nn),i=Math.floor(Math.round(n[1])*nn),s=(Ae(o,0,t.width-1)+Ae(i,0,t.height-1)*t.width)*4,c=t.data[s],u=t.data[s+1],f=t.data[s+2],d=f+256*(u+256*c),g=Math.floor((256*256*256-1)/e.length);d&&d%g===0&&r.push(e[d/g-1])}return r}var yP=.5,T0={Point:IP,LineString:TP,Polygon:SP,MultiPoint:OP,MultiLineString:RP,MultiPolygon:AP,GeometryCollection:CP,Circle:kP};function xP(n,e){return parseInt(ne(n),10)-parseInt(ne(e),10)}function wP(n,e){var t=Qf(n,e);return t*t}function Qf(n,e){return yP*n/e}function kP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.CIRCLE);c.setFillStrokeStyle(i,s),c.drawCircle(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function ib(n,e,t,r,o,i,s){var c=!1,u=t.getImage();if(u){var f=u.getImageState();f==he.LOADED||f==he.ERROR?u.unlistenImageChange(o):(f==he.IDLE&&u.load(),f=u.getImageState(),u.listenImageChange(o),c=!0)}return EP(n,e,t,r,i,s),c}function EP(n,e,t,r,o,i){var s=t.getGeometryFunction()(e);if(!!s){var c=s.simplifyTransformed(r,o),u=t.getRenderer();if(u)R0(n,c,t,e);else{var f=T0[c.getType()];f(n,c,t,e,i)}}}function R0(n,e,t,r){if(e.getType()==lt.GEOMETRY_COLLECTION){for(var o=e.getGeometries(),i=0,s=o.length;i<s;++i)R0(n,o[i],t,r);return}var c=n.getBuilder(t.getZIndex(),_e.DEFAULT);c.drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer())}function CP(n,e,t,r,o){var i=e.getGeometriesArray(),s,c;for(s=0,c=i.length;s<c;++s){var u=T0[i[s].getType()];u(n,i[s],t,r,o)}}function TP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function RP(n,e,t,r,o){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),_e.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,r)}var c=t.getText();if(c&&c.getText()){var u=(o||n).getBuilder(t.getZIndex(),_e.TEXT);u.setTextStyle(c),u.drawText(e,r)}}function AP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(s||i){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawMultiPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}function IP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawPoint(e,r)}if(s&&s.getText()){var f=n.getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function OP(n,e,t,r,o){var i=t.getImage(),s=t.getText(),c;if(o&&(n=o,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=he.LOADED)return;var u=n.getBuilder(t.getZIndex(),_e.IMAGE);u.setImageStyle(i,c),u.drawMultiPoint(e,r)}if(s&&s.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(s,c),f.drawText(e,r)}}function SP(n,e,t,r,o){var i=t.getFill(),s=t.getStroke();if(i||s){var c=n.getBuilder(t.getZIndex(),_e.POLYGON);c.setFillStrokeStyle(i,s),c.drawPolygon(e,r)}var u=t.getText();if(u&&u.getText()){var f=(o||n).getBuilder(t.getZIndex(),_e.TEXT);f.setTextStyle(u),f.drawText(e,r)}}var PP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LP=function(n){PP(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Pr(),r.wrappedRenderedExtent_=Pr(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return e.prototype.renderWorlds=function(t,r,o){var i=r.extent,s=r.viewState,c=s.center,u=s.resolution,f=s.projection,d=s.rotation,g=f.getExtent(),p=this.getLayer().getSource(),b=r.pixelRatio,_=r.viewHints,w=!(_[Ye.ANIMATING]||_[Ye.INTERACTING]),k=this.context,T=Math.round(r.size[0]*b),A=Math.round(r.size[1]*b),O=p.getWrapX()&&f.canWrapX(),P=O?xe(g):null,D=O?Math.ceil((i[2]-g[2])/P)+1:1,X=O?Math.floor((i[0]-g[0])/P):0;do{var G=this.getRenderTransform(c,u,d,b,T,A,X*P);t.execute(k,1,G,d,w,void 0,o)}while(++X<D)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,r){var o=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];$A(this.pixelTransform,1/o,1/o),Gh(this.inversePixelTransform,this.pixelTransform);var s=zm(this.pixelTransform);this.useContainer(r,s,i.opacity,this.getBackground(t));var c=this.context,u=c.canvas,f=this.replayGroup_,d=this.declutterExecutorGroup;if((!f||f.isEmpty())&&(!d||d.isEmpty()))return null;var g=Math.round(t.size[0]*o),p=Math.round(t.size[1]*o);u.width!=g||u.height!=p?(u.width=g,u.height=p,u.style.transform!==s&&(u.style.transform=s)):this.containerReused||c.clearRect(0,0,g,p),this.preRender(c,t);var b=t.viewState,_=b.projection,w=!1,k=!0;if(i.extent&&this.clipping){var T=Bo(i.extent,_);k=qe(T,t.extent),w=k&&!Mi(T,t.extent),w&&this.clipUnrotated(c,t,T)}k&&this.renderWorlds(f,t),w&&c.restore(),this.postRender(c,t);var A=s0(i.opacity),O=this.container;return A!==O.style.opacity&&(O.style.opacity=A),this.renderedRotation_!==b.rotation&&(this.renderedRotation_=b.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];Re(this.pixelTransform,o);var i=this.renderedCenter_,s=this.renderedResolution_,c=this.renderedRotation_,u=this.renderedProjection_,f=this.wrappedRenderedExtent_,d=this.getLayer(),g=[],p=o[0]*nn,b=o[1]*nn;g.push(this.getRenderTransform(i,s,c,nn,p,b,0).slice());var _=d.getSource(),w=u.getExtent();if(_.getWrapX()&&u.canWrapX()&&!Mi(w,f)){for(var k=f[0],T=xe(w),A=0,O=void 0;k<w[0];)--A,O=T*A,g.push(this.getRenderTransform(i,s,c,nn,p,b,O).slice()),k+=T;for(A=0,k=f[2];k>w[2];)++A,O=T*A,g.push(this.getRenderTransform(i,s,c,nn,p,b,O).slice()),k-=T}this.hitDetectionImageData_=mP(o,g,this.renderedFeatures_,d.getStyleFunction(),f,s,c)}r(_P(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,r,o,i,s){var c=this;if(!!this.replayGroup_){var u=r.viewState.resolution,f=r.viewState.rotation,d=this.getLayer(),g={},p=function(w,k,T){var A=ne(w),O=g[A];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return g[A]=!0,s.splice(s.lastIndexOf(O),1),i(w,d,k);O.geometry=k,O.distanceSq=T}}else{if(T===0)return g[A]=!0,i(w,d,k);s.push(g[A]={feature:w,layer:d,geometry:k,distanceSq:T,callback:i})}},b,_=[this.replayGroup_];return this.declutterExecutorGroup&&_.push(this.declutterExecutorGroup),_.some(function(w){return b=w.forEachFeatureAtCoordinate(t,u,f,o,p,w===c.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(k){return k.value}):null)}),b}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var r=this.getLayer(),o=r.getSource();if(!o)return!1;var i=t.viewHints[Ye.ANIMATING],s=t.viewHints[Ye.INTERACTING],c=r.getUpdateWhileAnimating(),u=r.getUpdateWhileInteracting();if(!this.dirty_&&!c&&i||!u&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=t.extent,d=t.viewState,g=d.projection,p=d.resolution,b=t.pixelRatio,_=r.getRevision(),w=r.getRenderBuffer(),k=r.getRenderOrder();k===void 0&&(k=xP);var T=d.center.slice(),A=Ih(f,w*p),O=A.slice(),P=[A.slice()],D=g.getExtent();if(o.getWrapX()&&g.canWrapX()&&!Mi(D,t.extent)){var X=xe(D),G=Math.max(xe(A)/2,X);A[0]=D[0]-G,A[2]=D[2]+G,Sm(T,g);var F=mA(P[0],g);F[0]<D[0]&&F[2]<D[2]?P.push([F[0]+X,F[1],F[2]+X,F[3]]):F[0]>D[0]&&F[2]>D[2]&&P.push([F[0]-X,F[1],F[2]-X,F[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==_&&this.renderedRenderOrder_==k&&Mi(this.wrappedRenderedExtent_,A))return ei(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var K=new eb(Qf(p,b),A,p,b),et;this.getLayer().getDeclutter()&&(et=new eb(Qf(p,b),A,p,b));var at=xc(),ut;if(at){for(var ft=0,bt=P.length;ft<bt;++ft){var ot=P[ft],ht=Yf(ot,g);o.loadFeatures(ht,OA(p,g),at)}ut=yc(at,g)}else for(var ft=0,bt=P.length;ft<bt;++ft)o.loadFeatures(P[ft],p,g);var tt=wP(p,b),ct=function(Yt){var kt,z=Yt.getStyleFunction()||r.getStyleFunction();if(z&&(kt=z(Yt,p)),kt){var rt=this.renderFeature(Yt,tt,kt,K,ut,et);this.dirty_=this.dirty_||rt}}.bind(this),_t=Yf(A,g),Ot=o.getFeaturesInExtent(_t);k&&Ot.sort(k);for(var ft=0,bt=Ot.length;ft<bt;++ft)ct(Ot[ft]);this.renderedFeatures_=Ot;var St=K.finish(),Z=new ob(A,p,b,o.getOverlaps(),St,r.getRenderBuffer());return et&&(this.declutterExecutorGroup=new ob(A,p,b,o.getOverlaps(),et.finish(),r.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=_,this.renderedRenderOrder_=k,this.renderedExtent_=O,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=g,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,r,o,i,s,c){if(!o)return!1;var u=!1;if(Array.isArray(o))for(var f=0,d=o.length;f<d;++f)u=ib(i,t,o[f],r,this.boundHandleStyleImageChange_,s,c)||u;else u=ib(i,t,o,r,this.boundHandleStyleImageChange_,s,c);return u},e}(C0),MP=LP,FP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DP=function(n){FP(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new MP(this)},e}(RS),th=DP,NP=function(){function n(e){this.rbush_=new x0(e),this.items_={}}return n.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[ne(t)]=r},n.prototype.load=function(e,t){for(var r=new Array(t.length),o=0,i=t.length;o<i;o++){var s=e[o],c=t[o],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:c};r[o]=u,this.items_[ne(c)]=u}this.rbush_.load(r)},n.prototype.remove=function(e){var t=ne(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(e,t){var r=this.items_[ne(t)],o=[r.minX,r.minY,r.maxX,r.maxY];Qa(o,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(o){return o.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var r,o=0,i=e.length;o<i;o++)if(r=t(e[o]),r)return r;return r},n.prototype.isEmpty=function(){return Ja(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return jr(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),ab=NP,zP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GP=function(n){zP(e,n);function e(t){var r=n.call(this)||this;r.projection=vr(t.projection),r.attributions_=sb(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:ti.READY,r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var o=r;return r.viewPromise_=new Promise(function(i,s){o.viewResolver=i,o.viewRejector=s}),r}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Kt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=sb(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(cn);function sb(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var A0=GP,Wr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function BP(n,e){return[[-1/0,-1/0,1/0,1/0]]}var WP=!1;function UP(n,e,t,r,o,i,s){var c=new XMLHttpRequest;c.open("GET",typeof n=="function"?n(t,r,o):n,!0),e.getType()==Ta.ARRAY_BUFFER&&(c.responseType="arraybuffer"),c.withCredentials=WP,c.onload=function(u){if(!c.status||c.status>=200&&c.status<300){var f=e.getType(),d=void 0;f==Ta.JSON||f==Ta.TEXT?d=c.responseText:f==Ta.XML?(d=c.responseXML,d||(d=new DOMParser().parseFromString(c.responseText,"application/xml"))):f==Ta.ARRAY_BUFFER&&(d=c.response),d?i(e.readFeatures(d,{extent:t,featureProjection:o}),e.readProjection(d)):s()}else s()},c.onerror=s,c.send()}function lb(n,e){return function(t,r,o,i,s){var c=this;UP(n,e,t,r,o,function(u,f){c.addFeatures(u),i!==void 0&&i(u)},s||Qo)}}var I0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zn=function(n){I0(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.feature=r,i.features=o,i}return e}(ln),YP=function(n){I0(e,n);function e(t){var r=this,o=t||{};r=n.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:ti.READY,wrapX:o.wrapX!==void 0?o.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=Qo,r.format_=o.format,r.overlaps_=o.overlaps===void 0?!0:o.overlaps,r.url_=o.url,o.loader!==void 0?r.loader_=o.loader:r.url_!==void 0&&(jt(r.format_,7),r.loader_=lb(r.url_,r.format_)),r.strategy_=o.strategy!==void 0?o.strategy:BP;var i=o.useSpatialIndex!==void 0?o.useSpatialIndex:!0;r.featuresRtree_=i?new ab:null,r.loadedExtentsRtree_=new ab,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,c;return Array.isArray(o.features)?c=o.features:o.features&&(s=o.features,c=s.getArray()),!i&&s===void 0&&(s=new Ir(c)),c!==void 0&&r.addFeaturesInternal(c),s!==void 0&&r.bindFeaturesCollection_(s),r}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var r=ne(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var o=t.getGeometry();if(o){var i=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Zn(Wr.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[te(r,Dt.CHANGE,this.handleFeatureChange_,this),te(r,Hi.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,r){var o=!0,i=r.getId();return i!==void 0&&(i.toString()in this.idIndex_?o=!1:this.idIndex_[i.toString()]=r),o&&(jt(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),o},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var r=[],o=[],i=[],s=0,c=t.length;s<c;s++){var u=t[s],f=ne(u);this.addToIndex_(f,u)&&o.push(u)}for(var s=0,d=o.length;s<d;s++){var u=o[s],f=ne(u);this.setupChangeEvents_(f,u);var g=u.getGeometry();if(g){var p=g.getExtent();r.push(p),i.push(u)}else this.nullGeometryFeatures_[f]=u}if(this.featuresRtree_&&this.featuresRtree_.load(r,i),this.hasListener(Wr.ADDFEATURE))for(var s=0,b=o.length;s<b;s++)this.dispatchEvent(new Zn(Wr.ADDFEATURE,o[s]))},e.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(Wr.ADDFEATURE,function(o){r||(r=!0,t.push(o.feature),r=!1)}),this.addEventListener(Wr.REMOVEFEATURE,function(o){r||(r=!0,t.remove(o.feature),r=!1)}),t.addEventListener(or.ADD,function(o){r||(r=!0,this.addFeature(o.element),r=!1)}.bind(this)),t.addEventListener(or.REMOVE,function(o){r||(r=!0,this.removeFeature(o.element),r=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var o=this.featureChangeKeys_[r];o.forEach(be)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(u){this.removeFeatureInternal(u)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var c=new Zn(Wr.CLEAR);this.dispatchEvent(c),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var o=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(o,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return r(i)})},e.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},e.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(o){var i=o.getGeometry();if(i.intersectsExtent(t)){var s=r(o);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ja(this.nullGeometryFeatures_)||In(t,Tm(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(o){r.push(o)}),r},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,r){var o=t[0],i=t[1],s=null,c=[NaN,NaN],u=1/0,f=[-1/0,-1/0,1/0,1/0],d=r||jo;return this.featuresRtree_.forEachInExtent(f,function(g){if(d(g)){var p=g.getGeometry(),b=u;if(u=p.closestPointXY(o,i,c,u),u<b){s=g;var _=Math.sqrt(u);f[0]=o-_,f[1]=i-_,f[2]=o+_,f[3]=i+_}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var r=t.target,o=ne(r),i=r.getGeometry();if(!i)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[o]=r);else{var s=i.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var c=r.getId();if(c!==void 0){var u=c.toString();this.idIndex_[u]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[u]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[o]=r;this.changed(),this.dispatchEvent(new Zn(Wr.CHANGEFEATURE,r))},e.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:ne(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ja(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,r,o){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,r,o),c=function(g,p){var b=s[g],_=i.forEachInExtent(b,function(w){return Mi(w.extent,b)});_||(++u.loadingExtentsCount_,u.dispatchEvent(new Zn(Wr.FEATURESLOADSTART)),u.loader_.call(u,b,r,o,function(w){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wr.FEATURESLOADEND,void 0,w))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wr.FEATURESLOADERROR))}.bind(u)),i.insert(b,{extent:b.slice()}))},u=this,f=0,d=s.length;f<d;++f)c(f);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,o;r.forEachInExtent(t,function(i){if(Qa(i.extent,t))return o=i,!0}),o&&r.remove(o)},e.prototype.removeFeature=function(t){if(!!t){var r=ne(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var o=this.removeFeatureInternal(t);o&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var r=ne(t),o=this.featureChangeKeys_[r];if(!!o){o.forEach(be),delete this.featureChangeKeys_[r];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Zn(Wr.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var r=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===t){delete this.idIndex_[o],r=!0;break}return r},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){jt(this.format_,7),this.url_=t,this.setLoader(lb(t,this.format_))},e}(A0),eh=YP,O0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jt={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Il={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Ol=function(n){O0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.feature=r,o}return e}(ln),XP=function(n){O0(e,n);function e(t){var r=this,o=t;o.stopDown||(o.stopDown=gs),r=n.call(this,o)||this,r.on,r.once,r.un,r.shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.pointerType_,r.freehand_=!1,r.source_=t.source?t.source:null,r.features_=t.features?t.features:null,r.snapTolerance_=t.snapTolerance?t.snapTolerance:12,r.type_=t.type,r.mode_=KP(r.type_),r.stopClick_=!!t.stopClick,r.minPoints_=t.minPoints?t.minPoints:r.mode_===Jt.POLYGON?3:2,r.maxPoints_=r.mode_===Jt.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,r.finishCondition_=t.finishCondition?t.finishCondition:jo;var i=t.geometryFunction;if(!i){var s=r.mode_;if(s===Jt.CIRCLE)i=function(u,f,d){var g=f||new Um([NaN,NaN]),p=Rr(u[0],d),b=xA(p,Rr(u[u.length-1],d));g.setCenterAndRadius(p,Math.sqrt(b));var _=xc();return _&&g.transform(d,_),g};else{var c;s===Jt.POINT?c=qo:s===Jt.LINE_STRING?c=$o:s===Jt.POLYGON&&(c=rs),i=function(u,f,d){return f?s===Jt.POLYGON?u[0].length?f.setCoordinates([u[0].concat([u[0][0]])]):f.setCoordinates([]):f.setCoordinates(u):f=new c(u),f}}}return r.geometryFunction_=i,r.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,r.overlay_=new th({source:new eh({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:VP(),updateWhileInteracting:!0}),r.geometryName_=t.geometryName,r.condition_=t.condition?t.condition:nd,r.freehandCondition_,t.freehand?r.freehandCondition_=g0:r.freehandCondition_=t.freehandCondition?t.freehandCondition:b0,r.addChangeListener(qf.ACTIVE,r.updateState_),r}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===Dt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Jt.POINT&&this.freehandCondition_(t);var r=t.type===Qt.POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===Qt.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===Qt.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),o=!1):this.freehand_&&t.type===Qt.POINTERDOWN?o=!1:r&&this.getPointerCount()<2?(o=t.type===Qt.POINTERMOVE,o&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===Qt.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===Qt.DBLCLICK&&(o=!1),n.prototype.handleEvent.call(this,t)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new En(Qt.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var r=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(t.coordinate),!o&&this.freehand_?this.finishDrawing():!this.freehand_&&(!o||this.mode_===Jt.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),r=!1}else this.freehand_&&this.abortDrawing();return!r&&this.stopClick_&&t.preventDefault(),r},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var r=this.downPx_,o=t.pixel,i=r[0]-o[0],s=r[1]-o[1],c=i*i+s*s;if(this.shouldHandle_=this.freehand_?c>this.squaredClickTolerance_:c<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var r=!1;if(this.sketchFeature_){var o=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===Jt.POINT)r=!0;else if(s===Jt.CIRCLE)r=this.sketchCoords_.length===2;else if(s===Jt.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(s===Jt.POLYGON){var c=this.sketchCoords_;o=c[0].length>this.minPoints_,i=[c[0][0],c[0][c[0].length-2]]}if(o)for(var u=this.getMap(),f=0,d=i.length;f<d;f++){var g=i[f],p=u.getPixelFromCoordinate(g),b=t[0]-p[0],_=t[1]-p[1],w=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(b*b+_*_)<=w,r){this.finishCoordinate_=g;break}}}return r},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new zo(new qo(t)),this.updateSketchFeatures_();else{var r=this.sketchPoint_.getGeometry();r.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new zo);var r=t.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(r.getLayout(),r.getFlatCoordinates()),o.changed()):(o=new $o(r.getFlatCoordinates(),r.getLayout()),this.sketchLine_.setGeometry(o))},e.prototype.startDrawing_=function(t){var r=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Jt.POINT?this.sketchCoords_=t.slice():this.mode_===Jt.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new zo(new $o(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new zo,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new Ol(Il.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var r=this.getMap(),o=this.sketchFeature_.getGeometry(),i=r.getView().getProjection(),s,c;if(this.mode_===Jt.POINT?c=this.sketchCoords_:this.mode_===Jt.POLYGON?(s=this.sketchCoords_[0],c=s[s.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,c=s[s.length-1]),c[0]=t[0],c[1]=t[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_){var u=this.sketchPoint_.getGeometry();u.setCoordinates(t)}if(o.getType()===lt.POLYGON&&this.mode_!==Jt.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var f=this.sketchLine_.getGeometry();f.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i,s,c=this.mode_;c===Jt.LINE_STRING||c===Jt.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,r,o)):c===Jt.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,r,o)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o,i=this.mode_;if(i===Jt.LINE_STRING||i===Jt.CIRCLE){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();var s=this.finishCoordinate_.slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(o,t,r),t.getType()===lt.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===Jt.POLYGON){o=this.sketchCoords_[0],o.splice(-2,1);var c=this.sketchLine_.getGeometry();if(o.length>=2){var s=o[o.length-2].slice();o[o.length-1]=s,this.createOrUpdateSketchPoint_(s)}c.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,r)}o.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var r=this.sketchCoords_,o=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===Jt.LINE_STRING?(r.pop(),this.geometryFunction_(r,o,i)):this.mode_===Jt.POLYGON&&(r[0].pop(),this.geometryFunction_(r,o,i),r=o.getCoordinates()),this.type_===lt.MULTI_POINT?t.setGeometry(new $m([r])):this.type_===lt.MULTI_LINE_STRING?t.setGeometry(new T2([r])):this.type_===lt.MULTI_POLYGON&&t.setGeometry(new z2([r])),this.dispatchEvent(new Ol(Il.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Ol(Il.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var r=this.mode_,o=!this.sketchFeature_;o&&this.startDrawing_(t[0]);var i;if(r===Jt.LINE_STRING||r===Jt.CIRCLE)i=this.sketchCoords_;else if(r===Jt.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;o&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var c=t[t.length-1];this.addToDrawing_(c),this.modifyDrawing_(c)},e.prototype.extend=function(t){var r=t.getGeometry(),o=r;this.sketchFeature_=t,this.sketchCoords_=o.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new zo(new qo(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Ol(Il.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var r=this.overlay_.getSource();r.clear(!0),r.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),r=this.getActive();(!t||!r)&&this.abortDrawing(),this.overlay_.setMap(r?t:null)},e}(ra);function VP(){var n=kS();return function(e,t){return n[e.getGeometry().getType()]}}function HP(){return function(n,e,t){var r=Nf([n[0],n[n.length-1]].map(function(c){return Rr(c,t)})),o=[[Xi(r),ds(r),ps(r),po(r),Xi(r)]],i=e;i?i.setCoordinates(o):i=new rs(o);var s=xc();return s&&i.transform(t,s),i}}function KP(n){switch(n){case lt.POINT:case lt.MULTI_POINT:return Jt.POINT;case lt.LINE_STRING:case lt.MULTI_LINE_STRING:return Jt.LINE_STRING;case lt.POLYGON:case lt.MULTI_POLYGON:return Jt.POLYGON;case lt.CIRCLE:return Jt.CIRCLE;default:throw new Error("Invalid type: "+n)}}var jP=XP;function ZP(n){var e=n||{},t=new Ir,r=new KO(-.005,.05,100),o=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;o&&t.push(new SO);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new _O({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new AO({onFocusOnly:e.onFocusOnly,kinetic:r}));var c=e.pinchRotate!==void 0?e.pinchRotate:!0;c&&t.push(new QO);var u=e.pinchZoom!==void 0?e.pinchZoom:!0;u&&t.push(new rS({duration:e.zoomDuration}));var f=e.keyboard!==void 0?e.keyboard:!0;f&&(t.push(new UO),t.push(new VO({delta:e.zoomDelta,duration:e.zoomDuration})));var d=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;d&&t.push(new $O({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var g=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return g&&t.push(new GO({duration:e.zoomDuration})),t}var $P=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qP=function(n){$P(e,n);function e(t){return t=Le({},t),t.controls||(t.controls=dO()),t.interactions||(t.interactions=ZP({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new FI(this)},e}(eO),JP=qP,QP=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var r=this.entries_[e];return jt(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(e){var t=this.entries_[e];return jt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){jt(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),tL=QP,eL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rL=function(n){eL(e,n);function e(t,r,o){var i=n.call(this)||this,s=o||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(Dt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Rt.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==Rt.LOADED){t.interimTile=null;break}else t.getState()==Rt.LOADING?r=t:t.getState()==Rt.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Rt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Kt()},e.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var o=this.transitionStarts_[t];if(!o)o=r,this.transitionStarts_[t]=o;else if(o===-1)return 1;var i=r-o+1e3/60;return i>=this.transition_?1:e0(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ta),S0=rL,nL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oL=function(n){nL(e,n);function e(t,r,o,i,s,c){var u=n.call(this,t,r,c)||this;return u.crossOrigin_=i,u.src_=o,u.key=o,u.image_=new Image,i!==null&&(u.image_.crossOrigin=i),u.unlisten_=null,u.tileLoadFunction_=s,u}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=Rt.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=Rt.ERROR,this.unlistenImage_(),this.image_=iL(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Rt.LOADED:this.state=Rt.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Rt.ERROR&&(this.state=Rt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Rt.IDLE&&(this.state=Rt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=od(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(S0);function iL(){var n=Mr(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var P0=oL,aL=.5,xn=!0,sL=10,cb=.25,lL=function(){function n(e,t,r,o,i,s){this.sourceProj_=e,this.targetProj_=t;var c={},u=ts(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){var P=O[0]+"/"+O[1];return c[P]||(c[P]=u(O)),c[P]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&xe(o)==xe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xe(this.targetProj_.getExtent()):null;var f=po(r),d=ps(r),g=ds(r),p=Xi(r),b=this.transformInv_(f),_=this.transformInv_(d),w=this.transformInv_(g),k=this.transformInv_(p),T=sL+(s?Math.max(0,Math.ceil(HR(Gf(r)/(s*s*256*256)))):0);if(this.addQuad_(f,d,g,p,b,_,w,k,T),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(O,P,D){A=Math.min(A,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(function(O){if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-A>this.sourceWorldWidth_/2){var P=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];P[0][0]-A>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-A>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-A>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);var D=Math.min(P[0][0],P[1][0],P[2][0]),X=Math.max(P[0][0],P[1][0],P[2][0]);X-D<this.sourceWorldWidth_/2&&(O.source=P)}}.bind(this))}c={}}return n.prototype.addTriangle_=function(e,t,r,o,i,s){this.triangles_.push({source:[o,i,s],target:[e,t,r]})},n.prototype.addQuad_=function(e,t,r,o,i,s,c,u,f){var d=Nf([i,s,c,u]),g=this.sourceWorldWidth_?xe(d)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,b=this.sourceProj_.canWrapX()&&g>.5&&g<1,_=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var w=Nf([e,t,r,o]),k=xe(w)/this.targetWorldWidth_;_=k>cb||_}!b&&this.sourceProj_.isGlobal()&&g&&(_=g>cb||_)}if(!(!_&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!qe(d,this.maxSourceExtent_))){var T=0;if(!_&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(u[0])||!isFinite(u[1]))){if(f>0)_=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(f>0){if(!_){var A=[(e[0]+r[0])/2,(e[1]+r[1])/2],O=this.transformInv_(A),P=void 0;if(b){var D=(Ni(i[0],p)+Ni(c[0],p))/2;P=D-Ni(O[0],p)}else P=(i[0]+c[0])/2-O[0];var X=(i[1]+c[1])/2-O[1],G=P*P+X*X;_=G>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var F=[(t[0]+r[0])/2,(t[1]+r[1])/2],K=this.transformInv_(F),et=[(o[0]+e[0])/2,(o[1]+e[1])/2],at=this.transformInv_(et);this.addQuad_(e,t,F,et,i,s,K,at,f-1),this.addQuad_(et,F,r,o,at,K,c,u,f-1)}else{var ut=[(e[0]+t[0])/2,(e[1]+t[1])/2],ft=this.transformInv_(ut),bt=[(r[0]+o[0])/2,(r[1]+o[1])/2],ot=this.transformInv_(bt);this.addQuad_(e,ut,bt,o,i,ft,ot,u,f-1),this.addQuad_(ut,t,r,bt,ft,s,c,ot,f-1)}return}}if(b){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,r,o,i,c,u),(T&14)==0&&this.addTriangle_(e,r,t,i,c,s),T&&((T&13)==0&&this.addTriangle_(t,o,e,s,u,i),(T&7)==0&&this.addTriangle_(t,o,r,s,u,c))}},n.prototype.calculateSourceExtent=function(){var e=Pr();return this.triangles_.forEach(function(t,r,o){var i=t.source;Ua(e,i[0]),Ua(e,i[1]),Ua(e,i[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),cL=lL,rh={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},uL={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},uf;function ub(n,e,t,r,o){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,o),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,o)),n.restore()}function ff(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function fL(){if(uf===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",ub(n,4,5,4,0),ub(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;uf=ff(e,0)||ff(e,4)||ff(e,8)}return uf}function fb(n,e,t,r){var o=Dh(t,e,n),i=Av(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var c=n.getMetersPerUnit();c!==void 0&&(i/=c);var u=n.getExtent();if(!u||hs(u,o)){var f=Av(n,i,o)/i;isFinite(f)&&f>0&&(i/=f)}return i}function hL(n,e,t,r){var o=Vi(t),i=fb(n,e,o,r);return(!isFinite(i)||i<=0)&&Sh(t,function(s){return i=fb(n,e,s,r),isFinite(i)&&i>0}),i}function dL(n,e,t,r,o,i,s,c,u,f,d,g){var p=Mr(Math.round(t*n),Math.round(t*e));if(g||Le(p,rh),u.length===0)return p.canvas;p.scale(t,t);function b(P){return Math.round(P*t)/t}p.globalCompositeOperation="lighter";var _=Pr();u.forEach(function(P,D,X){hA(_,P.extent)});var w=xe(_),k=Zr(_),T=Mr(Math.round(t*w/r),Math.round(t*k/r));g||Le(T,rh);var A=t/r;u.forEach(function(P,D,X){var G=P.extent[0]-_[0],F=-(P.extent[3]-_[3]),K=xe(P.extent),et=Zr(P.extent);P.image.width>0&&P.image.height>0&&T.drawImage(P.image,f,f,P.image.width-2*f,P.image.height-2*f,G*A,F*A,K*A,et*A)});var O=po(s);return c.getTriangles().forEach(function(P,D,X){var G=P.source,F=P.target,K=G[0][0],et=G[0][1],at=G[1][0],ut=G[1][1],ft=G[2][0],bt=G[2][1],ot=b((F[0][0]-O[0])/i),ht=b(-(F[0][1]-O[1])/i),tt=b((F[1][0]-O[0])/i),ct=b(-(F[1][1]-O[1])/i),_t=b((F[2][0]-O[0])/i),Ot=b(-(F[2][1]-O[1])/i),St=K,Z=et;K=0,et=0,at-=St,ut-=Z,ft-=St,bt-=Z;var Yt=[[at,ut,0,0,tt-ot],[ft,bt,0,0,_t-ot],[0,0,at,ut,ct-ht],[0,0,ft,bt,Ot-ht]],kt=jR(Yt);if(!!kt){if(p.save(),p.beginPath(),fL()||!g){p.moveTo(tt,ct);for(var z=4,rt=ot-tt,J=ht-ct,it=0;it<z;it++)p.lineTo(tt+b((it+1)*rt/z),ct+b(it*J/(z-1))),it!=z-1&&p.lineTo(tt+b((it+1)*rt/z),ct+b((it+1)*J/(z-1)));p.lineTo(_t,Ot)}else p.moveTo(tt,ct),p.lineTo(ot,ht),p.lineTo(_t,Ot);p.clip(),p.transform(kt[0],kt[2],kt[1],kt[3],ot,ht),p.translate(_[0]-St,_[3]-Z),p.scale(r/t,-r/t),p.drawImage(T.canvas,0,0),p.restore()}}),d&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,c.getTriangles().forEach(function(P,D,X){var G=P.target,F=(G[0][0]-O[0])/i,K=-(G[0][1]-O[1])/i,et=(G[1][0]-O[0])/i,at=-(G[1][1]-O[1])/i,ut=(G[2][0]-O[0])/i,ft=-(G[2][1]-O[1])/i;p.beginPath(),p.moveTo(et,at),p.lineTo(F,K),p.lineTo(ut,ft),p.closePath(),p.stroke()}),p.restore()),p.canvas}var pL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gL=function(n){pL(e,n);function e(t,r,o,i,s,c,u,f,d,g,p,b){var _=n.call(this,s,Rt.IDLE,{interpolate:!!b})||this;_.renderEdges_=p!==void 0?p:!1,_.pixelRatio_=u,_.gutter_=f,_.canvas_=null,_.sourceTileGrid_=r,_.targetTileGrid_=i,_.wrappedTileCoord_=c||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var w=i.getTileCoordExtent(_.wrappedTileCoord_),k=_.targetTileGrid_.getExtent(),T=_.sourceTileGrid_.getExtent(),A=k?Ya(w,k):w;if(Gf(A)===0)return _.state=Rt.EMPTY,_;var O=t.getExtent();O&&(T?T=Ya(T,O):T=O);var P=i.getResolution(_.wrappedTileCoord_[0]),D=hL(t,o,A,P);if(!isFinite(D)||D<=0)return _.state=Rt.EMPTY,_;var X=g!==void 0?g:aL;if(_.triangulation_=new cL(t,o,A,T,D*X,P),_.triangulation_.getTriangles().length===0)return _.state=Rt.EMPTY,_;_.sourceZ_=r.getZForResolution(D);var G=_.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(G[1]=Ae(G[1],T[1],T[3]),G[3]=Ae(G[3],T[1],T[3])):G=Ya(G,T)),!Gf(G))_.state=Rt.EMPTY;else{for(var F=r.getTileRangeForExtentAndZ(G,_.sourceZ_),K=F.minX;K<=F.maxX;K++)for(var et=F.minY;et<=F.maxY;et++){var at=d(_.sourceZ_,K,et,u);at&&_.sourceTiles_.push(at)}_.sourceTiles_.length===0&&(_.state=Rt.EMPTY)}return _}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(d,g,p){d&&d.getState()==Rt.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Rt.ERROR;else{var r=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(r),i=typeof o=="number"?o:o[0],s=typeof o=="number"?o:o[1],c=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=dL(i,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Rt.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Rt.IDLE){this.state=Rt.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();if(s==Rt.IDLE||s==Rt.LOADING){t++;var c=te(r,Dt.CHANGE,function(u){var f=r.getState();(f==Rt.LOADED||f==Rt.ERROR||f==Rt.EMPTY)&&(be(c),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,o,i){var s=r.getState();s==Rt.IDLE&&r.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(be),this.sourcesListenerKeys_=null},e}(S0),L0=gL;function hb(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function Oc(n,e,t){return n+"/"+e+"/"+t}function M0(n){return Oc(n[0],n[1],n[2])}function vL(n){return n.split("/").map(Number)}function bL(n){return(n[1]<<n[0])+n[2]}function mL(n,e){var t=n[0],r=n[1],o=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(r,o):!0}var _L=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yL=function(n){_L(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=vL(t),o=r[0];this.forEach(function(i){i.tileCoord[0]!==o&&(this.remove(M0(i.tileCoord)),i.release())}.bind(this))}},e}(tL),F0=yL,hf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},D0=function(){function n(e,t,r,o){this.minX=e,this.maxX=t,this.minY=r,this.maxY=o}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function Ei(n,e,t,r,o){return o!==void 0?(o.minX=n,o.maxX=e,o.minY=t,o.maxY=r,o):new D0(n,e,t,r)}var N0=D0,xL=[0,0,0],$n=5,wL=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,jt(DA(this.resolutions_,function(s,c){return c-s},!0),17);var t;if(!e.origins){for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,jt(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=po(i)),jt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,jt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Zh,jt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,c){var u=new N0(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var f=this.getTileRangeForExtentAndZ(i,c);u.minX=Math.max(f.minX,u.minX),u.maxX=Math.min(f.maxX,u.maxX),u.minY=Math.max(f.minY,u.minY),u.maxY=Math.min(f.maxY,u.maxY)}return u},this):i&&this.calculateTileRanges_(i)}return n.prototype.forEachTileCoord=function(e,t,r){for(var o=this.getTileRangeForExtentAndZ(e,t),i=o.minX,s=o.maxX;i<=s;++i)for(var c=o.minY,u=o.maxY;c<=u;++c)r([t,i,c])},n.prototype.forEachTileCoordParentTileRange=function(e,t,r,o){var i,s,c,u=null,f=e[0]-1;for(this.zoomFactor_===2?(s=e[1],c=e[2]):u=this.getTileCoordExtent(e,o);f>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),c=Math.floor(c/2),i=Ei(s,s,c,c,r)):i=this.getTileRangeForExtentAndZ(u,f,r),t(f,i))return!0;--f}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var o=e[1]*2,i=e[2]*2;return Ei(o,o+1,i,i+1,t)}var s=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var o=e[0],i=e[1],s=e[2];if(t===o)return Ei(i,s,i,s,r);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,t-o),u=Math.floor(i*c),f=Math.floor(s*c);if(t<o)return Ei(u,u,f,f,r);var d=Math.floor(c*(i+1))-1,g=Math.floor(c*(s+1))-1;return Ei(u,d,f,g,r)}var p=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,t,r)},n.prototype.getTileRangeExtent=function(e,t,r){var o=this.getOrigin(e),i=this.getResolution(e),s=Xr(this.getTileSize(e),this.tmpSize_),c=o[0]+t.minX*s[0]*i,u=o[0]+(t.maxX+1)*s[0]*i,f=o[1]+t.minY*s[1]*i,d=o[1]+(t.maxY+1)*s[1]*i;return jr(c,f,u,d,r)},n.prototype.getTileRangeForExtentAndZ=function(e,t,r){var o=xL;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,o);var i=o[1],s=o[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,o),Ei(i,o[1],s,o[2],r)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Xr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*r,t[1]-(e[2]+.5)*o[1]*r]},n.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),o=this.getResolution(e[0]),i=Xr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*i[0]*o,c=r[1]-(e[2]+1)*i[1]*o,u=s+i[0]*o,f=c+i[1]*o;return jr(s,c,u,f,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,r,o,i){var s=this.getZForResolution(r),c=r/this.getResolution(s),u=this.getOrigin(s),f=Xr(this.getTileSize(s),this.tmpSize_),d=c*(e-u[0])/r/f[0],g=c*(u[1]-t)/r/f[1];return o?(d=yl(d,$n)-1,g=yl(g,$n)-1):(d=_l(d,$n),g=_l(g,$n)),hb(s,d,g,i)},n.prototype.getTileCoordForXYAndZ_=function(e,t,r,o,i){var s=this.getOrigin(r),c=this.getResolution(r),u=Xr(this.getTileSize(r),this.tmpSize_),f=(e-s[0])/c/u[0],d=(s[1]-t)/c/u[1];return o?(f=yl(f,$n)-1,d=yl(d,$n)-1):(f=_l(f,$n),d=_l(d,$n)),hb(r,f,d,i)},n.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var r=zh(this.resolutions_,e,t||0);return Ae(r,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),o=this.minZoom;o<t;++o)r[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=r},n}(),z0=wL;function G0(n){var e=n.getDefaultTileGrid();return e||(e=TL(n),n.setDefaultTileGrid(e)),e}function kL(n,e,t){var r=e[0],o=n.getTileCoordCenter(e),i=id(t);if(hs(i,o))return e;var s=xe(i),c=Math.ceil((i[0]-o[0])/s);return o[0]+=s*c,n.getTileCoordForCoordAndZ(o,r)}function EL(n,e,t,r){var o=r!==void 0?r:Sa.TOP_LEFT,i=B0(n,e,t);return new z0({extent:n,origin:pA(n,o),resolutions:i,tileSize:t})}function CL(n){var e=n||{},t=e.extent||vr("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:B0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new z0(r)}function B0(n,e,t,r){for(var o=e!==void 0?e:j2,i=Zr(n),s=xe(n),c=Xr(t!==void 0?t:Zh),u=r>0?r:Math.max(s/c[0],i/c[1]),f=o+1,d=new Array(f),g=0;g<f;++g)d[g]=u/Math.pow(2,g);return d}function TL(n,e,t,r){var o=id(n);return EL(o,e,t,r)}function id(n){n=vr(n);var e=n.getExtent();if(!e){var t=180*Sr[pr.DEGREES]/n.getMetersPerUnit();e=jr(-t,-t,t,t)}return e}var W0=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RL=function(n){W0(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var o=[256,256];return r.tileGrid&&Xr(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),o),r.tileCache=new F0(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,r){var o=this.getTileCacheForProjection(t);o&&o.expireCache(r)},e.prototype.forEachLoadedTile=function(t,r,o,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var c=!0,u,f,d,g=o.minX;g<=o.maxX;++g)for(var p=o.minY;p<=o.maxY;++p)f=Oc(r,g,p),d=!1,s.containsKey(f)&&(u=s.get(f),d=u.getState()===Rt.LOADED,d&&(d=i(u)!==!1)),d||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,r,o,i,s){return Kt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:G0(t)},e.prototype.getTileCacheForProjection=function(t){return jt(Ii(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,r,o){var i=this.getTileGridForProjection(o),s=this.getTilePixelRatio(r),c=Xr(i.getTileSize(t),this.tmpSize);return s==1?c:qI(c,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,r){var o=r!==void 0?r:this.getProjection(),i=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(t=kL(i,t,o)),mL(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,r){var o=this.getTileCacheForProjection(r);t>o.highWaterMark&&(o.highWaterMark=t)},e.prototype.useTile=function(t,r,o,i){},e}(A0),AL=function(n){W0(e,n);function e(t,r){var o=n.call(this,t)||this;return o.tile=r,o}return e}(ln),IL=RL;function OL(n,e){var t=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(s,c,u){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(o,s[2].toString()).replace(i,function(){var f=s[0],d=e.getFullTileRange(f);jt(d,55);var g=d.getHeight()-s[2]-1;return g.toString()})}}function SL(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;++o)r[o]=OL(n[o],e);return PL(r)}function PL(n){return n.length===1?n[0]:function(e,t,r){if(e){var o=bL(e),i=Ni(o,n.length);return n[i](e,t,r)}else return}}function LL(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),o=t[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(n.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),c=parseInt(t[1],10);c<=s;c++)e.push(n.replace(t[0],c.toString()));return e}return e.push(n),e}var ML=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FL=function(n){ML(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var r=t.target,o=ne(r),i=r.getState(),s;i==Rt.LOADING?(this.tileLoadingKeys_[o]=!0,s=hf.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],s=i==Rt.ERROR?hf.TILELOADERROR:i==Rt.LOADED?hf.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new AL(s,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r!="undefined"?this.setKey(r):this.changed()},e.prototype.setUrl=function(t){var r=LL(t);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(SL(t,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(t,r,o){},e.prototype.useTile=function(t,r,o){var i=Oc(t,r,o);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(IL),DL=FL,NL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zL=function(n){NL(e,n);function e(t){var r=this,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(o=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:GL,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:o,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:P0,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return e.prototype.canExpireCache=function(){if(!xn)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,r){if(!xn){n.prototype.expireCache.call(this,t,r);return}var o=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==o?r:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==o?r:{})}},e.prototype.getGutterForProjection=function(t){return xn&&this.getProjection()&&t&&!Ii(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return xn&&this.getProjection()&&t&&!Ii(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!xn)return n.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(this.tileGrid&&(!r||Ii(r,t)))return this.tileGrid;var o=ne(t);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=G0(t)),this.tileGridForProjection[o]},e.prototype.getTileCacheForProjection=function(t){if(!xn)return n.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||Ii(r,t))return this.tileCache;var o=ne(t);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new F0(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,r,o,i,s,c){var u=[t,r,o],f=this.getTileCoordForTileUrlFunction(u,s),d=f?this.tileUrlFunction(f,i,s):void 0,g=new this.tileClass(u,d!==void 0?Rt.IDLE:Rt.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return g.key=c,g.addEventListener(Dt.CHANGE,this.handleTileChange.bind(this)),g},e.prototype.getTile=function(t,r,o,i,s){var c=this.getProjection();if(!xn||!c||!s||Ii(c,s))return this.getTileInternal(t,r,o,i,c||s);var u=this.getTileCacheForProjection(s),f=[t,r,o],d=void 0,g=M0(f);u.containsKey(g)&&(d=u.get(g));var p=this.getKey();if(d&&d.key==p)return d;var b=this.getTileGridForProjection(c),_=this.getTileGridForProjection(s),w=this.getTileCoordForTileUrlFunction(f,s),k=new L0(c,b,s,_,f,w,this.getTilePixelRatio(i),this.getGutter(),function(T,A,O,P){return this.getTileInternal(T,A,O,P,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=p,d?(k.interimTile=d,k.refreshInterimChain(),u.replace(g,k)):u.set(g,k),k},e.prototype.getTileInternal=function(t,r,o,i,s){var c=null,u=Oc(t,r,o),f=this.getKey();if(!this.tileCache.containsKey(u))c=this.createTile_(t,r,o,i,s,f),this.tileCache.set(u,c);else if(c=this.tileCache.get(u),c.key!=f){var d=c;c=this.createTile_(t,r,o,i,s,f),d.getState()==Rt.IDLE?c.interimTile=d.interimTile:c.interimTile=d,c.refreshInterimChain(),this.tileCache.replace(u,c)}return c},e.prototype.setRenderReprojectionEdges=function(t){if(!(!xn||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,r){if(xn){var o=vr(t);if(o){var i=ne(o);i in this.tileGridForProjection||(this.tileGridForProjection[i]=r)}}},e}(DL);function GL(n,e){n.getImage().src=e}var BL=zL,WL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UL=function(n){WL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i=r.projection!==void 0?r.projection:"EPSG:3857",s=r.tileGrid!==void 0?r.tileGrid:CL({extent:id(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX!==void 0?r.wrapX:!0,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return e}(BL),YL=UL,XL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VL='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',HL=function(n){XL(e,n);function e(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var i;r.attributions!==void 0?i=r.attributions:i=[VL];var s=r.crossOrigin!==void 0?r.crossOrigin:"anonymous",c=r.url!==void 0?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:s,interpolate:o,maxZoom:r.maxZoom!==void 0?r.maxZoom:19,opaque:r.opaque!==void 0?r.opaque:!0,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:c,wrapX:r.wrapX,zDirection:r.zDirection})||this}return e}(YL),KL=HL,Sl={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},jL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZL=function(n){jL(e,n);function e(t){var r=this,o=t||{},i=Le({},o);return delete i.preload,delete i.useInterimTilesOnError,r=n.call(this,i)||this,r.on,r.once,r.un,r.setPreload(o.preload!==void 0?o.preload:0),r.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),r}return e.prototype.getPreload=function(){return this.get(Sl.PRELOAD)},e.prototype.setPreload=function(t){this.set(Sl.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Sl.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Sl.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Rc),$L=ZL,qL=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JL=function(n){qL(e,n);function e(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Pr(),r.tmpTileRange_=new N0(0,0,0,0),r}return e.prototype.isDrawableTile=function(t){var r=this.getLayer(),o=t.getState(),i=r.getUseInterimTilesOnError();return o==Rt.LOADED||o==Rt.EMPTY||o==Rt.ERROR&&!i},e.prototype.getTile=function(t,r,o,i){var s=i.pixelRatio,c=i.viewState.projection,u=this.getLayer(),f=u.getSource(),d=f.getTile(t,r,o,s,c);return d.getState()==Rt.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):d.setState(Rt.LOADED)),this.isDrawableTile(d)||(d=d.getInterimTile()),d},e.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var o=this.getLayer(),i=Re(r.pixelToCoordinateTransform,t.slice()),s=o.getExtent();if(s&&!hs(s,i))return null;for(var c=r.pixelRatio,u=r.viewState.projection,f=r.viewState,d=o.getRenderSource(),g=d.getTileGridForProjection(f.projection),p=d.getTilePixelRatio(r.pixelRatio),b=g.getZForResolution(f.resolution);b>=g.getMinZoom();--b){var _=g.getTileCoordForCoordAndZ(i,b),w=d.getTile(b,_[1],_[2],c,u);if(!(w instanceof P0||w instanceof L0))return null;if(w.getState()===Rt.LOADED){var k=g.getOrigin(b),T=Xr(g.getTileSize(b)),A=g.getResolution(b),O=Math.floor(p*((i[0]-k[0])/A-_[1]*T[0])),P=Math.floor(p*((k[1]-i[1])/A-_[2]*T[1]));return this.getImageData(w.getImage(),O,P)}}return null},e.prototype.loadedTileCallback=function(t,r,o){return this.isDrawableTile(o)?n.prototype.loadedTileCallback.call(this,t,r,o):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,r){var o=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,c=i.resolution,u=i.center,f=i.rotation,d=t.pixelRatio,g=this.getLayer(),p=g.getSource(),b=p.getRevision(),_=p.getTileGridForProjection(s),w=_.getZForResolution(c,p.zDirection),k=_.getResolution(w),T=t.extent,A=o.extent&&Bo(o.extent,s);A&&(T=Ya(T,Bo(o.extent,s)));var O=p.getTilePixelRatio(d),P=Math.round(t.size[0]*O),D=Math.round(t.size[1]*O);if(f){var X=Math.round(Math.sqrt(P*P+D*D));P=X,D=X}var G=k*P/2/O,F=k*D/2/O,K=[u[0]-G,u[1]-F,u[0]+G,u[1]+F],et=_.getTileRangeForExtentAndZ(T,w),at={};at[w]={};var ut=this.createLoadedTileFinder(p,s,at),ft=this.tmpExtent,bt=this.tmpTileRange_;this.newTiles_=!1;for(var ot=et.minX;ot<=et.maxX;++ot)for(var ht=et.minY;ht<=et.maxY;++ht){var tt=this.getTile(w,ot,ht,t);if(this.isDrawableTile(tt)){var ct=ne(this);if(tt.getState()==Rt.LOADED){at[w][tt.tileCoord.toString()]=tt;var _t=tt.inTransition(ct);!this.newTiles_&&(_t||this.renderedTiles.indexOf(tt)===-1)&&(this.newTiles_=!0)}if(tt.getAlpha(ct,t.time)===1)continue}var Ot=_.getTileCoordChildTileRange(tt.tileCoord,bt,ft),St=!1;Ot&&(St=ut(w+1,Ot)),St||_.forEachTileCoordParentTileRange(tt.tileCoord,ut,bt,ft)}var Z=k/c;Pn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/O,1/O,f,-P/2,-D/2);var Yt=zm(this.pixelTransform);this.useContainer(r,Yt,o.opacity,this.getBackground(t));var kt=this.context,z=kt.canvas;Gh(this.inversePixelTransform,this.pixelTransform),Pn(this.tempTransform,P/2,D/2,Z,Z,0,-P/2,-D/2),z.width!=P||z.height!=D?(z.width=P,z.height=D):this.containerReused||kt.clearRect(0,0,P,D),A&&this.clipUnrotated(kt,t,A),p.getInterpolate()||Le(kt,rh),this.preRender(kt,t),this.renderedTiles.length=0;var rt=Object.keys(at).map(Number);rt.sort(Jo);var J,it,It;o.opacity===1&&(!this.containerReused||p.getOpaque(t.viewState.projection))?rt=rt.reverse():(J=[],it=[]);for(var Zt=rt.length-1;Zt>=0;--Zt){var yt=rt[Zt],Et=p.getTilePixelSize(yt,d,s),E=_.getResolution(yt),I=E/k,M=Et[0]*I*Z,V=Et[1]*I*Z,W=_.getTileCoordForCoordAndZ(po(K),yt),Q=_.getTileCoordExtent(W),nt=Re(this.tempTransform,[O*(Q[0]-K[0])/k,O*(K[3]-Q[3])/k]),$=O*p.getGutterForProjection(s),q=at[yt];for(var H in q){var tt=q[H],pt=tt.tileCoord,dt=W[1]-pt[1],vt=Math.round(nt[0]-(dt-1)*M),xt=W[2]-pt[2],Pt=Math.round(nt[1]-(xt-1)*V),ot=Math.round(nt[0]-dt*M),ht=Math.round(nt[1]-xt*V),Lt=vt-ot,Nt=Pt-ht,Xt=w===yt,_t=Xt&&tt.getAlpha(ne(this),t.time)!==1,we=!1;if(!_t)if(J){It=[ot,ht,ot+Lt,ht,ot+Lt,ht+Nt,ot,ht+Nt];for(var de=0,Fr=J.length;de<Fr;++de)if(w!==yt&&yt<it[de]){var se=J[de];qe([ot,ht,ot+Lt,ht+Nt],[se[0],se[3],se[4],se[7]])&&(we||(kt.save(),we=!0),kt.beginPath(),kt.moveTo(It[0],It[1]),kt.lineTo(It[2],It[3]),kt.lineTo(It[4],It[5]),kt.lineTo(It[6],It[7]),kt.moveTo(se[6],se[7]),kt.lineTo(se[4],se[5]),kt.lineTo(se[2],se[3]),kt.lineTo(se[0],se[1]),kt.clip())}J.push(It),it.push(yt)}else kt.clearRect(ot,ht,Lt,Nt);this.drawTileImage(tt,t,ot,ht,Lt,Nt,$,Xt),J&&!_t?(we&&kt.restore(),this.renderedTiles.unshift(tt)):this.renderedTiles.push(tt),this.updateUsedTiles(t.usedTiles,p,tt)}}this.renderedRevision=b,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!Qa(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(t,p,_,d,s,T,w,g.getPreload()),this.scheduleExpireCache(t,p),this.postRender(kt,t),o.extent&&kt.restore(),Le(kt,uL),Yt!==z.style.transform&&(z.style.transform=Yt);var ir=s0(o.opacity),pe=this.container;return ir!==pe.style.opacity&&(pe.style.opacity=ir),this.container},e.prototype.drawTileImage=function(t,r,o,i,s,c,u,f){var d=this.getTileImage(t);if(!!d){var g=ne(this),p=f?t.getAlpha(g,r.time):1,b=p!==this.context.globalAlpha;b&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,u,u,d.width-2*u,d.height-2*u,o,i,s,c),b&&this.context.restore(),p!==1?r.animate=!0:f&&t.endTransition(g)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var o=function(i,s,c){var u=ne(i);u in c.usedTiles&&i.expireCache(c.viewState.projection,c.usedTiles[u])}.bind(null,r);t.postRenderFunctions.push(o)}},e.prototype.updateUsedTiles=function(t,r,o){var i=ne(r);i in t||(t[i]={}),t[i][o.getKey()]=!0},e.prototype.manageTilePyramid=function(t,r,o,i,s,c,u,f,d){var g=ne(r);g in t.wantedTiles||(t.wantedTiles[g]={});var p=t.wantedTiles[g],b=t.tileQueue,_=o.getMinZoom(),w=0,k,T,A,O,P,D;for(D=_;D<=u;++D)for(T=o.getTileRangeForExtentAndZ(c,D,T),A=o.getResolution(D),O=T.minX;O<=T.maxX;++O)for(P=T.minY;P<=T.maxY;++P)u-D<=f?(++w,k=r.getTile(D,O,P,i,s),k.getState()==Rt.IDLE&&(p[k.getKey()]=!0,b.isKeyQueued(k.getKey())||b.enqueue([k,g,o.getTileCoordCenter(k.tileCoord),A])),d!==void 0&&d(k)):r.useTile(D,O,P,s);r.updateCacheSize(w,s)},e}(C0),QL=JL,t3=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),e3=function(n){t3(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new QL(this)},e}($L),r3=e3;const n3={class:"field is-grouped"},o3={class:"control"},i3=Ne("label",{class:"label"},"Band width ",-1),a3={class:"control"},s3=Ne("label",{class:"label"},"Point leap",-1),l3=Ne("div",null,[Ne("div",{id:"mapViewport",class:"mapViewport map-viewport"})],-1),c3=cs({__name:"MapLayer",setup(n){const e=YR();Vo(()=>e.bandWidth,f),Vo(()=>e.pointLeap,f),lc("mapViewport"),IA();const t=new r3({source:new KL}),r=new eh({wrapX:!1}),o=new th({source:r}),i=new eh({wrapX:!1}),s=new th({source:i,style:[new ES({stroke:new Xa({color:"orangered",width:2}),fill:new rc({color:"orangered"})})]});let c;_h(()=>{c=new JP({layers:[t,o,s],target:"mapViewport",view:new no({center:[23.1319788,37.4283254],zoom:17})})});function u(){r.clear(),i.clear();const d=new jP({source:r,type:"Circle",geometryFunction:HP()});c.addInteraction(d),d.on("drawend",function(g){c.removeInteraction(d);const p=g.feature.getGeometry().getCoordinates()[0];p.pop();const b=new K2(p.map(_=>[..._]));e.perimeter=b,f()})}function f(){if(i.clear(),!(e.bandWidth&&e.pointLeap&&e.perimeter))return;const d=W2(e.perimeter,e.bandWidth,e.pointLeap);e.trajectory=d;const g=new $o(d),p=new zo(g);i.addFeature(p),d.forEach(b=>i.addFeature(new zo(new Um(b,2e-6))))}return(d,g)=>(kh(),Eh(Ar,null,[Ne("div",null,[Ne("div",n3,[Ne("div",{class:"control"},[Ne("button",{class:"button is-primary",onClick:u},"Draw perimeter")]),Ne("div",o3,[i3,Yg(Ne("input",{"onUpdate:modelValue":g[0]||(g[0]=p=>on(e).bandWidth=p),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[sv,on(e).bandWidth]])]),Ne("div",a3,[s3,Yg(Ne("input",{"onUpdate:modelValue":g[1]||(g[1]=p=>on(e).pointLeap=p),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[sv,on(e).pointLeap]])])])]),l3],64))}}),u3=cs({__name:"HomeView",setup(n){return(e,t)=>(kh(),Eh("main",null,[dr(c3)]))}}),f3=zR({history:eR("/lawnmower/"),routes:[{path:"/",name:"home",component:u3}]});const ad=AT(UR);ad.use(ST());ad.use(f3);ad.mount("#app");
