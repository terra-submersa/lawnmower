var xE=Object.defineProperty;var wE=(r,e,t)=>e in r?xE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var kr=(r,e,t)=>(wE(r,typeof e!="symbol"?e+"":e,t),t);const kE=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}};kE();function yf(r,e){const t=Object.create(null),o=r.split(",");for(let n=0;n<o.length;n++)t[o[n]]=!0;return e?n=>!!t[n.toLowerCase()]:n=>!!t[n]}const EE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CE=yf(EE);function Iv(r){return!!r||r===""}function xf(r){if(It(r)){const e={};for(let t=0;t<r.length;t++){const o=r[t],n=Ne(o)?AE(o):xf(o);if(n)for(const i in n)e[i]=n[i]}return e}else{if(Ne(r))return r;if(Oe(r))return r}}const TE=/;(?![^(]*\))/g,RE=/:(.+)/;function AE(r){const e={};return r.split(TE).forEach(t=>{if(t){const o=t.split(RE);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function wf(r){let e="";if(Ne(r))e=r;else if(It(r))for(let t=0;t<r.length;t++){const o=wf(r[t]);o&&(e+=o+" ")}else if(Oe(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}function OE(r,e){if(r.length!==e.length)return!1;let t=!0;for(let o=0;t&&o<r.length;o++)t=yc(r[o],e[o]);return t}function yc(r,e){if(r===e)return!0;let t=Kg(r),o=Kg(e);if(t||o)return t&&o?r.getTime()===e.getTime():!1;if(t=es(r),o=es(e),t||o)return r===e;if(t=It(r),o=It(e),t||o)return t&&o?OE(r,e):!1;if(t=Oe(r),o=Oe(e),t||o){if(!t||!o)return!1;const n=Object.keys(r).length,i=Object.keys(e).length;if(n!==i)return!1;for(const s in r){const c=r.hasOwnProperty(s),u=e.hasOwnProperty(s);if(c&&!u||!c&&u||!yc(r[s],e[s]))return!1}}return String(r)===String(e)}function IE(r,e){return r.findIndex(t=>yc(t,e))}const Xo=r=>Ne(r)?r:r==null?"":It(r)||Oe(r)&&(r.toString===Lv||!Ut(r.toString))?JSON.stringify(r,Sv,2):String(r),Sv=(r,e)=>e&&e.__v_isRef?Sv(r,e.value):Ui(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,n])=>(t[`${o} =>`]=n,t),{})}:wc(e)?{[`Set(${e.size})`]:[...e.values()]}:Oe(e)&&!It(e)&&!Mv(e)?String(e):e,fe={},Wi=[],Jo=()=>{},SE=()=>!1,PE=/^on[^a-z]/,xc=r=>PE.test(r),kf=r=>r.startsWith("onUpdate:"),Ke=Object.assign,Ef=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},LE=Object.prototype.hasOwnProperty,Qt=(r,e)=>LE.call(r,e),It=Array.isArray,Ui=r=>xs(r)==="[object Map]",wc=r=>xs(r)==="[object Set]",Kg=r=>xs(r)==="[object Date]",Ut=r=>typeof r=="function",Ne=r=>typeof r=="string",es=r=>typeof r=="symbol",Oe=r=>r!==null&&typeof r=="object",Pv=r=>Oe(r)&&Ut(r.then)&&Ut(r.catch),Lv=Object.prototype.toString,xs=r=>Lv.call(r),ME=r=>xs(r).slice(8,-1),Mv=r=>xs(r)==="[object Object]",Cf=r=>Ne(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Vl=yf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kc=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},FE=/-(\w)/g,ji=kc(r=>r.replace(FE,(e,t)=>t?t.toUpperCase():"")),DE=/\B([A-Z])/g,ra=kc(r=>r.replace(DE,"-$1").toLowerCase()),Fv=kc(r=>r.charAt(0).toUpperCase()+r.slice(1)),id=kc(r=>r?`on${Fv(r)}`:""),os=(r,e)=>!Object.is(r,e),jl=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},Jl=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},Ql=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let $g;const NE=()=>$g||($g=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let sr;class Dv{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&sr&&(this.parent=sr,this.index=(sr.scopes||(sr.scopes=[])).push(this)-1)}run(e){if(this.active){const t=sr;try{return sr=this,e()}finally{sr=t}}}on(){sr=this}off(){sr=this.parent}stop(e){if(this.active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function Nv(r){return new Dv(r)}function zE(r,e=sr){e&&e.active&&e.effects.push(r)}const Tf=r=>{const e=new Set(r);return e.w=0,e.n=0,e},zv=r=>(r.w&mn)>0,Gv=r=>(r.n&mn)>0,GE=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=mn},BE=r=>{const{deps:e}=r;if(e.length){let t=0;for(let o=0;o<e.length;o++){const n=e[o];zv(n)&&!Gv(n)?n.delete(r):e[t++]=n,n.w&=~mn,n.n&=~mn}e.length=t}},Id=new WeakMap;let Ga=0,mn=1;const Sd=30;let Vo;const Jn=Symbol(""),Pd=Symbol("");class Rf{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,zE(this,o)}run(){if(!this.active)return this.fn();let e=Vo,t=hn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Vo,Vo=this,hn=!0,mn=1<<++Ga,Ga<=Sd?GE(this):Zg(this),this.fn()}finally{Ga<=Sd&&BE(this),mn=1<<--Ga,Vo=this.parent,hn=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Vo===this?this.deferStop=!0:this.active&&(Zg(this),this.onStop&&this.onStop(),this.active=!1)}}function Zg(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let hn=!0;const Bv=[];function na(){Bv.push(hn),hn=!1}function ia(){const r=Bv.pop();hn=r===void 0?!0:r}function _o(r,e,t){if(hn&&Vo){let o=Id.get(r);o||Id.set(r,o=new Map);let n=o.get(t);n||o.set(t,n=Tf()),Wv(n)}}function Wv(r,e){let t=!1;Ga<=Sd?Gv(r)||(r.n|=mn,t=!zv(r)):t=!r.has(Vo),t&&(r.add(Vo),Vo.deps.push(r))}function Dr(r,e,t,o,n,i){const s=Id.get(r);if(!s)return;let c=[];if(e==="clear")c=[...s.values()];else if(t==="length"&&It(r))s.forEach((u,d)=>{(d==="length"||d>=o)&&c.push(u)});else switch(t!==void 0&&c.push(s.get(t)),e){case"add":It(r)?Cf(t)&&c.push(s.get("length")):(c.push(s.get(Jn)),Ui(r)&&c.push(s.get(Pd)));break;case"delete":It(r)||(c.push(s.get(Jn)),Ui(r)&&c.push(s.get(Pd)));break;case"set":Ui(r)&&c.push(s.get(Jn));break}if(c.length===1)c[0]&&Ld(c[0]);else{const u=[];for(const d of c)d&&u.push(...d);Ld(Tf(u))}}function Ld(r,e){const t=It(r)?r:[...r];for(const o of t)o.computed&&qg(o);for(const o of t)o.computed||qg(o)}function qg(r,e){(r!==Vo||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const WE=yf("__proto__,__v_isRef,__isVue"),Uv=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(es)),UE=Af(),YE=Af(!1,!0),XE=Af(!0),Jg=VE();function VE(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const o=oe(this);for(let i=0,s=this.length;i<s;i++)_o(o,"get",i+"");const n=o[e](...t);return n===-1||n===!1?o[e](...t.map(oe)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){na();const o=oe(this)[e].apply(this,t);return ia(),o}}),r}function Af(r=!1,e=!1){return function(o,n,i){if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&i===(r?e?sC:Hv:e?jv:Vv).get(o))return o;const s=It(o);if(!r&&s&&Qt(Jg,n))return Reflect.get(Jg,n,i);const c=Reflect.get(o,n,i);return(es(n)?Uv.has(n):WE(n))||(r||_o(o,"get",n),e)?c:Re(c)?s&&Cf(n)?c:c.value:Oe(c)?r?Kv(c):aa(c):c}}const jE=Yv(),HE=Yv(!0);function Yv(r=!1){return function(t,o,n,i){let s=t[o];if(rs(s)&&Re(s)&&!Re(n))return!1;if(!r&&!rs(n)&&(Md(n)||(n=oe(n),s=oe(s)),!It(t)&&Re(s)&&!Re(n)))return s.value=n,!0;const c=It(t)&&Cf(o)?Number(o)<t.length:Qt(t,o),u=Reflect.set(t,o,n,i);return t===oe(i)&&(c?os(n,s)&&Dr(t,"set",o,n):Dr(t,"add",o,n)),u}}function KE(r,e){const t=Qt(r,e);r[e];const o=Reflect.deleteProperty(r,e);return o&&t&&Dr(r,"delete",e,void 0),o}function $E(r,e){const t=Reflect.has(r,e);return(!es(e)||!Uv.has(e))&&_o(r,"has",e),t}function ZE(r){return _o(r,"iterate",It(r)?"length":Jn),Reflect.ownKeys(r)}const Xv={get:UE,set:jE,deleteProperty:KE,has:$E,ownKeys:ZE},qE={get:XE,set(r,e){return!0},deleteProperty(r,e){return!0}},JE=Ke({},Xv,{get:YE,set:HE}),Of=r=>r,Ec=r=>Reflect.getPrototypeOf(r);function Rl(r,e,t=!1,o=!1){r=r.__v_raw;const n=oe(r),i=oe(e);t||(e!==i&&_o(n,"get",e),_o(n,"get",i));const{has:s}=Ec(n),c=o?Of:t?Pf:ns;if(s.call(n,e))return c(r.get(e));if(s.call(n,i))return c(r.get(i));r!==n&&r.get(e)}function Al(r,e=!1){const t=this.__v_raw,o=oe(t),n=oe(r);return e||(r!==n&&_o(o,"has",r),_o(o,"has",n)),r===n?t.has(r):t.has(r)||t.has(n)}function Ol(r,e=!1){return r=r.__v_raw,!e&&_o(oe(r),"iterate",Jn),Reflect.get(r,"size",r)}function Qg(r){r=oe(r);const e=oe(this);return Ec(e).has.call(e,r)||(e.add(r),Dr(e,"add",r,r)),this}function tb(r,e){e=oe(e);const t=oe(this),{has:o,get:n}=Ec(t);let i=o.call(t,r);i||(r=oe(r),i=o.call(t,r));const s=n.call(t,r);return t.set(r,e),i?os(e,s)&&Dr(t,"set",r,e):Dr(t,"add",r,e),this}function eb(r){const e=oe(this),{has:t,get:o}=Ec(e);let n=t.call(e,r);n||(r=oe(r),n=t.call(e,r)),o&&o.call(e,r);const i=e.delete(r);return n&&Dr(e,"delete",r,void 0),i}function ob(){const r=oe(this),e=r.size!==0,t=r.clear();return e&&Dr(r,"clear",void 0,void 0),t}function Il(r,e){return function(o,n){const i=this,s=i.__v_raw,c=oe(s),u=e?Of:r?Pf:ns;return!r&&_o(c,"iterate",Jn),s.forEach((d,h)=>o.call(n,u(d),u(h),i))}}function Sl(r,e,t){return function(...o){const n=this.__v_raw,i=oe(n),s=Ui(i),c=r==="entries"||r===Symbol.iterator&&s,u=r==="keys"&&s,d=n[r](...o),h=t?Of:e?Pf:ns;return!e&&_o(i,"iterate",u?Pd:Jn),{next(){const{value:b,done:p}=d.next();return p?{value:b,done:p}:{value:c?[h(b[0]),h(b[1])]:h(b),done:p}},[Symbol.iterator](){return this}}}}function Zr(r){return function(...e){return r==="delete"?!1:this}}function QE(){const r={get(i){return Rl(this,i)},get size(){return Ol(this)},has:Al,add:Qg,set:tb,delete:eb,clear:ob,forEach:Il(!1,!1)},e={get(i){return Rl(this,i,!1,!0)},get size(){return Ol(this)},has:Al,add:Qg,set:tb,delete:eb,clear:ob,forEach:Il(!1,!0)},t={get(i){return Rl(this,i,!0)},get size(){return Ol(this,!0)},has(i){return Al.call(this,i,!0)},add:Zr("add"),set:Zr("set"),delete:Zr("delete"),clear:Zr("clear"),forEach:Il(!0,!1)},o={get(i){return Rl(this,i,!0,!0)},get size(){return Ol(this,!0)},has(i){return Al.call(this,i,!0)},add:Zr("add"),set:Zr("set"),delete:Zr("delete"),clear:Zr("clear"),forEach:Il(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Sl(i,!1,!1),t[i]=Sl(i,!0,!1),e[i]=Sl(i,!1,!0),o[i]=Sl(i,!0,!0)}),[r,t,e,o]}const[tC,eC,oC,rC]=QE();function If(r,e){const t=e?r?rC:oC:r?eC:tC;return(o,n,i)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?o:Reflect.get(Qt(t,n)&&n in o?t:o,n,i)}const nC={get:If(!1,!1)},iC={get:If(!1,!0)},aC={get:If(!0,!1)},Vv=new WeakMap,jv=new WeakMap,Hv=new WeakMap,sC=new WeakMap;function lC(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cC(r){return r.__v_skip||!Object.isExtensible(r)?0:lC(ME(r))}function aa(r){return rs(r)?r:Sf(r,!1,Xv,nC,Vv)}function uC(r){return Sf(r,!1,JE,iC,jv)}function Kv(r){return Sf(r,!0,qE,aC,Hv)}function Sf(r,e,t,o,n){if(!Oe(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const i=n.get(r);if(i)return i;const s=cC(r);if(s===0)return r;const c=new Proxy(r,s===2?o:t);return n.set(r,c),c}function pn(r){return rs(r)?pn(r.__v_raw):!!(r&&r.__v_isReactive)}function rs(r){return!!(r&&r.__v_isReadonly)}function Md(r){return!!(r&&r.__v_isShallow)}function $v(r){return pn(r)||rs(r)}function oe(r){const e=r&&r.__v_raw;return e?oe(e):r}function Hi(r){return Jl(r,"__v_skip",!0),r}const ns=r=>Oe(r)?aa(r):r,Pf=r=>Oe(r)?Kv(r):r;function Zv(r){hn&&Vo&&(r=oe(r),Wv(r.dep||(r.dep=Tf())))}function qv(r,e){r=oe(r),r.dep&&Ld(r.dep)}function Re(r){return!!(r&&r.__v_isRef===!0)}function Cc(r){return Jv(r,!1)}function dC(r){return Jv(r,!0)}function Jv(r,e){return Re(r)?r:new fC(r,e)}class fC{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:oe(e),this._value=t?e:ns(e)}get value(){return Zv(this),this._value}set value(e){e=this.__v_isShallow?e:oe(e),os(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:ns(e),qv(this))}}function ne(r){return Re(r)?r.value:r}const hC={get:(r,e,t)=>ne(Reflect.get(r,e,t)),set:(r,e,t,o)=>{const n=r[e];return Re(n)&&!Re(t)?(n.value=t,!0):Reflect.set(r,e,t,o)}};function Qv(r){return pn(r)?r:new Proxy(r,hC)}function pC(r){const e=It(r)?new Array(r.length):{};for(const t in r)e[t]=bC(r,t);return e}class gC{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function bC(r,e,t){const o=r[e];return Re(o)?o:new gC(r,e,t)}class vC{constructor(e,t,o,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Rf(e,()=>{this._dirty||(this._dirty=!0,qv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=o}get value(){const e=oe(this);return Zv(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function mC(r,e,t=!1){let o,n;const i=Ut(r);return i?(o=r,n=Jo):(o=r.get,n=r.set),new vC(o,n,i||!n,t)}function gn(r,e,t,o){let n;try{n=o?r(...o):r()}catch(i){Tc(i,e,t)}return n}function Po(r,e,t,o){if(Ut(r)){const i=gn(r,e,t,o);return i&&Pv(i)&&i.catch(s=>{Tc(s,e,t)}),i}const n=[];for(let i=0;i<r.length;i++)n.push(Po(r[i],e,t,o));return n}function Tc(r,e,t,o=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,c=t;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](r,s,c)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){gn(u,null,10,[r,s,c]);return}}_C(r,t,n,o)}function _C(r,e,t,o=!0){console.error(r)}let tc=!1,Fd=!1;const vo=[];let Sr=0;const Va=[];let Ba=null,Si=0;const ja=[];let rn=null,Pi=0;const tm=Promise.resolve();let Lf=null,Dd=null;function Mf(r){const e=Lf||tm;return r?e.then(this?r.bind(this):r):e}function yC(r){let e=Sr+1,t=vo.length;for(;e<t;){const o=e+t>>>1;is(vo[o])<r?e=o+1:t=o}return e}function em(r){(!vo.length||!vo.includes(r,tc&&r.allowRecurse?Sr+1:Sr))&&r!==Dd&&(r.id==null?vo.push(r):vo.splice(yC(r.id),0,r),om())}function om(){!tc&&!Fd&&(Fd=!0,Lf=tm.then(im))}function xC(r){const e=vo.indexOf(r);e>Sr&&vo.splice(e,1)}function rm(r,e,t,o){It(r)?t.push(...r):(!e||!e.includes(r,r.allowRecurse?o+1:o))&&t.push(r),om()}function wC(r){rm(r,Ba,Va,Si)}function kC(r){rm(r,rn,ja,Pi)}function Rc(r,e=null){if(Va.length){for(Dd=e,Ba=[...new Set(Va)],Va.length=0,Si=0;Si<Ba.length;Si++)Ba[Si]();Ba=null,Si=0,Dd=null,Rc(r,e)}}function nm(r){if(Rc(),ja.length){const e=[...new Set(ja)];if(ja.length=0,rn){rn.push(...e);return}for(rn=e,rn.sort((t,o)=>is(t)-is(o)),Pi=0;Pi<rn.length;Pi++)rn[Pi]();rn=null,Pi=0}}const is=r=>r.id==null?1/0:r.id;function im(r){Fd=!1,tc=!0,Rc(r),vo.sort((t,o)=>is(t)-is(o));const e=Jo;try{for(Sr=0;Sr<vo.length;Sr++){const t=vo[Sr];t&&t.active!==!1&&gn(t,null,14)}}finally{Sr=0,vo.length=0,nm(),tc=!1,Lf=null,(vo.length||Va.length||ja.length)&&im(r)}}function EC(r,e,...t){if(r.isUnmounted)return;const o=r.vnode.props||fe;let n=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in o){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:b,trim:p}=o[h]||fe;p&&(n=t.map(v=>v.trim())),b&&(n=t.map(Ql))}let c,u=o[c=id(e)]||o[c=id(ji(e))];!u&&i&&(u=o[c=id(ra(e))]),u&&Po(u,r,6,n);const d=o[c+"Once"];if(d){if(!r.emitted)r.emitted={};else if(r.emitted[c])return;r.emitted[c]=!0,Po(d,r,6,n)}}function am(r,e,t=!1){const o=e.emitsCache,n=o.get(r);if(n!==void 0)return n;const i=r.emits;let s={},c=!1;if(!Ut(r)){const u=d=>{const h=am(d,e,!0);h&&(c=!0,Ke(s,h))};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!i&&!c?(o.set(r,null),null):(It(i)?i.forEach(u=>s[u]=null):Ke(s,i),o.set(r,s),s)}function Ac(r,e){return!r||!xc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qt(r,e[0].toLowerCase()+e.slice(1))||Qt(r,ra(e))||Qt(r,e))}let Zo=null,sm=null;function ec(r){const e=Zo;return Zo=r,sm=r&&r.type.__scopeId||null,e}function CC(r,e=Zo,t){if(!e||r._n)return r;const o=(...n)=>{o._d&&hb(-1);const i=ec(e),s=r(...n);return ec(i),o._d&&hb(1),s};return o._n=!0,o._c=!0,o._d=!0,o}function ad(r){const{type:e,vnode:t,proxy:o,withProxy:n,props:i,propsOptions:[s],slots:c,attrs:u,emit:d,render:h,renderCache:b,data:p,setupState:v,ctx:_,inheritAttrs:w}=r;let k,T;const A=ec(r);try{if(t.shapeFlag&4){const P=n||o;k=lr(h.call(P,P,b,i,v,p,_)),T=u}else{const P=e;k=lr(P.length>1?P(i,{attrs:u,slots:c,emit:d}):P(i,null)),T=e.props?u:TC(u)}}catch(P){Ha.length=0,Tc(P,r,1),k=Ue(Lr)}let I=k;if(T&&w!==!1){const P=Object.keys(T),{shapeFlag:D}=I;P.length&&D&7&&(s&&P.some(kf)&&(T=RC(T,s)),I=_n(I,T))}return t.dirs&&(I=_n(I),I.dirs=I.dirs?I.dirs.concat(t.dirs):t.dirs),t.transition&&(I.transition=t.transition),k=I,ec(A),k}const TC=r=>{let e;for(const t in r)(t==="class"||t==="style"||xc(t))&&((e||(e={}))[t]=r[t]);return e},RC=(r,e)=>{const t={};for(const o in r)(!kf(o)||!(o.slice(9)in e))&&(t[o]=r[o]);return t};function AC(r,e,t){const{props:o,children:n,component:i}=r,{props:s,children:c,patchFlag:u}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return o?rb(o,s,d):!!s;if(u&8){const h=e.dynamicProps;for(let b=0;b<h.length;b++){const p=h[b];if(s[p]!==o[p]&&!Ac(d,p))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:o===s?!1:o?s?rb(o,s,d):!0:!!s;return!1}function rb(r,e,t){const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(e[i]!==r[i]&&!Ac(t,i))return!0}return!1}function OC({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const IC=r=>r.__isSuspense;function SC(r,e){e&&e.pendingBranch?It(r)?e.effects.push(...r):e.effects.push(r):kC(r)}function Hl(r,e){if(We){let t=We.provides;const o=We.parent&&We.parent.provides;o===t&&(t=We.provides=Object.create(o)),t[r]=e}}function Pr(r,e,t=!1){const o=We||Zo;if(o){const n=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(n&&r in n)return n[r];if(arguments.length>1)return t&&Ut(e)?e.call(o.proxy):e}}const nb={};function Qo(r,e,t){return lm(r,e,t)}function lm(r,e,{immediate:t,deep:o,flush:n,onTrack:i,onTrigger:s}=fe){const c=We;let u,d=!1,h=!1;if(Re(r)?(u=()=>r.value,d=Md(r)):pn(r)?(u=()=>r,o=!0):It(r)?(h=!0,d=r.some(T=>pn(T)||Md(T)),u=()=>r.map(T=>{if(Re(T))return T.value;if(pn(T))return Hn(T);if(Ut(T))return gn(T,c,2)})):Ut(r)?e?u=()=>gn(r,c,2):u=()=>{if(!(c&&c.isUnmounted))return b&&b(),Po(r,c,3,[p])}:u=Jo,e&&o){const T=u;u=()=>Hn(T())}let b,p=T=>{b=k.onStop=()=>{gn(T,c,4)}};if(ss)return p=Jo,e?t&&Po(e,c,3,[u(),h?[]:void 0,p]):u(),Jo;let v=h?[]:nb;const _=()=>{if(!!k.active)if(e){const T=k.run();(o||d||(h?T.some((A,I)=>os(A,v[I])):os(T,v)))&&(b&&b(),Po(e,c,3,[T,v===nb?void 0:v,p]),v=T)}else k.run()};_.allowRecurse=!!e;let w;n==="sync"?w=_:n==="post"?w=()=>io(_,c&&c.suspense):w=()=>wC(_);const k=new Rf(u,w);return e?t?_():v=k.run():n==="post"?io(k.run.bind(k),c&&c.suspense):k.run(),()=>{k.stop(),c&&c.scope&&Ef(c.scope.effects,k)}}function PC(r,e,t){const o=this.proxy,n=Ne(r)?r.includes(".")?cm(o,r):()=>o[r]:r.bind(o,o);let i;Ut(e)?i=e:(i=e.handler,t=e);const s=We;Ki(this);const c=lm(n,i.bind(o),t);return s?Ki(s):Qn(),c}function cm(r,e){const t=e.split(".");return()=>{let o=r;for(let n=0;n<t.length&&o;n++)o=o[t[n]];return o}}function Hn(r,e){if(!Oe(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Re(r))Hn(r.value,e);else if(It(r))for(let t=0;t<r.length;t++)Hn(r[t],e);else if(wc(r)||Ui(r))r.forEach(t=>{Hn(t,e)});else if(Mv(r))for(const t in r)Hn(r[t],e);return r}function LC(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ff(()=>{r.isMounted=!0}),hm(()=>{r.isUnmounting=!0}),r}const Ao=[Function,Array],MC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ao,onEnter:Ao,onAfterEnter:Ao,onEnterCancelled:Ao,onBeforeLeave:Ao,onLeave:Ao,onAfterLeave:Ao,onLeaveCancelled:Ao,onBeforeAppear:Ao,onAppear:Ao,onAfterAppear:Ao,onAppearCancelled:Ao},setup(r,{slots:e}){const t=Bf(),o=LC();let n;return()=>{const i=e.default&&dm(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const w of i)if(w.type!==Lr){s=w;break}}const c=oe(r),{mode:u}=c;if(o.isLeaving)return sd(s);const d=ib(s);if(!d)return sd(s);const h=Nd(d,c,o,t);zd(d,h);const b=t.subTree,p=b&&ib(b);let v=!1;const{getTransitionKey:_}=d.type;if(_){const w=_();n===void 0?n=w:w!==n&&(n=w,v=!0)}if(p&&p.type!==Lr&&(!Yn(d,p)||v)){const w=Nd(p,c,o,t);if(zd(p,w),u==="out-in")return o.isLeaving=!0,w.afterLeave=()=>{o.isLeaving=!1,t.update()},sd(s);u==="in-out"&&d.type!==Lr&&(w.delayLeave=(k,T,A)=>{const I=um(o,p);I[String(p.key)]=p,k._leaveCb=()=>{T(),k._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=A})}return s}}},FC=MC;function um(r,e){const{leavingVNodes:t}=r;let o=t.get(e.type);return o||(o=Object.create(null),t.set(e.type,o)),o}function Nd(r,e,t,o){const{appear:n,mode:i,persisted:s=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:b,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:w,onAppear:k,onAfterAppear:T,onAppearCancelled:A}=e,I=String(r.key),P=um(t,r),D=(F,K)=>{F&&Po(F,o,9,K)},X=(F,K)=>{const ot=K[1];D(F,K),It(F)?F.every(st=>st.length<=1)&&ot():F.length<=1&&ot()},G={mode:i,persisted:s,beforeEnter(F){let K=c;if(!t.isMounted)if(n)K=w||c;else return;F._leaveCb&&F._leaveCb(!0);const ot=P[I];ot&&Yn(r,ot)&&ot.el._leaveCb&&ot.el._leaveCb(),D(K,[F])},enter(F){let K=u,ot=d,st=h;if(!t.isMounted)if(n)K=k||u,ot=T||d,st=A||h;else return;let dt=!1;const ft=F._enterCb=mt=>{dt||(dt=!0,mt?D(st,[F]):D(ot,[F]),G.delayedLeave&&G.delayedLeave(),F._enterCb=void 0)};K?X(K,[F,ft]):ft()},leave(F,K){const ot=String(r.key);if(F._enterCb&&F._enterCb(!0),t.isUnmounting)return K();D(b,[F]);let st=!1;const dt=F._leaveCb=ft=>{st||(st=!0,K(),ft?D(_,[F]):D(v,[F]),F._leaveCb=void 0,P[ot]===r&&delete P[ot])};P[ot]=r,p?X(p,[F,dt]):dt()},clone(F){return Nd(F,e,t,o)}};return G}function sd(r){if(Oc(r))return r=_n(r),r.children=null,r}function ib(r){return Oc(r)?r.children?r.children[0]:void 0:r}function zd(r,e){r.shapeFlag&6&&r.component?zd(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function dm(r,e=!1,t){let o=[],n=0;for(let i=0;i<r.length;i++){let s=r[i];const c=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===ao?(s.patchFlag&128&&n++,o=o.concat(dm(s.children,e,c))):(e||s.type!==Lr)&&o.push(c!=null?_n(s,{key:c}):s)}if(n>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function zr(r){return Ut(r)?{setup:r,name:r.name}:r}const Kl=r=>!!r.type.__asyncLoader,Oc=r=>r.type.__isKeepAlive;function DC(r,e){fm(r,"a",e)}function NC(r,e){fm(r,"da",e)}function fm(r,e,t=We){const o=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(Ic(e,o,t),t){let n=t.parent;for(;n&&n.parent;)Oc(n.parent.vnode)&&zC(o,e,t,n),n=n.parent}}function zC(r,e,t,o){const n=Ic(e,r,o,!0);Df(()=>{Ef(o[e],n)},t)}function Ic(r,e,t=We,o=!1){if(t){const n=t[r]||(t[r]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;na(),Ki(t);const c=Po(e,t,r,s);return Qn(),ia(),c});return o?n.unshift(i):n.push(i),i}}const Gr=r=>(e,t=We)=>(!ss||r==="sp")&&Ic(r,e,t),GC=Gr("bm"),Ff=Gr("m"),BC=Gr("bu"),WC=Gr("u"),hm=Gr("bum"),Df=Gr("um"),UC=Gr("sp"),YC=Gr("rtg"),XC=Gr("rtc");function VC(r,e=We){Ic("ec",r,e)}function Yi(r,e){const t=Zo;if(t===null)return r;const o=Pc(t)||t.proxy,n=r.dirs||(r.dirs=[]);for(let i=0;i<e.length;i++){let[s,c,u,d=fe]=e[i];Ut(s)&&(s={mounted:s,updated:s}),s.deep&&Hn(c),n.push({dir:s,instance:o,value:c,oldValue:void 0,arg:u,modifiers:d})}return r}function Nn(r,e,t,o){const n=r.dirs,i=e&&e.dirs;for(let s=0;s<n.length;s++){const c=n[s];i&&(c.oldValue=i[s].value);let u=c.dir[o];u&&(na(),Po(u,t,8,[r.el,c,r,e]),ia())}}const jC=Symbol();function ab(r,e,t,o){let n;const i=t&&t[o];if(It(r)||Ne(r)){n=new Array(r.length);for(let s=0,c=r.length;s<c;s++)n[s]=e(r[s],s,void 0,i&&i[s])}else if(typeof r=="number"){n=new Array(r);for(let s=0;s<r;s++)n[s]=e(s+1,s,void 0,i&&i[s])}else if(Oe(r))if(r[Symbol.iterator])n=Array.from(r,(s,c)=>e(s,c,void 0,i&&i[c]));else{const s=Object.keys(r);n=new Array(s.length);for(let c=0,u=s.length;c<u;c++){const d=s[c];n[c]=e(r[d],d,c,i&&i[c])}}else n=[];return t&&(t[o]=n),n}const Gd=r=>r?Em(r)?Pc(r)||r.proxy:Gd(r.parent):null,oc=Ke(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Gd(r.parent),$root:r=>Gd(r.root),$emit:r=>r.emit,$options:r=>gm(r),$forceUpdate:r=>r.f||(r.f=()=>em(r.update)),$nextTick:r=>r.n||(r.n=Mf.bind(r.proxy)),$watch:r=>PC.bind(r)}),HC={get({_:r},e){const{ctx:t,setupState:o,data:n,props:i,accessCache:s,type:c,appContext:u}=r;let d;if(e[0]!=="$"){const v=s[e];if(v!==void 0)switch(v){case 1:return o[e];case 2:return n[e];case 4:return t[e];case 3:return i[e]}else{if(o!==fe&&Qt(o,e))return s[e]=1,o[e];if(n!==fe&&Qt(n,e))return s[e]=2,n[e];if((d=r.propsOptions[0])&&Qt(d,e))return s[e]=3,i[e];if(t!==fe&&Qt(t,e))return s[e]=4,t[e];Bd&&(s[e]=0)}}const h=oc[e];let b,p;if(h)return e==="$attrs"&&_o(r,"get",e),h(r);if((b=c.__cssModules)&&(b=b[e]))return b;if(t!==fe&&Qt(t,e))return s[e]=4,t[e];if(p=u.config.globalProperties,Qt(p,e))return p[e]},set({_:r},e,t){const{data:o,setupState:n,ctx:i}=r;return n!==fe&&Qt(n,e)?(n[e]=t,!0):o!==fe&&Qt(o,e)?(o[e]=t,!0):Qt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(i[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:o,appContext:n,propsOptions:i}},s){let c;return!!t[s]||r!==fe&&Qt(r,s)||e!==fe&&Qt(e,s)||(c=i[0])&&Qt(c,s)||Qt(o,s)||Qt(oc,s)||Qt(n.config.globalProperties,s)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Qt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let Bd=!0;function KC(r){const e=gm(r),t=r.proxy,o=r.ctx;Bd=!1,e.beforeCreate&&sb(e.beforeCreate,r,"bc");const{data:n,computed:i,methods:s,watch:c,provide:u,inject:d,created:h,beforeMount:b,mounted:p,beforeUpdate:v,updated:_,activated:w,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:I,unmounted:P,render:D,renderTracked:X,renderTriggered:G,errorCaptured:F,serverPrefetch:K,expose:ot,inheritAttrs:st,components:dt,directives:ft,filters:mt}=e;if(d&&$C(d,o,null,r.appContext.config.unwrapInjectedRef),s)for(const et in s){const ut=s[et];Ut(ut)&&(o[et]=ut.bind(t))}if(n){const et=n.call(t,t);Oe(et)&&(r.data=aa(et))}if(Bd=!0,i)for(const et in i){const ut=i[et],yt=Ut(ut)?ut.bind(t,t):Ut(ut.get)?ut.get.bind(t,t):Jo,Pt=!Ut(ut)&&Ut(ut.set)?ut.set.bind(t):Jo,Lt=Ko({get:yt,set:Pt});Object.defineProperty(o,et,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:Z=>Lt.value=Z})}if(c)for(const et in c)pm(c[et],o,t,et);if(u){const et=Ut(u)?u.call(t):u;Reflect.ownKeys(et).forEach(ut=>{Hl(ut,et[ut])})}h&&sb(h,r,"c");function ht(et,ut){It(ut)?ut.forEach(yt=>et(yt.bind(t))):ut&&et(ut.bind(t))}if(ht(GC,b),ht(Ff,p),ht(BC,v),ht(WC,_),ht(DC,w),ht(NC,k),ht(VC,F),ht(XC,X),ht(YC,G),ht(hm,A),ht(Df,P),ht(UC,K),It(ot))if(ot.length){const et=r.exposed||(r.exposed={});ot.forEach(ut=>{Object.defineProperty(et,ut,{get:()=>t[ut],set:yt=>t[ut]=yt})})}else r.exposed||(r.exposed={});D&&r.render===Jo&&(r.render=D),st!=null&&(r.inheritAttrs=st),dt&&(r.components=dt),ft&&(r.directives=ft)}function $C(r,e,t=Jo,o=!1){It(r)&&(r=Wd(r));for(const n in r){const i=r[n];let s;Oe(i)?"default"in i?s=Pr(i.from||n,i.default,!0):s=Pr(i.from||n):s=Pr(i),Re(s)&&o?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):e[n]=s}}function sb(r,e,t){Po(It(r)?r.map(o=>o.bind(e.proxy)):r.bind(e.proxy),e,t)}function pm(r,e,t,o){const n=o.includes(".")?cm(t,o):()=>t[o];if(Ne(r)){const i=e[r];Ut(i)&&Qo(n,i)}else if(Ut(r))Qo(n,r.bind(t));else if(Oe(r))if(It(r))r.forEach(i=>pm(i,e,t,o));else{const i=Ut(r.handler)?r.handler.bind(t):e[r.handler];Ut(i)&&Qo(n,i,r)}}function gm(r){const e=r.type,{mixins:t,extends:o}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:s}}=r.appContext,c=i.get(e);let u;return c?u=c:!n.length&&!t&&!o?u=e:(u={},n.length&&n.forEach(d=>rc(u,d,s,!0)),rc(u,e,s)),i.set(e,u),u}function rc(r,e,t,o=!1){const{mixins:n,extends:i}=e;i&&rc(r,i,t,!0),n&&n.forEach(s=>rc(r,s,t,!0));for(const s in e)if(!(o&&s==="expose")){const c=ZC[s]||t&&t[s];r[s]=c?c(r[s],e[s]):e[s]}return r}const ZC={data:lb,props:Wn,emits:Wn,methods:Wn,computed:Wn,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Wn,directives:Wn,watch:JC,provide:lb,inject:qC};function lb(r,e){return e?r?function(){return Ke(Ut(r)?r.call(this,this):r,Ut(e)?e.call(this,this):e)}:e:r}function qC(r,e){return Wn(Wd(r),Wd(e))}function Wd(r){if(It(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Je(r,e){return r?[...new Set([].concat(r,e))]:e}function Wn(r,e){return r?Ke(Ke(Object.create(null),r),e):e}function JC(r,e){if(!r)return e;if(!e)return r;const t=Ke(Object.create(null),r);for(const o in e)t[o]=Je(r[o],e[o]);return t}function QC(r,e,t,o=!1){const n={},i={};Jl(i,Sc,1),r.propsDefaults=Object.create(null),bm(r,e,n,i);for(const s in r.propsOptions[0])s in n||(n[s]=void 0);t?r.props=o?n:uC(n):r.type.props?r.props=n:r.props=i,r.attrs=i}function tT(r,e,t,o){const{props:n,attrs:i,vnode:{patchFlag:s}}=r,c=oe(n),[u]=r.propsOptions;let d=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=r.vnode.dynamicProps;for(let b=0;b<h.length;b++){let p=h[b];if(Ac(r.emitsOptions,p))continue;const v=e[p];if(u)if(Qt(i,p))v!==i[p]&&(i[p]=v,d=!0);else{const _=ji(p);n[_]=Ud(u,c,_,v,r,!1)}else v!==i[p]&&(i[p]=v,d=!0)}}}else{bm(r,e,n,i)&&(d=!0);let h;for(const b in c)(!e||!Qt(e,b)&&((h=ra(b))===b||!Qt(e,h)))&&(u?t&&(t[b]!==void 0||t[h]!==void 0)&&(n[b]=Ud(u,c,b,void 0,r,!0)):delete n[b]);if(i!==c)for(const b in i)(!e||!Qt(e,b)&&!0)&&(delete i[b],d=!0)}d&&Dr(r,"set","$attrs")}function bm(r,e,t,o){const[n,i]=r.propsOptions;let s=!1,c;if(e)for(let u in e){if(Vl(u))continue;const d=e[u];let h;n&&Qt(n,h=ji(u))?!i||!i.includes(h)?t[h]=d:(c||(c={}))[h]=d:Ac(r.emitsOptions,u)||(!(u in o)||d!==o[u])&&(o[u]=d,s=!0)}if(i){const u=oe(t),d=c||fe;for(let h=0;h<i.length;h++){const b=i[h];t[b]=Ud(n,u,b,d[b],r,!Qt(d,b))}}return s}function Ud(r,e,t,o,n,i){const s=r[t];if(s!=null){const c=Qt(s,"default");if(c&&o===void 0){const u=s.default;if(s.type!==Function&&Ut(u)){const{propsDefaults:d}=n;t in d?o=d[t]:(Ki(n),o=d[t]=u.call(null,e),Qn())}else o=u}s[0]&&(i&&!c?o=!1:s[1]&&(o===""||o===ra(t))&&(o=!0))}return o}function vm(r,e,t=!1){const o=e.propsCache,n=o.get(r);if(n)return n;const i=r.props,s={},c=[];let u=!1;if(!Ut(r)){const h=b=>{u=!0;const[p,v]=vm(b,e,!0);Ke(s,p),v&&c.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!i&&!u)return o.set(r,Wi),Wi;if(It(i))for(let h=0;h<i.length;h++){const b=ji(i[h]);cb(b)&&(s[b]=fe)}else if(i)for(const h in i){const b=ji(h);if(cb(b)){const p=i[h],v=s[b]=It(p)||Ut(p)?{type:p}:p;if(v){const _=fb(Boolean,v.type),w=fb(String,v.type);v[0]=_>-1,v[1]=w<0||_<w,(_>-1||Qt(v,"default"))&&c.push(b)}}}const d=[s,c];return o.set(r,d),d}function cb(r){return r[0]!=="$"}function ub(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function db(r,e){return ub(r)===ub(e)}function fb(r,e){return It(e)?e.findIndex(t=>db(t,r)):Ut(e)&&db(e,r)?0:-1}const mm=r=>r[0]==="_"||r==="$stable",Nf=r=>It(r)?r.map(lr):[lr(r)],eT=(r,e,t)=>{if(e._n)return e;const o=CC((...n)=>Nf(e(...n)),t);return o._c=!1,o},_m=(r,e,t)=>{const o=r._ctx;for(const n in r){if(mm(n))continue;const i=r[n];if(Ut(i))e[n]=eT(n,i,o);else if(i!=null){const s=Nf(i);e[n]=()=>s}}},ym=(r,e)=>{const t=Nf(e);r.slots.default=()=>t},oT=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=oe(e),Jl(e,"_",t)):_m(e,r.slots={})}else r.slots={},e&&ym(r,e);Jl(r.slots,Sc,1)},rT=(r,e,t)=>{const{vnode:o,slots:n}=r;let i=!0,s=fe;if(o.shapeFlag&32){const c=e._;c?t&&c===1?i=!1:(Ke(n,e),!t&&c===1&&delete n._):(i=!e.$stable,_m(e,n)),s=e}else e&&(ym(r,e),s={default:1});if(i)for(const c in n)!mm(c)&&!(c in s)&&delete n[c]};function xm(){return{app:null,config:{isNativeTag:SE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nT=0;function iT(r,e){return function(o,n=null){Ut(o)||(o=Object.assign({},o)),n!=null&&!Oe(n)&&(n=null);const i=xm(),s=new Set;let c=!1;const u=i.app={_uid:nT++,_component:o,_props:n,_container:null,_context:i,_instance:null,version:kT,get config(){return i.config},set config(d){},use(d,...h){return s.has(d)||(d&&Ut(d.install)?(s.add(d),d.install(u,...h)):Ut(d)&&(s.add(d),d(u,...h))),u},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),u},component(d,h){return h?(i.components[d]=h,u):i.components[d]},directive(d,h){return h?(i.directives[d]=h,u):i.directives[d]},mount(d,h,b){if(!c){const p=Ue(o,n);return p.appContext=i,h&&e?e(p,d):r(p,d,b),c=!0,u._container=d,d.__vue_app__=u,Pc(p.component)||p.component.proxy}},unmount(){c&&(r(null,u._container),delete u._container.__vue_app__)},provide(d,h){return i.provides[d]=h,u}};return u}}function Yd(r,e,t,o,n=!1){if(It(r)){r.forEach((p,v)=>Yd(p,e&&(It(e)?e[v]:e),t,o,n));return}if(Kl(o)&&!n)return;const i=o.shapeFlag&4?Pc(o.component)||o.component.proxy:o.el,s=n?null:i,{i:c,r:u}=r,d=e&&e.r,h=c.refs===fe?c.refs={}:c.refs,b=c.setupState;if(d!=null&&d!==u&&(Ne(d)?(h[d]=null,Qt(b,d)&&(b[d]=null)):Re(d)&&(d.value=null)),Ut(u))gn(u,c,12,[s,h]);else{const p=Ne(u),v=Re(u);if(p||v){const _=()=>{if(r.f){const w=p?h[u]:u.value;n?It(w)&&Ef(w,i):It(w)?w.includes(i)||w.push(i):p?(h[u]=[i],Qt(b,u)&&(b[u]=h[u])):(u.value=[i],r.k&&(h[r.k]=u.value))}else p?(h[u]=s,Qt(b,u)&&(b[u]=s)):v&&(u.value=s,r.k&&(h[r.k]=s))};s?(_.id=-1,io(_,t)):_()}}}const io=SC;function aT(r){return sT(r)}function sT(r,e){const t=NE();t.__VUE__=!0;const{insert:o,remove:n,patchProp:i,createElement:s,createText:c,createComment:u,setText:d,setElementText:h,parentNode:b,nextSibling:p,setScopeId:v=Jo,cloneNode:_,insertStaticContent:w}=r,k=(E,O,M,V=null,W=null,tt=null,nt=!1,q=null,J=!!O.dynamicChildren)=>{if(E===O)return;E&&!Yn(E,O)&&(V=at(E),Xt(E,W,tt,!0),E=null),O.patchFlag===-2&&(J=!1,O.dynamicChildren=null);const{type:j,ref:gt,shapeFlag:pt}=O;switch(j){case zf:T(E,O,M,V);break;case Lr:A(E,O,M,V);break;case ld:E==null&&I(O,M,V,nt);break;case ao:ft(E,O,M,V,W,tt,nt,q,J);break;default:pt&1?X(E,O,M,V,W,tt,nt,q,J):pt&6?mt(E,O,M,V,W,tt,nt,q,J):(pt&64||pt&128)&&j.process(E,O,M,V,W,tt,nt,q,J,Zt)}gt!=null&&W&&Yd(gt,E&&E.ref,tt,O||E,!O)},T=(E,O,M,V)=>{if(E==null)o(O.el=c(O.children),M,V);else{const W=O.el=E.el;O.children!==E.children&&d(W,O.children)}},A=(E,O,M,V)=>{E==null?o(O.el=u(O.children||""),M,V):O.el=E.el},I=(E,O,M,V)=>{[E.el,E.anchor]=w(E.children,O,M,V,E.el,E.anchor)},P=({el:E,anchor:O},M,V)=>{let W;for(;E&&E!==O;)W=p(E),o(E,M,V),E=W;o(O,M,V)},D=({el:E,anchor:O})=>{let M;for(;E&&E!==O;)M=p(E),n(E),E=M;n(O)},X=(E,O,M,V,W,tt,nt,q,J)=>{nt=nt||O.type==="svg",E==null?G(O,M,V,W,tt,nt,q,J):ot(E,O,W,tt,nt,q,J)},G=(E,O,M,V,W,tt,nt,q)=>{let J,j;const{type:gt,props:pt,shapeFlag:vt,transition:wt,patchFlag:Mt,dirs:Ft}=E;if(E.el&&_!==void 0&&Mt===-1)J=E.el=_(E.el);else{if(J=E.el=s(E.type,tt,pt&&pt.is,pt),vt&8?h(J,E.children):vt&16&&K(E.children,J,null,V,W,tt&&gt!=="foreignObject",nt,q),Ft&&Nn(E,null,V,"created"),pt){for(const Vt in pt)Vt!=="value"&&!Vl(Vt)&&i(J,Vt,null,pt[Vt],tt,E.children,V,W,Q);"value"in pt&&i(J,"value",null,pt.value),(j=pt.onVnodeBeforeMount)&&ar(j,V,E)}F(J,E,E.scopeId,nt,V)}Ft&&Nn(E,null,V,"beforeMount");const Gt=(!W||W&&!W.pendingBranch)&&wt&&!wt.persisted;Gt&&wt.beforeEnter(J),o(J,O,M),((j=pt&&pt.onVnodeMounted)||Gt||Ft)&&io(()=>{j&&ar(j,V,E),Gt&&wt.enter(J),Ft&&Nn(E,null,V,"mounted")},W)},F=(E,O,M,V,W)=>{if(M&&v(E,M),V)for(let tt=0;tt<V.length;tt++)v(E,V[tt]);if(W){let tt=W.subTree;if(O===tt){const nt=W.vnode;F(E,nt,nt.scopeId,nt.slotScopeIds,W.parent)}}},K=(E,O,M,V,W,tt,nt,q,J=0)=>{for(let j=J;j<E.length;j++){const gt=E[j]=q?an(E[j]):lr(E[j]);k(null,gt,O,M,V,W,tt,nt,q)}},ot=(E,O,M,V,W,tt,nt)=>{const q=O.el=E.el;let{patchFlag:J,dynamicChildren:j,dirs:gt}=O;J|=E.patchFlag&16;const pt=E.props||fe,vt=O.props||fe;let wt;M&&zn(M,!1),(wt=vt.onVnodeBeforeUpdate)&&ar(wt,M,O,E),gt&&Nn(O,E,M,"beforeUpdate"),M&&zn(M,!0);const Mt=W&&O.type!=="foreignObject";if(j?st(E.dynamicChildren,j,q,M,V,Mt,tt):nt||yt(E,O,q,null,M,V,Mt,tt,!1),J>0){if(J&16)dt(q,O,pt,vt,M,V,W);else if(J&2&&pt.class!==vt.class&&i(q,"class",null,vt.class,W),J&4&&i(q,"style",pt.style,vt.style,W),J&8){const Ft=O.dynamicProps;for(let Gt=0;Gt<Ft.length;Gt++){const Vt=Ft[Gt],Ee=pt[Vt],ge=vt[Vt];(ge!==Ee||Vt==="value")&&i(q,Vt,Ee,ge,W,E.children,M,V,Q)}}J&1&&E.children!==O.children&&h(q,O.children)}else!nt&&j==null&&dt(q,O,pt,vt,M,V,W);((wt=vt.onVnodeUpdated)||gt)&&io(()=>{wt&&ar(wt,M,O,E),gt&&Nn(O,E,M,"updated")},V)},st=(E,O,M,V,W,tt,nt)=>{for(let q=0;q<O.length;q++){const J=E[q],j=O[q],gt=J.el&&(J.type===ao||!Yn(J,j)||J.shapeFlag&70)?b(J.el):M;k(J,j,gt,null,V,W,tt,nt,!0)}},dt=(E,O,M,V,W,tt,nt)=>{if(M!==V){for(const q in V){if(Vl(q))continue;const J=V[q],j=M[q];J!==j&&q!=="value"&&i(E,q,j,J,nt,O.children,W,tt,Q)}if(M!==fe)for(const q in M)!Vl(q)&&!(q in V)&&i(E,q,M[q],null,nt,O.children,W,tt,Q);"value"in V&&i(E,"value",M.value,V.value)}},ft=(E,O,M,V,W,tt,nt,q,J)=>{const j=O.el=E?E.el:c(""),gt=O.anchor=E?E.anchor:c("");let{patchFlag:pt,dynamicChildren:vt,slotScopeIds:wt}=O;wt&&(q=q?q.concat(wt):wt),E==null?(o(j,M,V),o(gt,M,V),K(O.children,M,gt,W,tt,nt,q,J)):pt>0&&pt&64&&vt&&E.dynamicChildren?(st(E.dynamicChildren,vt,M,W,tt,nt,q),(O.key!=null||W&&O===W.subTree)&&wm(E,O,!0)):yt(E,O,M,gt,W,tt,nt,q,J)},mt=(E,O,M,V,W,tt,nt,q,J)=>{O.slotScopeIds=q,E==null?O.shapeFlag&512?W.ctx.activate(O,M,V,nt,J):it(O,M,V,W,tt,nt,J):ht(E,O,J)},it=(E,O,M,V,W,tt,nt)=>{const q=E.component=vT(E,V,W);if(Oc(E)&&(q.ctx.renderer=Zt),mT(q),q.asyncDep){if(W&&W.registerDep(q,et),!E.el){const J=q.subTree=Ue(Lr);A(null,J,O,M)}return}et(q,E,O,M,W,tt,nt)},ht=(E,O,M)=>{const V=O.component=E.component;if(AC(E,O,M))if(V.asyncDep&&!V.asyncResolved){ut(V,O,M);return}else V.next=O,xC(V.update),V.update();else O.el=E.el,V.vnode=O},et=(E,O,M,V,W,tt,nt)=>{const q=()=>{if(E.isMounted){let{next:gt,bu:pt,u:vt,parent:wt,vnode:Mt}=E,Ft=gt,Gt;zn(E,!1),gt?(gt.el=Mt.el,ut(E,gt,nt)):gt=Mt,pt&&jl(pt),(Gt=gt.props&&gt.props.onVnodeBeforeUpdate)&&ar(Gt,wt,gt,Mt),zn(E,!0);const Vt=ad(E),Ee=E.subTree;E.subTree=Vt,k(Ee,Vt,b(Ee.el),at(Ee),E,W,tt),gt.el=Vt.el,Ft===null&&OC(E,Vt.el),vt&&io(vt,W),(Gt=gt.props&&gt.props.onVnodeUpdated)&&io(()=>ar(Gt,wt,gt,Mt),W)}else{let gt;const{el:pt,props:vt}=O,{bm:wt,m:Mt,parent:Ft}=E,Gt=Kl(O);if(zn(E,!1),wt&&jl(wt),!Gt&&(gt=vt&&vt.onVnodeBeforeMount)&&ar(gt,Ft,O),zn(E,!0),pt&&Ct){const Vt=()=>{E.subTree=ad(E),Ct(pt,E.subTree,E,W,null)};Gt?O.type.__asyncLoader().then(()=>!E.isUnmounted&&Vt()):Vt()}else{const Vt=E.subTree=ad(E);k(null,Vt,M,V,E,W,tt),O.el=Vt.el}if(Mt&&io(Mt,W),!Gt&&(gt=vt&&vt.onVnodeMounted)){const Vt=O;io(()=>ar(gt,Ft,Vt),W)}(O.shapeFlag&256||Ft&&Kl(Ft.vnode)&&Ft.vnode.shapeFlag&256)&&E.a&&io(E.a,W),E.isMounted=!0,O=M=V=null}},J=E.effect=new Rf(q,()=>em(j),E.scope),j=E.update=()=>J.run();j.id=E.uid,zn(E,!0),j()},ut=(E,O,M)=>{O.component=E;const V=E.vnode.props;E.vnode=O,E.next=null,tT(E,O.props,V,M),rT(E,O.children,M),na(),Rc(void 0,E.update),ia()},yt=(E,O,M,V,W,tt,nt,q,J=!1)=>{const j=E&&E.children,gt=E?E.shapeFlag:0,pt=O.children,{patchFlag:vt,shapeFlag:wt}=O;if(vt>0){if(vt&128){Lt(j,pt,M,V,W,tt,nt,q,J);return}else if(vt&256){Pt(j,pt,M,V,W,tt,nt,q,J);return}}wt&8?(gt&16&&Q(j,W,tt),pt!==j&&h(M,pt)):gt&16?wt&16?Lt(j,pt,M,V,W,tt,nt,q,J):Q(j,W,tt,!0):(gt&8&&h(M,""),wt&16&&K(pt,M,V,W,tt,nt,q,J))},Pt=(E,O,M,V,W,tt,nt,q,J)=>{E=E||Wi,O=O||Wi;const j=E.length,gt=O.length,pt=Math.min(j,gt);let vt;for(vt=0;vt<pt;vt++){const wt=O[vt]=J?an(O[vt]):lr(O[vt]);k(E[vt],wt,M,null,W,tt,nt,q,J)}j>gt?Q(E,W,tt,!0,!1,pt):K(O,M,V,W,tt,nt,q,J,pt)},Lt=(E,O,M,V,W,tt,nt,q,J)=>{let j=0;const gt=O.length;let pt=E.length-1,vt=gt-1;for(;j<=pt&&j<=vt;){const wt=E[j],Mt=O[j]=J?an(O[j]):lr(O[j]);if(Yn(wt,Mt))k(wt,Mt,M,null,W,tt,nt,q,J);else break;j++}for(;j<=pt&&j<=vt;){const wt=E[pt],Mt=O[vt]=J?an(O[vt]):lr(O[vt]);if(Yn(wt,Mt))k(wt,Mt,M,null,W,tt,nt,q,J);else break;pt--,vt--}if(j>pt){if(j<=vt){const wt=vt+1,Mt=wt<gt?O[wt].el:V;for(;j<=vt;)k(null,O[j]=J?an(O[j]):lr(O[j]),M,Mt,W,tt,nt,q,J),j++}}else if(j>vt)for(;j<=pt;)Xt(E[j],W,tt,!0),j++;else{const wt=j,Mt=j,Ft=new Map;for(j=Mt;j<=vt;j++){const be=O[j]=J?an(O[j]):lr(O[j]);be.key!=null&&Ft.set(be.key,j)}let Gt,Vt=0;const Ee=vt-Mt+1;let ge=!1,No=0;const ce=new Array(Ee);for(j=0;j<Ee;j++)ce[j]=0;for(j=wt;j<=pt;j++){const be=E[j];if(Vt>=Ee){Xt(be,W,tt,!0);continue}let ze;if(be.key!=null)ze=Ft.get(be.key);else for(Gt=Mt;Gt<=vt;Gt++)if(ce[Gt-Mt]===0&&Yn(be,O[Gt])){ze=Gt;break}ze===void 0?Xt(be,W,tt,!0):(ce[ze-Mt]=j+1,ze>=No?No=ze:ge=!0,k(be,O[ze],M,null,W,tt,nt,q,J),Vt++)}const co=ge?lT(ce):Wi;for(Gt=co.length-1,j=Ee-1;j>=0;j--){const be=Mt+j,ze=O[be],kn=be+1<gt?O[be+1].el:V;ce[j]===0?k(null,ze,M,kn,W,tt,nt,q,J):ge&&(Gt<0||j!==co[Gt]?Z(ze,M,kn,2):Gt--)}}},Z=(E,O,M,V,W=null)=>{const{el:tt,type:nt,transition:q,children:J,shapeFlag:j}=E;if(j&6){Z(E.component.subTree,O,M,V);return}if(j&128){E.suspense.move(O,M,V);return}if(j&64){nt.move(E,O,M,Zt);return}if(nt===ao){o(tt,O,M);for(let pt=0;pt<J.length;pt++)Z(J[pt],O,M,V);o(E.anchor,O,M);return}if(nt===ld){P(E,O,M);return}if(V!==2&&j&1&&q)if(V===0)q.beforeEnter(tt),o(tt,O,M),io(()=>q.enter(tt),W);else{const{leave:pt,delayLeave:vt,afterLeave:wt}=q,Mt=()=>o(tt,O,M),Ft=()=>{pt(tt,()=>{Mt(),wt&&wt()})};vt?vt(tt,Mt,Ft):Ft()}else o(tt,O,M)},Xt=(E,O,M,V=!1,W=!1)=>{const{type:tt,props:nt,ref:q,children:J,dynamicChildren:j,shapeFlag:gt,patchFlag:pt,dirs:vt}=E;if(q!=null&&Yd(q,null,M,E,!0),gt&256){O.ctx.deactivate(E);return}const wt=gt&1&&vt,Mt=!Kl(E);let Ft;if(Mt&&(Ft=nt&&nt.onVnodeBeforeUnmount)&&ar(Ft,O,E),gt&6)rt(E.component,M,V);else{if(gt&128){E.suspense.unmount(M,V);return}wt&&Nn(E,null,O,"beforeUnmount"),gt&64?E.type.remove(E,O,M,W,Zt,V):j&&(tt!==ao||pt>0&&pt&64)?Q(j,O,M,!1,!0):(tt===ao&&pt&384||!W&&gt&16)&&Q(J,O,M),V&&Et(E)}(Mt&&(Ft=nt&&nt.onVnodeUnmounted)||wt)&&io(()=>{Ft&&ar(Ft,O,E),wt&&Nn(E,null,O,"unmounted")},M)},Et=E=>{const{type:O,el:M,anchor:V,transition:W}=E;if(O===ao){z(M,V);return}if(O===ld){D(E);return}const tt=()=>{n(M),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(E.shapeFlag&1&&W&&!W.persisted){const{leave:nt,delayLeave:q}=W,J=()=>nt(M,tt);q?q(E.el,tt,J):J()}else tt()},z=(E,O)=>{let M;for(;E!==O;)M=p(E),n(E),E=M;n(O)},rt=(E,O,M)=>{const{bum:V,scope:W,update:tt,subTree:nt,um:q}=E;V&&jl(V),W.stop(),tt&&(tt.active=!1,Xt(nt,E,O,M)),q&&io(q,O),io(()=>{E.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Q=(E,O,M,V=!1,W=!1,tt=0)=>{for(let nt=tt;nt<E.length;nt++)Xt(E[nt],O,M,V,W)},at=E=>E.shapeFlag&6?at(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el),St=(E,O,M)=>{E==null?O._vnode&&Xt(O._vnode,null,null,!0):k(O._vnode||null,E,O,null,null,null,M),nm(),O._vnode=E},Zt={p:k,um:Xt,m:Z,r:Et,mt:it,mc:K,pc:yt,pbc:st,n:at,o:r};let xt,Ct;return e&&([xt,Ct]=e(Zt)),{render:St,hydrate:xt,createApp:iT(St,xt)}}function zn({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function wm(r,e,t=!1){const o=r.children,n=e.children;if(It(o)&&It(n))for(let i=0;i<o.length;i++){const s=o[i];let c=n[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[i]=an(n[i]),c.el=s.el),t||wm(s,c))}}function lT(r){const e=r.slice(),t=[0];let o,n,i,s,c;const u=r.length;for(o=0;o<u;o++){const d=r[o];if(d!==0){if(n=t[t.length-1],r[n]<d){e[o]=n,t.push(o);continue}for(i=0,s=t.length-1;i<s;)c=i+s>>1,r[t[c]]<d?i=c+1:s=c;d<r[t[i]]&&(i>0&&(e[o]=t[i-1]),t[i]=o)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const cT=r=>r.__isTeleport,ao=Symbol(void 0),zf=Symbol(void 0),Lr=Symbol(void 0),ld=Symbol(void 0),Ha=[];let qo=null;function jo(r=!1){Ha.push(qo=r?null:[])}function uT(){Ha.pop(),qo=Ha[Ha.length-1]||null}let as=1;function hb(r){as+=r}function dT(r){return r.dynamicChildren=as>0?qo||Wi:null,uT(),as>0&&qo&&qo.push(r),r}function Ho(r,e,t,o,n,i){return dT(H(r,e,t,o,n,i,!0))}function Xd(r){return r?r.__v_isVNode===!0:!1}function Yn(r,e){return r.type===e.type&&r.key===e.key}const Sc="__vInternal",km=({key:r})=>r!=null?r:null,$l=({ref:r,ref_key:e,ref_for:t})=>r!=null?Ne(r)||Re(r)||Ut(r)?{i:Zo,r,k:e,f:!!t}:r:null;function H(r,e=null,t=null,o=0,n=null,i=r===ao?0:1,s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&km(e),ref:e&&$l(e),scopeId:sm,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null};return c?(Gf(u,t),i&128&&r.normalize(u)):t&&(u.shapeFlag|=Ne(t)?8:16),as>0&&!s&&qo&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&qo.push(u),u}const Ue=fT;function fT(r,e=null,t=null,o=0,n=null,i=!1){if((!r||r===jC)&&(r=Lr),Xd(r)){const c=_n(r,e,!0);return t&&Gf(c,t),as>0&&!i&&qo&&(c.shapeFlag&6?qo[qo.indexOf(r)]=c:qo.push(c)),c.patchFlag|=-2,c}if(wT(r)&&(r=r.__vccOpts),e){e=hT(e);let{class:c,style:u}=e;c&&!Ne(c)&&(e.class=wf(c)),Oe(u)&&($v(u)&&!It(u)&&(u=Ke({},u)),e.style=xf(u))}const s=Ne(r)?1:IC(r)?128:cT(r)?64:Oe(r)?4:Ut(r)?2:0;return H(r,e,t,o,n,s,i,!0)}function hT(r){return r?$v(r)||Sc in r?Ke({},r):r:null}function _n(r,e,t=!1){const{props:o,ref:n,patchFlag:i,children:s}=r,c=e?pT(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&km(c),ref:e&&e.ref?t&&n?It(n)?n.concat($l(e)):[n,$l(e)]:$l(e):n,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==ao?i===-1?16:i|16:i,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&_n(r.ssContent),ssFallback:r.ssFallback&&_n(r.ssFallback),el:r.el,anchor:r.anchor}}function sa(r=" ",e=0){return Ue(zf,null,r,e)}function lr(r){return r==null||typeof r=="boolean"?Ue(Lr):It(r)?Ue(ao,null,r.slice()):typeof r=="object"?an(r):Ue(zf,null,String(r))}function an(r){return r.el===null||r.memo?r:_n(r)}function Gf(r,e){let t=0;const{shapeFlag:o}=r;if(e==null)e=null;else if(It(e))t=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),Gf(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!(Sc in e)?e._ctx=Zo:n===3&&Zo&&(Zo.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:Zo},t=32):(e=String(e),o&64?(t=16,e=[sa(e)]):t=8);r.children=e,r.shapeFlag|=t}function pT(...r){const e={};for(let t=0;t<r.length;t++){const o=r[t];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=wf([e.class,o.class]));else if(n==="style")e.style=xf([e.style,o.style]);else if(xc(n)){const i=e[n],s=o[n];s&&i!==s&&!(It(i)&&i.includes(s))&&(e[n]=i?[].concat(i,s):s)}else n!==""&&(e[n]=o[n])}return e}function ar(r,e,t,o=null){Po(r,e,7,[t,o])}const gT=xm();let bT=0;function vT(r,e,t){const o=r.type,n=(e?e.appContext:r.appContext)||gT,i={uid:bT++,vnode:r,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Dv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vm(o,n),emitsOptions:am(o,n),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:o.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=EC.bind(null,i),r.ce&&r.ce(i),i}let We=null;const Bf=()=>We||Zo,Ki=r=>{We=r,r.scope.on()},Qn=()=>{We&&We.scope.off(),We=null};function Em(r){return r.vnode.shapeFlag&4}let ss=!1;function mT(r,e=!1){ss=e;const{props:t,children:o}=r.vnode,n=Em(r);QC(r,t,n,e),oT(r,o);const i=n?_T(r,e):void 0;return ss=!1,i}function _T(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=Hi(new Proxy(r.ctx,HC));const{setup:o}=t;if(o){const n=r.setupContext=o.length>1?xT(r):null;Ki(r),na();const i=gn(o,r,0,[r.props,n]);if(ia(),Qn(),Pv(i)){if(i.then(Qn,Qn),e)return i.then(s=>{pb(r,s,e)}).catch(s=>{Tc(s,r,0)});r.asyncDep=i}else pb(r,i,e)}else Cm(r,e)}function pb(r,e,t){Ut(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Oe(e)&&(r.setupState=Qv(e)),Cm(r,t)}let gb;function Cm(r,e,t){const o=r.type;if(!r.render){if(!e&&gb&&!o.render){const n=o.template;if(n){const{isCustomElement:i,compilerOptions:s}=r.appContext.config,{delimiters:c,compilerOptions:u}=o,d=Ke(Ke({isCustomElement:i,delimiters:c},s),u);o.render=gb(n,d)}}r.render=o.render||Jo}Ki(r),na(),KC(r),ia(),Qn()}function yT(r){return new Proxy(r.attrs,{get(e,t){return _o(r,"get","$attrs"),e[t]}})}function xT(r){const e=o=>{r.exposed=o||{}};let t;return{get attrs(){return t||(t=yT(r))},slots:r.slots,emit:r.emit,expose:e}}function Pc(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Qv(Hi(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in oc)return oc[t](r)}}))}function wT(r){return Ut(r)&&"__vccOpts"in r}const Ko=(r,e)=>mC(r,e,ss);function Tm(r,e,t){const o=arguments.length;return o===2?Oe(e)&&!It(e)?Xd(e)?Ue(r,null,[e]):Ue(r,e):Ue(r,null,e):(o>3?t=Array.prototype.slice.call(arguments,2):o===3&&Xd(t)&&(t=[t]),Ue(r,e,t))}const kT="3.2.37",ET="http://www.w3.org/2000/svg",Xn=typeof document!="undefined"?document:null,bb=Xn&&Xn.createElement("template"),CT={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,o)=>{const n=e?Xn.createElementNS(ET,r):Xn.createElement(r,t?{is:t}:void 0);return r==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:r=>Xn.createTextNode(r),createComment:r=>Xn.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Xn.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,o,n,i){const s=t?t.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===i||!(n=n.nextSibling)););else{bb.innerHTML=o?`<svg>${r}</svg>`:r;const c=bb.content;if(o){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function TT(r,e,t){const o=r._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function RT(r,e,t){const o=r.style,n=Ne(t);if(t&&!n){for(const i in t)Vd(o,i,t[i]);if(e&&!Ne(e))for(const i in e)t[i]==null&&Vd(o,i,"")}else{const i=o.display;n?e!==t&&(o.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(o.display=i)}}const vb=/\s*!important$/;function Vd(r,e,t){if(It(t))t.forEach(o=>Vd(r,e,o));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const o=AT(r,e);vb.test(t)?r.setProperty(ra(o),t.replace(vb,""),"important"):r[o]=t}}const mb=["Webkit","Moz","ms"],cd={};function AT(r,e){const t=cd[e];if(t)return t;let o=ji(e);if(o!=="filter"&&o in r)return cd[e]=o;o=Fv(o);for(let n=0;n<mb.length;n++){const i=mb[n]+o;if(i in r)return cd[e]=i}return e}const _b="http://www.w3.org/1999/xlink";function OT(r,e,t,o,n){if(o&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(_b,e.slice(6,e.length)):r.setAttributeNS(_b,e,t);else{const i=CE(e);t==null||i&&!Iv(t)?r.removeAttribute(e):r.setAttribute(e,i?"":t)}}function IT(r,e,t,o,n,i,s){if(e==="innerHTML"||e==="textContent"){o&&s(o,n,i),r[e]=t==null?"":t;return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const u=t==null?"":t;(r.value!==u||r.tagName==="OPTION")&&(r.value=u),t==null&&r.removeAttribute(e);return}let c=!1;if(t===""||t==null){const u=typeof r[e];u==="boolean"?t=Iv(t):t==null&&u==="string"?(t="",c=!0):u==="number"&&(t=0,c=!0)}try{r[e]=t}catch{}c&&r.removeAttribute(e)}const[Rm,ST]=(()=>{let r=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let jd=0;const PT=Promise.resolve(),LT=()=>{jd=0},MT=()=>jd||(PT.then(LT),jd=Rm());function Vn(r,e,t,o){r.addEventListener(e,t,o)}function FT(r,e,t,o){r.removeEventListener(e,t,o)}function DT(r,e,t,o,n=null){const i=r._vei||(r._vei={}),s=i[e];if(o&&s)s.value=o;else{const[c,u]=NT(e);if(o){const d=i[e]=zT(o,n);Vn(r,c,d,u)}else s&&(FT(r,c,s,u),i[e]=void 0)}}const yb=/(?:Once|Passive|Capture)$/;function NT(r){let e;if(yb.test(r)){e={};let t;for(;t=r.match(yb);)r=r.slice(0,r.length-t[0].length),e[t[0].toLowerCase()]=!0}return[ra(r.slice(2)),e]}function zT(r,e){const t=o=>{const n=o.timeStamp||Rm();(ST||n>=t.attached-1)&&Po(GT(o,t.value),e,5,[o])};return t.value=r,t.attached=MT(),t}function GT(r,e){if(It(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const xb=/^on[a-z]/,BT=(r,e,t,o,n=!1,i,s,c,u)=>{e==="class"?TT(r,o,n):e==="style"?RT(r,t,o):xc(e)?kf(e)||DT(r,e,t,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WT(r,e,o,n))?IT(r,e,o,i,s,c,u):(e==="true-value"?r._trueValue=o:e==="false-value"&&(r._falseValue=o),OT(r,e,o,n))};function WT(r,e,t,o){return o?!!(e==="innerHTML"||e==="textContent"||e in r&&xb.test(e)&&Ut(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||xb.test(e)&&Ne(t)?!1:e in r}const UT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};FC.props;const nc=r=>{const e=r.props["onUpdate:modelValue"]||!1;return It(e)?t=>jl(e,t):e};function YT(r){r.target.composing=!0}function wb(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ka={created(r,{modifiers:{lazy:e,trim:t,number:o}},n){r._assign=nc(n);const i=o||n.props&&n.props.type==="number";Vn(r,e?"change":"input",s=>{if(s.target.composing)return;let c=r.value;t&&(c=c.trim()),i&&(c=Ql(c)),r._assign(c)}),t&&Vn(r,"change",()=>{r.value=r.value.trim()}),e||(Vn(r,"compositionstart",YT),Vn(r,"compositionend",wb),Vn(r,"change",wb))},mounted(r,{value:e}){r.value=e==null?"":e},beforeUpdate(r,{value:e,modifiers:{lazy:t,trim:o,number:n}},i){if(r._assign=nc(i),r.composing||document.activeElement===r&&r.type!=="range"&&(t||o&&r.value.trim()===e||(n||r.type==="number")&&Ql(r.value)===e))return;const s=e==null?"":e;r.value!==s&&(r.value=s)}},XT={deep:!0,created(r,{value:e,modifiers:{number:t}},o){const n=wc(e);Vn(r,"change",()=>{const i=Array.prototype.filter.call(r.options,s=>s.selected).map(s=>t?Ql(ic(s)):ic(s));r._assign(r.multiple?n?new Set(i):i:i[0])}),r._assign=nc(o)},mounted(r,{value:e}){kb(r,e)},beforeUpdate(r,e,t){r._assign=nc(t)},updated(r,{value:e}){kb(r,e)}};function kb(r,e){const t=r.multiple;if(!(t&&!It(e)&&!wc(e))){for(let o=0,n=r.options.length;o<n;o++){const i=r.options[o],s=ic(i);if(t)It(e)?i.selected=IE(e,s)>-1:i.selected=e.has(s);else if(yc(ic(i),e)){r.selectedIndex!==o&&(r.selectedIndex=o);return}}!t&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function ic(r){return"_value"in r?r._value:r.value}const VT=Ke({patchProp:BT},CT);let Eb;function jT(){return Eb||(Eb=aT(VT))}const HT=(...r)=>{const e=jT().createApp(...r),{mount:t}=e;return e.mount=o=>{const n=KT(o);if(!n)return;const i=e._component;!Ut(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const s=t(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e};function KT(r){return Ne(r)?document.querySelector(r):r}var $T=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Am;const Lc=r=>Am=r,Om=Symbol();function Hd(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var $a;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})($a||($a={}));function ZT(){const r=Nv(!0),e=r.run(()=>Cc({}));let t=[],o=[];const n=Hi({install(i){Lc(n),n._a=i,i.provide(Om,n),i.config.globalProperties.$pinia=n,o.forEach(s=>t.push(s)),o=[]},use(i){return!this._a&&!$T?o.push(i):t.push(i),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const Im=()=>{};function Cb(r,e,t,o=Im){r.push(e);const n=()=>{const i=r.indexOf(e);i>-1&&(r.splice(i,1),o())};return!t&&Bf()&&Df(n),n}function Ci(r,...e){r.slice().forEach(t=>{t(...e)})}function Kd(r,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t],n=r[t];Hd(n)&&Hd(o)&&r.hasOwnProperty(t)&&!Re(o)&&!pn(o)?r[t]=Kd(n,o):r[t]=o}return r}const qT=Symbol();function JT(r){return!Hd(r)||!r.hasOwnProperty(qT)}const{assign:Ar}=Object;function QT(r){return!!(Re(r)&&r.effect)}function t2(r,e,t,o){const{state:n,actions:i,getters:s}=e,c=t.state.value[r];let u;function d(){c||(t.state.value[r]=n?n():{});const h=pC(t.state.value[r]);return Ar(h,i,Object.keys(s||{}).reduce((b,p)=>(b[p]=Hi(Ko(()=>{Lc(t);const v=t._s.get(r);return s[p].call(v,v)})),b),{}))}return u=Sm(r,d,e,t,o,!0),u.$reset=function(){const b=n?n():{};this.$patch(p=>{Ar(p,b)})},u}function Sm(r,e,t={},o,n,i){let s;const c=Ar({actions:{}},t),u={deep:!0};let d,h,b=Hi([]),p=Hi([]),v;const _=o.state.value[r];!i&&!_&&(o.state.value[r]={}),Cc({});let w;function k(G){let F;d=h=!1,typeof G=="function"?(G(o.state.value[r]),F={type:$a.patchFunction,storeId:r,events:v}):(Kd(o.state.value[r],G),F={type:$a.patchObject,payload:G,storeId:r,events:v});const K=w=Symbol();Mf().then(()=>{w===K&&(d=!0)}),h=!0,Ci(b,F,o.state.value[r])}const T=Im;function A(){s.stop(),b=[],p=[],o._s.delete(r)}function I(G,F){return function(){Lc(o);const K=Array.from(arguments),ot=[],st=[];function dt(it){ot.push(it)}function ft(it){st.push(it)}Ci(p,{args:K,name:G,store:D,after:dt,onError:ft});let mt;try{mt=F.apply(this&&this.$id===r?this:D,K)}catch(it){throw Ci(st,it),it}return mt instanceof Promise?mt.then(it=>(Ci(ot,it),it)).catch(it=>(Ci(st,it),Promise.reject(it))):(Ci(ot,mt),mt)}}const P={_p:o,$id:r,$onAction:Cb.bind(null,p),$patch:k,$reset:T,$subscribe(G,F={}){const K=Cb(b,G,F.detached,()=>ot()),ot=s.run(()=>Qo(()=>o.state.value[r],st=>{(F.flush==="sync"?h:d)&&G({storeId:r,type:$a.direct,events:v},st)},Ar({},u,F)));return K},$dispose:A},D=aa(Ar({},P));o._s.set(r,D);const X=o._e.run(()=>(s=Nv(),s.run(()=>e())));for(const G in X){const F=X[G];if(Re(F)&&!QT(F)||pn(F))i||(_&&JT(F)&&(Re(F)?F.value=_[G]:Kd(F,_[G])),o.state.value[r][G]=F);else if(typeof F=="function"){const K=I(G,F);X[G]=K,c.actions[G]=F}}return Ar(D,X),Ar(oe(D),X),Object.defineProperty(D,"$state",{get:()=>o.state.value[r],set:G=>{k(F=>{Ar(F,G)})}}),o._p.forEach(G=>{Ar(D,s.run(()=>G({store:D,app:o._a,pinia:o,options:c})))}),_&&i&&t.hydrate&&t.hydrate(D.$state,_),d=!0,h=!0,D}function Wf(r,e,t){let o,n;const i=typeof e=="function";typeof r=="string"?(o=r,n=i?t:e):(n=r,o=r.id);function s(c,u){const d=Bf();return c=c||d&&Pr(Om),c&&Lc(c),c=Am,c._s.has(o)||(i?Sm(o,e,n,c):t2(o,n,c)),c._s.get(o)}return s.$id=o,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Pm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",la=r=>Pm?Symbol(r):"_vr_"+r,e2=la("rvlm"),Tb=la("rvd"),Uf=la("r"),Lm=la("rl"),$d=la("rvl"),Li=typeof window!="undefined";function o2(r){return r.__esModule||Pm&&r[Symbol.toStringTag]==="Module"}const de=Object.assign;function ud(r,e){const t={};for(const o in e){const n=e[o];t[o]=Array.isArray(n)?n.map(r):r(n)}return t}const Za=()=>{},r2=/\/$/,n2=r=>r.replace(r2,"");function dd(r,e,t="/"){let o,n={},i="",s="";const c=e.indexOf("?"),u=e.indexOf("#",c>-1?c:0);return c>-1&&(o=e.slice(0,c),i=e.slice(c+1,u>-1?u:e.length),n=r(i)),u>-1&&(o=o||e.slice(0,u),s=e.slice(u,e.length)),o=l2(o!=null?o:e,t),{fullPath:o+(i&&"?")+i+s,path:o,query:n,hash:s}}function i2(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Rb(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function a2(r,e,t){const o=e.matched.length-1,n=t.matched.length-1;return o>-1&&o===n&&$i(e.matched[o],t.matched[n])&&Mm(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function $i(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function Mm(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!s2(r[t],e[t]))return!1;return!0}function s2(r,e){return Array.isArray(r)?Ab(r,e):Array.isArray(e)?Ab(e,r):r===e}function Ab(r,e){return Array.isArray(e)?r.length===e.length&&r.every((t,o)=>t===e[o]):r.length===1&&r[0]===e}function l2(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),o=r.split("/");let n=t.length-1,i,s;for(i=0;i<o.length;i++)if(s=o[i],!(n===1||s==="."))if(s==="..")n--;else break;return t.slice(0,n).join("/")+"/"+o.slice(i-(i===o.length?1:0)).join("/")}var ls;(function(r){r.pop="pop",r.push="push"})(ls||(ls={}));var qa;(function(r){r.back="back",r.forward="forward",r.unknown=""})(qa||(qa={}));function c2(r){if(!r)if(Li){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),n2(r)}const u2=/^[^#]+#/;function d2(r,e){return r.replace(u2,"#")+e}function f2(r,e){const t=document.documentElement.getBoundingClientRect(),o=r.getBoundingClientRect();return{behavior:e.behavior,left:o.left-t.left-(e.left||0),top:o.top-t.top-(e.top||0)}}const Mc=()=>({left:window.pageXOffset,top:window.pageYOffset});function h2(r){let e;if("el"in r){const t=r.el,o=typeof t=="string"&&t.startsWith("#"),n=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!n)return;e=f2(n,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ob(r,e){return(history.state?history.state.position-e:-1)+r}const Zd=new Map;function p2(r,e){Zd.set(r,e)}function g2(r){const e=Zd.get(r);return Zd.delete(r),e}let b2=()=>location.protocol+"//"+location.host;function Fm(r,e){const{pathname:t,search:o,hash:n}=e,i=r.indexOf("#");if(i>-1){let c=n.includes(r.slice(i))?r.slice(i).length:1,u=n.slice(c);return u[0]!=="/"&&(u="/"+u),Rb(u,"")}return Rb(t,r)+o+n}function v2(r,e,t,o){let n=[],i=[],s=null;const c=({state:p})=>{const v=Fm(r,location),_=t.value,w=e.value;let k=0;if(p){if(t.value=v,e.value=p,s&&s===_){s=null;return}k=w?p.position-w.position:0}else o(v);n.forEach(T=>{T(t.value,_,{delta:k,type:ls.pop,direction:k?k>0?qa.forward:qa.back:qa.unknown})})};function u(){s=t.value}function d(p){n.push(p);const v=()=>{const _=n.indexOf(p);_>-1&&n.splice(_,1)};return i.push(v),v}function h(){const{history:p}=window;!p.state||p.replaceState(de({},p.state,{scroll:Mc()}),"")}function b(){for(const p of i)p();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h),{pauseListeners:u,listen:d,destroy:b}}function Ib(r,e,t,o=!1,n=!1){return{back:r,current:e,forward:t,replaced:o,position:window.history.length,scroll:n?Mc():null}}function m2(r){const{history:e,location:t}=window,o={value:Fm(r,t)},n={value:e.state};n.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,d,h){const b=r.indexOf("#"),p=b>-1?(t.host&&document.querySelector("base")?r:r.slice(b))+u:b2()+r+u;try{e[h?"replaceState":"pushState"](d,"",p),n.value=d}catch(v){console.error(v),t[h?"replace":"assign"](p)}}function s(u,d){const h=de({},e.state,Ib(n.value.back,u,n.value.forward,!0),d,{position:n.value.position});i(u,h,!0),o.value=u}function c(u,d){const h=de({},n.value,e.state,{forward:u,scroll:Mc()});i(h.current,h,!0);const b=de({},Ib(o.value,u,null),{position:h.position+1},d);i(u,b,!1),o.value=u}return{location:o,state:n,push:c,replace:s}}function _2(r){r=c2(r);const e=m2(r),t=v2(r,e.state,e.location,e.replace);function o(i,s=!0){s||t.pauseListeners(),history.go(i)}const n=de({location:"",base:r,go:o,createHref:d2.bind(null,r)},e,t);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function y2(r){return typeof r=="string"||r&&typeof r=="object"}function Dm(r){return typeof r=="string"||typeof r=="symbol"}const qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nm=la("nf");var Sb;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(Sb||(Sb={}));function Zi(r,e){return de(new Error,{type:r,[Nm]:!0},e)}function Jr(r,e){return r instanceof Error&&Nm in r&&(e==null||!!(r.type&e))}const Pb="[^/]+?",x2={sensitive:!1,strict:!1,start:!0,end:!0},w2=/[.+*?^${}()[\]/\\]/g;function k2(r,e){const t=de({},x2,e),o=[];let n=t.start?"^":"";const i=[];for(const d of r){const h=d.length?[]:[90];t.strict&&!d.length&&(n+="/");for(let b=0;b<d.length;b++){const p=d[b];let v=40+(t.sensitive?.25:0);if(p.type===0)b||(n+="/"),n+=p.value.replace(w2,"\\$&"),v+=40;else if(p.type===1){const{value:_,repeatable:w,optional:k,regexp:T}=p;i.push({name:_,repeatable:w,optional:k});const A=T||Pb;if(A!==Pb){v+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${_}" (${A}): `+P.message)}}let I=w?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;b||(I=k&&d.length<2?`(?:/${I})`:"/"+I),k&&(I+="?"),n+=I,v+=20,k&&(v+=-8),w&&(v+=-20),A===".*"&&(v+=-50)}h.push(v)}o.push(h)}if(t.strict&&t.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}t.strict||(n+="/?"),t.end?n+="$":t.strict&&(n+="(?:/|$)");const s=new RegExp(n,t.sensitive?"":"i");function c(d){const h=d.match(s),b={};if(!h)return null;for(let p=1;p<h.length;p++){const v=h[p]||"",_=i[p-1];b[_.name]=v&&_.repeatable?v.split("/"):v}return b}function u(d){let h="",b=!1;for(const p of r){(!b||!h.endsWith("/"))&&(h+="/"),b=!1;for(const v of p)if(v.type===0)h+=v.value;else if(v.type===1){const{value:_,repeatable:w,optional:k}=v,T=_ in d?d[_]:"";if(Array.isArray(T)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(k)p.length<2&&r.length>1&&(h.endsWith("/")?h=h.slice(0,-1):b=!0);else throw new Error(`Missing required param "${_}"`);h+=A}}return h}return{re:s,score:o,keys:i,parse:c,stringify:u}}function E2(r,e){let t=0;for(;t<r.length&&t<e.length;){const o=e[t]-r[t];if(o)return o;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function C2(r,e){let t=0;const o=r.score,n=e.score;for(;t<o.length&&t<n.length;){const i=E2(o[t],n[t]);if(i)return i;t++}return n.length-o.length}const T2={type:0,value:""},R2=/[a-zA-Z0-9_]/;function A2(r){if(!r)return[[]];if(r==="/")return[[T2]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(v){throw new Error(`ERR (${t})/"${d}": ${v}`)}let t=0,o=t;const n=[];let i;function s(){i&&n.push(i),i=[]}let c=0,u,d="",h="";function b(){!d||(t===0?i.push({type:0,value:d}):t===1||t===2||t===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=u}for(;c<r.length;){if(u=r[c++],u==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:u==="/"?(d&&b(),s()):u===":"?(b(),t=1):p();break;case 4:p(),t=o;break;case 1:u==="("?t=2:R2.test(u)?p():(b(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+u:t=3:h+=u;break;case 3:b(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),b(),s(),n}function O2(r,e,t){const o=k2(A2(r.path),t),n=de(o,{record:r,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function I2(r,e){const t=[],o=new Map;e=Mb({strict:!1,end:!0,sensitive:!1},e);function n(h){return o.get(h)}function i(h,b,p){const v=!p,_=P2(h);_.aliasOf=p&&p.record;const w=Mb(e,h),k=[_];if("alias"in h){const I=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of I)k.push(de({},_,{components:p?p.record.components:_.components,path:P,aliasOf:p?p.record:_}))}let T,A;for(const I of k){const{path:P}=I;if(b&&P[0]!=="/"){const D=b.record.path,X=D[D.length-1]==="/"?"":"/";I.path=b.record.path+(P&&X+P)}if(T=O2(I,b,w),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),v&&h.name&&!Lb(T)&&s(h.name)),"children"in _){const D=_.children;for(let X=0;X<D.length;X++)i(D[X],T,p&&p.children[X])}p=p||T,u(T)}return A?()=>{s(A)}:Za}function s(h){if(Dm(h)){const b=o.get(h);b&&(o.delete(h),t.splice(t.indexOf(b),1),b.children.forEach(s),b.alias.forEach(s))}else{const b=t.indexOf(h);b>-1&&(t.splice(b,1),h.record.name&&o.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function c(){return t}function u(h){let b=0;for(;b<t.length&&C2(h,t[b])>=0&&(h.record.path!==t[b].record.path||!zm(h,t[b]));)b++;t.splice(b,0,h),h.record.name&&!Lb(h)&&o.set(h.record.name,h)}function d(h,b){let p,v={},_,w;if("name"in h&&h.name){if(p=o.get(h.name),!p)throw Zi(1,{location:h});w=p.record.name,v=de(S2(b.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),h.params),_=p.stringify(v)}else if("path"in h)_=h.path,p=t.find(A=>A.re.test(_)),p&&(v=p.parse(_),w=p.record.name);else{if(p=b.name?o.get(b.name):t.find(A=>A.re.test(b.path)),!p)throw Zi(1,{location:h,currentLocation:b});w=p.record.name,v=de({},b.params,h.params),_=p.stringify(v)}const k=[];let T=p;for(;T;)k.unshift(T.record),T=T.parent;return{name:w,path:_,params:v,matched:k,meta:M2(k)}}return r.forEach(h=>i(h)),{addRoute:i,resolve:d,removeRoute:s,getRoutes:c,getRecordMatcher:n}}function S2(r,e){const t={};for(const o of e)o in r&&(t[o]=r[o]);return t}function P2(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:L2(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||{}:{default:r.component}}}function L2(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const o in r.components)e[o]=typeof t=="boolean"?t:t[o];return e}function Lb(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function M2(r){return r.reduce((e,t)=>de(e,t.meta),{})}function Mb(r,e){const t={};for(const o in r)t[o]=o in e?e[o]:r[o];return t}function zm(r,e){return e.children.some(t=>t===r||zm(r,t))}const Gm=/#/g,F2=/&/g,D2=/\//g,N2=/=/g,z2=/\?/g,Bm=/\+/g,G2=/%5B/g,B2=/%5D/g,Wm=/%5E/g,W2=/%60/g,Um=/%7B/g,U2=/%7C/g,Ym=/%7D/g,Y2=/%20/g;function Yf(r){return encodeURI(""+r).replace(U2,"|").replace(G2,"[").replace(B2,"]")}function X2(r){return Yf(r).replace(Um,"{").replace(Ym,"}").replace(Wm,"^")}function qd(r){return Yf(r).replace(Bm,"%2B").replace(Y2,"+").replace(Gm,"%23").replace(F2,"%26").replace(W2,"`").replace(Um,"{").replace(Ym,"}").replace(Wm,"^")}function V2(r){return qd(r).replace(N2,"%3D")}function j2(r){return Yf(r).replace(Gm,"%23").replace(z2,"%3F")}function H2(r){return r==null?"":j2(r).replace(D2,"%2F")}function ac(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function K2(r){const e={};if(r===""||r==="?")return e;const o=(r[0]==="?"?r.slice(1):r).split("&");for(let n=0;n<o.length;++n){const i=o[n].replace(Bm," "),s=i.indexOf("="),c=ac(s<0?i:i.slice(0,s)),u=s<0?null:ac(i.slice(s+1));if(c in e){let d=e[c];Array.isArray(d)||(d=e[c]=[d]),d.push(u)}else e[c]=u}return e}function Fb(r){let e="";for(let t in r){const o=r[t];if(t=V2(t),o==null){o!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(o)?o.map(i=>i&&qd(i)):[o&&qd(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function $2(r){const e={};for(const t in r){const o=r[t];o!==void 0&&(e[t]=Array.isArray(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return e}function Ma(){let r=[];function e(o){return r.push(o),()=>{const n=r.indexOf(o);n>-1&&r.splice(n,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function sn(r,e,t,o,n){const i=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((s,c)=>{const u=b=>{b===!1?c(Zi(4,{from:t,to:e})):b instanceof Error?c(b):y2(b)?c(Zi(2,{from:e,to:b})):(i&&o.enterCallbacks[n]===i&&typeof b=="function"&&i.push(b),s())},d=r.call(o&&o.instances[n],e,t,u);let h=Promise.resolve(d);r.length<3&&(h=h.then(u)),h.catch(b=>c(b))})}function fd(r,e,t,o){const n=[];for(const i of r)for(const s in i.components){let c=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(Z2(c)){const d=(c.__vccOpts||c)[e];d&&n.push(sn(d,t,o,i,s))}else{let u=c();n.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const h=o2(d)?d.default:d;i.components[s]=h;const p=(h.__vccOpts||h)[e];return p&&sn(p,t,o,i,s)()}))}}return n}function Z2(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function Db(r){const e=Pr(Uf),t=Pr(Lm),o=Ko(()=>e.resolve(ne(r.to))),n=Ko(()=>{const{matched:u}=o.value,{length:d}=u,h=u[d-1],b=t.matched;if(!h||!b.length)return-1;const p=b.findIndex($i.bind(null,h));if(p>-1)return p;const v=Nb(u[d-2]);return d>1&&Nb(h)===v&&b[b.length-1].path!==v?b.findIndex($i.bind(null,u[d-2])):p}),i=Ko(()=>n.value>-1&&tR(t.params,o.value.params)),s=Ko(()=>n.value>-1&&n.value===t.matched.length-1&&Mm(t.params,o.value.params));function c(u={}){return Q2(u)?e[ne(r.replace)?"replace":"push"](ne(r.to)).catch(Za):Promise.resolve()}return{route:o,href:Ko(()=>o.value.href),isActive:i,isExactActive:s,navigate:c}}const q2=zr({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Db,setup(r,{slots:e}){const t=aa(Db(r)),{options:o}=Pr(Uf),n=Ko(()=>({[zb(r.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[zb(r.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return r.custom?i:Tm("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:n.value},i)}}}),J2=q2;function Q2(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function tR(r,e){for(const t in e){const o=e[t],n=r[t];if(typeof o=="string"){if(o!==n)return!1}else if(!Array.isArray(n)||n.length!==o.length||o.some((i,s)=>i!==n[s]))return!1}return!0}function Nb(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const zb=(r,e,t)=>r!=null?r:e!=null?e:t,eR=zr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const o=Pr($d),n=Ko(()=>r.route||o.value),i=Pr(Tb,0),s=Ko(()=>n.value.matched[i]);Hl(Tb,i+1),Hl(e2,s),Hl($d,n);const c=Cc();return Qo(()=>[c.value,s.value,r.name],([u,d,h],[b,p,v])=>{d&&(d.instances[h]=u,p&&p!==d&&u&&u===b&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!$i(d,p)||!b)&&(d.enterCallbacks[h]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=n.value,d=s.value,h=d&&d.components[r.name],b=r.name;if(!h)return Gb(t.default,{Component:h,route:u});const p=d.props[r.name],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=Tm(h,de({},v,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(d.instances[b]=null)},ref:c}));return Gb(t.default,{Component:w,route:u})||w}}});function Gb(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const Xm=eR;function oR(r){const e=I2(r.routes,r),t=r.parseQuery||K2,o=r.stringifyQuery||Fb,n=r.history,i=Ma(),s=Ma(),c=Ma(),u=dC(qr);let d=qr;Li&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ud.bind(null,z=>""+z),b=ud.bind(null,H2),p=ud.bind(null,ac);function v(z,rt){let Q,at;return Dm(z)?(Q=e.getRecordMatcher(z),at=rt):at=z,e.addRoute(at,Q)}function _(z){const rt=e.getRecordMatcher(z);rt&&e.removeRoute(rt)}function w(){return e.getRoutes().map(z=>z.record)}function k(z){return!!e.getRecordMatcher(z)}function T(z,rt){if(rt=de({},rt||u.value),typeof z=="string"){const Ct=dd(t,z,rt.path),E=e.resolve({path:Ct.path},rt),O=n.createHref(Ct.fullPath);return de(Ct,E,{params:p(E.params),hash:ac(Ct.hash),redirectedFrom:void 0,href:O})}let Q;if("path"in z)Q=de({},z,{path:dd(t,z.path,rt.path).path});else{const Ct=de({},z.params);for(const E in Ct)Ct[E]==null&&delete Ct[E];Q=de({},z,{params:b(z.params)}),rt.params=b(rt.params)}const at=e.resolve(Q,rt),St=z.hash||"";at.params=h(p(at.params));const Zt=i2(o,de({},z,{hash:X2(St),path:at.path})),xt=n.createHref(Zt);return de({fullPath:Zt,hash:St,query:o===Fb?$2(z.query):z.query||{}},at,{redirectedFrom:void 0,href:xt})}function A(z){return typeof z=="string"?dd(t,z,u.value.path):de({},z)}function I(z,rt){if(d!==z)return Zi(8,{from:rt,to:z})}function P(z){return G(z)}function D(z){return P(de(A(z),{replace:!0}))}function X(z){const rt=z.matched[z.matched.length-1];if(rt&&rt.redirect){const{redirect:Q}=rt;let at=typeof Q=="function"?Q(z):Q;return typeof at=="string"&&(at=at.includes("?")||at.includes("#")?at=A(at):{path:at},at.params={}),de({query:z.query,hash:z.hash,params:z.params},at)}}function G(z,rt){const Q=d=T(z),at=u.value,St=z.state,Zt=z.force,xt=z.replace===!0,Ct=X(Q);if(Ct)return G(de(A(Ct),{state:St,force:Zt,replace:xt}),rt||Q);const E=Q;E.redirectedFrom=rt;let O;return!Zt&&a2(o,at,Q)&&(O=Zi(16,{to:E,from:at}),Pt(at,at,!0,!1)),(O?Promise.resolve(O):K(E,at)).catch(M=>Jr(M)?Jr(M,2)?M:yt(M):et(M,E,at)).then(M=>{if(M){if(Jr(M,2))return G(de(A(M.to),{state:St,force:Zt,replace:xt}),rt||E)}else M=st(E,at,!0,xt,St);return ot(E,at,M),M})}function F(z,rt){const Q=I(z,rt);return Q?Promise.reject(Q):Promise.resolve()}function K(z,rt){let Q;const[at,St,Zt]=rR(z,rt);Q=fd(at.reverse(),"beforeRouteLeave",z,rt);for(const Ct of at)Ct.leaveGuards.forEach(E=>{Q.push(sn(E,z,rt))});const xt=F.bind(null,z,rt);return Q.push(xt),Ti(Q).then(()=>{Q=[];for(const Ct of i.list())Q.push(sn(Ct,z,rt));return Q.push(xt),Ti(Q)}).then(()=>{Q=fd(St,"beforeRouteUpdate",z,rt);for(const Ct of St)Ct.updateGuards.forEach(E=>{Q.push(sn(E,z,rt))});return Q.push(xt),Ti(Q)}).then(()=>{Q=[];for(const Ct of z.matched)if(Ct.beforeEnter&&!rt.matched.includes(Ct))if(Array.isArray(Ct.beforeEnter))for(const E of Ct.beforeEnter)Q.push(sn(E,z,rt));else Q.push(sn(Ct.beforeEnter,z,rt));return Q.push(xt),Ti(Q)}).then(()=>(z.matched.forEach(Ct=>Ct.enterCallbacks={}),Q=fd(Zt,"beforeRouteEnter",z,rt),Q.push(xt),Ti(Q))).then(()=>{Q=[];for(const Ct of s.list())Q.push(sn(Ct,z,rt));return Q.push(xt),Ti(Q)}).catch(Ct=>Jr(Ct,8)?Ct:Promise.reject(Ct))}function ot(z,rt,Q){for(const at of c.list())at(z,rt,Q)}function st(z,rt,Q,at,St){const Zt=I(z,rt);if(Zt)return Zt;const xt=rt===qr,Ct=Li?history.state:{};Q&&(at||xt?n.replace(z.fullPath,de({scroll:xt&&Ct&&Ct.scroll},St)):n.push(z.fullPath,St)),u.value=z,Pt(z,rt,Q,xt),yt()}let dt;function ft(){dt||(dt=n.listen((z,rt,Q)=>{const at=T(z),St=X(at);if(St){G(de(St,{replace:!0}),at).catch(Za);return}d=at;const Zt=u.value;Li&&p2(Ob(Zt.fullPath,Q.delta),Mc()),K(at,Zt).catch(xt=>Jr(xt,12)?xt:Jr(xt,2)?(G(xt.to,at).then(Ct=>{Jr(Ct,20)&&!Q.delta&&Q.type===ls.pop&&n.go(-1,!1)}).catch(Za),Promise.reject()):(Q.delta&&n.go(-Q.delta,!1),et(xt,at,Zt))).then(xt=>{xt=xt||st(at,Zt,!1),xt&&(Q.delta?n.go(-Q.delta,!1):Q.type===ls.pop&&Jr(xt,20)&&n.go(-1,!1)),ot(at,Zt,xt)}).catch(Za)}))}let mt=Ma(),it=Ma(),ht;function et(z,rt,Q){yt(z);const at=it.list();return at.length?at.forEach(St=>St(z,rt,Q)):console.error(z),Promise.reject(z)}function ut(){return ht&&u.value!==qr?Promise.resolve():new Promise((z,rt)=>{mt.add([z,rt])})}function yt(z){return ht||(ht=!z,ft(),mt.list().forEach(([rt,Q])=>z?Q(z):rt()),mt.reset()),z}function Pt(z,rt,Q,at){const{scrollBehavior:St}=r;if(!Li||!St)return Promise.resolve();const Zt=!Q&&g2(Ob(z.fullPath,0))||(at||!Q)&&history.state&&history.state.scroll||null;return Mf().then(()=>St(z,rt,Zt)).then(xt=>xt&&h2(xt)).catch(xt=>et(xt,z,rt))}const Lt=z=>n.go(z);let Z;const Xt=new Set;return{currentRoute:u,addRoute:v,removeRoute:_,hasRoute:k,getRoutes:w,resolve:T,options:r,push:P,replace:D,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:i.add,beforeResolve:s.add,afterEach:c.add,onError:it.add,isReady:ut,install(z){const rt=this;z.component("RouterLink",J2),z.component("RouterView",Xm),z.config.globalProperties.$router=rt,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>ne(u)}),Li&&!Z&&u.value===qr&&(Z=!0,P(n.location).catch(St=>{}));const Q={};for(const St in qr)Q[St]=Ko(()=>u.value[St]);z.provide(Uf,rt),z.provide(Lm,aa(Q)),z.provide($d,u);const at=z.unmount;Xt.add(z),z.unmount=function(){Xt.delete(z),Xt.size<1&&(d=qr,dt&&dt(),dt=null,u.value=qr,Z=!1,ht=!1),at()}}}}function Ti(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function rR(r,e){const t=[],o=[],n=[],i=Math.max(e.matched.length,r.matched.length);for(let s=0;s<i;s++){const c=e.matched[s];c&&(r.matched.find(d=>$i(d,c))?o.push(c):t.push(c));const u=r.matched[s];u&&(e.matched.find(d=>$i(d,u))||n.push(u))}return[t,o,n]}const nR=H("header",null,[H("div",{class:"wrapper"})],-1),iR={class:"container"},aR=zr({__name:"App",setup(r){return(e,t)=>(jo(),Ho(ao,null,[nR,H("div",iR,[Ue(ne(Xm))])],64))}}),Xf=Wf({id:"mappingArea",state:()=>({perimeter:null}),getters:{height:r=>{var e;return((e=r.perimeter)==null?void 0:e.height())||0},width:r=>{var e;return((e=r.perimeter)==null?void 0:e.width())||0},area:r=>{var e,t;return(((e=r.perimeter)==null?void 0:e.height())||0)*(((t=r.perimeter)==null?void 0:t.width())||0)}},actions:{}});var Fa=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},sc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,o="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",b=1,p=2,v=4,_=1,w=2,k=1,T=2,A=4,I=8,P=16,D=32,X=64,G=128,F=256,K=512,ot=30,st="...",dt=800,ft=16,mt=1,it=2,ht=3,et=1/0,ut=9007199254740991,yt=17976931348623157e292,Pt=0/0,Lt=4294967295,Z=Lt-1,Xt=Lt>>>1,Et=[["ary",G],["bind",k],["bindKey",T],["curry",I],["curryRight",P],["flip",K],["partial",D],["partialRight",X],["rearg",F]],z="[object Arguments]",rt="[object Array]",Q="[object AsyncFunction]",at="[object Boolean]",St="[object Date]",Zt="[object DOMException]",xt="[object Error]",Ct="[object Function]",E="[object GeneratorFunction]",O="[object Map]",M="[object Number]",V="[object Null]",W="[object Object]",tt="[object Promise]",nt="[object Proxy]",q="[object RegExp]",J="[object Set]",j="[object String]",gt="[object Symbol]",pt="[object Undefined]",vt="[object WeakMap]",wt="[object WeakSet]",Mt="[object ArrayBuffer]",Ft="[object DataView]",Gt="[object Float32Array]",Vt="[object Float64Array]",Ee="[object Int8Array]",ge="[object Int16Array]",No="[object Int32Array]",ce="[object Uint8Array]",co="[object Uint8ClampedArray]",be="[object Uint16Array]",ze="[object Uint32Array]",kn=/\b__p \+= '';/g,ha=/\b(__p \+=) '' \+/g,Hc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ls=/&(?:amp|lt|gt|quot|#39);/g,pa=/[&<>"']/g,Ms=RegExp(Ls.source),ga=RegExp(pa.source),Fs=/<%-([\s\S]+?)%>/g,ba=/<%([\s\S]+?)%>/g,Br=/<%=([\s\S]+?)%>/g,En=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cn=/^\w*$/,Ds=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/[\\^$.*+?()[\]{}|]/g,Kc=RegExp(li.source),va=/^\s+/,Tn=/\s/,Rn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,or=/\{\n\/\* \[wrapped with (.+)\] \*/,ci=/,? & /,ui=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,to=/\\(\\)?/g,ma=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ns=/\w*$/,zs=/^[-+]0x[0-9a-f]+$/i,l_=/^0b[01]+$/i,c_=/^\[object .+?Constructor\]$/,u_=/^0o[0-7]+$/i,d_=/^(?:0|[1-9]\d*)$/,f_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gs=/($^)/,h_=/['\n\r\u2028\u2029\\]/g,Bs="\\ud800-\\udfff",p_="\\u0300-\\u036f",g_="\\ufe20-\\ufe2f",b_="\\u20d0-\\u20ff",kh=p_+g_+b_,Eh="\\u2700-\\u27bf",Ch="a-z\\xdf-\\xf6\\xf8-\\xff",v_="\\xac\\xb1\\xd7\\xf7",m_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",__="\\u2000-\\u206f",y_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Th="A-Z\\xc0-\\xd6\\xd8-\\xde",Rh="\\ufe0e\\ufe0f",Ah=v_+m_+__+y_,$c="['\u2019]",x_="["+Bs+"]",Oh="["+Ah+"]",Ws="["+kh+"]",Ih="\\d+",w_="["+Eh+"]",Sh="["+Ch+"]",Ph="[^"+Bs+Ah+Ih+Eh+Ch+Th+"]",Zc="\\ud83c[\\udffb-\\udfff]",k_="(?:"+Ws+"|"+Zc+")",Lh="[^"+Bs+"]",qc="(?:\\ud83c[\\udde6-\\uddff]){2}",Jc="[\\ud800-\\udbff][\\udc00-\\udfff]",di="["+Th+"]",Mh="\\u200d",Fh="(?:"+Sh+"|"+Ph+")",E_="(?:"+di+"|"+Ph+")",Dh="(?:"+$c+"(?:d|ll|m|re|s|t|ve))?",Nh="(?:"+$c+"(?:D|LL|M|RE|S|T|VE))?",zh=k_+"?",Gh="["+Rh+"]?",C_="(?:"+Mh+"(?:"+[Lh,qc,Jc].join("|")+")"+Gh+zh+")*",T_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bh=Gh+zh+C_,A_="(?:"+[w_,qc,Jc].join("|")+")"+Bh,O_="(?:"+[Lh+Ws+"?",Ws,qc,Jc,x_].join("|")+")",I_=RegExp($c,"g"),S_=RegExp(Ws,"g"),Qc=RegExp(Zc+"(?="+Zc+")|"+O_+Bh,"g"),P_=RegExp([di+"?"+Sh+"+"+Dh+"(?="+[Oh,di,"$"].join("|")+")",E_+"+"+Nh+"(?="+[Oh,di+Fh,"$"].join("|")+")",di+"?"+Fh+"+"+Dh,di+"+"+Nh,R_,T_,Ih,A_].join("|"),"g"),L_=RegExp("["+Mh+Bs+kh+Rh+"]"),M_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,F_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],D_=-1,ve={};ve[Gt]=ve[Vt]=ve[Ee]=ve[ge]=ve[No]=ve[ce]=ve[co]=ve[be]=ve[ze]=!0,ve[z]=ve[rt]=ve[Mt]=ve[at]=ve[Ft]=ve[St]=ve[xt]=ve[Ct]=ve[O]=ve[M]=ve[W]=ve[q]=ve[J]=ve[j]=ve[vt]=!1;var he={};he[z]=he[rt]=he[Mt]=he[Ft]=he[at]=he[St]=he[Gt]=he[Vt]=he[Ee]=he[ge]=he[No]=he[O]=he[M]=he[W]=he[q]=he[J]=he[j]=he[gt]=he[ce]=he[co]=he[be]=he[ze]=!0,he[xt]=he[Ct]=he[vt]=!1;var N_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},z_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},B_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},W_=parseFloat,U_=parseInt,Wh=typeof Fa=="object"&&Fa&&Fa.Object===Object&&Fa,Y_=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Wh||Y_||Function("return this")(),tu=e&&!e.nodeType&&e,An=tu&&!0&&r&&!r.nodeType&&r,Uh=An&&An.exports===tu,eu=Uh&&Wh.process,yo=function(){try{var S=An&&An.require&&An.require("util").types;return S||eu&&eu.binding&&eu.binding("util")}catch{}}(),Yh=yo&&yo.isArrayBuffer,Xh=yo&&yo.isDate,Vh=yo&&yo.isMap,jh=yo&&yo.isRegExp,Hh=yo&&yo.isSet,Kh=yo&&yo.isTypedArray;function uo(S,B,N){switch(N.length){case 0:return S.call(B);case 1:return S.call(B,N[0]);case 2:return S.call(B,N[0],N[1]);case 3:return S.call(B,N[0],N[1],N[2])}return S.apply(B,N)}function X_(S,B,N,bt){for(var Dt=-1,re=S==null?0:S.length;++Dt<re;){var Pe=S[Dt];B(bt,Pe,N(Pe),S)}return bt}function xo(S,B){for(var N=-1,bt=S==null?0:S.length;++N<bt&&B(S[N],N,S)!==!1;);return S}function V_(S,B){for(var N=S==null?0:S.length;N--&&B(S[N],N,S)!==!1;);return S}function $h(S,B){for(var N=-1,bt=S==null?0:S.length;++N<bt;)if(!B(S[N],N,S))return!1;return!0}function Wr(S,B){for(var N=-1,bt=S==null?0:S.length,Dt=0,re=[];++N<bt;){var Pe=S[N];B(Pe,N,S)&&(re[Dt++]=Pe)}return re}function Us(S,B){var N=S==null?0:S.length;return!!N&&fi(S,B,0)>-1}function ou(S,B,N){for(var bt=-1,Dt=S==null?0:S.length;++bt<Dt;)if(N(B,S[bt]))return!0;return!1}function me(S,B){for(var N=-1,bt=S==null?0:S.length,Dt=Array(bt);++N<bt;)Dt[N]=B(S[N],N,S);return Dt}function Ur(S,B){for(var N=-1,bt=B.length,Dt=S.length;++N<bt;)S[Dt+N]=B[N];return S}function ru(S,B,N,bt){var Dt=-1,re=S==null?0:S.length;for(bt&&re&&(N=S[++Dt]);++Dt<re;)N=B(N,S[Dt],Dt,S);return N}function j_(S,B,N,bt){var Dt=S==null?0:S.length;for(bt&&Dt&&(N=S[--Dt]);Dt--;)N=B(N,S[Dt],Dt,S);return N}function nu(S,B){for(var N=-1,bt=S==null?0:S.length;++N<bt;)if(B(S[N],N,S))return!0;return!1}var H_=iu("length");function K_(S){return S.split("")}function $_(S){return S.match(ui)||[]}function Zh(S,B,N){var bt;return N(S,function(Dt,re,Pe){if(B(Dt,re,Pe))return bt=re,!1}),bt}function Ys(S,B,N,bt){for(var Dt=S.length,re=N+(bt?1:-1);bt?re--:++re<Dt;)if(B(S[re],re,S))return re;return-1}function fi(S,B,N){return B===B?sy(S,B,N):Ys(S,qh,N)}function Z_(S,B,N,bt){for(var Dt=N-1,re=S.length;++Dt<re;)if(bt(S[Dt],B))return Dt;return-1}function qh(S){return S!==S}function Jh(S,B){var N=S==null?0:S.length;return N?su(S,B)/N:Pt}function iu(S){return function(B){return B==null?t:B[S]}}function au(S){return function(B){return S==null?t:S[B]}}function Qh(S,B,N,bt,Dt){return Dt(S,function(re,Pe,ue){N=bt?(bt=!1,re):B(N,re,Pe,ue)}),N}function q_(S,B){var N=S.length;for(S.sort(B);N--;)S[N]=S[N].value;return S}function su(S,B){for(var N,bt=-1,Dt=S.length;++bt<Dt;){var re=B(S[bt]);re!==t&&(N=N===t?re:N+re)}return N}function lu(S,B){for(var N=-1,bt=Array(S);++N<S;)bt[N]=B(N);return bt}function J_(S,B){return me(B,function(N){return[N,S[N]]})}function tp(S){return S&&S.slice(0,np(S)+1).replace(va,"")}function fo(S){return function(B){return S(B)}}function cu(S,B){return me(B,function(N){return S[N]})}function _a(S,B){return S.has(B)}function ep(S,B){for(var N=-1,bt=S.length;++N<bt&&fi(B,S[N],0)>-1;);return N}function op(S,B){for(var N=S.length;N--&&fi(B,S[N],0)>-1;);return N}function Q_(S,B){for(var N=S.length,bt=0;N--;)S[N]===B&&++bt;return bt}var ty=au(N_),ey=au(z_);function oy(S){return"\\"+B_[S]}function ry(S,B){return S==null?t:S[B]}function hi(S){return L_.test(S)}function ny(S){return M_.test(S)}function iy(S){for(var B,N=[];!(B=S.next()).done;)N.push(B.value);return N}function uu(S){var B=-1,N=Array(S.size);return S.forEach(function(bt,Dt){N[++B]=[Dt,bt]}),N}function rp(S,B){return function(N){return S(B(N))}}function Yr(S,B){for(var N=-1,bt=S.length,Dt=0,re=[];++N<bt;){var Pe=S[N];(Pe===B||Pe===h)&&(S[N]=h,re[Dt++]=N)}return re}function Xs(S){var B=-1,N=Array(S.size);return S.forEach(function(bt){N[++B]=bt}),N}function ay(S){var B=-1,N=Array(S.size);return S.forEach(function(bt){N[++B]=[bt,bt]}),N}function sy(S,B,N){for(var bt=N-1,Dt=S.length;++bt<Dt;)if(S[bt]===B)return bt;return-1}function ly(S,B,N){for(var bt=N+1;bt--;)if(S[bt]===B)return bt;return bt}function pi(S){return hi(S)?uy(S):H_(S)}function zo(S){return hi(S)?dy(S):K_(S)}function np(S){for(var B=S.length;B--&&Tn.test(S.charAt(B)););return B}var cy=au(G_);function uy(S){for(var B=Qc.lastIndex=0;Qc.test(S);)++B;return B}function dy(S){return S.match(Qc)||[]}function fy(S){return S.match(P_)||[]}var hy=function S(B){B=B==null?Ge:gi.defaults(Ge.Object(),B,gi.pick(Ge,F_));var N=B.Array,bt=B.Date,Dt=B.Error,re=B.Function,Pe=B.Math,ue=B.Object,du=B.RegExp,py=B.String,wo=B.TypeError,Vs=N.prototype,gy=re.prototype,bi=ue.prototype,js=B["__core-js_shared__"],Hs=gy.toString,se=bi.hasOwnProperty,by=0,ip=function(){var a=/[^.]+$/.exec(js&&js.keys&&js.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ks=bi.toString,vy=Hs.call(ue),my=Ge._,_y=du("^"+Hs.call(se).replace(li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$s=Uh?B.Buffer:t,Xr=B.Symbol,Zs=B.Uint8Array,ap=$s?$s.allocUnsafe:t,qs=rp(ue.getPrototypeOf,ue),sp=ue.create,lp=bi.propertyIsEnumerable,Js=Vs.splice,cp=Xr?Xr.isConcatSpreadable:t,ya=Xr?Xr.iterator:t,On=Xr?Xr.toStringTag:t,Qs=function(){try{var a=Mn(ue,"defineProperty");return a({},"",{}),a}catch{}}(),yy=B.clearTimeout!==Ge.clearTimeout&&B.clearTimeout,xy=bt&&bt.now!==Ge.Date.now&&bt.now,wy=B.setTimeout!==Ge.setTimeout&&B.setTimeout,tl=Pe.ceil,el=Pe.floor,fu=ue.getOwnPropertySymbols,ky=$s?$s.isBuffer:t,up=B.isFinite,Ey=Vs.join,Cy=rp(ue.keys,ue),Le=Pe.max,Xe=Pe.min,Ty=bt.now,Ry=B.parseInt,dp=Pe.random,Ay=Vs.reverse,hu=Mn(B,"DataView"),xa=Mn(B,"Map"),pu=Mn(B,"Promise"),vi=Mn(B,"Set"),wa=Mn(B,"WeakMap"),ka=Mn(ue,"create"),ol=wa&&new wa,mi={},Oy=Fn(hu),Iy=Fn(xa),Sy=Fn(pu),Py=Fn(vi),Ly=Fn(wa),rl=Xr?Xr.prototype:t,Ea=rl?rl.valueOf:t,fp=rl?rl.toString:t;function y(a){if(we(a)&&!Nt(a)&&!(a instanceof Ht)){if(a instanceof ko)return a;if(se.call(a,"__wrapped__"))return hg(a)}return new ko(a)}var _i=function(){function a(){}return function(l){if(!ye(l))return{};if(sp)return sp(l);a.prototype=l;var f=new a;return a.prototype=t,f}}();function nl(){}function ko(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}y.templateSettings={escape:Fs,evaluate:ba,interpolate:Br,variable:"",imports:{_:y}},y.prototype=nl.prototype,y.prototype.constructor=y,ko.prototype=_i(nl.prototype),ko.prototype.constructor=ko;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function My(){var a=new Ht(this.__wrapped__);return a.__actions__=eo(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=eo(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=eo(this.__views__),a}function Fy(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Dy(){var a=this.__wrapped__.value(),l=this.__dir__,f=Nt(a),g=l<0,m=f?a.length:0,x=Kx(0,m,this.__views__),C=x.start,R=x.end,L=R-C,U=g?R:C-1,Y=this.__iteratees__,$=Y.length,lt=0,_t=Xe(L,this.__takeCount__);if(!f||!g&&m==L&&_t==L)return Dp(a,this.__actions__);var Tt=[];t:for(;L--&&lt<_t;){U+=l;for(var Wt=-1,Rt=a[U];++Wt<$;){var jt=Y[Wt],qt=jt.iteratee,go=jt.type,qe=qt(Rt);if(go==it)Rt=qe;else if(!qe){if(go==mt)continue t;break t}}Tt[lt++]=Rt}return Tt}Ht.prototype=_i(nl.prototype),Ht.prototype.constructor=Ht;function In(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var g=a[l];this.set(g[0],g[1])}}function Ny(){this.__data__=ka?ka(null):{},this.size=0}function zy(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function Gy(a){var l=this.__data__;if(ka){var f=l[a];return f===u?t:f}return se.call(l,a)?l[a]:t}function By(a){var l=this.__data__;return ka?l[a]!==t:se.call(l,a)}function Wy(a,l){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=ka&&l===t?u:l,this}In.prototype.clear=Ny,In.prototype.delete=zy,In.prototype.get=Gy,In.prototype.has=By,In.prototype.set=Wy;function pr(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var g=a[l];this.set(g[0],g[1])}}function Uy(){this.__data__=[],this.size=0}function Yy(a){var l=this.__data__,f=il(l,a);if(f<0)return!1;var g=l.length-1;return f==g?l.pop():Js.call(l,f,1),--this.size,!0}function Xy(a){var l=this.__data__,f=il(l,a);return f<0?t:l[f][1]}function Vy(a){return il(this.__data__,a)>-1}function jy(a,l){var f=this.__data__,g=il(f,a);return g<0?(++this.size,f.push([a,l])):f[g][1]=l,this}pr.prototype.clear=Uy,pr.prototype.delete=Yy,pr.prototype.get=Xy,pr.prototype.has=Vy,pr.prototype.set=jy;function gr(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var g=a[l];this.set(g[0],g[1])}}function Hy(){this.size=0,this.__data__={hash:new In,map:new(xa||pr),string:new In}}function Ky(a){var l=vl(this,a).delete(a);return this.size-=l?1:0,l}function $y(a){return vl(this,a).get(a)}function Zy(a){return vl(this,a).has(a)}function qy(a,l){var f=vl(this,a),g=f.size;return f.set(a,l),this.size+=f.size==g?0:1,this}gr.prototype.clear=Hy,gr.prototype.delete=Ky,gr.prototype.get=$y,gr.prototype.has=Zy,gr.prototype.set=qy;function Sn(a){var l=-1,f=a==null?0:a.length;for(this.__data__=new gr;++l<f;)this.add(a[l])}function Jy(a){return this.__data__.set(a,u),this}function Qy(a){return this.__data__.has(a)}Sn.prototype.add=Sn.prototype.push=Jy,Sn.prototype.has=Qy;function Go(a){var l=this.__data__=new pr(a);this.size=l.size}function tx(){this.__data__=new pr,this.size=0}function ex(a){var l=this.__data__,f=l.delete(a);return this.size=l.size,f}function ox(a){return this.__data__.get(a)}function rx(a){return this.__data__.has(a)}function nx(a,l){var f=this.__data__;if(f instanceof pr){var g=f.__data__;if(!xa||g.length<n-1)return g.push([a,l]),this.size=++f.size,this;f=this.__data__=new gr(g)}return f.set(a,l),this.size=f.size,this}Go.prototype.clear=tx,Go.prototype.delete=ex,Go.prototype.get=ox,Go.prototype.has=rx,Go.prototype.set=nx;function hp(a,l){var f=Nt(a),g=!f&&Dn(a),m=!f&&!g&&$r(a),x=!f&&!g&&!m&&ki(a),C=f||g||m||x,R=C?lu(a.length,py):[],L=R.length;for(var U in a)(l||se.call(a,U))&&!(C&&(U=="length"||m&&(U=="offset"||U=="parent")||x&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||_r(U,L)))&&R.push(U);return R}function pp(a){var l=a.length;return l?a[Cu(0,l-1)]:t}function ix(a,l){return ml(eo(a),Pn(l,0,a.length))}function ax(a){return ml(eo(a))}function gu(a,l,f){(f!==t&&!Bo(a[l],f)||f===t&&!(l in a))&&br(a,l,f)}function Ca(a,l,f){var g=a[l];(!(se.call(a,l)&&Bo(g,f))||f===t&&!(l in a))&&br(a,l,f)}function il(a,l){for(var f=a.length;f--;)if(Bo(a[f][0],l))return f;return-1}function sx(a,l,f,g){return Vr(a,function(m,x,C){l(g,m,f(m),C)}),g}function gp(a,l){return a&&nr(l,Me(l),a)}function lx(a,l){return a&&nr(l,ro(l),a)}function br(a,l,f){l=="__proto__"&&Qs?Qs(a,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[l]=f}function bu(a,l){for(var f=-1,g=l.length,m=N(g),x=a==null;++f<g;)m[f]=x?t:Zu(a,l[f]);return m}function Pn(a,l,f){return a===a&&(f!==t&&(a=a<=f?a:f),l!==t&&(a=a>=l?a:l)),a}function Eo(a,l,f,g,m,x){var C,R=l&b,L=l&p,U=l&v;if(f&&(C=m?f(a,g,m,x):f(a)),C!==t)return C;if(!ye(a))return a;var Y=Nt(a);if(Y){if(C=Zx(a),!R)return eo(a,C)}else{var $=Ve(a),lt=$==Ct||$==E;if($r(a))return Gp(a,R);if($==W||$==z||lt&&!m){if(C=L||lt?{}:ng(a),!R)return L?Gx(a,lx(C,a)):zx(a,gp(C,a))}else{if(!he[$])return m?a:{};C=qx(a,$,R)}}x||(x=new Go);var _t=x.get(a);if(_t)return _t;x.set(a,C),Lg(a)?a.forEach(function(Rt){C.add(Eo(Rt,l,f,Rt,a,x))}):Sg(a)&&a.forEach(function(Rt,jt){C.set(jt,Eo(Rt,l,f,jt,a,x))});var Tt=U?L?Du:Fu:L?ro:Me,Wt=Y?t:Tt(a);return xo(Wt||a,function(Rt,jt){Wt&&(jt=Rt,Rt=a[jt]),Ca(C,jt,Eo(Rt,l,f,jt,a,x))}),C}function cx(a){var l=Me(a);return function(f){return bp(f,a,l)}}function bp(a,l,f){var g=f.length;if(a==null)return!g;for(a=ue(a);g--;){var m=f[g],x=l[m],C=a[m];if(C===t&&!(m in a)||!x(C))return!1}return!0}function vp(a,l,f){if(typeof a!="function")throw new wo(s);return Pa(function(){a.apply(t,f)},l)}function Ta(a,l,f,g){var m=-1,x=Us,C=!0,R=a.length,L=[],U=l.length;if(!R)return L;f&&(l=me(l,fo(f))),g?(x=ou,C=!1):l.length>=n&&(x=_a,C=!1,l=new Sn(l));t:for(;++m<R;){var Y=a[m],$=f==null?Y:f(Y);if(Y=g||Y!==0?Y:0,C&&$===$){for(var lt=U;lt--;)if(l[lt]===$)continue t;L.push(Y)}else x(l,$,g)||L.push(Y)}return L}var Vr=Xp(rr),mp=Xp(mu,!0);function ux(a,l){var f=!0;return Vr(a,function(g,m,x){return f=!!l(g,m,x),f}),f}function al(a,l,f){for(var g=-1,m=a.length;++g<m;){var x=a[g],C=l(x);if(C!=null&&(R===t?C===C&&!po(C):f(C,R)))var R=C,L=x}return L}function dx(a,l,f,g){var m=a.length;for(f=Bt(f),f<0&&(f=-f>m?0:m+f),g=g===t||g>m?m:Bt(g),g<0&&(g+=m),g=f>g?0:Fg(g);f<g;)a[f++]=l;return a}function _p(a,l){var f=[];return Vr(a,function(g,m,x){l(g,m,x)&&f.push(g)}),f}function Be(a,l,f,g,m){var x=-1,C=a.length;for(f||(f=Qx),m||(m=[]);++x<C;){var R=a[x];l>0&&f(R)?l>1?Be(R,l-1,f,g,m):Ur(m,R):g||(m[m.length]=R)}return m}var vu=Vp(),yp=Vp(!0);function rr(a,l){return a&&vu(a,l,Me)}function mu(a,l){return a&&yp(a,l,Me)}function sl(a,l){return Wr(l,function(f){return yr(a[f])})}function Ln(a,l){l=Hr(l,a);for(var f=0,g=l.length;a!=null&&f<g;)a=a[ir(l[f++])];return f&&f==g?a:t}function xp(a,l,f){var g=l(a);return Nt(a)?g:Ur(g,f(a))}function $e(a){return a==null?a===t?pt:V:On&&On in ue(a)?Hx(a):aw(a)}function _u(a,l){return a>l}function fx(a,l){return a!=null&&se.call(a,l)}function hx(a,l){return a!=null&&l in ue(a)}function px(a,l,f){return a>=Xe(l,f)&&a<Le(l,f)}function yu(a,l,f){for(var g=f?ou:Us,m=a[0].length,x=a.length,C=x,R=N(x),L=1/0,U=[];C--;){var Y=a[C];C&&l&&(Y=me(Y,fo(l))),L=Xe(Y.length,L),R[C]=!f&&(l||m>=120&&Y.length>=120)?new Sn(C&&Y):t}Y=a[0];var $=-1,lt=R[0];t:for(;++$<m&&U.length<L;){var _t=Y[$],Tt=l?l(_t):_t;if(_t=f||_t!==0?_t:0,!(lt?_a(lt,Tt):g(U,Tt,f))){for(C=x;--C;){var Wt=R[C];if(!(Wt?_a(Wt,Tt):g(a[C],Tt,f)))continue t}lt&&lt.push(Tt),U.push(_t)}}return U}function gx(a,l,f,g){return rr(a,function(m,x,C){l(g,f(m),x,C)}),g}function Ra(a,l,f){l=Hr(l,a),a=lg(a,l);var g=a==null?a:a[ir(To(l))];return g==null?t:uo(g,a,f)}function wp(a){return we(a)&&$e(a)==z}function bx(a){return we(a)&&$e(a)==Mt}function vx(a){return we(a)&&$e(a)==St}function Aa(a,l,f,g,m){return a===l?!0:a==null||l==null||!we(a)&&!we(l)?a!==a&&l!==l:mx(a,l,f,g,Aa,m)}function mx(a,l,f,g,m,x){var C=Nt(a),R=Nt(l),L=C?rt:Ve(a),U=R?rt:Ve(l);L=L==z?W:L,U=U==z?W:U;var Y=L==W,$=U==W,lt=L==U;if(lt&&$r(a)){if(!$r(l))return!1;C=!0,Y=!1}if(lt&&!Y)return x||(x=new Go),C||ki(a)?eg(a,l,f,g,m,x):Vx(a,l,L,f,g,m,x);if(!(f&_)){var _t=Y&&se.call(a,"__wrapped__"),Tt=$&&se.call(l,"__wrapped__");if(_t||Tt){var Wt=_t?a.value():a,Rt=Tt?l.value():l;return x||(x=new Go),m(Wt,Rt,f,g,x)}}return lt?(x||(x=new Go),jx(a,l,f,g,m,x)):!1}function _x(a){return we(a)&&Ve(a)==O}function xu(a,l,f,g){var m=f.length,x=m,C=!g;if(a==null)return!x;for(a=ue(a);m--;){var R=f[m];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++m<x;){R=f[m];var L=R[0],U=a[L],Y=R[1];if(C&&R[2]){if(U===t&&!(L in a))return!1}else{var $=new Go;if(g)var lt=g(U,Y,L,a,l,$);if(!(lt===t?Aa(Y,U,_|w,g,$):lt))return!1}}return!0}function kp(a){if(!ye(a)||ew(a))return!1;var l=yr(a)?_y:c_;return l.test(Fn(a))}function yx(a){return we(a)&&$e(a)==q}function xx(a){return we(a)&&Ve(a)==J}function wx(a){return we(a)&&El(a.length)&&!!ve[$e(a)]}function Ep(a){return typeof a=="function"?a:a==null?no:typeof a=="object"?Nt(a)?Rp(a[0],a[1]):Tp(a):jg(a)}function wu(a){if(!Sa(a))return Cy(a);var l=[];for(var f in ue(a))se.call(a,f)&&f!="constructor"&&l.push(f);return l}function kx(a){if(!ye(a))return iw(a);var l=Sa(a),f=[];for(var g in a)g=="constructor"&&(l||!se.call(a,g))||f.push(g);return f}function ku(a,l){return a<l}function Cp(a,l){var f=-1,g=oo(a)?N(a.length):[];return Vr(a,function(m,x,C){g[++f]=l(m,x,C)}),g}function Tp(a){var l=zu(a);return l.length==1&&l[0][2]?ag(l[0][0],l[0][1]):function(f){return f===a||xu(f,a,l)}}function Rp(a,l){return Bu(a)&&ig(l)?ag(ir(a),l):function(f){var g=Zu(f,a);return g===t&&g===l?qu(f,a):Aa(l,g,_|w)}}function ll(a,l,f,g,m){a!==l&&vu(l,function(x,C){if(m||(m=new Go),ye(x))Ex(a,l,C,f,ll,g,m);else{var R=g?g(Uu(a,C),x,C+"",a,l,m):t;R===t&&(R=x),gu(a,C,R)}},ro)}function Ex(a,l,f,g,m,x,C){var R=Uu(a,f),L=Uu(l,f),U=C.get(L);if(U){gu(a,f,U);return}var Y=x?x(R,L,f+"",a,l,C):t,$=Y===t;if($){var lt=Nt(L),_t=!lt&&$r(L),Tt=!lt&&!_t&&ki(L);Y=L,lt||_t||Tt?Nt(R)?Y=R:Ce(R)?Y=eo(R):_t?($=!1,Y=Gp(L,!0)):Tt?($=!1,Y=Bp(L,!0)):Y=[]:La(L)||Dn(L)?(Y=R,Dn(R)?Y=Dg(R):(!ye(R)||yr(R))&&(Y=ng(L))):$=!1}$&&(C.set(L,Y),m(Y,L,g,x,C),C.delete(L)),gu(a,f,Y)}function Ap(a,l){var f=a.length;if(!!f)return l+=l<0?f:0,_r(l,f)?a[l]:t}function Op(a,l,f){l.length?l=me(l,function(x){return Nt(x)?function(C){return Ln(C,x.length===1?x[0]:x)}:x}):l=[no];var g=-1;l=me(l,fo(kt()));var m=Cp(a,function(x,C,R){var L=me(l,function(U){return U(x)});return{criteria:L,index:++g,value:x}});return q_(m,function(x,C){return Nx(x,C,f)})}function Cx(a,l){return Ip(a,l,function(f,g){return qu(a,g)})}function Ip(a,l,f){for(var g=-1,m=l.length,x={};++g<m;){var C=l[g],R=Ln(a,C);f(R,C)&&Oa(x,Hr(C,a),R)}return x}function Tx(a){return function(l){return Ln(l,a)}}function Eu(a,l,f,g){var m=g?Z_:fi,x=-1,C=l.length,R=a;for(a===l&&(l=eo(l)),f&&(R=me(a,fo(f)));++x<C;)for(var L=0,U=l[x],Y=f?f(U):U;(L=m(R,Y,L,g))>-1;)R!==a&&Js.call(R,L,1),Js.call(a,L,1);return a}function Sp(a,l){for(var f=a?l.length:0,g=f-1;f--;){var m=l[f];if(f==g||m!==x){var x=m;_r(m)?Js.call(a,m,1):Au(a,m)}}return a}function Cu(a,l){return a+el(dp()*(l-a+1))}function Rx(a,l,f,g){for(var m=-1,x=Le(tl((l-a)/(f||1)),0),C=N(x);x--;)C[g?x:++m]=a,a+=f;return C}function Tu(a,l){var f="";if(!a||l<1||l>ut)return f;do l%2&&(f+=a),l=el(l/2),l&&(a+=a);while(l);return f}function Yt(a,l){return Yu(sg(a,l,no),a+"")}function Ax(a){return pp(Ei(a))}function Ox(a,l){var f=Ei(a);return ml(f,Pn(l,0,f.length))}function Oa(a,l,f,g){if(!ye(a))return a;l=Hr(l,a);for(var m=-1,x=l.length,C=x-1,R=a;R!=null&&++m<x;){var L=ir(l[m]),U=f;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(m!=C){var Y=R[L];U=g?g(Y,L,R):t,U===t&&(U=ye(Y)?Y:_r(l[m+1])?[]:{})}Ca(R,L,U),R=R[L]}return a}var Pp=ol?function(a,l){return ol.set(a,l),a}:no,Ix=Qs?function(a,l){return Qs(a,"toString",{configurable:!0,enumerable:!1,value:Qu(l),writable:!0})}:no;function Sx(a){return ml(Ei(a))}function Co(a,l,f){var g=-1,m=a.length;l<0&&(l=-l>m?0:m+l),f=f>m?m:f,f<0&&(f+=m),m=l>f?0:f-l>>>0,l>>>=0;for(var x=N(m);++g<m;)x[g]=a[g+l];return x}function Px(a,l){var f;return Vr(a,function(g,m,x){return f=l(g,m,x),!f}),!!f}function cl(a,l,f){var g=0,m=a==null?g:a.length;if(typeof l=="number"&&l===l&&m<=Xt){for(;g<m;){var x=g+m>>>1,C=a[x];C!==null&&!po(C)&&(f?C<=l:C<l)?g=x+1:m=x}return m}return Ru(a,l,no,f)}function Ru(a,l,f,g){var m=0,x=a==null?0:a.length;if(x===0)return 0;l=f(l);for(var C=l!==l,R=l===null,L=po(l),U=l===t;m<x;){var Y=el((m+x)/2),$=f(a[Y]),lt=$!==t,_t=$===null,Tt=$===$,Wt=po($);if(C)var Rt=g||Tt;else U?Rt=Tt&&(g||lt):R?Rt=Tt&&lt&&(g||!_t):L?Rt=Tt&&lt&&!_t&&(g||!Wt):_t||Wt?Rt=!1:Rt=g?$<=l:$<l;Rt?m=Y+1:x=Y}return Xe(x,Z)}function Lp(a,l){for(var f=-1,g=a.length,m=0,x=[];++f<g;){var C=a[f],R=l?l(C):C;if(!f||!Bo(R,L)){var L=R;x[m++]=C===0?0:C}}return x}function Mp(a){return typeof a=="number"?a:po(a)?Pt:+a}function ho(a){if(typeof a=="string")return a;if(Nt(a))return me(a,ho)+"";if(po(a))return fp?fp.call(a):"";var l=a+"";return l=="0"&&1/a==-et?"-0":l}function jr(a,l,f){var g=-1,m=Us,x=a.length,C=!0,R=[],L=R;if(f)C=!1,m=ou;else if(x>=n){var U=l?null:Yx(a);if(U)return Xs(U);C=!1,m=_a,L=new Sn}else L=l?[]:R;t:for(;++g<x;){var Y=a[g],$=l?l(Y):Y;if(Y=f||Y!==0?Y:0,C&&$===$){for(var lt=L.length;lt--;)if(L[lt]===$)continue t;l&&L.push($),R.push(Y)}else m(L,$,f)||(L!==R&&L.push($),R.push(Y))}return R}function Au(a,l){return l=Hr(l,a),a=lg(a,l),a==null||delete a[ir(To(l))]}function Fp(a,l,f,g){return Oa(a,l,f(Ln(a,l)),g)}function ul(a,l,f,g){for(var m=a.length,x=g?m:-1;(g?x--:++x<m)&&l(a[x],x,a););return f?Co(a,g?0:x,g?x+1:m):Co(a,g?x+1:0,g?m:x)}function Dp(a,l){var f=a;return f instanceof Ht&&(f=f.value()),ru(l,function(g,m){return m.func.apply(m.thisArg,Ur([g],m.args))},f)}function Ou(a,l,f){var g=a.length;if(g<2)return g?jr(a[0]):[];for(var m=-1,x=N(g);++m<g;)for(var C=a[m],R=-1;++R<g;)R!=m&&(x[m]=Ta(x[m]||C,a[R],l,f));return jr(Be(x,1),l,f)}function Np(a,l,f){for(var g=-1,m=a.length,x=l.length,C={};++g<m;){var R=g<x?l[g]:t;f(C,a[g],R)}return C}function Iu(a){return Ce(a)?a:[]}function Su(a){return typeof a=="function"?a:no}function Hr(a,l){return Nt(a)?a:Bu(a,l)?[a]:fg(ae(a))}var Lx=Yt;function Kr(a,l,f){var g=a.length;return f=f===t?g:f,!l&&f>=g?a:Co(a,l,f)}var zp=yy||function(a){return Ge.clearTimeout(a)};function Gp(a,l){if(l)return a.slice();var f=a.length,g=ap?ap(f):new a.constructor(f);return a.copy(g),g}function Pu(a){var l=new a.constructor(a.byteLength);return new Zs(l).set(new Zs(a)),l}function Mx(a,l){var f=l?Pu(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function Fx(a){var l=new a.constructor(a.source,Ns.exec(a));return l.lastIndex=a.lastIndex,l}function Dx(a){return Ea?ue(Ea.call(a)):{}}function Bp(a,l){var f=l?Pu(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function Wp(a,l){if(a!==l){var f=a!==t,g=a===null,m=a===a,x=po(a),C=l!==t,R=l===null,L=l===l,U=po(l);if(!R&&!U&&!x&&a>l||x&&C&&L&&!R&&!U||g&&C&&L||!f&&L||!m)return 1;if(!g&&!x&&!U&&a<l||U&&f&&m&&!g&&!x||R&&f&&m||!C&&m||!L)return-1}return 0}function Nx(a,l,f){for(var g=-1,m=a.criteria,x=l.criteria,C=m.length,R=f.length;++g<C;){var L=Wp(m[g],x[g]);if(L){if(g>=R)return L;var U=f[g];return L*(U=="desc"?-1:1)}}return a.index-l.index}function Up(a,l,f,g){for(var m=-1,x=a.length,C=f.length,R=-1,L=l.length,U=Le(x-C,0),Y=N(L+U),$=!g;++R<L;)Y[R]=l[R];for(;++m<C;)($||m<x)&&(Y[f[m]]=a[m]);for(;U--;)Y[R++]=a[m++];return Y}function Yp(a,l,f,g){for(var m=-1,x=a.length,C=-1,R=f.length,L=-1,U=l.length,Y=Le(x-R,0),$=N(Y+U),lt=!g;++m<Y;)$[m]=a[m];for(var _t=m;++L<U;)$[_t+L]=l[L];for(;++C<R;)(lt||m<x)&&($[_t+f[C]]=a[m++]);return $}function eo(a,l){var f=-1,g=a.length;for(l||(l=N(g));++f<g;)l[f]=a[f];return l}function nr(a,l,f,g){var m=!f;f||(f={});for(var x=-1,C=l.length;++x<C;){var R=l[x],L=g?g(f[R],a[R],R,f,a):t;L===t&&(L=a[R]),m?br(f,R,L):Ca(f,R,L)}return f}function zx(a,l){return nr(a,Gu(a),l)}function Gx(a,l){return nr(a,og(a),l)}function dl(a,l){return function(f,g){var m=Nt(f)?X_:sx,x=l?l():{};return m(f,a,kt(g,2),x)}}function yi(a){return Yt(function(l,f){var g=-1,m=f.length,x=m>1?f[m-1]:t,C=m>2?f[2]:t;for(x=a.length>3&&typeof x=="function"?(m--,x):t,C&&Ze(f[0],f[1],C)&&(x=m<3?t:x,m=1),l=ue(l);++g<m;){var R=f[g];R&&a(l,R,g,x)}return l})}function Xp(a,l){return function(f,g){if(f==null)return f;if(!oo(f))return a(f,g);for(var m=f.length,x=l?m:-1,C=ue(f);(l?x--:++x<m)&&g(C[x],x,C)!==!1;);return f}}function Vp(a){return function(l,f,g){for(var m=-1,x=ue(l),C=g(l),R=C.length;R--;){var L=C[a?R:++m];if(f(x[L],L,x)===!1)break}return l}}function Bx(a,l,f){var g=l&k,m=Ia(a);function x(){var C=this&&this!==Ge&&this instanceof x?m:a;return C.apply(g?f:this,arguments)}return x}function jp(a){return function(l){l=ae(l);var f=hi(l)?zo(l):t,g=f?f[0]:l.charAt(0),m=f?Kr(f,1).join(""):l.slice(1);return g[a]()+m}}function xi(a){return function(l){return ru(Xg(Yg(l).replace(I_,"")),a,"")}}function Ia(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=_i(a.prototype),g=a.apply(f,l);return ye(g)?g:f}}function Wx(a,l,f){var g=Ia(a);function m(){for(var x=arguments.length,C=N(x),R=x,L=wi(m);R--;)C[R]=arguments[R];var U=x<3&&C[0]!==L&&C[x-1]!==L?[]:Yr(C,L);if(x-=U.length,x<f)return qp(a,l,fl,m.placeholder,t,C,U,t,t,f-x);var Y=this&&this!==Ge&&this instanceof m?g:a;return uo(Y,this,C)}return m}function Hp(a){return function(l,f,g){var m=ue(l);if(!oo(l)){var x=kt(f,3);l=Me(l),f=function(R){return x(m[R],R,m)}}var C=a(l,f,g);return C>-1?m[x?l[C]:C]:t}}function Kp(a){return mr(function(l){var f=l.length,g=f,m=ko.prototype.thru;for(a&&l.reverse();g--;){var x=l[g];if(typeof x!="function")throw new wo(s);if(m&&!C&&bl(x)=="wrapper")var C=new ko([],!0)}for(g=C?g:f;++g<f;){x=l[g];var R=bl(x),L=R=="wrapper"?Nu(x):t;L&&Wu(L[0])&&L[1]==(G|I|D|F)&&!L[4].length&&L[9]==1?C=C[bl(L[0])].apply(C,L[3]):C=x.length==1&&Wu(x)?C[R]():C.thru(x)}return function(){var U=arguments,Y=U[0];if(C&&U.length==1&&Nt(Y))return C.plant(Y).value();for(var $=0,lt=f?l[$].apply(this,U):Y;++$<f;)lt=l[$].call(this,lt);return lt}})}function fl(a,l,f,g,m,x,C,R,L,U){var Y=l&G,$=l&k,lt=l&T,_t=l&(I|P),Tt=l&K,Wt=lt?t:Ia(a);function Rt(){for(var jt=arguments.length,qt=N(jt),go=jt;go--;)qt[go]=arguments[go];if(_t)var qe=wi(Rt),bo=Q_(qt,qe);if(g&&(qt=Up(qt,g,m,_t)),x&&(qt=Yp(qt,x,C,_t)),jt-=bo,_t&&jt<U){var Te=Yr(qt,qe);return qp(a,l,fl,Rt.placeholder,f,qt,Te,R,L,U-jt)}var Wo=$?f:this,wr=lt?Wo[a]:a;return jt=qt.length,R?qt=sw(qt,R):Tt&&jt>1&&qt.reverse(),Y&&L<jt&&(qt.length=L),this&&this!==Ge&&this instanceof Rt&&(wr=Wt||Ia(wr)),wr.apply(Wo,qt)}return Rt}function $p(a,l){return function(f,g){return gx(f,a,l(g),{})}}function hl(a,l){return function(f,g){var m;if(f===t&&g===t)return l;if(f!==t&&(m=f),g!==t){if(m===t)return g;typeof f=="string"||typeof g=="string"?(f=ho(f),g=ho(g)):(f=Mp(f),g=Mp(g)),m=a(f,g)}return m}}function Lu(a){return mr(function(l){return l=me(l,fo(kt())),Yt(function(f){var g=this;return a(l,function(m){return uo(m,g,f)})})})}function pl(a,l){l=l===t?" ":ho(l);var f=l.length;if(f<2)return f?Tu(l,a):l;var g=Tu(l,tl(a/pi(l)));return hi(l)?Kr(zo(g),0,a).join(""):g.slice(0,a)}function Ux(a,l,f,g){var m=l&k,x=Ia(a);function C(){for(var R=-1,L=arguments.length,U=-1,Y=g.length,$=N(Y+L),lt=this&&this!==Ge&&this instanceof C?x:a;++U<Y;)$[U]=g[U];for(;L--;)$[U++]=arguments[++R];return uo(lt,m?f:this,$)}return C}function Zp(a){return function(l,f,g){return g&&typeof g!="number"&&Ze(l,f,g)&&(f=g=t),l=xr(l),f===t?(f=l,l=0):f=xr(f),g=g===t?l<f?1:-1:xr(g),Rx(l,f,g,a)}}function gl(a){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=Ro(l),f=Ro(f)),a(l,f)}}function qp(a,l,f,g,m,x,C,R,L,U){var Y=l&I,$=Y?C:t,lt=Y?t:C,_t=Y?x:t,Tt=Y?t:x;l|=Y?D:X,l&=~(Y?X:D),l&A||(l&=~(k|T));var Wt=[a,l,m,_t,$,Tt,lt,R,L,U],Rt=f.apply(t,Wt);return Wu(a)&&cg(Rt,Wt),Rt.placeholder=g,ug(Rt,a,l)}function Mu(a){var l=Pe[a];return function(f,g){if(f=Ro(f),g=g==null?0:Xe(Bt(g),292),g&&up(f)){var m=(ae(f)+"e").split("e"),x=l(m[0]+"e"+(+m[1]+g));return m=(ae(x)+"e").split("e"),+(m[0]+"e"+(+m[1]-g))}return l(f)}}var Yx=vi&&1/Xs(new vi([,-0]))[1]==et?function(a){return new vi(a)}:od;function Jp(a){return function(l){var f=Ve(l);return f==O?uu(l):f==J?ay(l):J_(l,a(l))}}function vr(a,l,f,g,m,x,C,R){var L=l&T;if(!L&&typeof a!="function")throw new wo(s);var U=g?g.length:0;if(U||(l&=~(D|X),g=m=t),C=C===t?C:Le(Bt(C),0),R=R===t?R:Bt(R),U-=m?m.length:0,l&X){var Y=g,$=m;g=m=t}var lt=L?t:Nu(a),_t=[a,l,f,g,m,Y,$,x,C,R];if(lt&&nw(_t,lt),a=_t[0],l=_t[1],f=_t[2],g=_t[3],m=_t[4],R=_t[9]=_t[9]===t?L?0:a.length:Le(_t[9]-U,0),!R&&l&(I|P)&&(l&=~(I|P)),!l||l==k)var Tt=Bx(a,l,f);else l==I||l==P?Tt=Wx(a,l,R):(l==D||l==(k|D))&&!m.length?Tt=Ux(a,l,f,g):Tt=fl.apply(t,_t);var Wt=lt?Pp:cg;return ug(Wt(Tt,_t),a,l)}function Qp(a,l,f,g){return a===t||Bo(a,bi[f])&&!se.call(g,f)?l:a}function tg(a,l,f,g,m,x){return ye(a)&&ye(l)&&(x.set(l,a),ll(a,l,t,tg,x),x.delete(l)),a}function Xx(a){return La(a)?t:a}function eg(a,l,f,g,m,x){var C=f&_,R=a.length,L=l.length;if(R!=L&&!(C&&L>R))return!1;var U=x.get(a),Y=x.get(l);if(U&&Y)return U==l&&Y==a;var $=-1,lt=!0,_t=f&w?new Sn:t;for(x.set(a,l),x.set(l,a);++$<R;){var Tt=a[$],Wt=l[$];if(g)var Rt=C?g(Wt,Tt,$,l,a,x):g(Tt,Wt,$,a,l,x);if(Rt!==t){if(Rt)continue;lt=!1;break}if(_t){if(!nu(l,function(jt,qt){if(!_a(_t,qt)&&(Tt===jt||m(Tt,jt,f,g,x)))return _t.push(qt)})){lt=!1;break}}else if(!(Tt===Wt||m(Tt,Wt,f,g,x))){lt=!1;break}}return x.delete(a),x.delete(l),lt}function Vx(a,l,f,g,m,x,C){switch(f){case Ft:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Mt:return!(a.byteLength!=l.byteLength||!x(new Zs(a),new Zs(l)));case at:case St:case M:return Bo(+a,+l);case xt:return a.name==l.name&&a.message==l.message;case q:case j:return a==l+"";case O:var R=uu;case J:var L=g&_;if(R||(R=Xs),a.size!=l.size&&!L)return!1;var U=C.get(a);if(U)return U==l;g|=w,C.set(a,l);var Y=eg(R(a),R(l),g,m,x,C);return C.delete(a),Y;case gt:if(Ea)return Ea.call(a)==Ea.call(l)}return!1}function jx(a,l,f,g,m,x){var C=f&_,R=Fu(a),L=R.length,U=Fu(l),Y=U.length;if(L!=Y&&!C)return!1;for(var $=L;$--;){var lt=R[$];if(!(C?lt in l:se.call(l,lt)))return!1}var _t=x.get(a),Tt=x.get(l);if(_t&&Tt)return _t==l&&Tt==a;var Wt=!0;x.set(a,l),x.set(l,a);for(var Rt=C;++$<L;){lt=R[$];var jt=a[lt],qt=l[lt];if(g)var go=C?g(qt,jt,lt,l,a,x):g(jt,qt,lt,a,l,x);if(!(go===t?jt===qt||m(jt,qt,f,g,x):go)){Wt=!1;break}Rt||(Rt=lt=="constructor")}if(Wt&&!Rt){var qe=a.constructor,bo=l.constructor;qe!=bo&&"constructor"in a&&"constructor"in l&&!(typeof qe=="function"&&qe instanceof qe&&typeof bo=="function"&&bo instanceof bo)&&(Wt=!1)}return x.delete(a),x.delete(l),Wt}function mr(a){return Yu(sg(a,t,bg),a+"")}function Fu(a){return xp(a,Me,Gu)}function Du(a){return xp(a,ro,og)}var Nu=ol?function(a){return ol.get(a)}:od;function bl(a){for(var l=a.name+"",f=mi[l],g=se.call(mi,l)?f.length:0;g--;){var m=f[g],x=m.func;if(x==null||x==a)return m.name}return l}function wi(a){var l=se.call(y,"placeholder")?y:a;return l.placeholder}function kt(){var a=y.iteratee||td;return a=a===td?Ep:a,arguments.length?a(arguments[0],arguments[1]):a}function vl(a,l){var f=a.__data__;return tw(l)?f[typeof l=="string"?"string":"hash"]:f.map}function zu(a){for(var l=Me(a),f=l.length;f--;){var g=l[f],m=a[g];l[f]=[g,m,ig(m)]}return l}function Mn(a,l){var f=ry(a,l);return kp(f)?f:t}function Hx(a){var l=se.call(a,On),f=a[On];try{a[On]=t;var g=!0}catch{}var m=Ks.call(a);return g&&(l?a[On]=f:delete a[On]),m}var Gu=fu?function(a){return a==null?[]:(a=ue(a),Wr(fu(a),function(l){return lp.call(a,l)}))}:rd,og=fu?function(a){for(var l=[];a;)Ur(l,Gu(a)),a=qs(a);return l}:rd,Ve=$e;(hu&&Ve(new hu(new ArrayBuffer(1)))!=Ft||xa&&Ve(new xa)!=O||pu&&Ve(pu.resolve())!=tt||vi&&Ve(new vi)!=J||wa&&Ve(new wa)!=vt)&&(Ve=function(a){var l=$e(a),f=l==W?a.constructor:t,g=f?Fn(f):"";if(g)switch(g){case Oy:return Ft;case Iy:return O;case Sy:return tt;case Py:return J;case Ly:return vt}return l});function Kx(a,l,f){for(var g=-1,m=f.length;++g<m;){var x=f[g],C=x.size;switch(x.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=Xe(l,a+C);break;case"takeRight":a=Le(a,l-C);break}}return{start:a,end:l}}function $x(a){var l=a.match(or);return l?l[1].split(ci):[]}function rg(a,l,f){l=Hr(l,a);for(var g=-1,m=l.length,x=!1;++g<m;){var C=ir(l[g]);if(!(x=a!=null&&f(a,C)))break;a=a[C]}return x||++g!=m?x:(m=a==null?0:a.length,!!m&&El(m)&&_r(C,m)&&(Nt(a)||Dn(a)))}function Zx(a){var l=a.length,f=new a.constructor(l);return l&&typeof a[0]=="string"&&se.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function ng(a){return typeof a.constructor=="function"&&!Sa(a)?_i(qs(a)):{}}function qx(a,l,f){var g=a.constructor;switch(l){case Mt:return Pu(a);case at:case St:return new g(+a);case Ft:return Mx(a,f);case Gt:case Vt:case Ee:case ge:case No:case ce:case co:case be:case ze:return Bp(a,f);case O:return new g;case M:case j:return new g(a);case q:return Fx(a);case J:return new g;case gt:return Dx(a)}}function Jx(a,l){var f=l.length;if(!f)return a;var g=f-1;return l[g]=(f>1?"& ":"")+l[g],l=l.join(f>2?", ":" "),a.replace(Rn,`{
/* [wrapped with `+l+`] */
`)}function Qx(a){return Nt(a)||Dn(a)||!!(cp&&a&&a[cp])}function _r(a,l){var f=typeof a;return l=l==null?ut:l,!!l&&(f=="number"||f!="symbol"&&d_.test(a))&&a>-1&&a%1==0&&a<l}function Ze(a,l,f){if(!ye(f))return!1;var g=typeof l;return(g=="number"?oo(f)&&_r(l,f.length):g=="string"&&l in f)?Bo(f[l],a):!1}function Bu(a,l){if(Nt(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||po(a)?!0:Cn.test(a)||!En.test(a)||l!=null&&a in ue(l)}function tw(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Wu(a){var l=bl(a),f=y[l];if(typeof f!="function"||!(l in Ht.prototype))return!1;if(a===f)return!0;var g=Nu(f);return!!g&&a===g[0]}function ew(a){return!!ip&&ip in a}var ow=js?yr:nd;function Sa(a){var l=a&&a.constructor,f=typeof l=="function"&&l.prototype||bi;return a===f}function ig(a){return a===a&&!ye(a)}function ag(a,l){return function(f){return f==null?!1:f[a]===l&&(l!==t||a in ue(f))}}function rw(a){var l=wl(a,function(g){return f.size===d&&f.clear(),g}),f=l.cache;return l}function nw(a,l){var f=a[1],g=l[1],m=f|g,x=m<(k|T|G),C=g==G&&f==I||g==G&&f==F&&a[7].length<=l[8]||g==(G|F)&&l[7].length<=l[8]&&f==I;if(!(x||C))return a;g&k&&(a[2]=l[2],m|=f&k?0:A);var R=l[3];if(R){var L=a[3];a[3]=L?Up(L,R,l[4]):R,a[4]=L?Yr(a[3],h):l[4]}return R=l[5],R&&(L=a[5],a[5]=L?Yp(L,R,l[6]):R,a[6]=L?Yr(a[5],h):l[6]),R=l[7],R&&(a[7]=R),g&G&&(a[8]=a[8]==null?l[8]:Xe(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=m,a}function iw(a){var l=[];if(a!=null)for(var f in ue(a))l.push(f);return l}function aw(a){return Ks.call(a)}function sg(a,l,f){return l=Le(l===t?a.length-1:l,0),function(){for(var g=arguments,m=-1,x=Le(g.length-l,0),C=N(x);++m<x;)C[m]=g[l+m];m=-1;for(var R=N(l+1);++m<l;)R[m]=g[m];return R[l]=f(C),uo(a,this,R)}}function lg(a,l){return l.length<2?a:Ln(a,Co(l,0,-1))}function sw(a,l){for(var f=a.length,g=Xe(l.length,f),m=eo(a);g--;){var x=l[g];a[g]=_r(x,f)?m[x]:t}return a}function Uu(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var cg=dg(Pp),Pa=wy||function(a,l){return Ge.setTimeout(a,l)},Yu=dg(Ix);function ug(a,l,f){var g=l+"";return Yu(a,Jx(g,lw($x(g),f)))}function dg(a){var l=0,f=0;return function(){var g=Ty(),m=ft-(g-f);if(f=g,m>0){if(++l>=dt)return arguments[0]}else l=0;return a.apply(t,arguments)}}function ml(a,l){var f=-1,g=a.length,m=g-1;for(l=l===t?g:l;++f<l;){var x=Cu(f,m),C=a[x];a[x]=a[f],a[f]=C}return a.length=l,a}var fg=rw(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Ds,function(f,g,m,x){l.push(m?x.replace(to,"$1"):g||f)}),l});function ir(a){if(typeof a=="string"||po(a))return a;var l=a+"";return l=="0"&&1/a==-et?"-0":l}function Fn(a){if(a!=null){try{return Hs.call(a)}catch{}try{return a+""}catch{}}return""}function lw(a,l){return xo(Et,function(f){var g="_."+f[0];l&f[1]&&!Us(a,g)&&a.push(g)}),a.sort()}function hg(a){if(a instanceof Ht)return a.clone();var l=new ko(a.__wrapped__,a.__chain__);return l.__actions__=eo(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function cw(a,l,f){(f?Ze(a,l,f):l===t)?l=1:l=Le(Bt(l),0);var g=a==null?0:a.length;if(!g||l<1)return[];for(var m=0,x=0,C=N(tl(g/l));m<g;)C[x++]=Co(a,m,m+=l);return C}function uw(a){for(var l=-1,f=a==null?0:a.length,g=0,m=[];++l<f;){var x=a[l];x&&(m[g++]=x)}return m}function dw(){var a=arguments.length;if(!a)return[];for(var l=N(a-1),f=arguments[0],g=a;g--;)l[g-1]=arguments[g];return Ur(Nt(f)?eo(f):[f],Be(l,1))}var fw=Yt(function(a,l){return Ce(a)?Ta(a,Be(l,1,Ce,!0)):[]}),hw=Yt(function(a,l){var f=To(l);return Ce(f)&&(f=t),Ce(a)?Ta(a,Be(l,1,Ce,!0),kt(f,2)):[]}),pw=Yt(function(a,l){var f=To(l);return Ce(f)&&(f=t),Ce(a)?Ta(a,Be(l,1,Ce,!0),t,f):[]});function gw(a,l,f){var g=a==null?0:a.length;return g?(l=f||l===t?1:Bt(l),Co(a,l<0?0:l,g)):[]}function bw(a,l,f){var g=a==null?0:a.length;return g?(l=f||l===t?1:Bt(l),l=g-l,Co(a,0,l<0?0:l)):[]}function vw(a,l){return a&&a.length?ul(a,kt(l,3),!0,!0):[]}function mw(a,l){return a&&a.length?ul(a,kt(l,3),!0):[]}function _w(a,l,f,g){var m=a==null?0:a.length;return m?(f&&typeof f!="number"&&Ze(a,l,f)&&(f=0,g=m),dx(a,l,f,g)):[]}function pg(a,l,f){var g=a==null?0:a.length;if(!g)return-1;var m=f==null?0:Bt(f);return m<0&&(m=Le(g+m,0)),Ys(a,kt(l,3),m)}function gg(a,l,f){var g=a==null?0:a.length;if(!g)return-1;var m=g-1;return f!==t&&(m=Bt(f),m=f<0?Le(g+m,0):Xe(m,g-1)),Ys(a,kt(l,3),m,!0)}function bg(a){var l=a==null?0:a.length;return l?Be(a,1):[]}function yw(a){var l=a==null?0:a.length;return l?Be(a,et):[]}function xw(a,l){var f=a==null?0:a.length;return f?(l=l===t?1:Bt(l),Be(a,l)):[]}function ww(a){for(var l=-1,f=a==null?0:a.length,g={};++l<f;){var m=a[l];g[m[0]]=m[1]}return g}function vg(a){return a&&a.length?a[0]:t}function kw(a,l,f){var g=a==null?0:a.length;if(!g)return-1;var m=f==null?0:Bt(f);return m<0&&(m=Le(g+m,0)),fi(a,l,m)}function Ew(a){var l=a==null?0:a.length;return l?Co(a,0,-1):[]}var Cw=Yt(function(a){var l=me(a,Iu);return l.length&&l[0]===a[0]?yu(l):[]}),Tw=Yt(function(a){var l=To(a),f=me(a,Iu);return l===To(f)?l=t:f.pop(),f.length&&f[0]===a[0]?yu(f,kt(l,2)):[]}),Rw=Yt(function(a){var l=To(a),f=me(a,Iu);return l=typeof l=="function"?l:t,l&&f.pop(),f.length&&f[0]===a[0]?yu(f,t,l):[]});function Aw(a,l){return a==null?"":Ey.call(a,l)}function To(a){var l=a==null?0:a.length;return l?a[l-1]:t}function Ow(a,l,f){var g=a==null?0:a.length;if(!g)return-1;var m=g;return f!==t&&(m=Bt(f),m=m<0?Le(g+m,0):Xe(m,g-1)),l===l?ly(a,l,m):Ys(a,qh,m,!0)}function Iw(a,l){return a&&a.length?Ap(a,Bt(l)):t}var Sw=Yt(mg);function mg(a,l){return a&&a.length&&l&&l.length?Eu(a,l):a}function Pw(a,l,f){return a&&a.length&&l&&l.length?Eu(a,l,kt(f,2)):a}function Lw(a,l,f){return a&&a.length&&l&&l.length?Eu(a,l,t,f):a}var Mw=mr(function(a,l){var f=a==null?0:a.length,g=bu(a,l);return Sp(a,me(l,function(m){return _r(m,f)?+m:m}).sort(Wp)),g});function Fw(a,l){var f=[];if(!(a&&a.length))return f;var g=-1,m=[],x=a.length;for(l=kt(l,3);++g<x;){var C=a[g];l(C,g,a)&&(f.push(C),m.push(g))}return Sp(a,m),f}function Xu(a){return a==null?a:Ay.call(a)}function Dw(a,l,f){var g=a==null?0:a.length;return g?(f&&typeof f!="number"&&Ze(a,l,f)?(l=0,f=g):(l=l==null?0:Bt(l),f=f===t?g:Bt(f)),Co(a,l,f)):[]}function Nw(a,l){return cl(a,l)}function zw(a,l,f){return Ru(a,l,kt(f,2))}function Gw(a,l){var f=a==null?0:a.length;if(f){var g=cl(a,l);if(g<f&&Bo(a[g],l))return g}return-1}function Bw(a,l){return cl(a,l,!0)}function Ww(a,l,f){return Ru(a,l,kt(f,2),!0)}function Uw(a,l){var f=a==null?0:a.length;if(f){var g=cl(a,l,!0)-1;if(Bo(a[g],l))return g}return-1}function Yw(a){return a&&a.length?Lp(a):[]}function Xw(a,l){return a&&a.length?Lp(a,kt(l,2)):[]}function Vw(a){var l=a==null?0:a.length;return l?Co(a,1,l):[]}function jw(a,l,f){return a&&a.length?(l=f||l===t?1:Bt(l),Co(a,0,l<0?0:l)):[]}function Hw(a,l,f){var g=a==null?0:a.length;return g?(l=f||l===t?1:Bt(l),l=g-l,Co(a,l<0?0:l,g)):[]}function Kw(a,l){return a&&a.length?ul(a,kt(l,3),!1,!0):[]}function $w(a,l){return a&&a.length?ul(a,kt(l,3)):[]}var Zw=Yt(function(a){return jr(Be(a,1,Ce,!0))}),qw=Yt(function(a){var l=To(a);return Ce(l)&&(l=t),jr(Be(a,1,Ce,!0),kt(l,2))}),Jw=Yt(function(a){var l=To(a);return l=typeof l=="function"?l:t,jr(Be(a,1,Ce,!0),t,l)});function Qw(a){return a&&a.length?jr(a):[]}function t1(a,l){return a&&a.length?jr(a,kt(l,2)):[]}function e1(a,l){return l=typeof l=="function"?l:t,a&&a.length?jr(a,t,l):[]}function Vu(a){if(!(a&&a.length))return[];var l=0;return a=Wr(a,function(f){if(Ce(f))return l=Le(f.length,l),!0}),lu(l,function(f){return me(a,iu(f))})}function _g(a,l){if(!(a&&a.length))return[];var f=Vu(a);return l==null?f:me(f,function(g){return uo(l,t,g)})}var o1=Yt(function(a,l){return Ce(a)?Ta(a,l):[]}),r1=Yt(function(a){return Ou(Wr(a,Ce))}),n1=Yt(function(a){var l=To(a);return Ce(l)&&(l=t),Ou(Wr(a,Ce),kt(l,2))}),i1=Yt(function(a){var l=To(a);return l=typeof l=="function"?l:t,Ou(Wr(a,Ce),t,l)}),a1=Yt(Vu);function s1(a,l){return Np(a||[],l||[],Ca)}function l1(a,l){return Np(a||[],l||[],Oa)}var c1=Yt(function(a){var l=a.length,f=l>1?a[l-1]:t;return f=typeof f=="function"?(a.pop(),f):t,_g(a,f)});function yg(a){var l=y(a);return l.__chain__=!0,l}function u1(a,l){return l(a),a}function _l(a,l){return l(a)}var d1=mr(function(a){var l=a.length,f=l?a[0]:0,g=this.__wrapped__,m=function(x){return bu(x,a)};return l>1||this.__actions__.length||!(g instanceof Ht)||!_r(f)?this.thru(m):(g=g.slice(f,+f+(l?1:0)),g.__actions__.push({func:_l,args:[m],thisArg:t}),new ko(g,this.__chain__).thru(function(x){return l&&!x.length&&x.push(t),x}))});function f1(){return yg(this)}function h1(){return new ko(this.value(),this.__chain__)}function p1(){this.__values__===t&&(this.__values__=Mg(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function g1(){return this}function b1(a){for(var l,f=this;f instanceof nl;){var g=hg(f);g.__index__=0,g.__values__=t,l?m.__wrapped__=g:l=g;var m=g;f=f.__wrapped__}return m.__wrapped__=a,l}function v1(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:_l,args:[Xu],thisArg:t}),new ko(l,this.__chain__)}return this.thru(Xu)}function m1(){return Dp(this.__wrapped__,this.__actions__)}var _1=dl(function(a,l,f){se.call(a,f)?++a[f]:br(a,f,1)});function y1(a,l,f){var g=Nt(a)?$h:ux;return f&&Ze(a,l,f)&&(l=t),g(a,kt(l,3))}function x1(a,l){var f=Nt(a)?Wr:_p;return f(a,kt(l,3))}var w1=Hp(pg),k1=Hp(gg);function E1(a,l){return Be(yl(a,l),1)}function C1(a,l){return Be(yl(a,l),et)}function T1(a,l,f){return f=f===t?1:Bt(f),Be(yl(a,l),f)}function xg(a,l){var f=Nt(a)?xo:Vr;return f(a,kt(l,3))}function wg(a,l){var f=Nt(a)?V_:mp;return f(a,kt(l,3))}var R1=dl(function(a,l,f){se.call(a,f)?a[f].push(l):br(a,f,[l])});function A1(a,l,f,g){a=oo(a)?a:Ei(a),f=f&&!g?Bt(f):0;var m=a.length;return f<0&&(f=Le(m+f,0)),Cl(a)?f<=m&&a.indexOf(l,f)>-1:!!m&&fi(a,l,f)>-1}var O1=Yt(function(a,l,f){var g=-1,m=typeof l=="function",x=oo(a)?N(a.length):[];return Vr(a,function(C){x[++g]=m?uo(l,C,f):Ra(C,l,f)}),x}),I1=dl(function(a,l,f){br(a,f,l)});function yl(a,l){var f=Nt(a)?me:Cp;return f(a,kt(l,3))}function S1(a,l,f,g){return a==null?[]:(Nt(l)||(l=l==null?[]:[l]),f=g?t:f,Nt(f)||(f=f==null?[]:[f]),Op(a,l,f))}var P1=dl(function(a,l,f){a[f?0:1].push(l)},function(){return[[],[]]});function L1(a,l,f){var g=Nt(a)?ru:Qh,m=arguments.length<3;return g(a,kt(l,4),f,m,Vr)}function M1(a,l,f){var g=Nt(a)?j_:Qh,m=arguments.length<3;return g(a,kt(l,4),f,m,mp)}function F1(a,l){var f=Nt(a)?Wr:_p;return f(a,kl(kt(l,3)))}function D1(a){var l=Nt(a)?pp:Ax;return l(a)}function N1(a,l,f){(f?Ze(a,l,f):l===t)?l=1:l=Bt(l);var g=Nt(a)?ix:Ox;return g(a,l)}function z1(a){var l=Nt(a)?ax:Sx;return l(a)}function G1(a){if(a==null)return 0;if(oo(a))return Cl(a)?pi(a):a.length;var l=Ve(a);return l==O||l==J?a.size:wu(a).length}function B1(a,l,f){var g=Nt(a)?nu:Px;return f&&Ze(a,l,f)&&(l=t),g(a,kt(l,3))}var W1=Yt(function(a,l){if(a==null)return[];var f=l.length;return f>1&&Ze(a,l[0],l[1])?l=[]:f>2&&Ze(l[0],l[1],l[2])&&(l=[l[0]]),Op(a,Be(l,1),[])}),xl=xy||function(){return Ge.Date.now()};function U1(a,l){if(typeof l!="function")throw new wo(s);return a=Bt(a),function(){if(--a<1)return l.apply(this,arguments)}}function kg(a,l,f){return l=f?t:l,l=a&&l==null?a.length:l,vr(a,G,t,t,t,t,l)}function Eg(a,l){var f;if(typeof l!="function")throw new wo(s);return a=Bt(a),function(){return--a>0&&(f=l.apply(this,arguments)),a<=1&&(l=t),f}}var ju=Yt(function(a,l,f){var g=k;if(f.length){var m=Yr(f,wi(ju));g|=D}return vr(a,g,l,f,m)}),Cg=Yt(function(a,l,f){var g=k|T;if(f.length){var m=Yr(f,wi(Cg));g|=D}return vr(l,g,a,f,m)});function Tg(a,l,f){l=f?t:l;var g=vr(a,I,t,t,t,t,t,l);return g.placeholder=Tg.placeholder,g}function Rg(a,l,f){l=f?t:l;var g=vr(a,P,t,t,t,t,t,l);return g.placeholder=Rg.placeholder,g}function Ag(a,l,f){var g,m,x,C,R,L,U=0,Y=!1,$=!1,lt=!0;if(typeof a!="function")throw new wo(s);l=Ro(l)||0,ye(f)&&(Y=!!f.leading,$="maxWait"in f,x=$?Le(Ro(f.maxWait)||0,l):x,lt="trailing"in f?!!f.trailing:lt);function _t(Te){var Wo=g,wr=m;return g=m=t,U=Te,C=a.apply(wr,Wo),C}function Tt(Te){return U=Te,R=Pa(jt,l),Y?_t(Te):C}function Wt(Te){var Wo=Te-L,wr=Te-U,Hg=l-Wo;return $?Xe(Hg,x-wr):Hg}function Rt(Te){var Wo=Te-L,wr=Te-U;return L===t||Wo>=l||Wo<0||$&&wr>=x}function jt(){var Te=xl();if(Rt(Te))return qt(Te);R=Pa(jt,Wt(Te))}function qt(Te){return R=t,lt&&g?_t(Te):(g=m=t,C)}function go(){R!==t&&zp(R),U=0,g=L=m=R=t}function qe(){return R===t?C:qt(xl())}function bo(){var Te=xl(),Wo=Rt(Te);if(g=arguments,m=this,L=Te,Wo){if(R===t)return Tt(L);if($)return zp(R),R=Pa(jt,l),_t(L)}return R===t&&(R=Pa(jt,l)),C}return bo.cancel=go,bo.flush=qe,bo}var Y1=Yt(function(a,l){return vp(a,1,l)}),X1=Yt(function(a,l,f){return vp(a,Ro(l)||0,f)});function V1(a){return vr(a,K)}function wl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new wo(s);var f=function(){var g=arguments,m=l?l.apply(this,g):g[0],x=f.cache;if(x.has(m))return x.get(m);var C=a.apply(this,g);return f.cache=x.set(m,C)||x,C};return f.cache=new(wl.Cache||gr),f}wl.Cache=gr;function kl(a){if(typeof a!="function")throw new wo(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function j1(a){return Eg(2,a)}var H1=Lx(function(a,l){l=l.length==1&&Nt(l[0])?me(l[0],fo(kt())):me(Be(l,1),fo(kt()));var f=l.length;return Yt(function(g){for(var m=-1,x=Xe(g.length,f);++m<x;)g[m]=l[m].call(this,g[m]);return uo(a,this,g)})}),Hu=Yt(function(a,l){var f=Yr(l,wi(Hu));return vr(a,D,t,l,f)}),Og=Yt(function(a,l){var f=Yr(l,wi(Og));return vr(a,X,t,l,f)}),K1=mr(function(a,l){return vr(a,F,t,t,t,l)});function $1(a,l){if(typeof a!="function")throw new wo(s);return l=l===t?l:Bt(l),Yt(a,l)}function Z1(a,l){if(typeof a!="function")throw new wo(s);return l=l==null?0:Le(Bt(l),0),Yt(function(f){var g=f[l],m=Kr(f,0,l);return g&&Ur(m,g),uo(a,this,m)})}function q1(a,l,f){var g=!0,m=!0;if(typeof a!="function")throw new wo(s);return ye(f)&&(g="leading"in f?!!f.leading:g,m="trailing"in f?!!f.trailing:m),Ag(a,l,{leading:g,maxWait:l,trailing:m})}function J1(a){return kg(a,1)}function Q1(a,l){return Hu(Su(l),a)}function tk(){if(!arguments.length)return[];var a=arguments[0];return Nt(a)?a:[a]}function ek(a){return Eo(a,v)}function ok(a,l){return l=typeof l=="function"?l:t,Eo(a,v,l)}function rk(a){return Eo(a,b|v)}function nk(a,l){return l=typeof l=="function"?l:t,Eo(a,b|v,l)}function ik(a,l){return l==null||bp(a,l,Me(l))}function Bo(a,l){return a===l||a!==a&&l!==l}var ak=gl(_u),sk=gl(function(a,l){return a>=l}),Dn=wp(function(){return arguments}())?wp:function(a){return we(a)&&se.call(a,"callee")&&!lp.call(a,"callee")},Nt=N.isArray,lk=Yh?fo(Yh):bx;function oo(a){return a!=null&&El(a.length)&&!yr(a)}function Ce(a){return we(a)&&oo(a)}function ck(a){return a===!0||a===!1||we(a)&&$e(a)==at}var $r=ky||nd,uk=Xh?fo(Xh):vx;function dk(a){return we(a)&&a.nodeType===1&&!La(a)}function fk(a){if(a==null)return!0;if(oo(a)&&(Nt(a)||typeof a=="string"||typeof a.splice=="function"||$r(a)||ki(a)||Dn(a)))return!a.length;var l=Ve(a);if(l==O||l==J)return!a.size;if(Sa(a))return!wu(a).length;for(var f in a)if(se.call(a,f))return!1;return!0}function hk(a,l){return Aa(a,l)}function pk(a,l,f){f=typeof f=="function"?f:t;var g=f?f(a,l):t;return g===t?Aa(a,l,t,f):!!g}function Ku(a){if(!we(a))return!1;var l=$e(a);return l==xt||l==Zt||typeof a.message=="string"&&typeof a.name=="string"&&!La(a)}function gk(a){return typeof a=="number"&&up(a)}function yr(a){if(!ye(a))return!1;var l=$e(a);return l==Ct||l==E||l==Q||l==nt}function Ig(a){return typeof a=="number"&&a==Bt(a)}function El(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ut}function ye(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function we(a){return a!=null&&typeof a=="object"}var Sg=Vh?fo(Vh):_x;function bk(a,l){return a===l||xu(a,l,zu(l))}function vk(a,l,f){return f=typeof f=="function"?f:t,xu(a,l,zu(l),f)}function mk(a){return Pg(a)&&a!=+a}function _k(a){if(ow(a))throw new Dt(i);return kp(a)}function yk(a){return a===null}function xk(a){return a==null}function Pg(a){return typeof a=="number"||we(a)&&$e(a)==M}function La(a){if(!we(a)||$e(a)!=W)return!1;var l=qs(a);if(l===null)return!0;var f=se.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&Hs.call(f)==vy}var $u=jh?fo(jh):yx;function wk(a){return Ig(a)&&a>=-ut&&a<=ut}var Lg=Hh?fo(Hh):xx;function Cl(a){return typeof a=="string"||!Nt(a)&&we(a)&&$e(a)==j}function po(a){return typeof a=="symbol"||we(a)&&$e(a)==gt}var ki=Kh?fo(Kh):wx;function kk(a){return a===t}function Ek(a){return we(a)&&Ve(a)==vt}function Ck(a){return we(a)&&$e(a)==wt}var Tk=gl(ku),Rk=gl(function(a,l){return a<=l});function Mg(a){if(!a)return[];if(oo(a))return Cl(a)?zo(a):eo(a);if(ya&&a[ya])return iy(a[ya]());var l=Ve(a),f=l==O?uu:l==J?Xs:Ei;return f(a)}function xr(a){if(!a)return a===0?a:0;if(a=Ro(a),a===et||a===-et){var l=a<0?-1:1;return l*yt}return a===a?a:0}function Bt(a){var l=xr(a),f=l%1;return l===l?f?l-f:l:0}function Fg(a){return a?Pn(Bt(a),0,Lt):0}function Ro(a){if(typeof a=="number")return a;if(po(a))return Pt;if(ye(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=ye(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=tp(a);var f=l_.test(a);return f||u_.test(a)?U_(a.slice(2),f?2:8):zs.test(a)?Pt:+a}function Dg(a){return nr(a,ro(a))}function Ak(a){return a?Pn(Bt(a),-ut,ut):a===0?a:0}function ae(a){return a==null?"":ho(a)}var Ok=yi(function(a,l){if(Sa(l)||oo(l)){nr(l,Me(l),a);return}for(var f in l)se.call(l,f)&&Ca(a,f,l[f])}),Ng=yi(function(a,l){nr(l,ro(l),a)}),Tl=yi(function(a,l,f,g){nr(l,ro(l),a,g)}),Ik=yi(function(a,l,f,g){nr(l,Me(l),a,g)}),Sk=mr(bu);function Pk(a,l){var f=_i(a);return l==null?f:gp(f,l)}var Lk=Yt(function(a,l){a=ue(a);var f=-1,g=l.length,m=g>2?l[2]:t;for(m&&Ze(l[0],l[1],m)&&(g=1);++f<g;)for(var x=l[f],C=ro(x),R=-1,L=C.length;++R<L;){var U=C[R],Y=a[U];(Y===t||Bo(Y,bi[U])&&!se.call(a,U))&&(a[U]=x[U])}return a}),Mk=Yt(function(a){return a.push(t,tg),uo(zg,t,a)});function Fk(a,l){return Zh(a,kt(l,3),rr)}function Dk(a,l){return Zh(a,kt(l,3),mu)}function Nk(a,l){return a==null?a:vu(a,kt(l,3),ro)}function zk(a,l){return a==null?a:yp(a,kt(l,3),ro)}function Gk(a,l){return a&&rr(a,kt(l,3))}function Bk(a,l){return a&&mu(a,kt(l,3))}function Wk(a){return a==null?[]:sl(a,Me(a))}function Uk(a){return a==null?[]:sl(a,ro(a))}function Zu(a,l,f){var g=a==null?t:Ln(a,l);return g===t?f:g}function Yk(a,l){return a!=null&&rg(a,l,fx)}function qu(a,l){return a!=null&&rg(a,l,hx)}var Xk=$p(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=Ks.call(l)),a[l]=f},Qu(no)),Vk=$p(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=Ks.call(l)),se.call(a,l)?a[l].push(f):a[l]=[f]},kt),jk=Yt(Ra);function Me(a){return oo(a)?hp(a):wu(a)}function ro(a){return oo(a)?hp(a,!0):kx(a)}function Hk(a,l){var f={};return l=kt(l,3),rr(a,function(g,m,x){br(f,l(g,m,x),g)}),f}function Kk(a,l){var f={};return l=kt(l,3),rr(a,function(g,m,x){br(f,m,l(g,m,x))}),f}var $k=yi(function(a,l,f){ll(a,l,f)}),zg=yi(function(a,l,f,g){ll(a,l,f,g)}),Zk=mr(function(a,l){var f={};if(a==null)return f;var g=!1;l=me(l,function(x){return x=Hr(x,a),g||(g=x.length>1),x}),nr(a,Du(a),f),g&&(f=Eo(f,b|p|v,Xx));for(var m=l.length;m--;)Au(f,l[m]);return f});function qk(a,l){return Gg(a,kl(kt(l)))}var Jk=mr(function(a,l){return a==null?{}:Cx(a,l)});function Gg(a,l){if(a==null)return{};var f=me(Du(a),function(g){return[g]});return l=kt(l),Ip(a,f,function(g,m){return l(g,m[0])})}function Qk(a,l,f){l=Hr(l,a);var g=-1,m=l.length;for(m||(m=1,a=t);++g<m;){var x=a==null?t:a[ir(l[g])];x===t&&(g=m,x=f),a=yr(x)?x.call(a):x}return a}function t5(a,l,f){return a==null?a:Oa(a,l,f)}function e5(a,l,f,g){return g=typeof g=="function"?g:t,a==null?a:Oa(a,l,f,g)}var Bg=Jp(Me),Wg=Jp(ro);function o5(a,l,f){var g=Nt(a),m=g||$r(a)||ki(a);if(l=kt(l,4),f==null){var x=a&&a.constructor;m?f=g?new x:[]:ye(a)?f=yr(x)?_i(qs(a)):{}:f={}}return(m?xo:rr)(a,function(C,R,L){return l(f,C,R,L)}),f}function r5(a,l){return a==null?!0:Au(a,l)}function n5(a,l,f){return a==null?a:Fp(a,l,Su(f))}function i5(a,l,f,g){return g=typeof g=="function"?g:t,a==null?a:Fp(a,l,Su(f),g)}function Ei(a){return a==null?[]:cu(a,Me(a))}function a5(a){return a==null?[]:cu(a,ro(a))}function s5(a,l,f){return f===t&&(f=l,l=t),f!==t&&(f=Ro(f),f=f===f?f:0),l!==t&&(l=Ro(l),l=l===l?l:0),Pn(Ro(a),l,f)}function l5(a,l,f){return l=xr(l),f===t?(f=l,l=0):f=xr(f),a=Ro(a),px(a,l,f)}function c5(a,l,f){if(f&&typeof f!="boolean"&&Ze(a,l,f)&&(l=f=t),f===t&&(typeof l=="boolean"?(f=l,l=t):typeof a=="boolean"&&(f=a,a=t)),a===t&&l===t?(a=0,l=1):(a=xr(a),l===t?(l=a,a=0):l=xr(l)),a>l){var g=a;a=l,l=g}if(f||a%1||l%1){var m=dp();return Xe(a+m*(l-a+W_("1e-"+((m+"").length-1))),l)}return Cu(a,l)}var u5=xi(function(a,l,f){return l=l.toLowerCase(),a+(f?Ug(l):l)});function Ug(a){return Ju(ae(a).toLowerCase())}function Yg(a){return a=ae(a),a&&a.replace(f_,ty).replace(S_,"")}function d5(a,l,f){a=ae(a),l=ho(l);var g=a.length;f=f===t?g:Pn(Bt(f),0,g);var m=f;return f-=l.length,f>=0&&a.slice(f,m)==l}function f5(a){return a=ae(a),a&&ga.test(a)?a.replace(pa,ey):a}function h5(a){return a=ae(a),a&&Kc.test(a)?a.replace(li,"\\$&"):a}var p5=xi(function(a,l,f){return a+(f?"-":"")+l.toLowerCase()}),g5=xi(function(a,l,f){return a+(f?" ":"")+l.toLowerCase()}),b5=jp("toLowerCase");function v5(a,l,f){a=ae(a),l=Bt(l);var g=l?pi(a):0;if(!l||g>=l)return a;var m=(l-g)/2;return pl(el(m),f)+a+pl(tl(m),f)}function m5(a,l,f){a=ae(a),l=Bt(l);var g=l?pi(a):0;return l&&g<l?a+pl(l-g,f):a}function _5(a,l,f){a=ae(a),l=Bt(l);var g=l?pi(a):0;return l&&g<l?pl(l-g,f)+a:a}function y5(a,l,f){return f||l==null?l=0:l&&(l=+l),Ry(ae(a).replace(va,""),l||0)}function x5(a,l,f){return(f?Ze(a,l,f):l===t)?l=1:l=Bt(l),Tu(ae(a),l)}function w5(){var a=arguments,l=ae(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var k5=xi(function(a,l,f){return a+(f?"_":"")+l.toLowerCase()});function E5(a,l,f){return f&&typeof f!="number"&&Ze(a,l,f)&&(l=f=t),f=f===t?Lt:f>>>0,f?(a=ae(a),a&&(typeof l=="string"||l!=null&&!$u(l))&&(l=ho(l),!l&&hi(a))?Kr(zo(a),0,f):a.split(l,f)):[]}var C5=xi(function(a,l,f){return a+(f?" ":"")+Ju(l)});function T5(a,l,f){return a=ae(a),f=f==null?0:Pn(Bt(f),0,a.length),l=ho(l),a.slice(f,f+l.length)==l}function R5(a,l,f){var g=y.templateSettings;f&&Ze(a,l,f)&&(l=t),a=ae(a),l=Tl({},l,g,Qp);var m=Tl({},l.imports,g.imports,Qp),x=Me(m),C=cu(m,x),R,L,U=0,Y=l.interpolate||Gs,$="__p += '",lt=du((l.escape||Gs).source+"|"+Y.source+"|"+(Y===Br?ma:Gs).source+"|"+(l.evaluate||Gs).source+"|$","g"),_t="//# sourceURL="+(se.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++D_+"]")+`
`;a.replace(lt,function(Rt,jt,qt,go,qe,bo){return qt||(qt=go),$+=a.slice(U,bo).replace(h_,oy),jt&&(R=!0,$+=`' +
__e(`+jt+`) +
'`),qe&&(L=!0,$+=`';
`+qe+`;
__p += '`),qt&&($+=`' +
((__t = (`+qt+`)) == null ? '' : __t) +
'`),U=bo+Rt.length,Rt}),$+=`';
`;var Tt=se.call(l,"variable")&&l.variable;if(!Tt)$=`with (obj) {
`+$+`
}
`;else if(Ye.test(Tt))throw new Dt(c);$=(L?$.replace(kn,""):$).replace(ha,"$1").replace(Hc,"$1;"),$="function("+(Tt||"obj")+`) {
`+(Tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var Wt=Vg(function(){return re(x,_t+"return "+$).apply(t,C)});if(Wt.source=$,Ku(Wt))throw Wt;return Wt}function A5(a){return ae(a).toLowerCase()}function O5(a){return ae(a).toUpperCase()}function I5(a,l,f){if(a=ae(a),a&&(f||l===t))return tp(a);if(!a||!(l=ho(l)))return a;var g=zo(a),m=zo(l),x=ep(g,m),C=op(g,m)+1;return Kr(g,x,C).join("")}function S5(a,l,f){if(a=ae(a),a&&(f||l===t))return a.slice(0,np(a)+1);if(!a||!(l=ho(l)))return a;var g=zo(a),m=op(g,zo(l))+1;return Kr(g,0,m).join("")}function P5(a,l,f){if(a=ae(a),a&&(f||l===t))return a.replace(va,"");if(!a||!(l=ho(l)))return a;var g=zo(a),m=ep(g,zo(l));return Kr(g,m).join("")}function L5(a,l){var f=ot,g=st;if(ye(l)){var m="separator"in l?l.separator:m;f="length"in l?Bt(l.length):f,g="omission"in l?ho(l.omission):g}a=ae(a);var x=a.length;if(hi(a)){var C=zo(a);x=C.length}if(f>=x)return a;var R=f-pi(g);if(R<1)return g;var L=C?Kr(C,0,R).join(""):a.slice(0,R);if(m===t)return L+g;if(C&&(R+=L.length-R),$u(m)){if(a.slice(R).search(m)){var U,Y=L;for(m.global||(m=du(m.source,ae(Ns.exec(m))+"g")),m.lastIndex=0;U=m.exec(Y);)var $=U.index;L=L.slice(0,$===t?R:$)}}else if(a.indexOf(ho(m),R)!=R){var lt=L.lastIndexOf(m);lt>-1&&(L=L.slice(0,lt))}return L+g}function M5(a){return a=ae(a),a&&Ms.test(a)?a.replace(Ls,cy):a}var F5=xi(function(a,l,f){return a+(f?" ":"")+l.toUpperCase()}),Ju=jp("toUpperCase");function Xg(a,l,f){return a=ae(a),l=f?t:l,l===t?ny(a)?fy(a):$_(a):a.match(l)||[]}var Vg=Yt(function(a,l){try{return uo(a,t,l)}catch(f){return Ku(f)?f:new Dt(f)}}),D5=mr(function(a,l){return xo(l,function(f){f=ir(f),br(a,f,ju(a[f],a))}),a});function N5(a){var l=a==null?0:a.length,f=kt();return a=l?me(a,function(g){if(typeof g[1]!="function")throw new wo(s);return[f(g[0]),g[1]]}):[],Yt(function(g){for(var m=-1;++m<l;){var x=a[m];if(uo(x[0],this,g))return uo(x[1],this,g)}})}function z5(a){return cx(Eo(a,b))}function Qu(a){return function(){return a}}function G5(a,l){return a==null||a!==a?l:a}var B5=Kp(),W5=Kp(!0);function no(a){return a}function td(a){return Ep(typeof a=="function"?a:Eo(a,b))}function U5(a){return Tp(Eo(a,b))}function Y5(a,l){return Rp(a,Eo(l,b))}var X5=Yt(function(a,l){return function(f){return Ra(f,a,l)}}),V5=Yt(function(a,l){return function(f){return Ra(a,f,l)}});function ed(a,l,f){var g=Me(l),m=sl(l,g);f==null&&!(ye(l)&&(m.length||!g.length))&&(f=l,l=a,a=this,m=sl(l,Me(l)));var x=!(ye(f)&&"chain"in f)||!!f.chain,C=yr(a);return xo(m,function(R){var L=l[R];a[R]=L,C&&(a.prototype[R]=function(){var U=this.__chain__;if(x||U){var Y=a(this.__wrapped__),$=Y.__actions__=eo(this.__actions__);return $.push({func:L,args:arguments,thisArg:a}),Y.__chain__=U,Y}return L.apply(a,Ur([this.value()],arguments))})}),a}function j5(){return Ge._===this&&(Ge._=my),this}function od(){}function H5(a){return a=Bt(a),Yt(function(l){return Ap(l,a)})}var K5=Lu(me),$5=Lu($h),Z5=Lu(nu);function jg(a){return Bu(a)?iu(ir(a)):Tx(a)}function q5(a){return function(l){return a==null?t:Ln(a,l)}}var J5=Zp(),Q5=Zp(!0);function rd(){return[]}function nd(){return!1}function tE(){return{}}function eE(){return""}function oE(){return!0}function rE(a,l){if(a=Bt(a),a<1||a>ut)return[];var f=Lt,g=Xe(a,Lt);l=kt(l),a-=Lt;for(var m=lu(g,l);++f<a;)l(f);return m}function nE(a){return Nt(a)?me(a,ir):po(a)?[a]:eo(fg(ae(a)))}function iE(a){var l=++by;return ae(a)+l}var aE=hl(function(a,l){return a+l},0),sE=Mu("ceil"),lE=hl(function(a,l){return a/l},1),cE=Mu("floor");function uE(a){return a&&a.length?al(a,no,_u):t}function dE(a,l){return a&&a.length?al(a,kt(l,2),_u):t}function fE(a){return Jh(a,no)}function hE(a,l){return Jh(a,kt(l,2))}function pE(a){return a&&a.length?al(a,no,ku):t}function gE(a,l){return a&&a.length?al(a,kt(l,2),ku):t}var bE=hl(function(a,l){return a*l},1),vE=Mu("round"),mE=hl(function(a,l){return a-l},0);function _E(a){return a&&a.length?su(a,no):0}function yE(a,l){return a&&a.length?su(a,kt(l,2)):0}return y.after=U1,y.ary=kg,y.assign=Ok,y.assignIn=Ng,y.assignInWith=Tl,y.assignWith=Ik,y.at=Sk,y.before=Eg,y.bind=ju,y.bindAll=D5,y.bindKey=Cg,y.castArray=tk,y.chain=yg,y.chunk=cw,y.compact=uw,y.concat=dw,y.cond=N5,y.conforms=z5,y.constant=Qu,y.countBy=_1,y.create=Pk,y.curry=Tg,y.curryRight=Rg,y.debounce=Ag,y.defaults=Lk,y.defaultsDeep=Mk,y.defer=Y1,y.delay=X1,y.difference=fw,y.differenceBy=hw,y.differenceWith=pw,y.drop=gw,y.dropRight=bw,y.dropRightWhile=vw,y.dropWhile=mw,y.fill=_w,y.filter=x1,y.flatMap=E1,y.flatMapDeep=C1,y.flatMapDepth=T1,y.flatten=bg,y.flattenDeep=yw,y.flattenDepth=xw,y.flip=V1,y.flow=B5,y.flowRight=W5,y.fromPairs=ww,y.functions=Wk,y.functionsIn=Uk,y.groupBy=R1,y.initial=Ew,y.intersection=Cw,y.intersectionBy=Tw,y.intersectionWith=Rw,y.invert=Xk,y.invertBy=Vk,y.invokeMap=O1,y.iteratee=td,y.keyBy=I1,y.keys=Me,y.keysIn=ro,y.map=yl,y.mapKeys=Hk,y.mapValues=Kk,y.matches=U5,y.matchesProperty=Y5,y.memoize=wl,y.merge=$k,y.mergeWith=zg,y.method=X5,y.methodOf=V5,y.mixin=ed,y.negate=kl,y.nthArg=H5,y.omit=Zk,y.omitBy=qk,y.once=j1,y.orderBy=S1,y.over=K5,y.overArgs=H1,y.overEvery=$5,y.overSome=Z5,y.partial=Hu,y.partialRight=Og,y.partition=P1,y.pick=Jk,y.pickBy=Gg,y.property=jg,y.propertyOf=q5,y.pull=Sw,y.pullAll=mg,y.pullAllBy=Pw,y.pullAllWith=Lw,y.pullAt=Mw,y.range=J5,y.rangeRight=Q5,y.rearg=K1,y.reject=F1,y.remove=Fw,y.rest=$1,y.reverse=Xu,y.sampleSize=N1,y.set=t5,y.setWith=e5,y.shuffle=z1,y.slice=Dw,y.sortBy=W1,y.sortedUniq=Yw,y.sortedUniqBy=Xw,y.split=E5,y.spread=Z1,y.tail=Vw,y.take=jw,y.takeRight=Hw,y.takeRightWhile=Kw,y.takeWhile=$w,y.tap=u1,y.throttle=q1,y.thru=_l,y.toArray=Mg,y.toPairs=Bg,y.toPairsIn=Wg,y.toPath=nE,y.toPlainObject=Dg,y.transform=o5,y.unary=J1,y.union=Zw,y.unionBy=qw,y.unionWith=Jw,y.uniq=Qw,y.uniqBy=t1,y.uniqWith=e1,y.unset=r5,y.unzip=Vu,y.unzipWith=_g,y.update=n5,y.updateWith=i5,y.values=Ei,y.valuesIn=a5,y.without=o1,y.words=Xg,y.wrap=Q1,y.xor=r1,y.xorBy=n1,y.xorWith=i1,y.zip=a1,y.zipObject=s1,y.zipObjectDeep=l1,y.zipWith=c1,y.entries=Bg,y.entriesIn=Wg,y.extend=Ng,y.extendWith=Tl,ed(y,y),y.add=aE,y.attempt=Vg,y.camelCase=u5,y.capitalize=Ug,y.ceil=sE,y.clamp=s5,y.clone=ek,y.cloneDeep=rk,y.cloneDeepWith=nk,y.cloneWith=ok,y.conformsTo=ik,y.deburr=Yg,y.defaultTo=G5,y.divide=lE,y.endsWith=d5,y.eq=Bo,y.escape=f5,y.escapeRegExp=h5,y.every=y1,y.find=w1,y.findIndex=pg,y.findKey=Fk,y.findLast=k1,y.findLastIndex=gg,y.findLastKey=Dk,y.floor=cE,y.forEach=xg,y.forEachRight=wg,y.forIn=Nk,y.forInRight=zk,y.forOwn=Gk,y.forOwnRight=Bk,y.get=Zu,y.gt=ak,y.gte=sk,y.has=Yk,y.hasIn=qu,y.head=vg,y.identity=no,y.includes=A1,y.indexOf=kw,y.inRange=l5,y.invoke=jk,y.isArguments=Dn,y.isArray=Nt,y.isArrayBuffer=lk,y.isArrayLike=oo,y.isArrayLikeObject=Ce,y.isBoolean=ck,y.isBuffer=$r,y.isDate=uk,y.isElement=dk,y.isEmpty=fk,y.isEqual=hk,y.isEqualWith=pk,y.isError=Ku,y.isFinite=gk,y.isFunction=yr,y.isInteger=Ig,y.isLength=El,y.isMap=Sg,y.isMatch=bk,y.isMatchWith=vk,y.isNaN=mk,y.isNative=_k,y.isNil=xk,y.isNull=yk,y.isNumber=Pg,y.isObject=ye,y.isObjectLike=we,y.isPlainObject=La,y.isRegExp=$u,y.isSafeInteger=wk,y.isSet=Lg,y.isString=Cl,y.isSymbol=po,y.isTypedArray=ki,y.isUndefined=kk,y.isWeakMap=Ek,y.isWeakSet=Ck,y.join=Aw,y.kebabCase=p5,y.last=To,y.lastIndexOf=Ow,y.lowerCase=g5,y.lowerFirst=b5,y.lt=Tk,y.lte=Rk,y.max=uE,y.maxBy=dE,y.mean=fE,y.meanBy=hE,y.min=pE,y.minBy=gE,y.stubArray=rd,y.stubFalse=nd,y.stubObject=tE,y.stubString=eE,y.stubTrue=oE,y.multiply=bE,y.nth=Iw,y.noConflict=j5,y.noop=od,y.now=xl,y.pad=v5,y.padEnd=m5,y.padStart=_5,y.parseInt=y5,y.random=c5,y.reduce=L1,y.reduceRight=M1,y.repeat=x5,y.replace=w5,y.result=Qk,y.round=vE,y.runInContext=S,y.sample=D1,y.size=G1,y.snakeCase=k5,y.some=B1,y.sortedIndex=Nw,y.sortedIndexBy=zw,y.sortedIndexOf=Gw,y.sortedLastIndex=Bw,y.sortedLastIndexBy=Ww,y.sortedLastIndexOf=Uw,y.startCase=C5,y.startsWith=T5,y.subtract=mE,y.sum=_E,y.sumBy=yE,y.template=R5,y.times=rE,y.toFinite=xr,y.toInteger=Bt,y.toLength=Fg,y.toLower=A5,y.toNumber=Ro,y.toSafeInteger=Ak,y.toString=ae,y.toUpper=O5,y.trim=I5,y.trimEnd=S5,y.trimStart=P5,y.truncate=L5,y.unescape=M5,y.uniqueId=iE,y.upperCase=F5,y.upperFirst=Ju,y.each=xg,y.eachRight=wg,y.first=vg,ed(y,function(){var a={};return rr(y,function(l,f){se.call(y.prototype,f)||(a[f]=l)}),a}(),{chain:!1}),y.VERSION=o,xo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),xo(["drop","take"],function(a,l){Ht.prototype[a]=function(f){f=f===t?1:Le(Bt(f),0);var g=this.__filtered__&&!l?new Ht(this):this.clone();return g.__filtered__?g.__takeCount__=Xe(f,g.__takeCount__):g.__views__.push({size:Xe(f,Lt),type:a+(g.__dir__<0?"Right":"")}),g},Ht.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),xo(["filter","map","takeWhile"],function(a,l){var f=l+1,g=f==mt||f==ht;Ht.prototype[a]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:kt(m,3),type:f}),x.__filtered__=x.__filtered__||g,x}}),xo(["head","last"],function(a,l){var f="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[f](1).value()[0]}}),xo(["initial","tail"],function(a,l){var f="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[f](1)}}),Ht.prototype.compact=function(){return this.filter(no)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Yt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(f){return Ra(f,a,l)})}),Ht.prototype.reject=function(a){return this.filter(kl(kt(a)))},Ht.prototype.slice=function(a,l){a=Bt(a);var f=this;return f.__filtered__&&(a>0||l<0)?new Ht(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),l!==t&&(l=Bt(l),f=l<0?f.dropRight(-l):f.take(l-a)),f)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(Lt)},rr(Ht.prototype,function(a,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),m=y[g?"take"+(l=="last"?"Right":""):l],x=g||/^find/.test(l);!m||(y.prototype[l]=function(){var C=this.__wrapped__,R=g?[1]:arguments,L=C instanceof Ht,U=R[0],Y=L||Nt(C),$=function(jt){var qt=m.apply(y,Ur([jt],R));return g&&lt?qt[0]:qt};Y&&f&&typeof U=="function"&&U.length!=1&&(L=Y=!1);var lt=this.__chain__,_t=!!this.__actions__.length,Tt=x&&!lt,Wt=L&&!_t;if(!x&&Y){C=Wt?C:new Ht(this);var Rt=a.apply(C,R);return Rt.__actions__.push({func:_l,args:[$],thisArg:t}),new ko(Rt,lt)}return Tt&&Wt?a.apply(this,R):(Rt=this.thru($),Tt?g?Rt.value()[0]:Rt.value():Rt)})}),xo(["pop","push","shift","sort","splice","unshift"],function(a){var l=Vs[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(g&&!this.__chain__){var x=this.value();return l.apply(Nt(x)?x:[],m)}return this[f](function(C){return l.apply(Nt(C)?C:[],m)})}}),rr(Ht.prototype,function(a,l){var f=y[l];if(f){var g=f.name+"";se.call(mi,g)||(mi[g]=[]),mi[g].push({name:l,func:f})}}),mi[fl(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=My,Ht.prototype.reverse=Fy,Ht.prototype.value=Dy,y.prototype.at=d1,y.prototype.chain=f1,y.prototype.commit=h1,y.prototype.next=p1,y.prototype.plant=b1,y.prototype.reverse=v1,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=m1,y.prototype.first=y.prototype.head,ya&&(y.prototype[ya]=g1),y},gi=hy();An?((An.exports=gi)._=gi,tu._=gi):Ge._=gi}).call(Fa)})(sc,sc.exports);var mo={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Lo={};Lo[mo.RADIANS]=6370997/(2*Math.PI);Lo[mo.DEGREES]=2*Math.PI*6370997/360;Lo[mo.FEET]=.3048;Lo[mo.METERS]=1;Lo[mo.USFEET]=1200/3937;var sR=function(){function r(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Lo[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},r.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},r.prototype.setWorldExtent=function(e){this.worldExtent_=e},r.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}(),Fc=sR;function Se(r,e,t){return Math.min(Math.max(r,e),t)}var lR=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(e){var t=Math.exp(e);return(t+1/t)/2},r}(),cR=function(){var r;return"log2"in Math?r=Math.log2:r=function(e){return Math.log(e)*Math.LOG2E},r}();function uR(r,e,t,o,n,i){var s=n-t,c=i-o;if(s!==0||c!==0){var u=((r-t)*s+(e-o)*c)/(s*s+c*c);u>1?(t=n,o=i):u>0&&(t+=s*u,o+=c*u)}return ti(r,e,t,o)}function ti(r,e,t,o){var n=t-r,i=o-e;return n*n+i*i}function dR(r){for(var e=r.length,t=0;t<e;t++){for(var o=t,n=Math.abs(r[t][t]),i=t+1;i<e;i++){var s=Math.abs(r[i][t]);s>n&&(n=s,o=i)}if(n===0)return null;var c=r[o];r[o]=r[t],r[t]=c;for(var u=t+1;u<e;u++)for(var d=-r[u][t]/r[t][t],h=t;h<e+1;h++)t==h?r[u][h]=0:r[u][h]+=d*r[t][h]}for(var b=new Array(e),p=e-1;p>=0;p--){b[p]=r[p][e]/r[p][p];for(var v=p-1;v>=0;v--)r[v][e]-=r[v][p]*b[p]}return b}function Zl(r){return r*Math.PI/180}function Xi(r,e){var t=r%e;return t*e<0?t+e:t}function Ir(r,e,t){return r+t*(e-r)}function Vm(r,e){var t=Math.pow(10,e);return Math.round(r*t)/t}function Pl(r,e){return Math.floor(Vm(r,e))}function Ll(r,e){return Math.ceil(Vm(r,e))}var fR=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ws=6378137,zi=Math.PI*ws,hR=[-zi,-zi,zi,zi],pR=[-180,-85,180,85],Ml=ws*Math.log(Math.tan(Math.PI/2)),Ri=function(r){fR(e,r);function e(t){return r.call(this,{code:t,units:mo.METERS,extent:hR,global:!0,worldExtent:pR,getPointResolution:function(o,n){return o/lR(n[1]/ws)}})||this}return e}(Fc),Bb=[new Ri("EPSG:3857"),new Ri("EPSG:102100"),new Ri("EPSG:102113"),new Ri("EPSG:900913"),new Ri("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ri("http://www.opengis.net/gml/srs/epsg.xml#3857")];function gR(r,e,t){var o=r.length,n=t>1?t:2,i=e;i===void 0&&(n>2?i=r.slice():i=new Array(o));for(var s=0;s<o;s+=n){i[s]=zi*r[s]/180;var c=ws*Math.log(Math.tan(Math.PI*(+r[s+1]+90)/360));c>Ml?c=Ml:c<-Ml&&(c=-Ml),i[s+1]=c}return i}function bR(r,e,t){var o=r.length,n=t>1?t:2,i=e;i===void 0&&(n>2?i=r.slice():i=new Array(o));for(var s=0;s<o;s+=n)i[s]=180*r[s]/zi,i[s+1]=360*Math.atan(Math.exp(r[s+1]/ws))/Math.PI-90;return i}var vR=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),mR=6378137,Wb=[-180,-90,180,90],_R=Math.PI*mR/180,Gn=function(r){vR(e,r);function e(t,o){return r.call(this,{code:t,units:mo.DEGREES,extent:Wb,axisOrientation:o,global:!0,metersPerUnit:_R,worldExtent:Wb})||this}return e}(Fc),Ub=[new Gn("CRS:84"),new Gn("EPSG:4326","neu"),new Gn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Gn("urn:ogc:def:crs:OGC:2:84"),new Gn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Gn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Gn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Jd={};function yR(r){return Jd[r]||Jd[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function xR(r,e){Jd[r]=e}var De=typeof Object.assign=="function"?Object.assign:function(r,e){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),o=1,n=arguments.length;o<n;++o){var i=arguments[o];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function ks(r){for(var e in r)delete r[e]}var jm=typeof Object.values=="function"?Object.values:function(r){var e=[];for(var t in r)e.push(r[t]);return e};function cs(r){var e;for(e in r)return!1;return!e}var Vi={};function lc(r,e,t){var o=r.getCode(),n=e.getCode();o in Vi||(Vi[o]={}),Vi[o][n]=t}function wR(r,e){var t;return r in Vi&&e in Vi[r]&&(t=Vi[r][e]),t}var Wa={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Fe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Kt(){return function(){throw new Error("Unimplemented abstract method.")}()}var kR=0;function ie(r){return r.ol_uid||(r.ol_uid=String(++kR))}var ER="6.14.1",CR=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),TR=function(r){CR(e,r);function e(t){var o=this,n="v"+ER.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+t+" for details.";return o=r.call(this,i)||this,o.code=t,o.name="AssertionError",o.message=i,o}return e}(Error),Hm=TR;function $t(r,e){if(!r)throw new Hm(e)}function Qd(r){for(var e=Mo(),t=0,o=r.length;t<o;++t)Ja(e,r[t]);return e}function RR(r,e,t){var o=Math.min.apply(null,r),n=Math.min.apply(null,e),i=Math.max.apply(null,r),s=Math.max.apply(null,e);return tr(o,n,i,s,t)}function Vf(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function Km(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function ca(r,e,t){var o,n;return e<r[0]?o=r[0]-e:r[2]<e?o=e-r[2]:o=0,t<r[1]?n=r[1]-t:r[3]<t?n=t-r[3]:n=0,o*o+n*n}function Es(r,e){return jf(r,e[0],e[1])}function Gi(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function jf(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function tf(r,e){var t=r[0],o=r[1],n=r[2],i=r[3],s=e[0],c=e[1],u=Fe.UNKNOWN;return s<t?u=u|Fe.LEFT:s>n&&(u=u|Fe.RIGHT),c<o?u=u|Fe.BELOW:c>i&&(u=u|Fe.ABOVE),u===Fe.UNKNOWN&&(u=Fe.INTERSECTING),u}function Mo(){return[1/0,1/0,-1/0,-1/0]}function tr(r,e,t,o,n){return n?(n[0]=r,n[1]=e,n[2]=t,n[3]=o,n):[r,e,t,o]}function Dc(r){return tr(1/0,1/0,-1/0,-1/0,r)}function AR(r,e){var t=r[0],o=r[1];return tr(t,o,t,o,e)}function $m(r,e,t,o,n){var i=Dc(n);return Zm(i,r,e,t,o)}function us(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function OR(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function Ja(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function Zm(r,e,t,o,n){for(;t<o;t+=n)IR(r,e[t],e[t+1]);return r}function IR(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function Hf(r,e){var t;return t=e(qi(r)),t||(t=e(Cs(r)),t)||(t=e(Ts(r)),t)||(t=e(xn(r)),t)?t:!1}function ef(r){var e=0;return Kf(r)||(e=ke(r)*er(r)),e}function qi(r){return[r[0],r[1]]}function Cs(r){return[r[2],r[1]]}function Ji(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function SR(r,e){var t;return e===Wa.BOTTOM_LEFT?t=qi(r):e===Wa.BOTTOM_RIGHT?t=Cs(r):e===Wa.TOP_LEFT?t=xn(r):e===Wa.TOP_RIGHT?t=Ts(r):$t(!1,13),t}function of(r,e,t,o,n){var i=e*o[0]/2,s=e*o[1]/2,c=Math.cos(t),u=Math.sin(t),d=i*c,h=i*u,b=s*c,p=s*u,v=r[0],_=r[1],w=v-d+p,k=v-d-p,T=v+d-p,A=v+d+p,I=_-h-b,P=_-h+b,D=_+h+b,X=_+h-b;return tr(Math.min(w,k,T,A),Math.min(I,P,D,X),Math.max(w,k,T,A),Math.max(I,P,D,X),n)}function er(r){return r[3]-r[1]}function Qa(r,e,t){var o=t||Mo();return Qe(r,e)?(r[0]>e[0]?o[0]=r[0]:o[0]=e[0],r[1]>e[1]?o[1]=r[1]:o[1]=e[1],r[2]<e[2]?o[2]=r[2]:o[2]=e[2],r[3]<e[3]?o[3]=r[3]:o[3]=e[3]):Dc(o),o}function xn(r){return[r[0],r[3]]}function Ts(r){return[r[2],r[3]]}function ke(r){return r[2]-r[0]}function Qe(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function Kf(r){return r[2]<r[0]||r[3]<r[1]}function PR(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function LR(r,e,t){var o=!1,n=tf(r,e),i=tf(r,t);if(n===Fe.INTERSECTING||i===Fe.INTERSECTING)o=!0;else{var s=r[0],c=r[1],u=r[2],d=r[3],h=e[0],b=e[1],p=t[0],v=t[1],_=(v-b)/(p-h),w=void 0,k=void 0;!!(i&Fe.ABOVE)&&!(n&Fe.ABOVE)&&(w=p-(v-d)/_,o=w>=s&&w<=u),!o&&!!(i&Fe.RIGHT)&&!(n&Fe.RIGHT)&&(k=v-(p-u)*_,o=k>=c&&k<=d),!o&&!!(i&Fe.BELOW)&&!(n&Fe.BELOW)&&(w=p-(v-c)/_,o=w>=s&&w<=u),!o&&!!(i&Fe.LEFT)&&!(n&Fe.LEFT)&&(k=v-(p-s)*_,o=k>=c&&k<=d)}return o}function MR(r,e,t,o){var n=[];if(o>1)for(var i=r[2]-r[0],s=r[3]-r[1],c=0;c<o;++c)n.push(r[0]+i*c/o,r[1],r[2],r[1]+s*c/o,r[2]-i*c/o,r[3],r[0],r[3]-s*c/o);else n=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];e(n,n,2);for(var u=[],d=[],c=0,h=n.length;c<h;c+=2)u.push(n[c]),d.push(n[c+1]);return RR(u,d,t)}function FR(r,e){var t=e.getExtent(),o=Ji(r);if(e.canWrapX()&&(o[0]<t[0]||o[0]>=t[2])){var n=ke(t),i=Math.floor((o[0]-t[0])/n),s=i*n;r[0]-=s,r[2]-=s}return r}function DR(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function NR(r){return function(e){return WR(e,r)}}function zR(r,e,t){return r?e.replace("{x}",r[0].toFixed(t)).replace("{y}",r[1].toFixed(t)):""}function cc(r,e){for(var t=!0,o=r.length-1;o>=0;--o)if(r[o]!=e[o]){t=!1;break}return t}function $f(r,e){var t=Math.cos(e),o=Math.sin(e),n=r[0]*t-r[1]*o,i=r[1]*t+r[0]*o;return r[0]=n,r[1]=i,r}function GR(r,e){return r[0]*=e,r[1]*=e,r}function BR(r,e){var t=r[0]-e[0],o=r[1]-e[1];return t*t+o*o}function WR(r,e){return zR(r,"{x}, {y}",e)}function qm(r,e){if(e.canWrapX()){var t=ke(e.getExtent()),o=UR(r,e,t);o&&(r[0]-=o*t)}return r}function UR(r,e,t){var o=e.getExtent(),n=0;if(e.canWrapX()&&(r[0]<o[0]||r[0]>o[2])){var i=t||ke(o);n=Math.floor((r[0]-o[0])/i)}return n}var ct={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},YR=63710088e-1;function Yb(r,e,t){var o=t||YR,n=Zl(r[1]),i=Zl(e[1]),s=(i-n)/2,c=Zl(e[0]-r[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var rf=!0;function XR(r){var e=r===void 0?!0:r;rf=!e}function Zf(r,e,t){var o;if(e!==void 0){for(var n=0,i=r.length;n<i;++n)e[n]=r[n];o=e}else o=r.slice();return o}function qf(r,e,t){if(e!==void 0&&r!==e){for(var o=0,n=r.length;o<n;++o)e[o]=r[o];r=e}return r}function VR(r){xR(r.getCode(),r),lc(r,r,Zf)}function jR(r){r.forEach(VR)}function lo(r){return typeof r=="string"?yR(r):r||null}function Xb(r,e,t,o){r=lo(r);var n,i=r.getPointResolutionFunc();if(i){if(n=i(e,t),o&&o!==r.getUnits()){var s=r.getMetersPerUnit();s&&(n=n*s/Lo[o])}}else{var c=r.getUnits();if(c==mo.DEGREES&&!o||o==mo.DEGREES)n=e;else{var u=Qi(r,lo("EPSG:4326"));if(u===qf&&c!==mo.DEGREES)n=e*r.getMetersPerUnit();else{var d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=u(d,d,2);var h=Yb(d.slice(0,2),d.slice(2,4)),b=Yb(d.slice(4,6),d.slice(6,8));n=(h+b)/2}var s=o?Lo[o]:r.getMetersPerUnit();s!==void 0&&(n/=s)}}return n}function Vb(r){jR(r),r.forEach(function(e){r.forEach(function(t){e!==t&&lc(e,t,Zf)})})}function HR(r,e,t,o){r.forEach(function(n){e.forEach(function(i){lc(n,i,t),lc(i,n,o)})})}function Jf(r,e){return r?typeof r=="string"?lo(r):r:lo(e)}function Mi(r,e){if(r===e)return!0;var t=r.getUnits()===e.getUnits();if(r.getCode()===e.getCode())return t;var o=Qi(r,e);return o===Zf&&t}function Qi(r,e){var t=r.getCode(),o=e.getCode(),n=wR(t,o);return n||(n=qf),n}function ds(r,e){var t=lo(r),o=lo(e);return Qi(t,o)}function Qf(r,e,t){var o=ds(e,t);return o(r,void 0,r.length)}function Jm(r,e,t,o){var n=ds(e,t);return MR(r,n,void 0,o)}var Fo=null;function KR(r){Fo=lo(r)}function Rs(){return Fo}function $R(){KR("EPSG:4326")}function nf(r,e){return Fo?Qf(r,e,Fo):r}function Io(r,e){return Fo?Qf(r,Fo,e):(rf&&!cc(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(rf=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r)}function af(r,e){return Fo?Jm(r,e,Fo):r}function Kn(r,e){return Fo?Jm(r,Fo,e):r}function ZR(r,e){if(!Fo)return r;var t=lo(e).getUnits(),o=Fo.getUnits();return t&&o?r*Lo[t]/Lo[o]:r}function qR(){Vb(Bb),Vb(Ub),HR(Ub,Bb,gR,bR)}qR();var JR=function(){function r(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}(),fr=JR,ta={PROPERTYCHANGE:"propertychange"},QR=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}(),th=QR;function tA(r,e,t){for(var o,n,i=t||ni,s=0,c=r.length,u=!1;s<c;)o=s+(c-s>>1),n=+i(r[o],e),n<0?s=o+1:(c=o,u=!n);return u?s:~s}function ni(r,e){return r>e?1:r<e?-1:0}function eh(r,e,t){var o=r.length;if(r[0]<=e)return 0;if(e<=r[o-1])return o-1;var n=void 0;if(t>0){for(n=1;n<o;++n)if(r[n]<e)return n-1}else if(t<0){for(n=1;n<o;++n)if(r[n]<=e)return n}else for(n=1;n<o;++n){if(r[n]==e)return n;if(r[n]<e)return typeof t=="function"?t(e,r[n-1],r[n])>0?n-1:n:r[n-1]-e<e-r[n]?n-1:n}return o-1}function eA(r,e,t){for(;e<t;){var o=r[e];r[e]=r[t],r[t]=o,++e,--t}}function Mr(r,e){for(var t=Array.isArray(e)?e:[e],o=t.length,n=0;n<o;n++)r[r.length]=t[n]}function si(r,e){var t=r.length;if(t!==e.length)return!1;for(var o=0;o<t;o++)if(r[o]!==e[o])return!1;return!0}function oA(r,e,t){var o=e||ni;return r.every(function(n,i){if(i===0)return!0;var s=o(r[i-1],n);return!(s>0||t&&s===0)})}function ei(){return!0}function As(){return!1}function ii(){}function rA(r){var e=!1,t,o,n;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==n||!si(i,o))&&(e=!0,n=this,o=i,t=r.apply(this,arguments)),t}}var nA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),iA=function(r){nA(e,r);function e(t){var o=r.call(this)||this;return o.eventTarget_=t,o.pendingRemovals_=null,o.dispatching_=null,o.listeners_=null,o}return e.prototype.addEventListener=function(t,o){if(!(!t||!o)){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.indexOf(o)===-1&&i.push(o)}},e.prototype.dispatchEvent=function(t){var o=typeof t=="string",n=o?t:t.type,i=this.listeners_&&this.listeners_[n];if(!!i){var s=o?new fr(t):t;s.target||(s.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});n in c||(c[n]=0,u[n]=0),++c[n];for(var d,h=0,b=i.length;h<b;++h)if("handleEvent"in i[h]?d=i[h].handleEvent(s):d=i[h].call(this,s),d===!1||s.propagationStopped){d=!1;break}if(--c[n]===0){var p=u[n];for(delete u[n];p--;)this.removeEventListener(n,ii);delete c[n]}return d}},e.prototype.disposeInternal=function(){this.listeners_&&ks(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,o){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(o);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=ii,++this.pendingRemovals_[t]):(n.splice(i,1),n.length===0&&delete this.listeners_[t]))}},e}(th),ua=iA,zt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Jt(r,e,t,o,n){if(o&&o!==r&&(t=t.bind(o)),n){var i=t;t=function(){r.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:r,type:e,listener:t};return r.addEventListener(e,t),s}function uc(r,e,t,o){return Jt(r,e,t,o,!0)}function _e(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),ks(r))}var aA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Nc=function(r){aA(e,r);function e(){var t=r.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(zt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,o){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),s=0;s<n;++s)i[s]=Jt(this,t[s],o);return i}else return Jt(this,t,o)},e.prototype.onceInternal=function(t,o){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var s=0;s<i;++s)n[s]=uc(this,t[s],o)}else n=uc(this,t,o);return o.ol_key=n,n},e.prototype.unInternal=function(t,o){var n=o.ol_key;if(n)sA(n);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],o);else this.removeEventListener(t,o)},e}(ua);Nc.prototype.on;Nc.prototype.once;Nc.prototype.un;function sA(r){if(Array.isArray(r))for(var e=0,t=r.length;e<t;++e)_e(r[e]);else _e(r)}var Qm=Nc,t0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),jb=function(r){t0(e,r);function e(t,o,n){var i=r.call(this,t)||this;return i.key=o,i.oldValue=n,i}return e}(fr),lA=function(r){t0(e,r);function e(t){var o=r.call(this)||this;return o.on,o.once,o.un,ie(o),o.values_=null,t!==void 0&&o.setProperties(t),o}return e.prototype.get=function(t){var o;return this.values_&&this.values_.hasOwnProperty(t)&&(o=this.values_[t]),o},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&De({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,o){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new jb(n,t,o)),n=ta.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new jb(n,t,o))},e.prototype.addChangeListener=function(t,o){this.addEventListener("change:".concat(t),o)},e.prototype.removeChangeListener=function(t,o){this.removeEventListener("change:".concat(t),o)},e.prototype.set=function(t,o,n){var i=this.values_||(this.values_={});if(n)i[t]=o;else{var s=i[t];i[t]=o,s!==o&&this.notify(t,s)}},e.prototype.setProperties=function(t,o){for(var n in t)this.set(n,t[n],o)},e.prototype.applyProperties=function(t){!t.values_||De(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,o){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],cs(this.values_)&&(this.values_=null),o||this.notify(t,n)}},e}(Qm),hr=lA,yn=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",cA=yn.indexOf("firefox")!==-1,uA=yn.indexOf("safari")!==-1&&yn.indexOf("chrom")==-1;uA&&(yn.indexOf("version/15.4")>=0||yn.match(/cpu (os|iphone os) 15_4 like mac os x/));var dA=yn.indexOf("webkit")!==-1&&yn.indexOf("edge")==-1,fA=yn.indexOf("macintosh")!==-1,e0=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,zc=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,hA=typeof Image!="undefined"&&Image.prototype.decode,o0=function(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();new Array(6);function dr(){return[1,0,0,1,0,0]}function pA(r,e,t,o,n,i,s){return r[0]=e,r[1]=t,r[2]=o,r[3]=n,r[4]=i,r[5]=s,r}function gA(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Ie(r,e){var t=e[0],o=e[1];return e[0]=r[0]*t+r[2]*o+r[4],e[1]=r[1]*t+r[3]*o+r[5],e}function bA(r,e,t){return pA(r,e,0,0,t,0,0)}function Nr(r,e,t,o,n,i,s,c){var u=Math.sin(i),d=Math.cos(i);return r[0]=o*d,r[1]=n*u,r[2]=-o*u,r[3]=n*d,r[4]=s*o*d-c*o*u+e,r[5]=s*n*u+c*n*d+t,r}function oh(r,e){var t=vA(e);$t(t!==0,32);var o=e[0],n=e[1],i=e[2],s=e[3],c=e[4],u=e[5];return r[0]=s/t,r[1]=-n/t,r[2]=-i/t,r[3]=o/t,r[4]=(i*u-s*c)/t,r[5]=-(o*u-n*c)/t,r}function vA(r){return r[0]*r[3]-r[1]*r[2]}var Hb;function r0(r){var e="matrix("+r.join(", ")+")";if(zc)return e;var t=Hb||(Hb=document.createElement("div"));return t.style.transform=e,t.style.transform}function oi(r,e,t,o,n,i){for(var s=i||[],c=0,u=e;u<t;u+=o){var d=r[u],h=r[u+1];s[c++]=n[0]*d+n[2]*h+n[4],s[c++]=n[1]*d+n[3]*h+n[5]}return i&&s.length!=c&&(s.length=c),s}function rh(r,e,t,o,n,i,s){for(var c=s||[],u=Math.cos(n),d=Math.sin(n),h=i[0],b=i[1],p=0,v=e;v<t;v+=o){var _=r[v]-h,w=r[v+1]-b;c[p++]=h+_*u-w*d,c[p++]=b+_*d+w*u;for(var k=v+2;k<v+o;++k)c[p++]=r[k]}return s&&c.length!=p&&(c.length=p),c}function mA(r,e,t,o,n,i,s,c){for(var u=c||[],d=s[0],h=s[1],b=0,p=e;p<t;p+=o){var v=r[p]-d,_=r[p+1]-h;u[b++]=d+n*v,u[b++]=h+i*_;for(var w=p+2;w<p+o;++w)u[b++]=r[w]}return c&&u.length!=b&&(u.length=b),u}function n0(r,e,t,o,n,i,s){for(var c=s||[],u=0,d=e;d<t;d+=o){c[u++]=r[d]+n,c[u++]=r[d+1]+i;for(var h=d+2;h<d+o;++h)c[u++]=r[h]}return s&&c.length!=u&&(c.length=u),c}var _A=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kb=dr(),yA=function(r){_A(e,r);function e(){var t=r.call(this)||this;return t.extent_=Mo(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=rA(function(o,n,i){if(!i)return this.getSimplifiedGeometry(n);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)}),t}return e.prototype.simplifyTransformed=function(t,o){return this.simplifyTransformedInternal(this.getRevision(),t,o)},e.prototype.clone=function(){return Kt()},e.prototype.closestPointXY=function(t,o,n,i){return Kt()},e.prototype.containsXY=function(t,o){var n=this.getClosestPoint([t,o]);return n[0]===t&&n[1]===o},e.prototype.getClosestPoint=function(t,o){var n=o||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Kt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var o=this.computeExtent(this.extent_);(isNaN(o[0])||isNaN(o[1]))&&Dc(o),this.extentRevision_=this.getRevision()}return PR(this.extent_,t)},e.prototype.rotate=function(t,o){Kt()},e.prototype.scale=function(t,o,n){Kt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Kt()},e.prototype.getType=function(){return Kt()},e.prototype.applyTransform=function(t){Kt()},e.prototype.intersectsExtent=function(t){return Kt()},e.prototype.translate=function(t,o){Kt()},e.prototype.transform=function(t,o){var n=lo(t),i=n.getUnits()==mo.TILE_PIXELS?function(s,c,u){var d=n.getExtent(),h=n.getWorldExtent(),b=er(h)/er(d);return Nr(Kb,h[0],h[3],b,-b,0,0,0),oi(s,0,s.length,u,Kb,c),ds(n,o)(s,c,u)}:ds(n,o);return this.applyTransform(i),this},e}(hr),xA=yA,Ae={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},wA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kA=function(r){wA(e,r);function e(){var t=r.call(this)||this;return t.layout=Ae.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return $m(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Kt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=this.getSimplifiedGeometryInternal(t),n=o.getFlatCoordinates();return n.length<this.flatCoordinates.length?o:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,o){this.stride=$b(t),this.layout=t,this.flatCoordinates=o},e.prototype.setCoordinates=function(t,o){Kt()},e.prototype.setLayout=function(t,o,n){var i;if(t)i=$b(t);else{for(var s=0;s<n;++s)if(o.length===0){this.layout=Ae.XY,this.stride=2;return}else o=o[0];i=o.length,t=EA(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,o){var n=this.getFlatCoordinates();if(n){var i=this.getStride();rh(n,0,n.length,i,t,o,n),this.changed()}},e.prototype.scale=function(t,o,n){var i=o;i===void 0&&(i=t);var s=n;s||(s=Ji(this.getExtent()));var c=this.getFlatCoordinates();if(c){var u=this.getStride();mA(c,0,c.length,u,t,i,s,c),this.changed()}},e.prototype.translate=function(t,o){var n=this.getFlatCoordinates();if(n){var i=this.getStride();n0(n,0,n.length,i,t,o,n),this.changed()}},e}(xA);function EA(r){var e;return r==2?e=Ae.XY:r==3?e=Ae.XYZ:r==4&&(e=Ae.XYZM),e}function $b(r){var e;return r==Ae.XY?e=2:r==Ae.XYZ||r==Ae.XYM?e=3:r==Ae.XYZM&&(e=4),e}function CA(r,e,t){var o=r.getFlatCoordinates();if(o){var n=r.getStride();return oi(o,0,o.length,n,e,t)}else return null}var wn=kA;function i0(r,e,t,o){for(var n=0,i=t.length;n<i;++n)r[e++]=t[n];return e}function Gc(r,e,t,o){for(var n=0,i=t.length;n<i;++n)for(var s=t[n],c=0;c<o;++c)r[e++]=s[c];return e}function nh(r,e,t,o,n){for(var i=n||[],s=0,c=0,u=t.length;c<u;++c){var d=Gc(r,e,t[c],o);i[s++]=d,e=d}return i.length=s,i}function TA(r,e,t,o,n){for(var i=n||[],s=0,c=0,u=t.length;c<u;++c){var d=nh(r,e,t[c],o,i[s]);i[s++]=d,e=d[d.length-1]}return i.length=s,i}var RA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),a0=function(r){RA(e,r);function e(t,o,n){var i=r.call(this)||this;if(n!==void 0&&o===void 0)i.setFlatCoordinates(n,t);else{var s=o||0;i.setCenterAndRadius(t,s,n)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){var s=this.flatCoordinates,c=t-s[0],u=o-s[1],d=c*c+u*u;if(d<i){if(d===0)for(var h=0;h<this.stride;++h)n[h]=s[h];else{var b=this.getRadius()/Math.sqrt(d);n[0]=s[0]+b*c,n[1]=s[1]+b*u;for(var h=2;h<this.stride;++h)n[h]=s[h]}return n.length=this.stride,d}else return i},e.prototype.containsXY=function(t,o){var n=this.flatCoordinates,i=t-n[0],s=o-n[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var o=this.flatCoordinates,n=o[this.stride]-o[0];return tr(o[0]-n,o[1]-n,o[0]+n,o[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+o*o},e.prototype.getType=function(){return ct.CIRCLE},e.prototype.intersectsExtent=function(t){var o=this.getExtent();if(Qe(t,o)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]?!0:Hf(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var o=this.stride,n=this.flatCoordinates[o]-this.flatCoordinates[0],i=t.slice();i[o]=i[0]+n;for(var s=1;s<o;++s)i[o+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,o,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=i0(i,0,t,this.stride);i[s++]=i[0]+o;for(var c=1,u=this.stride;c<u;++c)i[s++]=i[c];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,o){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,o){var n=this.getCenter(),i=this.getStride();this.setCenter(rh(n,0,n.length,i,t,o,n)),this.changed()},e.prototype.translate=function(t,o){var n=this.getCenter(),i=this.getStride();this.setCenter(n0(n,0,n.length,i,t,o,n)),this.changed()},e}(wn);a0.prototype.transform;var s0=a0;function Zb(r,e,t,o,n,i,s){var c=r[e],u=r[e+1],d=r[t]-c,h=r[t+1]-u,b;if(d===0&&h===0)b=e;else{var p=((n-c)*d+(i-u)*h)/(d*d+h*h);if(p>1)b=t;else if(p>0){for(var v=0;v<o;++v)s[v]=Ir(r[e+v],r[t+v],p);s.length=o;return}else b=e}for(var v=0;v<o;++v)s[v]=r[b+v];s.length=o}function ih(r,e,t,o,n){var i=r[e],s=r[e+1];for(e+=o;e<t;e+=o){var c=r[e],u=r[e+1],d=ti(i,s,c,u);d>n&&(n=d),i=c,s=u}return n}function ah(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i){var c=t[i];n=ih(r,e,c,o,n),e=c}return n}function AA(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i){var c=t[i];n=ah(r,e,c,o,n),e=c[c.length-1]}return n}function sh(r,e,t,o,n,i,s,c,u,d,h){if(e==t)return d;var b,p;if(n===0)if(p=ti(s,c,r[e],r[e+1]),p<d){for(b=0;b<o;++b)u[b]=r[e+b];return u.length=o,p}else return d;for(var v=h||[NaN,NaN],_=e+o;_<t;)if(Zb(r,_-o,_,o,s,c,v),p=ti(s,c,v[0],v[1]),p<d){for(d=p,b=0;b<o;++b)u[b]=v[b];u.length=o,_+=o}else _+=o*Math.max((Math.sqrt(p)-Math.sqrt(d))/n|0,1);if(i&&(Zb(r,t-o,e,o,s,c,v),p=ti(s,c,v[0],v[1]),p<d)){for(d=p,b=0;b<o;++b)u[b]=v[b];u.length=o}return d}function lh(r,e,t,o,n,i,s,c,u,d,h){for(var b=h||[NaN,NaN],p=0,v=t.length;p<v;++p){var _=t[p];d=sh(r,e,_,o,n,i,s,c,u,d,b),e=_}return d}function OA(r,e,t,o,n,i,s,c,u,d,h){for(var b=h||[NaN,NaN],p=0,v=t.length;p<v;++p){var _=t[p];d=lh(r,e,_,o,n,i,s,c,u,d,b),e=_[_.length-1]}return d}function ch(r,e,t,o,n,i,s){var c=(t-e)/o;if(c<3){for(;e<t;e+=o)i[s++]=r[e],i[s++]=r[e+1];return s}var u=new Array(c);u[0]=1,u[c-1]=1;for(var d=[e,t-o],h=0;d.length>0;){for(var b=d.pop(),p=d.pop(),v=0,_=r[p],w=r[p+1],k=r[b],T=r[b+1],A=p+o;A<b;A+=o){var I=r[A],P=r[A+1],D=uR(I,P,_,w,k,T);D>v&&(h=A,v=D)}v>n&&(u[(h-e)/o]=1,p+o<h&&d.push(p,h),h+o<b&&d.push(h,b))}for(var A=0;A<c;++A)u[A]&&(i[s++]=r[e+A*o],i[s++]=r[e+A*o+1]);return s}function IA(r,e,t,o,n,i,s,c){for(var u=0,d=t.length;u<d;++u){var h=t[u];s=ch(r,e,h,o,n,i,s),c.push(s),e=h}return s}function Un(r,e){return e*Math.round(r/e)}function SA(r,e,t,o,n,i,s){if(e==t)return s;var c=Un(r[e],n),u=Un(r[e+1],n);e+=o,i[s++]=c,i[s++]=u;var d,h;do if(d=Un(r[e],n),h=Un(r[e+1],n),e+=o,e==t)return i[s++]=d,i[s++]=h,s;while(d==c&&h==u);for(;e<t;){var b=Un(r[e],n),p=Un(r[e+1],n);if(e+=o,!(b==d&&p==h)){var v=d-c,_=h-u,w=b-c,k=p-u;if(v*k==_*w&&(v<0&&w<v||v==w||v>0&&w>v)&&(_<0&&k<_||_==k||_>0&&k>_)){d=b,h=p;continue}i[s++]=d,i[s++]=h,c=d,u=h,d=b,h=p}}return i[s++]=d,i[s++]=h,s}function l0(r,e,t,o,n,i,s,c){for(var u=0,d=t.length;u<d;++u){var h=t[u];s=SA(r,e,h,o,n,i,s),c.push(s),e=h}return s}function PA(r,e,t,o,n,i,s,c){for(var u=0,d=t.length;u<d;++u){var h=t[u],b=[];s=l0(r,e,h,o,n,i,s,b),c.push(b),e=h[h.length-1]}return s}function dn(r,e,t,o,n){for(var i=n!==void 0?n:[],s=0,c=e;c<t;c+=o)i[s++]=r.slice(c,c+o);return i.length=s,i}function fs(r,e,t,o,n){for(var i=n!==void 0?n:[],s=0,c=0,u=t.length;c<u;++c){var d=t[c];i[s++]=dn(r,e,d,o,i[s]),e=d}return i.length=s,i}function sf(r,e,t,o,n){for(var i=n!==void 0?n:[],s=0,c=0,u=t.length;c<u;++c){var d=t[c];i[s++]=fs(r,e,d,o,i[s]),e=d[d.length-1]}return i.length=s,i}function c0(r,e,t,o){for(var n=0,i=r[t-o],s=r[t-o+1];e<t;e+=o){var c=r[e],u=r[e+1];n+=s*c-i*u,i=c,s=u}return n/2}function u0(r,e,t,o){for(var n=0,i=0,s=t.length;i<s;++i){var c=t[i];n+=c0(r,e,c,o),e=c}return n}function LA(r,e,t,o){for(var n=0,i=0,s=t.length;i<s;++i){var c=t[i];n+=u0(r,e,c,o),e=c[c.length-1]}return n}var MA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),FA=function(r){MA(e,r);function e(t,o){var n=r.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?n.setFlatCoordinates(o,t):n.setCoordinates(t,o),n}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,o,n,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ih(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,o,n,i))},e.prototype.getArea=function(){return c0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return dn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=ch(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ae.XY)},e.prototype.getType=function(){return ct.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wn),qb=FA;function d0(r,e,t,o,n){var i;for(e+=o;e<t;e+=o)if(i=n(r.slice(e-o,e),r.slice(e,e+o)),i)return i;return!1}function f0(r,e,t,o,n,i,s){var c,u,d=(t-e)/o;if(d===1)c=e;else if(d===2)c=e,u=n;else if(d!==0){for(var h=r[e],b=r[e+1],p=0,v=[0],_=e+o;_<t;_+=o){var w=r[_],k=r[_+1];p+=Math.sqrt((w-h)*(w-h)+(k-b)*(k-b)),v.push(p),h=w,b=k}var T=n*p,A=tA(v,T);A<0?(u=(T-v[-A-2])/(v[-A-1]-v[-A-2]),c=e+(-A-2)*o):c=e+A*o}for(var I=s>1?s:2,P=i||new Array(I),_=0;_<I;++_)P[_]=c===void 0?NaN:u===void 0?r[c+_]:Ir(r[c+_],r[c+o+_],u);return P}function lf(r,e,t,o,n,i){if(t==e)return null;var s;if(n<r[e+o-1])return i?(s=r.slice(e,e+o),s[o-1]=n,s):null;if(r[t-1]<n)return i?(s=r.slice(t-o,t),s[o-1]=n,s):null;if(n==r[e+o-1])return r.slice(e,e+o);for(var c=e/o,u=t/o;c<u;){var d=c+u>>1;n<r[(d+1)*o-1]?u=d:c=d+1}var h=r[c*o-1];if(n==h)return r.slice((c-1)*o,(c-1)*o+o);var b=r[(c+1)*o-1],p=(n-h)/(b-h);s=[];for(var v=0;v<o-1;++v)s.push(Ir(r[(c-1)*o+v],r[c*o+v],p));return s.push(n),s}function DA(r,e,t,o,n,i,s){if(s)return lf(r,e,t[t.length-1],o,n,i);var c;if(n<r[o-1])return i?(c=r.slice(0,o),c[o-1]=n,c):null;if(r[r.length-1]<n)return i?(c=r.slice(r.length-o),c[o-1]=n,c):null;for(var u=0,d=t.length;u<d;++u){var h=t[u];if(e!=h){if(n<r[e+o-1])return null;if(n<=r[h-1])return lf(r,e,h,o,n,!1);e=h}}return null}function NA(r,e,t,o,n){var i=Hf(n,function(s){return!$n(r,e,t,o,s[0],s[1])});return!i}function $n(r,e,t,o,n,i){for(var s=0,c=r[t-o],u=r[t-o+1];e<t;e+=o){var d=r[e],h=r[e+1];u<=i?h>i&&(d-c)*(i-u)-(n-c)*(h-u)>0&&s++:h<=i&&(d-c)*(i-u)-(n-c)*(h-u)<0&&s--,c=d,u=h}return s!==0}function uh(r,e,t,o,n,i){if(t.length===0||!$n(r,e,t[0],o,n,i))return!1;for(var s=1,c=t.length;s<c;++s)if($n(r,t[s-1],t[s],o,n,i))return!1;return!0}function zA(r,e,t,o,n,i){if(t.length===0)return!1;for(var s=0,c=t.length;s<c;++s){var u=t[s];if(uh(r,e,u,o,n,i))return!0;e=u[u.length-1]}return!1}function Bc(r,e,t,o,n){var i=Zm(Mo(),r,e,t,o);return Qe(n,i)?Gi(n,i)||i[0]>=n[0]&&i[2]<=n[2]||i[1]>=n[1]&&i[3]<=n[3]?!0:d0(r,e,t,o,function(s,c){return LR(n,s,c)}):!1}function GA(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i){if(Bc(r,e,t[i],o,n))return!0;e=t[i]}return!1}function BA(r,e,t,o,n){return!!(Bc(r,e,t,o,n)||$n(r,e,t,o,n[0],n[1])||$n(r,e,t,o,n[0],n[3])||$n(r,e,t,o,n[2],n[1])||$n(r,e,t,o,n[2],n[3]))}function h0(r,e,t,o,n){if(!BA(r,e,t[0],o,n))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(NA(r,t[i-1],t[i],o,n)&&!Bc(r,t[i-1],t[i],o,n))return!1;return!0}function WA(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(h0(r,e,c,o,n))return!0;e=c[c.length-1]}return!1}function p0(r,e,t,o){for(var n=r[e],i=r[e+1],s=0,c=e+o;c<t;c+=o){var u=r[c],d=r[c+1];s+=Math.sqrt((u-n)*(u-n)+(d-i)*(d-i)),n=u,i=d}return s}var UA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YA=function(r){UA(e,r);function e(t,o){var n=r.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?n.setFlatCoordinates(o,t):n.setCoordinates(t,o),n}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?Mr(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ih(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,o,n,i))},e.prototype.forEachSegment=function(t){return d0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,o){if(this.layout!=Ae.XYM&&this.layout!=Ae.XYZM)return null;var n=o!==void 0?o:!1;return lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return dn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,o){return f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,this.stride)},e.prototype.getLength=function(){return p0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=ch(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ae.XY)},e.prototype.getType=function(){return ct.LINE_STRING},e.prototype.intersectsExtent=function(t){return Bc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wn),bn=YA,XA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),VA=function(r){XA(e,r);function e(t,o,n){var i=r.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,o);else if(o!==void 0&&n)i.setFlatCoordinates(o,t),i.ends_=n;else{for(var s=i.getLayout(),c=t,u=[],d=[],h=0,b=c.length;h<b;++h){var p=c[h];h===0&&(s=p.getLayout()),Mr(u,p.getFlatCoordinates()),d.push(u.length)}i.setFlatCoordinates(s,u),i.ends_=d}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?Mr(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ah(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,o,n,i))},e.prototype.getCoordinateAtM=function(t,o,n){if(this.layout!=Ae.XYM&&this.layout!=Ae.XYZM||this.flatCoordinates.length===0)return null;var i=o!==void 0?o:!1,s=n!==void 0?n:!1;return DA(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return fs(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new bn(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,o=this.ends_,n=this.layout,i=[],s=0,c=0,u=o.length;c<u;++c){var d=o[c],h=new bn(t.slice(s,d),n);i.push(h),s=d}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],o=this.flatCoordinates,n=0,i=this.ends_,s=this.stride,c=0,u=i.length;c<u;++c){var d=i[c],h=f0(o,n,d,s,.5);Mr(t,h),n=d}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],n=[];return o.length=IA(this.flatCoordinates,0,this.ends_,this.stride,t,o,0,n),new e(o,Ae.XY,n)},e.prototype.getType=function(){return ct.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return GA(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},e}(wn),jA=VA,HA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),KA=function(r){HA(e,r);function e(t,o){var n=r.call(this)||this;return n.setCoordinates(t,o),n}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){var s=this.flatCoordinates,c=ti(t,o,s[0],s[1]);if(c<i){for(var u=this.stride,d=0;d<u;++d)n[d]=s[d];return n.length=u,c}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return AR(this.flatCoordinates,t)},e.prototype.getType=function(){return ct.POINT},e.prototype.intersectsExtent=function(t){return jf(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=i0(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wn),ri=KA,$A=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ZA=function(r){$A(e,r);function e(t,o){var n=r.call(this)||this;return o&&!Array.isArray(t[0])?n.setFlatCoordinates(o,t):n.setCoordinates(t,o),n}return e.prototype.appendPoint=function(t){this.flatCoordinates?Mr(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){if(i<ca(this.getExtent(),t,o))return i;for(var s=this.flatCoordinates,c=this.stride,u=0,d=s.length;u<d;u+=c){var h=ti(t,o,s[u],s[u+1]);if(h<i){i=h;for(var b=0;b<c;++b)n[b]=s[u+b];n.length=c}}return i},e.prototype.getCoordinates=function(){return dn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var o=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||o<=t?null:new ri(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,o=this.layout,n=this.stride,i=[],s=0,c=t.length;s<c;s+=n){var u=new ri(t.slice(s,s+n),o);i.push(u)}return i},e.prototype.getType=function(){return ct.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var o=this.flatCoordinates,n=this.stride,i=0,s=o.length;i<s;i+=n){var c=o[i],u=o[i+1];if(jf(t,c,u))return!0}return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wn),g0=ZA;function b0(r,e,t,o,n,i,s){for(var c,u,d,h,b,p,v,_=n[i+1],w=[],k=0,T=t.length;k<T;++k){var A=t[k];for(h=r[A-o],p=r[A-o+1],c=e;c<A;c+=o)b=r[c],v=r[c+1],(_<=p&&v<=_||p<=_&&_<=v)&&(d=(_-p)/(v-p)*(b-h)+h,w.push(d)),h=b,p=v}var I=NaN,P=-1/0;for(w.sort(ni),h=w[0],c=1,u=w.length;c<u;++c){b=w[c];var D=Math.abs(b-h);D>P&&(d=(h+b)/2,uh(r,e,t,o,d,_)&&(I=d,P=D)),h=b}return isNaN(I)&&(I=n[i]),s?(s.push(I,_,P),s):[I,_,P]}function qA(r,e,t,o,n){for(var i=[],s=0,c=t.length;s<c;++s){var u=t[s];i=b0(r,e,u,o,n,2*s,i),e=u[u.length-1]}return i}function JA(r,e,t,o){for(;e<t-o;){for(var n=0;n<o;++n){var i=r[e+n];r[e+n]=r[t-o+n],r[t-o+n]=i}e+=o,t-=o}}function v0(r,e,t,o){for(var n=0,i=r[t-o],s=r[t-o+1];e<t;e+=o){var c=r[e],u=r[e+1];n+=(c-i)*(u+s),i=c,s=u}return n===0?void 0:n>0}function m0(r,e,t,o,n){for(var i=n!==void 0?n:!1,s=0,c=t.length;s<c;++s){var u=t[s],d=v0(r,e,u,o);if(s===0){if(i&&d||!i&&!d)return!1}else if(i&&!d||!i&&d)return!1;e=u}return!0}function QA(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i){var c=t[i];if(!m0(r,e,c,o,n))return!1;c.length&&(e=c[c.length-1])}return!0}function cf(r,e,t,o,n){for(var i=n!==void 0?n:!1,s=0,c=t.length;s<c;++s){var u=t[s],d=v0(r,e,u,o),h=s===0?i&&d||!i&&!d:i&&!d||!i&&d;h&&JA(r,e,u,o),e=u}return e}function Jb(r,e,t,o,n){for(var i=0,s=t.length;i<s;++i)e=cf(r,e,t[i],o,n);return e}var tO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_0=function(r){tO(e,r);function e(t,o,n){var i=r.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,o!==void 0&&n?(i.setFlatCoordinates(o,t),i.ends_=n):i.setCoordinates(t,o),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Mr(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,n,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ah(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,o,n,i))},e.prototype.containsXY=function(t,o){return uh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,o)},e.prototype.getArea=function(){return u0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),cf(o,0,this.ends_,this.stride,t)):o=this.flatCoordinates,fs(o,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Ji(this.getExtent());this.flatInteriorPoint_=b0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new ri(this.getFlatInteriorPoint(),Ae.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new qb(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,o=this.flatCoordinates,n=this.ends_,i=[],s=0,c=0,u=n.length;c<u;++c){var d=n[c],h=new qb(o.slice(s,d),t);i.push(h),s=d}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;m0(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=cf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],n=[];return o.length=l0(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),o,0,n),new e(o,Ae.XY,n)},e.prototype.getType=function(){return ct.POLYGON},e.prototype.intersectsExtent=function(t){return h0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},e}(wn),hs=_0;function Qb(r){var e=r[0],t=r[1],o=r[2],n=r[3],i=[e,t,e,n,o,n,o,t,e,t];return new _0(i,Ae.XY,[i.length])}function eO(r,e,t,o){for(var n=[],i=Mo(),s=0,c=t.length;s<c;++s){var u=t[s];i=$m(r,e,u[0],o),n.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return n}var oO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),rO=function(r){oO(e,r);function e(t,o,n){var i=r.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var s=i.getLayout(),c=t,u=[],d=[],h=0,b=c.length;h<b;++h){var p=c[h];h===0&&(s=p.getLayout());for(var v=u.length,_=p.getEnds(),w=0,k=_.length;w<k;++w)_[w]+=v;Mr(u,p.getFlatCoordinates()),d.push(_)}o=s,t=u,n=d}return o!==void 0&&n?(i.setFlatCoordinates(o,t),i.endss_=n):i.setCoordinates(t,o),i}return e.prototype.appendPolygon=function(t){var o;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),o=t.getEnds().slice(),this.endss_.push();else{var n=this.flatCoordinates.length;Mr(this.flatCoordinates,t.getFlatCoordinates()),o=t.getEnds().slice();for(var i=0,s=o.length;i<s;++i)o[i]+=n}this.endss_.push(o),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,o=new Array(t),n=0;n<t;++n)o[n]=this.endss_[n].slice();var i=new e(this.flatCoordinates.slice(),this.layout,o);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,o,n,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(AA(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),OA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,o,n,i))},e.prototype.containsXY=function(t,o){return zA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,o)},e.prototype.getArea=function(){return LA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),Jb(o,0,this.endss_,this.stride,t)):o=this.flatCoordinates,sf(o,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=eO(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=qA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new g0(this.getFlatInteriorPoints().slice(),Ae.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;QA(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Jb(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],n=[];return o.length=PA(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),o,0,n),new e(o,Ae.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var o;if(t===0)o=0;else{var n=this.endss_[t-1];o=n[n.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(o!==0)for(var c=0,u=i.length;c<u;++c)i[c]-=o;return new hs(this.flatCoordinates.slice(o,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,o=this.flatCoordinates,n=this.endss_,i=[],s=0,c=0,u=n.length;c<u;++c){var d=n[c].slice(),h=d[d.length-1];if(s!==0)for(var b=0,p=d.length;b<p;++b)d[b]-=s;var v=new hs(o.slice(s,h),t,d);i.push(v),s=h}return i},e.prototype.getType=function(){return ct.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return WA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=TA(this.flatCoordinates,0,t,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(wn),nO=rO;class dh{constructor(e,t){kr(this,"x");kr(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new dh(-this.y,this.x)}}const iO=new Fc({code:"EPSG:4326"}),aO=new Fc({code:"EPSG:900913"});function uf(r){return new ri(r).transform(iO,aO).getExtent()}function ql(r,e){return new bn([uf(r),uf(e)]).getLength()}function tv(r){return new bn(r.map(uf)).getLength()}function hd(r,e,t){const o=Math.ceil(ql(r,e)/t),n=sc.exports.range(0,o).map(i=>[r[0]+i/o*(e[0]-r[0]),r[1]+i/o*(e[1]-r[1])]);return n.push(e),n}function sO(r,e,t){const o=new dh(r.path[0],r.path[3]),n=hd(r.path[0],r.path[1],e),i=n.map(c=>r.intersectOtherSide(c,o)),s=[];for(let c=0;c<n.length;c++){let u;c%2===0?u=hd(n[c],i[c],t):u=hd(i[c],n[c],t),u.forEach(d=>s.push(d))}return s}var lO=Wc("colinear"),cO=Wc("parallel"),uO=Wc("none");function dO(r,e,t,o,n,i,s,c){var u=(c-i)*(t-r)-(s-n)*(o-e),d=(s-n)*(e-i)-(c-i)*(r-n),h=(t-r)*(e-i)-(o-e)*(r-n);if(u==0)return d==0&&h==0?lO:cO;var b=d/u,p=h/u;return b>=0&&b<=1&&p>=0&&p<=1?fO({x:r+b*(t-r),y:e+b*(o-e)}):uO}function fO(r){var e=Wc("intersecting");return e.point=r,e}function Wc(r){return{type:r}}class hO{constructor(e){kr(this,"path");this.path=[...e]}width(){return ql(this.path[0],this.path[1])}height(){return ql(this.path[0],this.path[3])}diagonalLength(){return ql(this.path[0],this.path[2])}intersectOtherSide(e,t){const o=Math.sqrt(t.x*t.x+t.y*t.y),n=t.x/o,i=t.y/o,s=this.diagonalLength()*1.1,c=[[e[0]-s*n,e[1]-s*i],[e[0]+s*n,e[1]+s*i]],u=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],d=sc.exports.chain(u).map(h=>dO(c[0][0],c[0][1],c[1][0],c[1][1],h[0][0],h[0][1],h[1][0],h[1][1])).filter(h=>h.type==="intersecting").map("point").maxBy(h=>(h.x-e[0])*(h.x-e[0])+(h.y-e[1])*(h.y-e[1])).value();return[d.x,d.y]}}var He={ANIMATING:0,INTERACTING:1},Uo={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},pO=42,fh=256;function ev(r,e,t){return function(o,n,i,s,c){if(!!o){if(!n&&!e)return o;var u=e?0:i[0]*n,d=e?0:i[1]*n,h=c?c[0]:0,b=c?c[1]:0,p=r[0]+u/2+h,v=r[2]-u/2+h,_=r[1]+d/2+b,w=r[3]-d/2+b;p>v&&(p=(v+p)/2,v=p),_>w&&(_=(w+_)/2,w=_);var k=Se(o[0],p,v),T=Se(o[1],_,w);if(s&&t&&n){var A=30*n;k+=-A*Math.log(1+Math.max(0,p-o[0])/A)+A*Math.log(1+Math.max(0,o[0]-v)/A),T+=-A*Math.log(1+Math.max(0,_-o[1])/A)+A*Math.log(1+Math.max(0,o[1]-w)/A)}return[k,T]}}}function gO(r){return r}function hh(r,e,t,o){var n=ke(e)/t[0],i=er(e)/t[1];return o?Math.min(r,Math.max(n,i)):Math.min(r,Math.min(n,i))}function ph(r,e,t){var o=Math.min(r,e),n=50;return o*=Math.log(1+n*Math.max(0,r/e-1))/n+1,t&&(o=Math.max(o,t),o/=Math.log(1+n*Math.max(0,t/r-1))/n+1),Se(o,t/2,e*2)}function bO(r,e,t,o){return function(n,i,s,c){if(n!==void 0){var u=r[0],d=r[r.length-1],h=t?hh(u,t,s,o):u;if(c){var b=e!==void 0?e:!0;return b?ph(n,h,d):Se(n,d,h)}var p=Math.min(h,n),v=Math.floor(eh(r,p,i));return r[v]>h&&v<r.length-1?r[v+1]:r[v]}else return}}function vO(r,e,t,o,n,i){return function(s,c,u,d){if(s!==void 0){var h=n?hh(e,n,u,i):e,b=t!==void 0?t:0;if(d){var p=o!==void 0?o:!0;return p?ph(s,h,b):Se(s,b,h)}var v=1e-9,_=Math.ceil(Math.log(e/h)/Math.log(r)-v),w=-c*(.5-v)+.5,k=Math.min(h,s),T=Math.floor(Math.log(e/k)/Math.log(r)+w),A=Math.max(_,T),I=e/Math.pow(r,A);return Se(I,b,h)}else return}}function ov(r,e,t,o,n){return function(i,s,c,u){if(i!==void 0){var d=o?hh(r,o,c,n):r,h=t!==void 0?t:!0;return!h||!u?Se(i,e,d):ph(i,d,e)}else return}}function gh(r){if(r!==void 0)return 0}function rv(r){if(r!==void 0)return r}function mO(r){var e=2*Math.PI/r;return function(t,o){if(o)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function _O(r){var e=r||Zl(5);return function(t,o){if(o)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function y0(r){return Math.pow(r,3)}function da(r){return 1-y0(1-r)}function yO(r){return 3*r*r-2*r*r*r}function xO(r){return r}var wO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),pd=0,kO=function(r){wO(e,r);function e(t){var o=r.call(this)||this;o.on,o.once,o.un;var n=De({},t);return o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=Jf(n.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,n.projection&&XR(),n.center&&(n.center=Io(n.center,o.projection_)),n.extent&&(n.extent=Kn(n.extent,o.projection_)),o.applyOptions_(n),o}return e.prototype.applyOptions_=function(t){var o=De({},t);for(var n in Uo)delete o[n];this.setProperties(o,!0);var i=CO(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=EO(t),c=i.constraint,u=TO(t);this.constraints_={center:s,resolution:c,rotation:u},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var o=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var i=t||[0,0,0,0];o=o||[0,0,0,0];var s=this.getResolution(),c=s/2*(i[3]-o[3]+o[1]-i[1]),u=s/2*(i[0]-o[0]+o[2]-i[2]);this.setCenterInternal([n[0]+c,n[1]-u])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var o=this.getProperties();return o.resolution!==void 0?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),De({},o,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),n=0;n<o.length;++n){var i=arguments[n];i.center&&(i=De({},i),i.center=Io(i.center,this.getProjection())),i.anchor&&(i=De({},i),i.anchor=Io(i.anchor,this.getProjection())),o[n]=i}this.animateInternal.apply(this,o)},e.prototype.animateInternal=function(t){var o=arguments.length,n;o>1&&typeof arguments[o-1]=="function"&&(n=arguments[o-1],--o);for(var i=0;i<o&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===o){n&&Fl(n,!0);return}for(var c=Date.now(),u=this.targetCenter_.slice(),d=this.targetResolution_,h=this.targetRotation_,b=[];i<o;++i){var p=arguments[i],v={start:c,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||yO,callback:n};if(p.center&&(v.sourceCenter=u,v.targetCenter=p.center.slice(),u=v.targetCenter),p.zoom!==void 0?(v.sourceResolution=d,v.targetResolution=this.getResolutionForZoom(p.zoom),d=v.targetResolution):p.resolution&&(v.sourceResolution=d,v.targetResolution=p.resolution,d=v.targetResolution),p.rotation!==void 0){v.sourceRotation=h;var _=Xi(p.rotation-h+Math.PI,2*Math.PI)-Math.PI;v.targetRotation=h+_,h=v.targetRotation}RO(v)?v.complete=!0:c+=v.duration,b.push(v)}this.animations_.push(b),this.setHint(He.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[He.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[He.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(He.ANIMATING,-this.hints_[He.ANIMATING]);for(var t,o=0,n=this.animations_.length;o<n;++o){var i=this.animations_[o];if(i[0].callback&&Fl(i[0].callback,!1),!t)for(var s=0,c=i.length;s<c;++s){var u=i[s];if(!u.complete){t=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),o=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],s=!0,c=0,u=i.length;c<u;++c){var d=i[c];if(!d.complete){var h=t-d.start,b=d.duration>0?h/d.duration:1;b>=1?(d.complete=!0,b=1):s=!1;var p=d.easing(b);if(d.sourceCenter){var v=d.sourceCenter[0],_=d.sourceCenter[1],w=d.targetCenter[0],k=d.targetCenter[1];this.nextCenter_=d.targetCenter;var T=v+p*(w-v),A=_+p*(k-_);this.targetCenter_=[T,A]}if(d.sourceResolution&&d.targetResolution){var I=p===1?d.targetResolution:d.sourceResolution+p*(d.targetResolution-d.sourceResolution);if(d.anchor){var P=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(I,0,P,!0);this.targetCenter_=this.calculateCenterZoom(D,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=I,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){var X=p===1?Xi(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+p*(d.targetRotation-d.sourceRotation);if(d.anchor){var G=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(G,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),o=!0,!d.complete)break}}if(s){this.animations_[n]=null,this.setHint(He.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var F=i[0].callback;F&&Fl(F,!0)}}this.animations_=this.animations_.filter(Boolean),o&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,o){var n,i=this.getCenterInternal();return i!==void 0&&(n=[i[0]-o[0],i[1]-o[1]],$f(n,t-this.getRotation()),DR(n,o)),n},e.prototype.calculateCenterZoom=function(t,o){var n,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var c=o[0]-t*(o[0]-i[0])/s,u=o[1]-t*(o[1]-i[1])/s;n=[c,u]}return n},e.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var n=o[0],i=o[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return o},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&nf(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Uo.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return af(o,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();$t(n,1);var i=this.getResolution();$t(i!==void 0,2);var s=this.getRotation();return $t(s!==void 0,3),of(n,i,s,o)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Uo.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal(Kn(t,this.getProjection()),o)},e.prototype.getResolutionForExtentInternal=function(t,o){var n=o||this.getViewportSizeMinusPadding_(),i=ke(t)/n[0],s=er(t)/n[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var o=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(o);return function(c){var u=n/Math.pow(o,c*s);return u}},e.prototype.getRotation=function(){return this.get(Uo.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/o;return function(c){var u=Math.log(n/c)/o/s;return u}},e.prototype.getViewportSizeMinusPadding_=function(t){var o=this.getViewportSize_(t),n=this.padding_;return n&&(o=[o[0]-n[1]-n[3],o[1]-n[0]-n[2]]),o},e.prototype.getState=function(){var t=this.getProjection(),o=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var c=this.getViewportSizeMinusPadding_();i=gd(i,this.getViewportSize_(),[c[0]/2+s[3],c[1]/2+s[0]],o,n)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,o=this.getResolution();return o!==void 0&&(t=this.getZoomForResolution(o)),t},e.prototype.getZoomForResolution=function(t){var o=this.minZoom_||0,n,i;if(this.resolutions_){var s=eh(this.resolutions_,t,1);o=s,n=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=n/this.resolutions_[s+1]}else n=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(n/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=Se(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(n,Se(t-o,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,o){var n;if($t(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){$t(!Kf(t),25);var i=Kn(t,this.getProjection());n=Qb(i)}else if(t.getType()===ct.CIRCLE){var i=Kn(t.getExtent(),this.getProjection());n=Qb(i),n.rotate(this.getRotation(),Ji(i))}else{var s=Rs();s?n=t.clone().transform(s,this.getProjection()):n=t}this.fitInternal(n,o)},e.prototype.rotatedExtentForGeometry=function(t){for(var o=this.getRotation(),n=Math.cos(o),i=Math.sin(-o),s=t.getFlatCoordinates(),c=t.getStride(),u=1/0,d=1/0,h=-1/0,b=-1/0,p=0,v=s.length;p<v;p+=c){var _=s[p]*n-s[p+1]*i,w=s[p]*i+s[p+1]*n;u=Math.min(u,_),d=Math.min(d,w),h=Math.max(h,_),b=Math.max(b,w)}return[u,d,h,b]},e.prototype.fitInternal=function(t,o){var n=o||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var s=n.padding!==void 0?n.padding:[0,0,0,0],c=n.nearest!==void 0?n.nearest:!1,u;n.minResolution!==void 0?u=n.minResolution:n.maxZoom!==void 0?u=this.getResolutionForZoom(n.maxZoom):u=0;var d=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(d,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);h=isNaN(h)?u:Math.max(h,u),h=this.getConstrainedResolution(h,c?0:1);var b=this.getRotation(),p=Math.sin(b),v=Math.cos(b),_=Ji(d);_[0]+=(s[1]-s[3])/2*h,_[1]+=(s[0]-s[2])/2*h;var w=_[0]*v-_[1]*p,k=_[1]*v+_[0]*p,T=this.getConstrainedCenter([w,k],h),A=n.callback?n.callback:ii;n.duration!==void 0?this.animateInternal({resolution:h,center:T,duration:n.duration,easing:n.easing},A):(this.targetResolution_=h,this.targetCenter_=T,this.applyTargetState_(!1,!0),Fl(A,!0))},e.prototype.centerOn=function(t,o,n){this.centerOnInternal(Io(t,this.getProjection()),o,n)},e.prototype.centerOnInternal=function(t,o,n){this.setCenterInternal(gd(t,o,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,o,n,i){var s,c=this.padding_;if(c&&t){var u=this.getViewportSizeMinusPadding_(-n),d=gd(t,i,[u[0]/2+c[3],u[1]/2+c[0]],o,n);s=[t[0]-d[0],t[1]-d[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var o=nf(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustResolution=function(t,o){var n=o&&Io(o,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,o){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,n);o&&(this.targetCenter_=this.calculateCenterZoom(s,o)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},e.prototype.adjustRotation=function(t,o){o&&(o=Io(o,this.getProjection())),this.adjustRotationInternal(t,o)},e.prototype.adjustRotationInternal=function(t,o){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);o&&(this.targetCenter_=this.calculateCenterRotate(i,o)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Io(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,o){var n=this.getAnimating()||this.getInteracting()||o,i=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(i),c=this.constraints_.resolution(this.targetResolution_,0,s,n),u=this.constraints_.center(this.targetCenter_,c,s,n,this.calculateCenterShift(this.targetCenter_,c,i,s));this.get(Uo.ROTATION)!==i&&this.set(Uo.ROTATION,i),this.get(Uo.RESOLUTION)!==c&&(this.set(Uo.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(Uo.CENTER)||!cc(this.get(Uo.CENTER),u))&&this.set(Uo.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,o,n){var i=t!==void 0?t:200,s=o||0,c=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(c),d=this.constraints_.resolution(this.targetResolution_,s,u),h=this.constraints_.center(this.targetCenter_,d,u,!1,this.calculateCenterShift(this.targetCenter_,d,c,u));if(i===0&&!this.cancelAnchor_){this.targetResolution_=d,this.targetRotation_=c,this.targetCenter_=h,this.applyTargetState_();return}var b=n||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==d||this.getRotation()!==c||!this.getCenterInternal()||!cc(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:h,resolution:d,duration:i,easing:da,anchor:b}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(He.INTERACTING,1)},e.prototype.endInteraction=function(t,o,n){var i=n&&Io(n,this.getProjection());this.endInteractionInternal(t,o,i)},e.prototype.endInteractionInternal=function(t,o,n){this.setHint(He.INTERACTING,-1),this.resolveConstraints(t,o,n)},e.prototype.getConstrainedCenter=function(t,o){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,o){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,o))},e.prototype.getConstrainedResolution=function(t,o){var n=o||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(hr);function Fl(r,e){setTimeout(function(){r(e)},0)}function EO(r){if(r.extent!==void 0){var e=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return ev(r.extent,r.constrainOnlyCenter,e)}var t=Jf(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){var o=t.getExtent().slice();return o[0]=-1/0,o[2]=1/0,ev(o,!1,!1)}return gO}function CO(r){var e,t,o,n=28,i=2,s=r.minZoom!==void 0?r.minZoom:pd,c=r.maxZoom!==void 0?r.maxZoom:n,u=r.zoomFactor!==void 0?r.zoomFactor:i,d=r.multiWorld!==void 0?r.multiWorld:!1,h=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,b=r.showFullExtent!==void 0?r.showFullExtent:!1,p=Jf(r.projection,"EPSG:3857"),v=p.getExtent(),_=r.constrainOnlyCenter,w=r.extent;if(!d&&!w&&p.isGlobal()&&(_=!1,w=v),r.resolutions!==void 0){var k=r.resolutions;t=k[s],o=k[c]!==void 0?k[c]:k[k.length-1],r.constrainResolution?e=bO(k,h,!_&&w,b):e=ov(t,o,h,!_&&w,b)}else{var T=v?Math.max(ke(v),er(v)):360*Lo[mo.DEGREES]/p.getMetersPerUnit(),A=T/fh/Math.pow(i,pd),I=A/Math.pow(i,n-pd);t=r.maxResolution,t!==void 0?s=0:t=A/Math.pow(u,s),o=r.minResolution,o===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?o=t/Math.pow(u,c):o=A/Math.pow(u,c):o=I),c=s+Math.floor(Math.log(t/o)/Math.log(u)),o=t/Math.pow(u,c-s),r.constrainResolution?e=vO(u,t,o,h,!_&&w,b):e=ov(t,o,h,!_&&w,b)}return{constraint:e,maxResolution:t,minResolution:o,minZoom:s,zoomFactor:u}}function TO(r){var e=r.enableRotation!==void 0?r.enableRotation:!0;if(e){var t=r.constrainRotation;return t===void 0||t===!0?_O():t===!1?rv:typeof t=="number"?mO(t):rv}else return gh}function RO(r){return!(r.sourceCenter&&r.targetCenter&&!cc(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function gd(r,e,t,o,n){var i=Math.cos(-n),s=Math.sin(-n),c=r[0]*i-r[1]*s,u=r[1]*i+r[0]*s;c+=(e[0]/2-t[0])*o,u+=(t[1]-e[1]/2)*o,s=-s;var d=c*i-u*s,h=u*i+c*s;return[d,h]}var un=kO,AO=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,OO=/^([a-z]*)$|^hsla?\(.*\)$/i;function x0(r){return typeof r=="string"?r:w0(r)}function IO(r){var e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var SO=function(){var r=1024,e={},t=0;return function(o){var n;if(e.hasOwnProperty(o))n=e[o];else{if(t>=r){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}n=PO(o),e[o]=n,++t}return n}}();function dc(r){return Array.isArray(r)?r:SO(r)}function PO(r){var e,t,o,n,i;if(OO.exec(r)&&(r=IO(r)),AO.exec(r)){var s=r.length-1,c=void 0;s<=4?c=1:c=2;var u=s===4||s===8;e=parseInt(r.substr(1+0*c,c),16),t=parseInt(r.substr(1+1*c,c),16),o=parseInt(r.substr(1+2*c,c),16),u?n=parseInt(r.substr(1+3*c,c),16):n=255,c==1&&(e=(e<<4)+e,t=(t<<4)+t,o=(o<<4)+o,u&&(n=(n<<4)+n)),i=[e,t,o,n/255]}else r.indexOf("rgba(")==0?(i=r.slice(5,-1).split(",").map(Number),nv(i)):r.indexOf("rgb(")==0?(i=r.slice(4,-1).split(",").map(Number),i.push(1),nv(i)):$t(!1,14);return i}function nv(r){return r[0]=Se(r[0]+.5|0,0,255),r[1]=Se(r[1]+.5|0,0,255),r[2]=Se(r[2]+.5|0,0,255),r[3]=Se(r[3],0,1),r}function w0(r){var e=r[0];e!=(e|0)&&(e=e+.5|0);var t=r[1];t!=(t|0)&&(t=t+.5|0);var o=r[2];o!=(o|0)&&(o=o+.5|0);var n=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+o+","+n+")"}var LO=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var o=this.cache_[t];(e++&3)===0&&!o.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},r.prototype.get=function(e,t,o){var n=iv(e,t,o);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(e,t,o,n){var i=iv(e,t,o);this.cache_[i]=n,++this.cacheSize_},r.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},r}();function iv(r,e,t){var o=t?x0(t):"null";return e+":"+r+":"+o}var fc=new LO,le={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},MO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),FO=function(r){MO(e,r);function e(t){var o=r.call(this)||this;o.on,o.once,o.un,o.background_=t.background;var n=De({},t);return typeof t.properties=="object"&&(delete n.properties,De(n,t.properties)),n[le.OPACITY]=t.opacity!==void 0?t.opacity:1,$t(typeof n[le.OPACITY]=="number",64),n[le.VISIBLE]=t.visible!==void 0?t.visible:!0,n[le.Z_INDEX]=t.zIndex,n[le.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[le.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[le.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[le.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,o.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,o.setProperties(n),o.state_=null,o}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var o=this.state_||{layer:this,managed:t===void 0?!0:t},n=this.getZIndex();return o.opacity=Se(Math.round(this.getOpacity()*100)/100,0,1),o.visible=this.getVisible(),o.extent=this.getExtent(),o.zIndex=n===void 0&&!o.managed?1/0:n,o.maxResolution=this.getMaxResolution(),o.minResolution=Math.max(this.getMinResolution(),0),o.minZoom=this.getMinZoom(),o.maxZoom=this.getMaxZoom(),this.state_=o,o},e.prototype.getLayersArray=function(t){return Kt()},e.prototype.getLayerStatesArray=function(t){return Kt()},e.prototype.getExtent=function(){return this.get(le.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(le.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(le.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(le.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(le.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(le.OPACITY)},e.prototype.getSourceState=function(){return Kt()},e.prototype.getVisible=function(){return this.get(le.VISIBLE)},e.prototype.getZIndex=function(){return this.get(le.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(le.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(le.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(le.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(le.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(le.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){$t(typeof t=="number",64),this.set(le.OPACITY,t)},e.prototype.setVisible=function(t){this.set(le.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(le.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},e}(hr),k0=FO,vn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ai={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},DO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),NO=function(r){DO(e,r);function e(t){var o=this,n=De({},t);delete n.source,o=r.call(this,n)||this,o.on,o.once,o.un,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,o.rendered=!1,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),o.addChangeListener(le.SOURCE,o.handleSourcePropertyChange_);var i=t.source?t.source:null;return o.setSource(i),o}return e.prototype.getLayersArray=function(t){var o=t||[];return o.push(this),o},e.prototype.getLayerStatesArray=function(t){var o=t||[];return o.push(this.getLayerState()),o},e.prototype.getSource=function(){return this.get(le.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ai.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(_e(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Jt(t,zt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(o){return o([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,o){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,o)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(le.MAP,t)},e.prototype.getMapInternal=function(){return this.get(le.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(_e(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(_e(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Jt(t,vn.PRECOMPOSE,function(o){var n=o,i=n.frameState.layerStatesArray,s=this.getLayerState(!1);$t(!i.some(function(c){return c.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=Jt(this,zt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(le.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},e}(k0);function hc(r,e){if(!r.visible)return!1;var t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;var o=e.zoom;return o>r.minZoom&&o<=r.maxZoom}var Uc=NO,zO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),GO=function(r){zO(e,r);function e(t){var o=r.call(this)||this;return o.map_=t,o}return e.prototype.dispatchRenderEvent=function(t,o){Kt()},e.prototype.calculateMatrices2D=function(t){var o=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Nr(n,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),oh(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,o,n,i,s,c,u,d){var h,b=o.viewState;function p(it,ht,et,ut){return s.call(c,ht,it?et:null,ut)}var v=b.projection,_=qm(t.slice(),v),w=[[0,0]];if(v.canWrapX()&&i){var k=v.getExtent(),T=ke(k);w.push([-T,0],[T,0])}for(var A=o.layerStatesArray,I=A.length,P=[],D=[],X=0;X<w.length;X++)for(var G=I-1;G>=0;--G){var F=A[G],K=F.layer;if(K.hasRenderer()&&hc(F,b)&&u.call(d,K)){var ot=K.getRenderer(),st=K.getSource();if(ot&&st){var dt=st.getWrapX()?_:t,ft=p.bind(null,F.managed);D[0]=dt[0]+w[X][0],D[1]=dt[1]+w[X][1],h=ot.forEachFeatureAtCoordinate(D,o,n,ft,P)}if(h)return h}}if(P.length!==0){var mt=1/P.length;return P.forEach(function(it,ht){return it.distanceSq+=ht*mt}),P.sort(function(it,ht){return it.distanceSq-ht.distanceSq}),P.some(function(it){return h=it.callback(it.feature,it.layer,it.geometry)}),h}},e.prototype.forEachLayerAtPixel=function(t,o,n,i,s){return Kt()},e.prototype.hasFeatureAtCoordinate=function(t,o,n,i,s,c){var u=this.forEachFeatureAtCoordinate(t,o,n,i,ei,this,s,c);return u!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Kt()},e.prototype.scheduleExpireIconCache=function(t){fc.canExpireCache()&&t.postRenderFunctions.push(BO)},e}(th);function BO(r,e){fc.expire()}var WO=GO,UO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YO=function(r){UO(e,r);function e(t,o,n,i){var s=r.call(this,t)||this;return s.inversePixelTransform=o,s.frameState=n,s.context=i,s}return e}(fr),E0=YO,Dl="ol-hidden",Yc="ol-unselectable",bh="ol-control",av="ol-collapsed",XO=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),sv=["style","variant","weight","size","lineHeight","family"],C0=function(r){var e=r.match(XO);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,n=sv.length;o<n;++o){var i=e[o+1];i!==void 0&&(t[sv[o]]=i)}return t.families=t.family.split(/,\s?/),t};function T0(r){return r===1?"":String(Math.round(r*100)/100)}function Do(r,e,t,o){var n;return t&&t.length?n=t.shift():zc?n=new OffscreenCanvas(r||300,e||300):n=document.createElement("canvas"),r&&(n.width=r),e&&(n.height=e),n.getContext("2d",o)}function lv(r,e){var t=e.parentNode;t&&t.replaceChild(r,e)}function df(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function VO(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function jO(r,e){for(var t=r.childNodes,o=0;;++o){var n=t[o],i=e[o];if(!n&&!i)break;if(n!==i){if(!n){r.appendChild(i);continue}if(!i){r.removeChild(n),--o;continue}r.insertBefore(i,n)}}}var R0="10px sans-serif",Fr="#000",pc="round",ps=[],gs=0,ea="round",bs=10,vs="#000",ms="center",gc="middle",Zn=[0,0,0,0],_s=1,Rr=new hr,HO=new ua;HO.setSize=function(){console.warn("labelCache is deprecated.")};var Fi=null,ff,hf={},KO=function(){var r=100,e="32px ",t=["monospace","serif"],o=t.length,n="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function c(d,h,b){for(var p=!0,v=0;v<o;++v){var _=t[v];if(s=bc(d+" "+h+" "+e+_,n),b!=_){var w=bc(d+" "+h+" "+e+b+","+_,n);p=p&&w!=s}}return!!p}function u(){for(var d=!0,h=Rr.getKeys(),b=0,p=h.length;b<p;++b){var v=h[b];Rr.get(v)<r&&(c.apply(this,v.split(`
`))?(ks(hf),Fi=null,ff=void 0,Rr.set(v,r)):(Rr.set(v,Rr.get(v)+1,!0),d=!1))}d&&(clearInterval(i),i=void 0)}return function(d){var h=C0(d);if(!!h)for(var b=h.families,p=0,v=b.length;p<v;++p){var _=b[p],w=h.style+`
`+h.weight+`
`+_;Rr.get(w)===void 0&&(Rr.set(w,r,!0),c(h.style,h.weight,_)||(Rr.set(w,0,!0),i===void 0&&(i=setInterval(u,32))))}}}(),$O=function(){var r;return function(e){var t=hf[e];if(t==null){if(zc){var o=C0(e),n=A0(e,"\u017Dg"),i=isNaN(Number(o.lineHeight))?1.2:Number(o.lineHeight);t=i*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);hf[e]=t}return t}}();function A0(r,e){return Fi||(Fi=Do(1,1)),r!=ff&&(Fi.font=r,ff=Fi.font),Fi.measureText(e)}function bc(r,e){return A0(r,e).width}function cv(r,e,t){if(e in t)return t[e];var o=bc(r,e);return t[e]=o,o}function ZO(r,e){for(var t=[],o=[],n=[],i=0,s=0,c=0,u=0,d=0,h=e.length;d<=h;d+=2){var b=e[d];if(b===`
`||d===h){i=Math.max(i,s),n.push(s),s=0,c+=u;continue}var p=e[d+1]||r.font,v=bc(p,b);t.push(v),s+=v;var _=$O(p);o.push(_),u=Math.max(u,_)}return{width:i,height:c,widths:t,heights:o,lineWidths:n}}function qO(r,e,t,o,n,i,s,c,u,d,h){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),o.contextInstructions?(r.translate(u,d),r.scale(h[0],h[1]),JO(o,r)):h[0]<0||h[1]<0?(r.translate(u,d),r.scale(h[0],h[1]),r.drawImage(o,n,i,s,c,0,0,s,c)):r.drawImage(o,n,i,s,c,u,d,s*h[0],c*h[1]),r.restore()}function JO(r,e){for(var t=r.contextInstructions,o=0,n=t.length;o<n;o+=2)Array.isArray(t[o+1])?e[t[o]].apply(e,t[o+1]):e[t[o]]=t[o+1]}var QO=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),tI=function(r){QO(e,r);function e(t){var o=r.call(this,t)||this;o.fontChangeListenerKey_=Jt(Rr,ta.PROPERTYCHANGE,t.redrawText.bind(t)),o.element_=document.createElement("div");var n=o.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",o.element_.className=Yc+" ol-layers";var i=t.getViewport();return i.insertBefore(o.element_,i.firstChild||null),o.children_=[],o.renderedVisible_=!0,o}return e.prototype.dispatchRenderEvent=function(t,o){var n=this.getMap();if(n.hasListener(t)){var i=new E0(t,void 0,o);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){_e(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(vn.PRECOMPOSE,t);var o=t.layerStatesArray.sort(function(v,_){return v.zIndex-_.zIndex}),n=t.viewState;this.children_.length=0;for(var i=[],s=null,c=0,u=o.length;c<u;++c){var d=o[c];t.layerIndex=c;var h=d.layer,b=h.getSourceState();if(!hc(d,n)||b!=ai.READY&&b!=ai.UNDEFINED){h.unrender();continue}var p=h.render(t,s);!p||(p!==s&&(this.children_.push(p),s=p),"getDeclutter"in h&&i.push(h))}for(var c=i.length-1;c>=0;--c)i[c].renderDeclutter(t);jO(this.element_,this.children_),this.dispatchRenderEvent(vn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,o,n,i,s){for(var c=o.viewState,u=o.layerStatesArray,d=u.length,h=d-1;h>=0;--h){var b=u[h],p=b.layer;if(p.hasRenderer()&&hc(b,c)&&s(p)){var v=p.getRenderer(),_=v.getDataAtPixel(t,o,n);if(_){var w=i(p,_);if(w)return w}}}},e}(WO),eI=tI,so={ADD:"add",REMOVE:"remove"},O0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uv={LENGTH:"length"},Nl=function(r){O0(e,r);function e(t,o,n){var i=r.call(this,t)||this;return i.element=o,i.index=n,i}return e}(fr),oI=function(r){O0(e,r);function e(t,o){var n=r.call(this)||this;n.on,n.once,n.un;var i=o||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var s=0,c=n.array_.length;s<c;++s)n.assertUnique_(n.array_[s],s);return n.updateLength_(),n}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var o=0,n=t.length;o<n;++o)this.push(t[o]);return this},e.prototype.forEach=function(t){for(var o=this.array_,n=0,i=o.length;n<i;++n)t(o[n],n,o)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(uv.LENGTH)},e.prototype.insertAt=function(t,o){this.unique_&&this.assertUnique_(o),this.array_.splice(t,0,o),this.updateLength_(),this.dispatchEvent(new Nl(so.ADD,o,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var o=this.getLength();return this.insertAt(o,t),this.getLength()},e.prototype.remove=function(t){for(var o=this.array_,n=0,i=o.length;n<i;++n)if(o[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var o=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Nl(so.REMOVE,o,t)),o},e.prototype.setAt=function(t,o){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(o,t);var i=this.array_[t];this.array_[t]=o,this.dispatchEvent(new Nl(so.REMOVE,i,t)),this.dispatchEvent(new Nl(so.ADD,o,t))}else{for(var s=n;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,o)}},e.prototype.updateLength_=function(){this.set(uv.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,o){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==o)throw new Hm(58)},e}(hr),So=oI,I0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ln=function(r){I0(e,r);function e(t,o){var n=r.call(this,t)||this;return n.layer=o,n}return e}(fr),bd={LAYERS:"layers"},rI=function(r){I0(e,r);function e(t){var o=this,n=t||{},i=De({},n);delete i.layers;var s=n.layers;return o=r.call(this,i)||this,o.on,o.once,o.un,o.layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener(bd.LAYERS,o.handleLayersChanged_),s?Array.isArray(s)?s=new So(s.slice(),{unique:!0}):$t(typeof s.getArray=="function",43):s=new So(void 0,{unique:!0}),o.setLayers(s),o}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(_e),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Jt(t,so.ADD,this.handleLayersAdd_,this),Jt(t,so.REMOVE,this.handleLayersRemove_,this));for(var o in this.listenerKeys_)this.listenerKeys_[o].forEach(_e);ks(this.listenerKeys_);for(var n=t.getArray(),i=0,s=n.length;i<s;i++){var c=n[i];this.registerLayerListeners_(c),this.dispatchEvent(new ln("addlayer",c))}this.changed()},e.prototype.registerLayerListeners_=function(t){var o=[Jt(t,ta.PROPERTYCHANGE,this.handleLayerChange_,this),Jt(t,zt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&o.push(Jt(t,"addlayer",this.handleLayerGroupAdd_,this),Jt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ie(t)]=o},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new ln("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new ln("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var o=t.element;this.registerLayerListeners_(o),this.dispatchEvent(new ln("addlayer",o)),this.changed()},e.prototype.handleLayersRemove_=function(t){var o=t.element,n=ie(o);this.listenerKeys_[n].forEach(_e),delete this.listenerKeys_[n],this.dispatchEvent(new ln("removelayer",o)),this.changed()},e.prototype.getLayers=function(){return this.get(bd.LAYERS)},e.prototype.setLayers=function(t){var o=this.getLayers();if(o)for(var n=o.getArray(),i=0,s=n.length;i<s;++i)this.dispatchEvent(new ln("removelayer",n[i]));this.set(bd.LAYERS,t)},e.prototype.getLayersArray=function(t){var o=t!==void 0?t:[];return this.getLayers().forEach(function(n){n.getLayersArray(o)}),o},e.prototype.getLayerStatesArray=function(t){var o=t!==void 0?t:[],n=o.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(o)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var c=n,u=o.length;c<u;c++){var d=o[c];d.opacity*=i.opacity,d.visible=d.visible&&i.visible,d.maxResolution=Math.min(d.maxResolution,i.maxResolution),d.minResolution=Math.max(d.minResolution,i.minResolution),d.minZoom=Math.max(d.minZoom,i.minZoom),d.maxZoom=Math.min(d.maxZoom,i.maxZoom),i.extent!==void 0&&(d.extent!==void 0?d.extent=Qa(d.extent,i.extent):d.extent=i.extent),d.zIndex===void 0&&(d.zIndex=s)}return o},e.prototype.getSourceState=function(){return ai.READY},e}(k0),Xc=rI,nI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),iI=function(r){nI(e,r);function e(t,o,n){var i=r.call(this,t)||this;return i.map=o,i.frameState=n!==void 0?n:null,i}return e}(fr),Di=iI,aI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),sI=function(r){aI(e,r);function e(t,o,n,i,s){var c=r.call(this,t,o,s)||this;return c.originalEvent=n,c.pixel_=null,c.coordinate_=null,c.dragging=i!==void 0?i:!1,c}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Di),Or=sI,ee={SINGLECLICK:"singleclick",CLICK:zt.CLICK,DBLCLICK:zt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ys={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},lI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),cI=function(r){lI(e,r);function e(t,o){var n=r.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=o===void 0?1:o,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Jt(i,ys.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Jt(i,ys.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(zt.TOUCHMOVE,n.boundHandleTouchMove_,o0?{passive:!1}:!1),n}return e.prototype.emulateClick_=function(t){var o=new Or(ee.CLICK,this.map_,t);this.dispatchEvent(o),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,o=new Or(ee.DBLCLICK,this.map_,t),this.dispatchEvent(o)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new Or(ee.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var o=t;o.type==ee.POINTERUP||o.type==ee.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==ee.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var o=new Or(ee.POINTERUP,this.map_,t);this.dispatchEvent(o),this.emulateClicks_&&!o.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(_e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var o=new Or(ee.POINTERDOWN,this.map_,t);this.dispatchEvent(o),this.down_={};for(var n in t){var i=t[n];this.down_[n]=typeof i=="function"?ii:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Jt(s,ee.POINTERMOVE,this.handlePointerMove_,this),Jt(s,ee.POINTERUP,this.handlePointerUp_,this),Jt(this.element_,ee.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Jt(this.element_.getRootNode(),ee.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var o=new Or(ee.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(o)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var o=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Or(t.type,this.map_,t,o))},e.prototype.handleTouchMove_=function(t){var o=this.originalPointerMoveEvent_;(!o||o.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(_e(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(zt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(_e(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(_e),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},e}(ua),uI=cI,nn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},je={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},vc=1/0,dI=function(){function r(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ks(this.queuedElements_)},r.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(o);return delete this.queuedElements_[n],o},r.prototype.enqueue=function(e){$t(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=vc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(e){return e*2+1},r.prototype.getRightChildIndex_=function(e){return e*2+2},r.prototype.getParentIndex_=function(e){return e-1>>1},r.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},r.prototype.isEmpty=function(){return this.elements_.length===0},r.prototype.isKeyQueued=function(e){return e in this.queuedElements_},r.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},r.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,n=t.length,i=t[e],s=o[e],c=e;e<n>>1;){var u=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<n&&o[d]<o[u]?d:u;t[e]=t[h],o[e]=o[h],e=h}t[e]=i,o[e]=s,this.siftDown_(c,e)},r.prototype.siftDown_=function(e,t){for(var o=this.elements_,n=this.priorities_,i=o[t],s=n[t];t>e;){var c=this.getParentIndex_(t);if(n[c]>s)o[t]=o[c],n[t]=n[c],t=c;else break}o[t]=i,n[t]=s},r.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,o=this.priorities_,n=0,i=t.length,s,c,u;for(c=0;c<i;++c)s=t[c],u=e(s),u==vc?delete this.queuedElements_[this.keyFunction_(s)]:(o[n]=u,t[n++]=s);t.length=n,o.length=n,this.heapify_()},r}(),fI=dI,At={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},hI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),pI=function(r){hI(e,r);function e(t,o){var n=r.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=o,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return e.prototype.enqueue=function(t){var o=r.prototype.enqueue.call(this,t);if(o){var n=t[0];n.addEventListener(zt.CHANGE,this.boundHandleTileChange_)}return o},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var o=t.target,n=o.getState();if(n===At.LOADED||n===At.ERROR||n===At.EMPTY){o.removeEventListener(zt.CHANGE,this.boundHandleTileChange_);var i=o.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,o){for(var n=0,i,s,c;this.tilesLoading_<t&&n<o&&this.getCount()>0;)s=this.dequeue()[0],c=s.getKey(),i=s.getState(),i===At.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++n,s.load())},e}(fI),gI=pI;function bI(r,e,t,o,n){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return vc;var i=r.viewState.center,s=o[0]-i[0],c=o[1]-i[1];return 65536*Math.log(n)+Math.sqrt(s*s+c*c)/n}function dv(r){return r[0]>0&&r[1]>0}function vI(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function $o(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}var mI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();function S0(r){if(r instanceof Uc){r.setMapInternal(null);return}r instanceof Xc&&r.getLayers().forEach(S0)}function P0(r,e){if(r instanceof Uc){r.setMapInternal(e);return}if(r instanceof Xc)for(var t=r.getLayers().getArray(),o=0,n=t.length;o<n;++o)P0(t[o],e)}var _I=function(r){mI(e,r);function e(t){var o=r.call(this)||this;o.on,o.once,o.un;var n=yI(t);o.renderComplete_,o.loaded_=!0,o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(o),o.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,o.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:e0,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(o),o.coordinateToPixelTransform_=dr(),o.pixelToCoordinateTransform_=dr(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=t.moveTolerance,o.keyboardEventTarget_=n.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.controls=n.controls||new So,o.interactions=n.interactions||new So,o.overlays_=n.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new gI(o.getTilePriority.bind(o),o.handleTileChange_.bind(o)),o.addChangeListener(je.LAYERGROUP,o.handleLayerGroupChanged_),o.addChangeListener(je.VIEW,o.handleViewChanged_),o.addChangeListener(je.SIZE,o.handleSizeChanged_),o.addChangeListener(je.TARGET,o.handleTargetChanged_),o.setProperties(n.values);var i=o;return t.view&&!(t.view instanceof un)&&t.view.then(function(s){i.setView(new un(s))}),o.controls.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.controls.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.interactions.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.interactions.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.overlays_.addEventListener(so.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(o)),o.overlays_.addEventListener(so.REMOVE,function(s){var c=s.element,u=c.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],s.element.setMap(null)}.bind(o)),o.controls.forEach(function(s){s.setMap(this)}.bind(o)),o.interactions.forEach(function(s){s.setMap(this)}.bind(o)),o.overlays_.forEach(o.addOverlayInternal_.bind(o)),o}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var o=this.getLayerGroup().getLayers();o.push(t)},e.prototype.handleLayerAdd_=function(t){P0(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var o=t.getId();o!==void 0&&(this.overlayIdIndex_[o.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),r.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,o,n){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};var s=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.layerFilter!==void 0?n.layerFilter:ei,u=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,u,o,null,c,null)}},e.prototype.getFeaturesAtPixel=function(t,o){var n=[];return this.forEachFeatureAtPixel(t,function(i){n.push(i)},o),n},e.prototype.getAllLayers=function(){var t=[];function o(n){n.forEach(function(i){i instanceof Xc?o(i.getLayers()):t.push(i)})}return o(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,o,n){if(!(!this.frameState_||!this.renderer_)){var i=n||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter||ei;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,o,c)}},e.prototype.hasFeatureAtPixel=function(t,o){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var i=o.layerFilter!==void 0?o.layerFilter:ei,s=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,s,c,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var o=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-o.left,n.clientY-o.top]},e.prototype.getTarget=function(){return this.get(je.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return nf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var o=this.frameState_;return o?Ie(o.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var o=this.overlayIdIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(je.LAYERGROUP)},e.prototype.setLayers=function(t){var o=this.getLayerGroup();if(t instanceof So){o.setLayers(t);return}var n=o.getLayers();n.clear(),n.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,n=t.length;o<n;++o){var i=t[o];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var c=i.layer.getSource();if(c&&c.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var o=Io(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(o)},e.prototype.getPixelFromCoordinateInternal=function(t){var o=this.frameState_;return o?Ie(o.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(je.SIZE)},e.prototype.getView=function(){return this.get(je.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,o,n,i){return bI(this.frameState_,t,o,n,i)},e.prototype.handleBrowserEvent=function(t,o){var n=o||t.type,i=new Or(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var o=t.originalEvent,n=o.type;if(n===ys.POINTERDOWN||n===zt.WHEEL||n===zt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,c=o.target;if(this.overlayContainerStopEvent_.contains(c)||!(s===i?i.documentElement:s).contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var u=this.getInteractions().getArray().slice(),d=u.length-1;d>=0;d--){var h=u[d];if(!(h.getMap()!==this||!h.getActive()||!this.getTargetElement())){var b=h.handleEvent(t);if(!b||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var s=t.viewHints;if(s[He.ANIMATING]||s[He.INTERACTING]){var c=Date.now()-t.time>8;n=c?0:8,i=c?0:2}}o.getTilesLoading()<n&&(o.reprioritize(),o.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(vn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(vn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Di(nn.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Di(nn.LOADSTART,this,t))));for(var u=this.postRenderFunctions_,d=0,h=u.length;d<h;++d)u[d](this,t);u.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,o=this.targetChangeHandlerKeys_.length;t<o;++t)_e(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(zt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(zt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,df(this.viewport_)}var n=this.getTargetElement();if(!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new uI(this,this.moveTolerance_);for(var i in ee)this.mapBrowserEventHandler_.addEventListener(ee[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(zt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(zt.WHEEL,this.boundHandleBrowserEvent_,o0?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Jt(c,zt.KEYDOWN,this.handleBrowserEvent,this),Jt(c,zt.KEYPRESS,this.handleBrowserEvent,this),Jt(s,zt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(_e(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(_e(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Jt(t,ta.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Jt(t,zt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ln("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Jt(t,ta.PROPERTYCHANGE,this.render,this),Jt(t,zt.CHANGE,this.render,this),Jt(t,"addlayer",this.handleLayerAdd_,this),Jt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,n=t.length;o<n;++o){var i=t[o].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var o=this.getLayerGroup().getLayers();return o.remove(t)},e.prototype.handleLayerRemove_=function(t){S0(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var o=this,n=this.getSize(),i=this.getView(),s=this.frameState_,c=null;if(n!==void 0&&dv(n)&&i&&i.isDef()){var u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=i.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:of(d.center,d.resolution,d.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:d,viewHints:u,wantedTiles:{},mapId:ie(this),renderTargets:{}},d.nextCenter&&d.nextResolution){var h=isNaN(d.nextRotation)?d.rotation:d.nextRotation;c.nextExtent=of(d.nextCenter,d.nextResolution,h,n)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),s){var b=!this.previousExtent_||!Kf(this.previousExtent_)&&!us(c.extent,this.previousExtent_);b&&(this.dispatchEvent(new Di(nn.MOVESTART,this,s)),this.previousExtent_=Dc(this.previousExtent_))}var p=this.previousExtent_&&!c.viewHints[He.ANIMATING]&&!c.viewHints[He.INTERACTING]&&!us(c.extent,this.previousExtent_);p&&(this.dispatchEvent(new Di(nn.MOVEEND,this,c)),Km(c.extent,this.previousExtent_))}this.dispatchEvent(new Di(nn.POSTRENDER,this,c)),this.renderComplete_=this.hasListener(nn.LOADSTART)||this.hasListener(nn.LOADEND)||this.hasListener(vn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){o.postRenderTimeoutHandle_=void 0,o.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var o=this.getLayerGroup();o&&this.handleLayerRemove_(new ln("removelayer",o)),this.set(je.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(je.SIZE,t)},e.prototype.setTarget=function(t){this.set(je.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof un){this.set(je.VIEW,t);return}this.set(je.VIEW,new un);var o=this;t.then(function(n){o.setView(new un(n))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),o=void 0;if(t){var n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),s=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(o=[i,s],!dv(o)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(o),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var o=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(o=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(o)}},e}(hr);function yI(r){var e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var t={},o=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Xc({layers:r.layers});t[je.LAYERGROUP]=o,t[je.TARGET]=r.target,t[je.VIEW]=r.view instanceof un?r.view:new un;var n;r.controls!==void 0&&(Array.isArray(r.controls)?n=new So(r.controls.slice()):($t(typeof r.controls.getArray=="function",47),n=r.controls));var i;r.interactions!==void 0&&(Array.isArray(r.interactions)?i=new So(r.interactions.slice()):($t(typeof r.interactions.getArray=="function",48),i=r.interactions));var s;return r.overlays!==void 0?Array.isArray(r.overlays)?s=new So(r.overlays.slice()):($t(typeof r.overlays.getArray=="function",49),s=r.overlays):s=new So,{controls:n,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var xI=_I,wI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kI=function(r){wI(e,r);function e(t){var o=r.call(this)||this,n=t.element;return n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),o.element=n||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return e.prototype.disposeInternal=function(){df(this.element),r.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&df(this.element);for(var o=0,n=this.listenerKeys.length;o<n;++o)_e(this.listenerKeys[o]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==ii&&this.listenerKeys.push(Jt(t,nn.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(hr),Vc=kI,EI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),CI=function(r){EI(e,r);function e(t){var o=this,n=t||{};o=r.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,o.ulElement_=document.createElement("ul"),o.collapsed_=n.collapsed!==void 0?n.collapsed:!0,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=n.collapsible!==void 0,o.collapsible_=n.collapsible!==void 0?n.collapsible:!0,o.collapsible_||(o.collapsed_=!1);var i=n.className!==void 0?n.className:"ol-attribution",s=n.tipLabel!==void 0?n.tipLabel:"Attributions",c=n.expandClassName!==void 0?n.expandClassName:i+"-expand",u=n.collapseLabel!==void 0?n.collapseLabel:"\u203A",d=n.collapseClassName!==void 0?n.collapseClassName:i+"-collapse";typeof u=="string"?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=u,o.collapseLabel_.className=d):o.collapseLabel_=u;var h=n.label!==void 0?n.label:"i";typeof h=="string"?(o.label_=document.createElement("span"),o.label_.textContent=h,o.label_.className=c):o.label_=h;var b=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=s,o.toggleButton_.appendChild(b),o.toggleButton_.addEventListener(zt.CLICK,o.handleClick_.bind(o),!1);var p=i+" "+Yc+" "+bh+(o.collapsed_&&o.collapsible_?" "+av:"")+(o.collapsible_?"":" ol-uncollapsible"),v=o.element;return v.className=p,v.appendChild(o.toggleButton_),v.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return e.prototype.collectSourceAttributions_=function(t){for(var o={},n=[],i=!0,s=t.layerStatesArray,c=0,u=s.length;c<u;++c){var d=s[c];if(!!hc(d,t.viewState)){var h=d.layer.getSource();if(!!h){var b=h.getAttributions();if(!!b){var p=b(t);if(!!p)if(i=i&&h.getAttributionsCollapsible()!==!1,Array.isArray(p))for(var v=0,_=p.length;v<_;++v)p[v]in o||(n.push(p[v]),o[p[v]]=!0);else p in o||(n.push(p),o[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var o=this.collectSourceAttributions_(t),n=o.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!si(o,this.renderedAttributions_)){VO(this.ulElement_);for(var i=0,s=o.length;i<s;++i){var c=document.createElement("li");c.innerHTML=o[i],this.ulElement_.appendChild(c)}this.renderedAttributions_=o}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(av),this.collapsed_?lv(this.collapseLabel_,this.label_):lv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Vc),TI=CI,RI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),AI=function(r){RI(e,r);function e(t){var o=this,n=t||{};o=r.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var i=n.className!==void 0?n.className:"ol-rotate",s=n.label!==void 0?n.label:"\u21E7",c=n.compassClassName!==void 0?n.compassClassName:"ol-compass";o.label_=null,typeof s=="string"?(o.label_=document.createElement("span"),o.label_.className=c,o.label_.textContent=s):(o.label_=s,o.label_.classList.add(c));var u=n.tipLabel?n.tipLabel:"Reset rotation",d=document.createElement("button");d.className=i+"-reset",d.setAttribute("type","button"),d.title=u,d.appendChild(o.label_),d.addEventListener(zt.CLICK,o.handleClick_.bind(o),!1);var h=i+" "+Yc+" "+bh,b=o.element;return b.className=h,b.appendChild(d),o.callResetNorth_=n.resetNorth?n.resetNorth:void 0,o.duration_=n.duration!==void 0?n.duration:250,o.autoHide_=n.autoHide!==void 0?n.autoHide:!0,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(Dl),o}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),o=t.getView();if(!!o){var n=o.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?o.animate({rotation:0,duration:this.duration_,easing:da}):o.setRotation(0))}},e.prototype.render=function(t){var o=t.frameState;if(!!o){var n=o.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Dl);!s&&n===0?this.element.classList.add(Dl):s&&n!==0&&this.element.classList.remove(Dl)}this.label_.style.transform=i}this.rotation_=n}},e}(Vc),OI=AI,II=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),SI=function(r){II(e,r);function e(t){var o=this,n=t||{};o=r.call(this,{element:document.createElement("div"),target:n.target})||this;var i=n.className!==void 0?n.className:"ol-zoom",s=n.delta!==void 0?n.delta:1,c=n.zoomInClassName!==void 0?n.zoomInClassName:i+"-in",u=n.zoomOutClassName!==void 0?n.zoomOutClassName:i+"-out",d=n.zoomInLabel!==void 0?n.zoomInLabel:"+",h=n.zoomOutLabel!==void 0?n.zoomOutLabel:"\u2013",b=n.zoomInTipLabel!==void 0?n.zoomInTipLabel:"Zoom in",p=n.zoomOutTipLabel!==void 0?n.zoomOutTipLabel:"Zoom out",v=document.createElement("button");v.className=c,v.setAttribute("type","button"),v.title=b,v.appendChild(typeof d=="string"?document.createTextNode(d):d),v.addEventListener(zt.CLICK,o.handleClick_.bind(o,s),!1);var _=document.createElement("button");_.className=u,_.setAttribute("type","button"),_.title=p,_.appendChild(typeof h=="string"?document.createTextNode(h):h),_.addEventListener(zt.CLICK,o.handleClick_.bind(o,-s),!1);var w=i+" "+Yc+" "+bh,k=o.element;return k.className=w,k.appendChild(v),k.appendChild(_),o.duration_=n.duration!==void 0?n.duration:250,o}return e.prototype.handleClick_=function(t,o){o.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var o=this.getMap(),n=o.getView();if(!!n){var i=n.getZoom();if(i!==void 0){var s=n.getConstrainedZoom(i+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:s,duration:this.duration_,easing:da})):n.setZoom(s)}}},e}(Vc),PI=SI,LI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),vd="projection",fv="coordinateFormat",MI=function(r){LI(e,r);function e(t){var o=this,n=t||{},i=document.createElement("div");i.className=n.className!==void 0?n.className:"ol-mouse-position",o=r.call(this,{element:i,render:n.render,target:n.target})||this,o.on,o.once,o.un,o.addChangeListener(vd,o.handleProjectionChanged_),n.coordinateFormat&&o.setCoordinateFormat(n.coordinateFormat),n.projection&&o.setProjection(n.projection);var s=!0,c="&#160;";return"undefinedHTML"in n?(n.undefinedHTML!==void 0&&(c=n.undefinedHTML),s=!!c):"placeholder"in n&&(n.placeholder===!1?s=!1:c=String(n.placeholder)),o.placeholder_=c,o.renderOnMouseOut_=s,o.renderedHTML_=i.innerHTML,o.mapProjection_=null,o.transform_=null,o}return e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(fv)},e.prototype.getProjection=function(){return this.get(vd)},e.prototype.handleMouseMove=function(t){var o=this.getMap();this.updateHTML_(o.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(t){if(r.prototype.setMap.call(this,t),t){var o=t.getViewport();this.listenerKeys.push(Jt(o,ys.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Jt(o,ys.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(fv,t)},e.prototype.setProjection=function(t){this.set(vd,lo(t))},e.prototype.updateHTML_=function(t){var o=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();n?this.transform_=Qi(this.mapProjection_,n):this.transform_=qf}var i=this.getMap(),s=i.getCoordinateFromPixelInternal(t);if(s){var c=Rs();c&&(this.transform_=Qi(this.mapProjection_,c)),this.transform_(s,s);var u=this.getCoordinateFormat();u?o=u(s):o=s.toString()}}(!this.renderedHTML_||o!==this.renderedHTML_)&&(this.element.innerHTML=o,this.renderedHTML_=o)},e.prototype.render=function(t){var o=t.frameState;o?this.mapProjection_!=o.viewState.projection&&(this.mapProjection_=o.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Vc),FI=MI;function L0(r){var e=r||{},t=new So,o=e.zoom!==void 0?e.zoom:!0;o&&t.push(new PI(e.zoomOptions));var n=e.rotate!==void 0?e.rotate:!0;n&&t.push(new OI(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new TI(e.attributionOptions)),t}var pf={ACTIVE:"active"},DI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),NI=function(r){DI(e,r);function e(t){var o=r.call(this)||this;return o.on,o.once,o.un,t&&t.handleEvent&&(o.handleEvent=t.handleEvent),o.map_=null,o.setActive(!0),o}return e.prototype.getActive=function(){return this.get(pf.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(pf.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(hr);function zI(r,e,t){var o=r.getCenterInternal();if(o){var n=[o[0]+e[0],o[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:xO,center:r.getConstrainedCenter(n)})}}function vh(r,e,t,o){var n=r.getZoom();if(n!==void 0){var i=r.getConstrainedZoom(n+e),s=r.getResolutionForZoom(i);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:s,anchor:t,duration:o!==void 0?o:250,easing:da})}}var Os=NI,GI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),BI=function(r){GI(e,r);function e(t){var o=r.call(this)||this,n=t||{};return o.delta_=n.delta?n.delta:1,o.duration_=n.duration!==void 0?n.duration:250,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==ee.DBLCLICK){var n=t.originalEvent,i=t.map,s=t.coordinate,c=n.shiftKey?-this.delta_:this.delta_,u=i.getView();vh(u,c,s,this.duration_),n.preventDefault(),o=!0}return!o},e}(Os),WI=BI,UI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YI=function(r){UI(e,r);function e(t){var o=this,n=t||{};return o=r.call(this,n)||this,n.handleDownEvent&&(o.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(o.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(o.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(o.handleUpEvent=n.handleUpEvent),n.stopDown&&(o.stopDown=n.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var o=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ee.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ee.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==ee.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,o=this.stopDown(i)}else t.type==ee.POINTERMOVE&&this.handleMoveEvent(t);return!o},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(XI(t)){var o=t.originalEvent,n=o.pointerId.toString();t.type==ee.POINTERUP?delete this.trackedPointers_[n]:t.type==ee.POINTERDOWN?this.trackedPointers_[n]=o:n in this.trackedPointers_&&(this.trackedPointers_[n]=o),this.targetPointers=jm(this.trackedPointers_)}},e}(Os);function mh(r){for(var e=r.length,t=0,o=0,n=0;n<e;n++)t+=r[n].clientX,o+=r[n].clientY;return[t/e,o/e]}function XI(r){var e=r.type;return e===ee.POINTERDOWN||e===ee.POINTERDRAG||e===ee.POINTERUP}var fa=YI;function gf(r){var e=arguments;return function(t){for(var o=!0,n=0,i=e.length;n<i&&(o=o&&e[n](t),!!o);++n);return o}}var VI=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},jI=function(r){var e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},M0=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?jI(r):!0},F0=ei,D0=function(r){var e=r.originalEvent;return e.button==0&&!(dA&&fA&&e.ctrlKey)},_h=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},N0=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},z0=function(r){var e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},md=function(r){var e=r.originalEvent;return $t(e!==void 0,56),e.pointerType=="mouse"},HI=function(r){var e=r.originalEvent;return $t(e!==void 0,56),e.isPrimary&&e.button===0},KI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),$I=function(r){KI(e,r);function e(t){var o=r.call(this,{stopDown:As})||this,n=t||{};o.kinetic_=n.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1;var i=n.condition?n.condition:gf(_h,HI);return o.condition_=n.onFocusOnly?gf(M0,i):i,o.noKinetic_=!1,o}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var o=this.targetPointers,n=mh(o);if(o.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],s=t.map,c=s.getView();GR(i,c.getResolution()),$f(i,c.getRotation()),c.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=o.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var o=t.map,n=o.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),c=n.getCenterInternal(),u=o.getPixelFromCoordinateInternal(c),d=o.getCoordinateFromPixelInternal([u[0]-i*Math.cos(s),u[1]-i*Math.sin(s)]);n.animateInternal({center:n.getConstrainedCenter(d),duration:500,easing:da})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var o=t.map,n=o.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(fa),ZI=$I,qI=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),JI=function(r){qI(e,r);function e(t){var o=this,n=t||{};return o=r.call(this,{stopDown:As})||this,o.condition_=n.condition?n.condition:VI,o.lastAngle_=void 0,o.duration_=n.duration!==void 0?n.duration:250,o}return e.prototype.handleDragEvent=function(t){if(!!md(t)){var o=t.map,n=o.getView();if(n.getConstraints().rotation!==gh){var i=o.getSize(),s=t.pixel,c=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var u=c-this.lastAngle_;n.adjustRotationInternal(-u)}this.lastAngle_=c}}},e.prototype.handleUpEvent=function(t){if(!md(t))return!0;var o=t.map,n=o.getView();return n.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!md(t))return!1;if(D0(t)&&this.condition_(t)){var o=t.map;return o.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(fa),QI=JI,tS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),eS=function(r){tS(e,r);function e(t){var o=r.call(this)||this;return o.geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+t,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,o=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],o[0])+n,i.top=Math.min(t[1],o[1])+n,i.width=Math.abs(o[0]-t[0])+n,i.height=Math.abs(o[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var o=this.element_.style;o.left="inherit",o.top="inherit",o.width="inherit",o.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,o){this.startPixel_=t,this.endPixel_=o,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,o=this.endPixel_,n=[t,[t[0],o[1]],o,[o[0],t[1]]],i=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new hs([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(th),oS=eS,G0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),zl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},_d=function(r){G0(e,r);function e(t,o,n){var i=r.call(this,t)||this;return i.coordinate=o,i.mapBrowserEvent=n,i}return e}(fr),rS=function(r){G0(e,r);function e(t){var o=r.call(this)||this;o.on,o.once,o.un;var n=t||{};return o.box_=new oS(n.className||"ol-dragbox"),o.minArea_=n.minArea!==void 0?n.minArea:64,n.onBoxEnd&&(o.onBoxEnd=n.onBoxEnd),o.startPixel_=null,o.condition_=n.condition?n.condition:D0,o.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:o.defaultBoxEndCondition,o}return e.prototype.defaultBoxEndCondition=function(t,o,n){var i=n[0]-o[0],s=n[1]-o[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new _d(zl.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var o=this.boxEndCondition_(t,this.startPixel_,t.pixel);return o&&this.onBoxEnd(t),this.dispatchEvent(new _d(o?zl.BOXEND:zl.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new _d(zl.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(fa),nS=rS,iS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),aS=function(r){iS(e,r);function e(t){var o=this,n=t||{},i=n.condition?n.condition:N0;return o=r.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea})||this,o.duration_=n.duration!==void 0?n.duration:200,o.out_=n.out!==void 0?n.out:!1,o}return e.prototype.onBoxEnd=function(t){var o=this.getMap(),n=o.getView(),i=this.getGeometry();if(this.out_){var s=n.rotatedExtentForGeometry(i),c=n.getResolutionForExtentInternal(s),u=n.getResolution()/c;i=i.clone(),i.scale(u*u)}n.fitInternal(i,{duration:this.duration_,easing:da})},e}(nS),sS=aS,Bn={LEFT:37,UP:38,RIGHT:39,DOWN:40},lS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),cS=function(r){lS(e,r);function e(t){var o=r.call(this)||this,n=t||{};return o.defaultCondition_=function(i){return _h(i)&&z0(i)},o.condition_=n.condition!==void 0?n.condition:o.defaultCondition_,o.duration_=n.duration!==void 0?n.duration:100,o.pixelDelta_=n.pixelDelta!==void 0?n.pixelDelta:128,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==zt.KEYDOWN){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(i==Bn.DOWN||i==Bn.LEFT||i==Bn.RIGHT||i==Bn.UP)){var s=t.map,c=s.getView(),u=c.getResolution()*this.pixelDelta_,d=0,h=0;i==Bn.DOWN?h=-u:i==Bn.LEFT?d=-u:i==Bn.RIGHT?d=u:h=u;var b=[d,h];$f(b,c.getRotation()),zI(c,b,this.duration_),n.preventDefault(),o=!0}}return!o},e}(Os),uS=cS,dS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fS=function(r){dS(e,r);function e(t){var o=r.call(this)||this,n=t||{};return o.condition_=n.condition?n.condition:z0,o.delta_=n.delta?n.delta:1,o.duration_=n.duration!==void 0?n.duration:100,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==zt.KEYDOWN||t.type==zt.KEYPRESS){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,c=i=="+".charCodeAt(0)?this.delta_:-this.delta_,u=s.getView();vh(u,c,void 0,this.duration_),n.preventDefault(),o=!0}}return!o},e}(Os),hS=fS,pS=function(){function r(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;o>0&&this.points_[o+2]>e;)o-=3;var n=this.points_[t+2]-this.points_[o+2];if(n<1e3/60)return!1;var i=this.points_[t]-this.points_[o],s=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/n,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}(),gS=pS,bS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yd={TRACKPAD:"trackpad",WHEEL:"wheel"},vS=function(r){bS(e,r);function e(t){var o=this,n=t||{};o=r.call(this,n)||this,o.totalDelta_=0,o.lastDelta_=0,o.maxDelta_=n.maxDelta!==void 0?n.maxDelta:1,o.duration_=n.duration!==void 0?n.duration:250,o.timeout_=n.timeout!==void 0?n.timeout:80,o.useAnchor_=n.useAnchor!==void 0?n.useAnchor:!0,o.constrainResolution_=n.constrainResolution!==void 0?n.constrainResolution:!1;var i=n.condition?n.condition:F0;return o.condition_=n.onFocusOnly?gf(M0,i):i,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.deltaPerZoom_=300,o}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var o=t.type;if(o!==zt.WHEEL)return!0;var n=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==zt.WHEEL&&(s=i.deltaY,cA&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=e0),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?yd.TRACKPAD:yd.WHEEL);var u=n.getView();if(this.mode_===yd.TRACKPAD&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=s;var d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),d),!1},e.prototype.handleWheelZoom_=function(t){var o=t.getView();o.getAnimating()&&o.cancelAnimations();var n=-Se(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(o.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),vh(o,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Os),mS=vS,_S=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yS=function(r){_S(e,r);function e(t){var o=this,n=t||{},i=n;return i.stopDown||(i.stopDown=As),o=r.call(this,i)||this,o.anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=n.threshold!==void 0?n.threshold:.3,o.duration_=n.duration!==void 0?n.duration:250,o}return e.prototype.handleDragEvent=function(t){var o=0,n=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(this.lastAngle_!==void 0){var c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=c}this.lastAngle_=s;var u=t.map,d=u.getView();if(d.getConstraints().rotation!==gh){var h=u.getViewport().getBoundingClientRect(),b=mh(this.targetPointers);b[0]-=h.left,b[1]-=h.top,this.anchor_=u.getCoordinateFromPixelInternal(b),this.rotating_&&(u.render(),d.adjustRotationInternal(o,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,n=o.getView();return n.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(fa),xS=yS,wS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kS=function(r){wS(e,r);function e(t){var o=this,n=t||{},i=n;return i.stopDown||(i.stopDown=As),o=r.call(this,i)||this,o.anchor_=null,o.duration_=n.duration!==void 0?n.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return e.prototype.handleDragEvent=function(t){var o=1,n=this.targetPointers[0],i=this.targetPointers[1],s=n.clientX-i.clientX,c=n.clientY-i.clientY,u=Math.sqrt(s*s+c*c);this.lastDistance_!==void 0&&(o=this.lastDistance_/u),this.lastDistance_=u;var d=t.map,h=d.getView();o!=1&&(this.lastScaleDelta_=o);var b=d.getViewport().getBoundingClientRect(),p=mh(this.targetPointers);p[0]-=b.left,p[1]-=b.top,this.anchor_=d.getCoordinateFromPixelInternal(p),d.render(),h.adjustResolutionInternal(o,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,n=o.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(fa),ES=kS,Da={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},CS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),TS=function(r){CS(e,r);function e(t){var o=r.call(this)||this;if(o.on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var n=t;o.setGeometry(n)}else{var i=t;o.setProperties(i)}return o}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&t.setGeometry(o.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(_e(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Jt(t,zt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?RS(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(hr);function RS(r){if(typeof r=="function")return r;var e;if(Array.isArray(r))e=r;else{$t(typeof r.getZIndex=="function",41);var t=r;e=[t]}return function(){return e}}var jn=TS;function AS(r,e,t,o,n){B0(r,e,t||0,o||r.length-1,n||OS)}function B0(r,e,t,o,n){for(;o>t;){if(o-t>600){var i=o-t+1,s=e-t+1,c=Math.log(i),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(i-u)/i)*(s-i/2<0?-1:1),h=Math.max(t,Math.floor(e-s*u/i+d)),b=Math.min(o,Math.floor(e+(i-s)*u/i+d));B0(r,e,h,b,n)}var p=r[e],v=t,_=o;for(Na(r,t,e),n(r[o],p)>0&&Na(r,t,o);v<_;){for(Na(r,v,_),v++,_--;n(r[v],p)<0;)v++;for(;n(r[_],p)>0;)_--}n(r[t],p)===0?Na(r,t,_):(_++,Na(r,_,o)),_<=e&&(t=_+1),e<=_&&(o=_-1)}}function Na(r,e,t){var o=r[e];r[e]=r[t],r[t]=o}function OS(r,e){return r<e?-1:r>e?1:0}class W0{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const o=[];if(!Bl(e,t))return o;const n=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const c=t.children[s],u=t.leaf?n(c):c;Bl(e,u)&&(t.leaf?o.push(c):wd(e,u)?this._all(c,o):i.push(c))}t=i.pop()}return o}collides(e){let t=this.data;if(!Bl(e,t))return!1;const o=[];for(;t;){for(let n=0;n<t.children.length;n++){const i=t.children[n],s=t.leaf?this.toBBox(i):i;if(Bl(e,s)){if(t.leaf||wd(e,s))return!0;o.push(i)}}t=o.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let o=0;o<e.length;o++)this.insert(e[o]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ni([]),this}remove(e,t){if(!e)return this;let o=this.data;const n=this.toBBox(e),i=[],s=[];let c,u,d;for(;o||i.length;){if(o||(o=i.pop(),u=i[i.length-1],c=s.pop(),d=!0),o.leaf){const h=IS(e,o.children,t);if(h!==-1)return o.children.splice(h,1),i.push(o),this._condense(i),this}!d&&!o.leaf&&wd(o,n)?(i.push(o),s.push(c),c=0,u=o,o=o.children[0]):u?(c++,o=u.children[c],d=!1):o=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const o=[];for(;e;)e.leaf?t.push(...e.children):o.push(...e.children),e=o.pop();return t}_build(e,t,o,n){const i=o-t+1;let s=this._maxEntries,c;if(i<=s)return c=Ni(e.slice(t,o+1)),Ai(c,this.toBBox),c;n||(n=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,n-1))),c=Ni([]),c.leaf=!1,c.height=n;const u=Math.ceil(i/s),d=u*Math.ceil(Math.sqrt(s));hv(e,t,o,d,this.compareMinX);for(let h=t;h<=o;h+=d){const b=Math.min(h+d-1,o);hv(e,h,b,u,this.compareMinY);for(let p=h;p<=b;p+=u){const v=Math.min(p+u-1,b);c.children.push(this._build(e,p,v,n-1))}}return Ai(c,this.toBBox),c}_chooseSubtree(e,t,o,n){for(;n.push(t),!(t.leaf||n.length-1===o);){let i=1/0,s=1/0,c;for(let u=0;u<t.children.length;u++){const d=t.children[u],h=xd(d),b=LS(e,d)-h;b<s?(s=b,i=h<i?h:i,c=d):b===s&&h<i&&(i=h,c=d)}t=c||t.children[0]}return t}_insert(e,t,o){const n=o?e:this.toBBox(e),i=[],s=this._chooseSubtree(n,this.data,t,i);for(s.children.push(e),Ya(s,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)}_split(e,t){const o=e[t],n=o.children.length,i=this._minEntries;this._chooseSplitAxis(o,i,n);const s=this._chooseSplitIndex(o,i,n),c=Ni(o.children.splice(s,o.children.length-s));c.height=o.height,c.leaf=o.leaf,Ai(o,this.toBBox),Ai(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(o,c)}_splitRoot(e,t){this.data=Ni([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ai(this.data,this.toBBox)}_chooseSplitIndex(e,t,o){let n,i=1/0,s=1/0;for(let c=t;c<=o-t;c++){const u=Ua(e,0,c,this.toBBox),d=Ua(e,c,o,this.toBBox),h=MS(u,d),b=xd(u)+xd(d);h<i?(i=h,n=c,s=b<s?b:s):h===i&&b<s&&(s=b,n=c)}return n||o-t}_chooseSplitAxis(e,t,o){const n=e.leaf?this.compareMinX:SS,i=e.leaf?this.compareMinY:PS,s=this._allDistMargin(e,t,o,n),c=this._allDistMargin(e,t,o,i);s<c&&e.children.sort(n)}_allDistMargin(e,t,o,n){e.children.sort(n);const i=this.toBBox,s=Ua(e,0,t,i),c=Ua(e,o-t,o,i);let u=Gl(s)+Gl(c);for(let d=t;d<o-t;d++){const h=e.children[d];Ya(s,e.leaf?i(h):h),u+=Gl(s)}for(let d=o-t-1;d>=t;d--){const h=e.children[d];Ya(c,e.leaf?i(h):h),u+=Gl(c)}return u}_adjustParentBBoxes(e,t,o){for(let n=o;n>=0;n--)Ya(t[n],e)}_condense(e){for(let t=e.length-1,o;t>=0;t--)e[t].children.length===0?t>0?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():Ai(e[t],this.toBBox)}}function IS(r,e,t){if(!t)return e.indexOf(r);for(let o=0;o<e.length;o++)if(t(r,e[o]))return o;return-1}function Ai(r,e){Ua(r,0,r.children.length,e,r)}function Ua(r,e,t,o,n){n||(n=Ni(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let i=e;i<t;i++){const s=r.children[i];Ya(n,r.leaf?o(s):s)}return n}function Ya(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function SS(r,e){return r.minX-e.minX}function PS(r,e){return r.minY-e.minY}function xd(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Gl(r){return r.maxX-r.minX+(r.maxY-r.minY)}function LS(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function MS(r,e){const t=Math.max(r.minX,e.minX),o=Math.max(r.minY,e.minY),n=Math.min(r.maxX,e.maxX),i=Math.min(r.maxY,e.maxY);return Math.max(0,n-t)*Math.max(0,i-o)}function wd(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Bl(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function Ni(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hv(r,e,t,o,n){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=o)continue;const s=e+Math.ceil((t-e)/o/2)*o;AS(r,s,e,t,n),i.push(e,s,s,t)}}var pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},FS=function(){function r(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=$o(e.scale),this.displacement_=e.displacement}return r.prototype.clone=function(){var e=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return Kt()},r.prototype.getImage=function(e){return Kt()},r.prototype.getHitDetectionImage=function(){return Kt()},r.prototype.getPixelRatio=function(e){return 1},r.prototype.getImageState=function(){return Kt()},r.prototype.getImageSize=function(){return Kt()},r.prototype.getOrigin=function(){return Kt()},r.prototype.getSize=function(){return Kt()},r.prototype.setDisplacement=function(e){this.displacement_=e},r.prototype.setOpacity=function(e){this.opacity_=e},r.prototype.setRotateWithView=function(e){this.rotateWithView_=e},r.prototype.setRotation=function(e){this.rotation_=e},r.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=$o(e)},r.prototype.listenImageChange=function(e){Kt()},r.prototype.load=function(){Kt()},r.prototype.unlistenImageChange=function(e){Kt()},r}(),U0=FS;function ur(r){return Array.isArray(r)?w0(r):r}var DS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),NS=function(r){DS(e,r);function e(t){var o=this,n=t.rotateWithView!==void 0?t.rotateWithView:!1;return o=r.call(this,{opacity:1,rotateWithView:n,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,o.canvas_=void 0,o.hitDetectionCanvas_=null,o.fill_=t.fill!==void 0?t.fill:null,o.origin_=[0,0],o.points_=t.points,o.radius_=t.radius!==void 0?t.radius:t.radius1,o.radius2_=t.radius2,o.angle_=t.angle!==void 0?t.angle:0,o.stroke_=t.stroke!==void 0?t.stroke:null,o.size_=null,o.renderOptions_=null,o.render(),o}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var o=this.getDisplacement();return[t[0]/2-o[0],t[1]/2+o[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var o=this.canvas_[t];if(!o){var n=this.renderOptions_,i=Do(n.size*t,n.size*t);this.draw_(n,i,t),o=i.canvas,this.canvas_[t]=o}return o},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return pe.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,o,n){if(o===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return o;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var c=i;i=s,s=c}var u=this.radius2_===void 0?this.points_:this.points_*2,d=2*Math.PI/u,h=s*Math.sin(d),b=Math.sqrt(s*s-h*h),p=i-b,v=Math.sqrt(h*h+p*p),_=v/h;if(t==="miter"&&_<=n)return _*o;var w=o/2/_,k=o/2*(p/v),T=Math.sqrt((i+w)*(i+w)+k*k),A=T-i;if(this.radius2_===void 0||t==="bevel")return A*2;var I=i*Math.sin(d),P=Math.sqrt(i*i-I*I),D=s-P,X=Math.sqrt(I*I+D*D),G=X/I;if(G<=n){var F=G*o/2-s-i;return 2*Math.max(A,F)}return A*2},e.prototype.createRenderOptions=function(){var t=ea,o=0,n=null,i=0,s,c=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=vs),s=ur(s),c=this.stroke_.getWidth(),c===void 0&&(c=_s),n=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=ea),o=this.stroke_.getMiterLimit(),o===void 0&&(o=bs));var u=this.calculateLineJoinSize_(t,c,o),d=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*d+u);return{strokeStyle:s,strokeWidth:c,size:h,lineDash:n,lineDashOffset:i,lineJoin:t,miterLimit:o}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,o,n){if(o.scale(n,n),o.translate(t.size/2,t.size/2),this.createPath_(o),this.fill_){var i=this.fill_.getColor();i===null&&(i=Fr),o.fillStyle=ur(i),o.fill()}this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,o.setLineDash&&t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var o=this.fill_.getColor(),n=0;if(typeof o=="string"&&(o=dc(o)),o===null?n=1:Array.isArray(o)&&(n=o.length===4?o[3]:1),n===0){var i=Do(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var o=this.points_,n=this.radius_;if(o===1/0)t.arc(0,0,n,0,2*Math.PI);else{var i=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(o*=2);for(var s=this.angle_-Math.PI/2,c=2*Math.PI/o,u=0;u<o;u++){var d=s+u*c,h=u%2===0?n:i;t.lineTo(h*Math.cos(d),h*Math.sin(d))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,o){o.translate(t.size/2,t.size/2),this.createPath_(o),o.fillStyle=Fr,o.fill(),this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e}(U0),zS=NS,GS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),BS=function(r){GS(e,r);function e(t){var o=t||{};return r.call(this,{points:1/0,fill:o.fill,radius:o.radius,stroke:o.stroke,scale:o.scale!==void 0?o.scale:1,rotation:o.rotation!==void 0?o.rotation:0,rotateWithView:o.rotateWithView!==void 0?o.rotateWithView:!1,displacement:o.displacement!==void 0?o.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(zS),Y0=BS,WS=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(e){this.color_=e},r}(),mc=WS,US=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(e){this.color_=e},r.prototype.setLineCap=function(e){this.lineCap_=e},r.prototype.setLineDash=function(e){this.lineDash_=e},r.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},r.prototype.setLineJoin=function(e){this.lineJoin_=e},r.prototype.setMiterLimit=function(e){this.miterLimit_=e},r.prototype.setWidth=function(e){this.width_=e},r}(),ts=US,Bi=function(){function r(e){var t=e||{};this.geometry_=null,this.geometryFunction_=pv,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return r.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new r({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(e){this.renderer_=e},r.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(e){this.fill_=e},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(e){this.image_=e},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(e){this.stroke_=e},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(e){this.text_=e},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=pv,this.geometry_=e},r.prototype.setZIndex=function(e){this.zIndex_=e},r}();function YS(r){var e;if(typeof r=="function")e=r;else{var t;if(Array.isArray(r))t=r;else{$t(typeof r.getZIndex=="function",41);var o=r;t=[o]}e=function(){return t}}return e}var kd=null;function XS(r,e){if(!kd){var t=new mc({color:"rgba(255,255,255,0.4)"}),o=new ts({color:"#3399CC",width:1.25});kd=[new Bi({image:new Y0({fill:t,stroke:o,radius:5}),fill:t,stroke:o})]}return kd}function VS(){var r={},e=[255,255,255,1],t=[0,153,255,1],o=3;return r[ct.POLYGON]=[new Bi({fill:new mc({color:[255,255,255,.5]})})],r[ct.MULTI_POLYGON]=r[ct.POLYGON],r[ct.LINE_STRING]=[new Bi({stroke:new ts({color:e,width:o+2})}),new Bi({stroke:new ts({color:t,width:o})})],r[ct.MULTI_LINE_STRING]=r[ct.LINE_STRING],r[ct.CIRCLE]=r[ct.POLYGON].concat(r[ct.LINE_STRING]),r[ct.POINT]=[new Bi({image:new Y0({radius:o*2,fill:new mc({color:t}),stroke:new ts({color:e,width:o/2})}),zIndex:1/0})],r[ct.MULTI_POINT]=r[ct.POINT],r[ct.GEOMETRY_COLLECTION]=r[ct.POLYGON].concat(r[ct.LINE_STRING],r[ct.POINT]),r}function pv(r){return r.getGeometry()}var jS=Bi,HS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gv={RENDER_ORDER:"renderOrder"},KS=function(r){HS(e,r);function e(t){var o=this,n=t||{},i=De({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,o=r.call(this,i)||this,o.declutter_=n.declutter!==void 0?n.declutter:!1,o.renderBuffer_=n.renderBuffer!==void 0?n.renderBuffer:100,o.style_=null,o.styleFunction_=void 0,o.setStyle(n.style),o.updateWhileAnimating_=n.updateWhileAnimating!==void 0?n.updateWhileAnimating:!1,o.updateWhileInteracting_=n.updateWhileInteracting!==void 0?n.updateWhileInteracting:!1,o}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return r.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(gv.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new W0(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(gv.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:XS,this.styleFunction_=t===null?void 0:YS(this.style_),this.changed()},e}(Uc),$S=KS,Is={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Wl=[Is.FILL],fn=[Is.STROKE],qn=[Is.BEGIN_PATH],bv=[Is.CLOSE_PATH],Ot=Is,ZS=function(){function r(){}return r.prototype.drawCustom=function(e,t,o,n){},r.prototype.drawGeometry=function(e){},r.prototype.setStyle=function(e){},r.prototype.drawCircle=function(e,t){},r.prototype.drawFeature=function(e,t){},r.prototype.drawGeometryCollection=function(e,t){},r.prototype.drawLineString=function(e,t){},r.prototype.drawMultiLineString=function(e,t){},r.prototype.drawMultiPoint=function(e,t){},r.prototype.drawMultiPolygon=function(e,t){},r.prototype.drawPoint=function(e,t){},r.prototype.drawPolygon=function(e,t){},r.prototype.drawText=function(e,t){},r.prototype.setFillStrokeStyle=function(e,t){},r.prototype.setImageStyle=function(e,t){},r.prototype.setTextStyle=function(e,t){},r}(),X0=ZS,qS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),JS=function(r){qS(e,r);function e(t,o,n,i){var s=r.call(this)||this;return s.tolerance=t,s.maxExtent=o,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=n,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var o=this.pixelRatio;return o==1?t:t.map(function(n){return n*o})},e.prototype.appendFlatPointCoordinates=function(t,o){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,c=s.length,u=0,d=t.length;u<d;u+=o)i[0]=t[u],i[1]=t[u+1],Es(n,i)&&(s[c++]=i[0],s[c++]=i[1]);return c},e.prototype.appendFlatLineCoordinates=function(t,o,n,i,s,c){var u=this.coordinates,d=u.length,h=this.getBufferedMaxExtent();c&&(o+=i);var b=t[o],p=t[o+1],v=this.tmpCoordinate_,_=!0,w,k,T;for(w=o+i;w<n;w+=i)v[0]=t[w],v[1]=t[w+1],T=tf(h,v),T!==k?(_&&(u[d++]=b,u[d++]=p,_=!1),u[d++]=v[0],u[d++]=v[1]):T===Fe.INTERSECTING?(u[d++]=v[0],u[d++]=v[1],_=!1):_=!0,b=v[0],p=v[1],k=T;return(s&&_||w===o+i)&&(u[d++]=b,u[d++]=p),d},e.prototype.drawCustomCoordinates_=function(t,o,n,i,s){for(var c=0,u=n.length;c<u;++c){var d=n[c],h=this.appendFlatLineCoordinates(t,o,d,i,!1,!1);s.push(h),o=d}return o},e.prototype.drawCustom=function(t,o,n,i){this.beginGeometry(t,o);var s=t.getType(),c=t.getStride(),u=this.coordinates.length,d,h,b,p,v;switch(s){case ct.MULTI_POLYGON:d=t.getOrientedFlatCoordinates(),p=[];var _=t.getEndss();v=0;for(var w=0,k=_.length;w<k;++w){var T=[];v=this.drawCustomCoordinates_(d,v,_[w],c,T),p.push(T)}this.instructions.push([Ot.CUSTOM,u,p,t,n,sf]),this.hitDetectionInstructions.push([Ot.CUSTOM,u,p,t,i||n,sf]);break;case ct.POLYGON:case ct.MULTI_LINE_STRING:b=[],d=s==ct.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),v=this.drawCustomCoordinates_(d,0,t.getEnds(),c,b),this.instructions.push([Ot.CUSTOM,u,b,t,n,fs]),this.hitDetectionInstructions.push([Ot.CUSTOM,u,b,t,i||n,fs]);break;case ct.LINE_STRING:case ct.CIRCLE:d=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(d,0,d.length,c,!1,!1),this.instructions.push([Ot.CUSTOM,u,h,t,n,dn]),this.hitDetectionInstructions.push([Ot.CUSTOM,u,h,t,i||n,dn]);break;case ct.MULTI_POINT:d=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(d,c),h>u&&(this.instructions.push([Ot.CUSTOM,u,h,t,n,dn]),this.hitDetectionInstructions.push([Ot.CUSTOM,u,h,t,i||n,dn]));break;case ct.POINT:d=t.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),h=this.coordinates.length,this.instructions.push([Ot.CUSTOM,u,h,t,n]),this.hitDetectionInstructions.push([Ot.CUSTOM,u,h,t,i||n]);break}this.endGeometry(o)},e.prototype.beginGeometry=function(t,o){this.beginGeometryInstruction1_=[Ot.BEGIN_GEOMETRY,o,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ot.BEGIN_GEOMETRY,o,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var o,n=t.length,i,s,c=-1;for(o=0;o<n;++o)i=t[o],s=i[0],s==Ot.END_GEOMETRY?c=o:s==Ot.BEGIN_GEOMETRY&&(i[2]=o,eA(this.hitDetectionInstructions,c,o),c=-1)},e.prototype.setFillStrokeStyle=function(t,o){var n=this.state;if(t){var i=t.getColor();n.fillStyle=ur(i||Fr)}else n.fillStyle=void 0;if(o){var s=o.getColor();n.strokeStyle=ur(s||vs);var c=o.getLineCap();n.lineCap=c!==void 0?c:pc;var u=o.getLineDash();n.lineDash=u?u.slice():ps;var d=o.getLineDashOffset();n.lineDashOffset=d||gs;var h=o.getLineJoin();n.lineJoin=h!==void 0?h:ea;var b=o.getWidth();n.lineWidth=b!==void 0?b:_s;var p=o.getMiterLimit();n.miterLimit=p!==void 0?p:bs,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var o=t.fillStyle,n=[Ot.SET_FILL_STYLE,o];return typeof o!="string"&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ot.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,o){var n=t.fillStyle;(typeof n!="string"||t.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(o.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,o){var n=t.strokeStyle,i=t.lineCap,s=t.lineDash,c=t.lineDashOffset,u=t.lineJoin,d=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||s!=t.currentLineDash&&!si(t.currentLineDash,s)||t.currentLineDashOffset!=c||t.currentLineJoin!=u||t.currentLineWidth!=d||t.currentMiterLimit!=h)&&(n!==void 0&&o.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=c,t.currentLineJoin=u,t.currentLineWidth=d,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var o=[Ot.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Km(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Vf(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(X0),Ss=JS,QS=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),tP=function(r){QS(e,r);function e(t,o,n,i){var s=r.call(this,t,o,n,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var n=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(n,i);this.instructions.push([Ot.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ot.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.drawMultiPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var n=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,c=this.appendFlatPointCoordinates(n,i);this.instructions.push([Ot.DRAW_IMAGE,s,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ot.DRAW_IMAGE,s,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,o){var n=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),c=t.getImage(this.pixelRatio),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=s,this.image_=c,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=u[0]*this.imagePixelRatio_,this.originY_=u[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=o},e}(Ss),eP=tP,oP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),rP=function(r){oP(e,r);function e(t,o,n,i){return r.call(this,t,o,n,i)||this}return e.prototype.drawFlatCoordinates_=function(t,o,n,i){var s=this.coordinates.length,c=this.appendFlatLineCoordinates(t,o,n,i,!1,!1),u=[Ot.MOVE_TO_LINE_TO,s,c];return this.instructions.push(u),this.hitDetectionInstructions.push(u),n},e.prototype.drawLineString=function(t,o){var n=this.state,i=n.strokeStyle,s=n.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([Ot.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ps,gs],qn);var c=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(c,0,c.length,u),this.hitDetectionInstructions.push(fn),this.endGeometry(o)}},e.prototype.drawMultiLineString=function(t,o){var n=this.state,i=n.strokeStyle,s=n.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([Ot.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],qn);for(var c=t.getEnds(),u=t.getFlatCoordinates(),d=t.getStride(),h=0,b=0,p=c.length;b<p;++b)h=this.drawFlatCoordinates_(u,h,c[b],d);this.hitDetectionInstructions.push(fn),this.endGeometry(o)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(fn),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(fn),t.lastStroke=this.coordinates.length),t.lastStroke=0,r.prototype.applyStroke.call(this,t),this.instructions.push(qn)},e}(Ss),nP=rP,iP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),aP=function(r){iP(e,r);function e(t,o,n,i){return r.call(this,t,o,n,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,o,n,i){var s=this.state,c=s.fillStyle!==void 0,u=s.strokeStyle!==void 0,d=n.length;this.instructions.push(qn),this.hitDetectionInstructions.push(qn);for(var h=0;h<d;++h){var b=n[h],p=this.coordinates.length,v=this.appendFlatLineCoordinates(t,o,b,i,!0,!u),_=[Ot.MOVE_TO_LINE_TO,p,v];this.instructions.push(_),this.hitDetectionInstructions.push(_),u&&(this.instructions.push(bv),this.hitDetectionInstructions.push(bv)),o=b}return c&&(this.instructions.push(Wl),this.hitDetectionInstructions.push(Wl)),u&&(this.instructions.push(fn),this.hitDetectionInstructions.push(fn)),o},e.prototype.drawCircle=function(t,o){var n=this.state,i=n.fillStyle,s=n.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_FILL_STYLE,Fr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var c=t.getFlatCoordinates(),u=t.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,u,!1,!1);var h=[Ot.CIRCLE,d];this.instructions.push(qn,h),this.hitDetectionInstructions.push(qn,h),n.fillStyle!==void 0&&(this.instructions.push(Wl),this.hitDetectionInstructions.push(Wl)),n.strokeStyle!==void 0&&(this.instructions.push(fn),this.hitDetectionInstructions.push(fn)),this.endGeometry(o)}},e.prototype.drawPolygon=function(t,o){var n=this.state,i=n.fillStyle,s=n.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_FILL_STYLE,Fr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var c=t.getEnds(),u=t.getOrientedFlatCoordinates(),d=t.getStride();this.drawFlatCoordinatess_(u,0,c,d),this.endGeometry(o)}},e.prototype.drawMultiPolygon=function(t,o){var n=this.state,i=n.fillStyle,s=n.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_FILL_STYLE,Fr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ot.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var c=t.getEndss(),u=t.getOrientedFlatCoordinates(),d=t.getStride(),h=0,b=0,p=c.length;b<p;++b)h=this.drawFlatCoordinatess_(u,h,c[b],d);this.endGeometry(o)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var o=this.coordinates,n=0,i=o.length;n<i;++n)o[n]=Un(o[n],t);return r.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,o=t.fillStyle;o!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(Ss),vv=aP,sP={POINT:"point",LINE:"line"};function lP(r,e,t,o,n){var i=t,s=t,c=0,u=0,d=t,h,b,p,v,_,w,k,T,A,I;for(b=t;b<o;b+=n){var P=e[b],D=e[b+1];_!==void 0&&(A=P-_,I=D-w,v=Math.sqrt(A*A+I*I),k!==void 0&&(u+=p,h=Math.acos((k*A+T*I)/(p*v)),h>r&&(u>c&&(c=u,i=d,s=b),u=0,d=b-n)),p=v,k=A,T=I),_=P,w=D}return u+=v,u>c?[d,b]:[i,s]}var cP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_c={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},uP=function(r){cP(e,r);function e(t,o,n,i){var s=r.call(this,t,o,n,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=r.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,o){var n=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!n&&!i)){var c=this.coordinates,u=c.length,d=t.getType(),h=null,b=t.getStride();if(s.placement===sP.LINE&&(d==ct.LINE_STRING||d==ct.MULTI_LINE_STRING||d==ct.POLYGON||d==ct.MULTI_POLYGON)){if(!Qe(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(h=t.getFlatCoordinates(),d==ct.LINE_STRING)p=[h.length];else if(d==ct.MULTI_LINE_STRING)p=t.getEnds();else if(d==ct.POLYGON)p=t.getEnds().slice(0,1);else if(d==ct.MULTI_POLYGON){var v=t.getEndss();p=[];for(var _=0,w=v.length;_<w;++_)p.push(v[_][0])}this.beginGeometry(t,o);for(var k=s.textAlign,T=0,A=void 0,I=0,P=p.length;I<P;++I){if(k==null){var D=lP(s.maxAngle,h,T,p[I],b);T=D[0],A=D[1]}else A=p[I];for(var _=T;_<A;_+=b)c.push(h[_],h[_+1]);var X=c.length;T=p[I],this.drawChars_(u,X),u=X}this.endGeometry(o)}else{var G=s.overflow?null:[];switch(d){case ct.POINT:case ct.MULTI_POINT:h=t.getFlatCoordinates();break;case ct.LINE_STRING:h=t.getFlatMidpoint();break;case ct.CIRCLE:h=t.getCenter();break;case ct.MULTI_LINE_STRING:h=t.getFlatMidpoints(),b=2;break;case ct.POLYGON:h=t.getFlatInteriorPoint(),s.overflow||G.push(h[2]/this.resolution),b=3;break;case ct.MULTI_POLYGON:var F=t.getFlatInteriorPoints();h=[];for(var _=0,w=F.length;_<w;_+=3)s.overflow||G.push(F[_+2]/this.resolution),h.push(F[_],F[_+1]);if(h.length===0)return;b=2;break}var X=this.appendFlatPointCoordinates(h,b);if(X===u)return;if(G&&(X-u)/2!==h.length/b){var K=u/2;G=G.filter(function(ut,yt){var Pt=c[(K+yt)*2]===h[yt*b]&&c[(K+yt)*2+1]===h[yt*b+1];return Pt||--K,Pt})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,o);var ot=s.padding;if(ot!=Zn&&(s.scale[0]<0||s.scale[1]<0)){var st=s.padding[0],dt=s.padding[1],ft=s.padding[2],mt=s.padding[3];s.scale[0]<0&&(dt=-dt,mt=-mt),s.scale[1]<0&&(st=-st,ft=-ft),ot=[st,dt,ft,mt]}var it=this.pixelRatio;this.instructions.push([Ot.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,ot==Zn?Zn:ot.map(function(ut){return ut*it}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]);var ht=1/it;this.hitDetectionInstructions.push([Ot.DRAW_IMAGE,u,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ht,ht],NaN,this.declutterImageWithText_,ot,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]),this.endGeometry(o)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,o=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:o.font,textAlign:o.textAlign||ms,textBaseline:o.textBaseline||gc,scale:o.scale});var c=this.fillKey_;n&&(c in this.fillStates||(this.fillStates[c]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,o){var n=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,c=this.textKey_,u=this.fillKey_;this.saveTextStates_();var d=this.pixelRatio,h=_c[i.textBaseline],b=this.textOffsetY_*d,p=this.text_,v=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ot.DRAW_CHARS,t,o,h,i.overflow,u,i.maxAngle,d,b,s,v*d,p,c,1]),this.hitDetectionInstructions.push([Ot.DRAW_CHARS,t,o,h,i.overflow,u,i.maxAngle,1,b,s,v,p,c,1/d])},e.prototype.setTextStyle=function(t,o){var n,i,s;if(!t)this.text_="";else{var c=t.getFill();c?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=ur(c.getColor()||Fr)):(i=null,this.textFillState_=i);var u=t.getStroke();if(!u)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var d=u.getLineDash(),h=u.getLineDashOffset(),b=u.getWidth(),p=u.getMiterLimit();s.lineCap=u.getLineCap()||pc,s.lineDash=d?d.slice():ps,s.lineDashOffset=h===void 0?gs:h,s.lineJoin=u.getLineJoin()||ea,s.lineWidth=b===void 0?_s:b,s.miterLimit=p===void 0?bs:p,s.strokeStyle=ur(u.getColor()||vs)}n=this.textState_;var v=t.getFont()||R0;KO(v);var _=t.getScaleArray();n.overflow=t.getOverflow(),n.font=v,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||gc,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Zn,n.scale=_===void 0?[1,1]:_;var w=t.getOffsetX(),k=t.getOffsetY(),T=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=w===void 0?0:w,this.textOffsetY_=k===void 0?0:k,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=A===void 0?0:A,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:ie(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+ie(i.fillStyle):""}this.declutterImageWithText_=o},e}(Ss),dP=uP,fP={Circle:vv,Default:Ss,Image:eP,LineString:nP,Polygon:vv,Text:dP},hP=function(){function r(e,t,o,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=o,this.buildersByZIndex_={}}return r.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var o=this.buildersByZIndex_[t];for(var n in o){var i=o[n].finish();e[t][n]=i}}return e},r.prototype.getBuilder=function(e,t){var o=e!==void 0?e.toString():"0",n=this.buildersByZIndex_[o];n===void 0&&(n={},this.buildersByZIndex_[o]=n);var i=n[t];if(i===void 0){var s=fP[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i}return i},r}(),mv=hP,pP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gP=function(r){pP(e,r);function e(t){var o=r.call(this)||this;return o.ready=!0,o.boundHandleImageChange_=o.handleImageChange_.bind(o),o.layer_=t,o.declutterExecutorGroup=null,o}return e.prototype.getFeatures=function(t){return Kt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Kt()},e.prototype.renderFrame=function(t,o){return Kt()},e.prototype.loadedTileCallback=function(t,o,n){t[o]||(t[o]={}),t[o][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,o,n){return function(i,s){var c=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(o,i,s,c)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,o,n,i,s){},e.prototype.getDataAtPixel=function(t,o,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var o=t.target;o.getState()===pe.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var o=t.getState();return o!=pe.LOADED&&o!=pe.ERROR&&t.addEventListener(zt.CHANGE,this.boundHandleImageChange_),o==pe.IDLE&&(t.load(),o=t.getState()),o==pe.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ai.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},e}(Qm),bP=gP,vP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xa=null;function mP(){var r=document.createElement("canvas");r.width=1,r.height=1,Xa=r.getContext("2d")}var _P=function(r){vP(e,r);function e(t){var o=r.call(this,t)||this;return o.container=null,o.renderedResolution,o.tempTransform=dr(),o.pixelTransform=dr(),o.inversePixelTransform=dr(),o.context=null,o.containerReused=!1,o.pixelContext_=null,o.frameState=null,o}return e.prototype.getImageData=function(t,o,n){Xa||mP(),Xa.clearRect(0,0,1,1);var i;try{Xa.drawImage(t,o,n,1,1,0,0,1,1),i=Xa.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var o=this.getLayer(),n=o.getBackground();return typeof n=="function"&&(n=n(t.viewState.resolution)),n||void 0},e.prototype.useContainer=function(t,o,n,i){var s=this.getLayer().getClassName(),c,u;if(t&&t.className===s&&t.style.opacity===""&&n===1&&(!i||t.style.backgroundColor&&si(dc(t.style.backgroundColor),dc(i)))){var d=t.firstElementChild;d instanceof HTMLCanvasElement&&(u=d.getContext("2d"))}if(u&&u.canvas.style.transform===o?(this.container=t,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){c=document.createElement("div"),c.className=s;var h=c.style;h.position="absolute",h.width="100%",h.height="100%",i&&(h.backgroundColor=i),u=Do();var d=u.canvas;c.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=c,this.context=u}},e.prototype.clipUnrotated=function(t,o,n){var i=xn(n),s=Ts(n),c=Cs(n),u=qi(n);Ie(o.coordinateToPixelTransform,i),Ie(o.coordinateToPixelTransform,s),Ie(o.coordinateToPixelTransform,c),Ie(o.coordinateToPixelTransform,u);var d=this.inversePixelTransform;Ie(d,i),Ie(d,s),Ie(d,c),Ie(d,u),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,o,n){var i=this.getLayer();if(i.hasListener(t)){var s=new E0(t,this.inversePixelTransform,n,o);i.dispatchEvent(s)}},e.prototype.preRender=function(t,o){this.frameState=o,this.dispatchRenderEvent_(vn.PRERENDER,t,o)},e.prototype.postRender=function(t,o){this.dispatchRenderEvent_(vn.POSTRENDER,t,o)},e.prototype.getRenderTransform=function(t,o,n,i,s,c,u){var d=s/2,h=c/2,b=i/o,p=-b,v=-t[0]+u,_=-t[1];return Nr(this.tempTransform,d,h,b,p,-n,v,_)},e.prototype.getDataAtPixel=function(t,o,n){var i=Ie(this.inversePixelTransform,t.slice()),s=this.context,c=this.getLayer(),u=c.getExtent();if(u){var d=Ie(o.pixelToCoordinateTransform,t.slice());if(!Es(u,d))return null}var h=Math.round(i[0]),b=Math.round(i[1]),p=this.pixelContext_;if(!p){var v=document.createElement("canvas");v.width=1,v.height=1,p=v.getContext("2d"),this.pixelContext_=p}p.clearRect(0,0,1,1);var _;try{p.drawImage(s.canvas,h,b,1,1,0,0,1,1),_=p.getImageData(0,0,1,1).data}catch(w){return w.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):_}return _[3]===0?null:_},e.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},e}(bP),V0=_P,xe={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function yP(r,e,t,o,n,i,s,c,u,d,h,b){var p=r[e],v=r[e+1],_=0,w=0,k=0,T=0;function A(){_=p,w=v,e+=o,p=r[e],v=r[e+1],T+=k,k=Math.sqrt((p-_)*(p-_)+(v-w)*(v-w))}do A();while(e<t-o&&T+k<i);for(var I=k===0?0:(i-T)/k,P=Ir(_,p,I),D=Ir(w,v,I),X=e-o,G=T,F=i+c*u(d,n,h);e<t-o&&T+k<F;)A();I=k===0?0:(F-T)/k;var K=Ir(_,p,I),ot=Ir(w,v,I),st;if(b){var dt=[P,D,K,ot];rh(dt,0,4,2,b,dt,dt),st=dt[0]>dt[2]}else st=P>K;var ft=Math.PI,mt=[],it=X+o===e;e=X,k=0,T=G,p=r[e],v=r[e+1];var ht;if(it){A(),ht=Math.atan2(v-w,p-_),st&&(ht+=ht>0?-ft:ft);var et=(K+P)/2,ut=(ot+D)/2;return mt[0]=[et,ut,(F-i)/2,ht,n],mt}for(var yt=0,Pt=n.length;yt<Pt;){A();var Lt=Math.atan2(v-w,p-_);if(st&&(Lt+=Lt>0?-ft:ft),ht!==void 0){var Z=Lt-ht;if(Z+=Z>ft?-2*ft:Z<-ft?2*ft:0,Math.abs(Z)>s)return null}ht=Lt;for(var Xt=yt,Et=0;yt<Pt;++yt){var z=st?Pt-yt-1:yt,rt=c*u(d,n[z],h);if(e+o<t&&T+k<i+Et+rt/2)break;Et+=rt}if(yt!==Xt){var Q=st?n.substring(Pt-Xt,Pt-yt):n.substring(Xt,yt);I=k===0?0:(i+Et/2-T)/k;var et=Ir(_,p,I),ut=Ir(w,v,I);mt.push([et,ut,Et/2,Lt,Q]),i+=Et}}return mt}var Oi=Mo(),Qr=[],Er=[],Cr=[],tn=[];function _v(r){return r[3].declutterBox}var xP=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function yv(r,e){return(e==="start"||e==="end")&&!xP.test(r)&&(e=e==="start"?"left":"right"),_c[e]}function wP(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}var kP=function(){function r(e,t,o,n){this.overlaps=o,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=dr(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(e,t,o,n){var i=e+t+o+n;if(this.labels_[i])return this.labels_[i];var s=n?this.strokeStates[n]:null,c=o?this.fillStates[o]:null,u=this.textStates[t],d=this.pixelRatio,h=[u.scale[0]*d,u.scale[1]*d],b=Array.isArray(e),p=yv(b?e[0]:e,u.textAlign||ms),v=n&&s.lineWidth?s.lineWidth:0,_=b?e:e.split(`
`).reduce(wP,[]),w=ZO(u,_),k=w.width,T=w.height,A=w.widths,I=w.heights,P=w.lineWidths,D=k+v,X=[],G=(D+2)*h[0],F=(T+v)*h[1],K={width:G<0?Math.floor(G):Math.ceil(G),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:X};if((h[0]!=1||h[1]!=1)&&X.push("scale",h),n){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",v),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var ot=zc?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;ot.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}o&&X.push("fillStyle",c.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var st=.5-p,dt=p*D+st*v,ft=[],mt=[],it=0,ht=0,et=0,ut=0,yt,Pt=0,Lt=_.length;Pt<Lt;Pt+=2){var Z=_[Pt];if(Z===`
`){ht+=it,it=0,dt=p*D+st*v,++ut;continue}var Xt=_[Pt+1]||u.font;Xt!==yt&&(n&&ft.push("font",Xt),o&&mt.push("font",Xt),yt=Xt),it=Math.max(it,I[et]);var Et=[Z,dt+st*A[et]+p*(A[et]-P[ut]),.5*(v+it)+ht];dt+=A[et],n&&ft.push("strokeText",Et),o&&mt.push("fillText",Et),++et}return Array.prototype.push.apply(X,ft),Array.prototype.push.apply(X,mt),this.labels_[i]=K,K},r.prototype.replayTextBackground_=function(e,t,o,n,i,s,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(e,t,o,n,i,s,c,u,d,h,b,p,v,_,w,k){c*=p[0],u*=p[1];var T=o-c,A=n-u,I=i+d>e?e-d:i,P=s+h>t?t-h:s,D=_[3]+I*p[0]+_[1],X=_[0]+P*p[1]+_[2],G=T-_[3],F=A-_[0];(w||b!==0)&&(Qr[0]=G,tn[0]=G,Qr[1]=F,Er[1]=F,Er[0]=G+D,Cr[0]=Er[0],Cr[1]=F+X,tn[1]=Cr[1]);var K;return b!==0?(K=Nr(dr(),o,n,1,1,b,-o,-n),Ie(K,Qr),Ie(K,Er),Ie(K,Cr),Ie(K,tn),tr(Math.min(Qr[0],Er[0],Cr[0],tn[0]),Math.min(Qr[1],Er[1],Cr[1],tn[1]),Math.max(Qr[0],Er[0],Cr[0],tn[0]),Math.max(Qr[1],Er[1],Cr[1],tn[1]),Oi)):tr(Math.min(G,G+D),Math.min(F,F+X),Math.max(G,G+D),Math.max(F,F+X),Oi),v&&(T=Math.round(T),A=Math.round(A)),{drawImageX:T,drawImageY:A,drawImageW:I,drawImageH:P,originX:d,originY:h,declutterBox:{minX:Oi[0],minY:Oi[1],maxX:Oi[2],maxY:Oi[3],value:k},canvasTransform:K,scale:p}},r.prototype.replayImageOrLabel_=function(e,t,o,n,i,s,c){var u=!!(s||c),d=n.declutterBox,h=e.canvas,b=c?c[2]*n.scale[0]/2:0,p=d.minX-b<=h.width/t&&d.maxX+b>=0&&d.minY-b<=h.height/t&&d.maxY+b>=0;return p&&(u&&this.replayTextBackground_(e,Qr,Er,Cr,tn,s,c),qO(e,n.canvasTransform,i,o,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},r.prototype.fill_=function(e){if(this.alignFill_){var t=Ie(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(t[0]%o,t[1]%o),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},r.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},r.prototype.drawLabelWithPointPlacement_=function(e,t,o,n){var i=this.textStates[t],s=this.createLabel(e,t,n,o),c=this.strokeStates[o],u=this.pixelRatio,d=yv(Array.isArray(e)?e[0]:e,i.textAlign||ms),h=_c[i.textBaseline||gc],b=c&&c.lineWidth?c.lineWidth:0,p=s.width/u-2*i.scale[0],v=d*p+2*(.5-d)*b,_=h*s.height/u+2*(.5-h)*b;return{label:s,anchorX:v,anchorY:_}},r.prototype.execute_=function(e,t,o,n,i,s,c,u){var d;this.pixelCoordinates_&&si(o,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=oi(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),gA(this.renderedTransform_,o));for(var h=0,b=n.length,p=0,v,_,w,k,T,A,I,P,D,X,G,F,K=0,ot=0,st=null,dt=null,ft=this.coordinateCache_,mt=this.viewRotation_,it=Math.round(Math.atan2(-o[1],o[0])*1e12)/1e12,ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:mt},et=this.instructions!=n||this.overlaps?0:200,ut,yt,Pt,Lt;h<b;){var Z=n[h],Xt=Z[0];switch(Xt){case Ot.BEGIN_GEOMETRY:ut=Z[1],Lt=Z[3],ut.getGeometry()?c!==void 0&&!Qe(c,Lt.getExtent())?h=Z[2]+1:++h:h=Z[2];break;case Ot.BEGIN_PATH:K>et&&(this.fill_(e),K=0),ot>et&&(e.stroke(),ot=0),!K&&!ot&&(e.beginPath(),k=NaN,T=NaN),++h;break;case Ot.CIRCLE:p=Z[1];var Et=d[p],z=d[p+1],rt=d[p+2],Q=d[p+3],at=rt-Et,St=Q-z,Zt=Math.sqrt(at*at+St*St);e.moveTo(Et+Zt,z),e.arc(Et,z,Zt,0,2*Math.PI,!0),++h;break;case Ot.CLOSE_PATH:e.closePath(),++h;break;case Ot.CUSTOM:p=Z[1],v=Z[2];var xt=Z[3],Ct=Z[4],E=Z.length==6?Z[5]:void 0;ht.geometry=xt,ht.feature=ut,h in ft||(ft[h]=[]);var O=ft[h];E?E(d,p,v,2,O):(O[0]=d[p],O[1]=d[p+1],O.length=2),Ct(O,ht),++h;break;case Ot.DRAW_IMAGE:p=Z[1],v=Z[2],P=Z[3],_=Z[4],w=Z[5];var M=Z[6],V=Z[7],W=Z[8],tt=Z[9],nt=Z[10],q=Z[11],J=Z[12],j=Z[13],gt=Z[14];if(!P&&Z.length>=19){D=Z[18],X=Z[19],G=Z[20],F=Z[21];var pt=this.drawLabelWithPointPlacement_(D,X,G,F);P=pt.label,Z[3]=P;var vt=Z[22];_=(pt.anchorX-vt)*this.pixelRatio,Z[4]=_;var wt=Z[23];w=(pt.anchorY-wt)*this.pixelRatio,Z[5]=w,M=P.height,Z[6]=M,j=P.width,Z[13]=j}var Mt=void 0;Z.length>24&&(Mt=Z[24]);var Ft=void 0,Gt=void 0,Vt=void 0;Z.length>16?(Ft=Z[15],Gt=Z[16],Vt=Z[17]):(Ft=Zn,Gt=!1,Vt=!1),nt&&it?q+=mt:!nt&&!it&&(q-=mt);for(var Ee=0;p<v;p+=2)if(!(Mt&&Mt[Ee++]<j/this.pixelRatio)){var ge=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],j,M,_,w,W,tt,q,J,i,Ft,Gt||Vt,ut),No=[e,t,P,ge,V,Gt?st:null,Vt?dt:null],ce=void 0,co=void 0;if(u&&gt){var be=v-p;if(!gt[be]){gt[be]=No;continue}if(ce=gt[be],delete gt[be],co=_v(ce),u.collides(co))continue}u&&u.collides(ge.declutterBox)||(ce&&(u&&u.insert(co),this.replayImageOrLabel_.apply(this,ce)),u&&u.insert(ge.declutterBox),this.replayImageOrLabel_.apply(this,No))}++h;break;case Ot.DRAW_CHARS:var ze=Z[1],kn=Z[2],ha=Z[3],Hc=Z[4];F=Z[5];var Ls=Z[6],pa=Z[7],Ms=Z[8];G=Z[9];var ga=Z[10];D=Z[11],X=Z[12];var Fs=[Z[13],Z[13]],ba=this.textStates[X],Br=ba.font,En=[ba.scale[0]*pa,ba.scale[1]*pa],Cn=void 0;Br in this.widths_?Cn=this.widths_[Br]:(Cn={},this.widths_[Br]=Cn);var Ds=p0(d,ze,kn,2),li=Math.abs(En[0])*cv(Br,D,Cn);if(Hc||li<=Ds){var Kc=this.textStates[X].textAlign,va=(Ds-li)*_c[Kc],Tn=yP(d,ze,kn,2,D,va,Ls,Math.abs(En[0]),cv,Br,Cn,it?0:this.viewRotation_);t:if(Tn){var Rn=[],or=void 0,ci=void 0,ui=void 0,Ye=void 0,to=void 0;if(G)for(or=0,ci=Tn.length;or<ci;++or){to=Tn[or],ui=to[4],Ye=this.createLabel(ui,X,"",G),_=to[2]+(En[0]<0?-ga:ga),w=ha*Ye.height+(.5-ha)*2*ga*En[1]/En[0]-Ms;var ge=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,to[0],to[1],Ye.width,Ye.height,_,w,0,0,to[3],Fs,!1,Zn,!1,ut);if(u&&u.collides(ge.declutterBox))break t;Rn.push([e,t,Ye,ge,1,null,null])}if(F)for(or=0,ci=Tn.length;or<ci;++or){to=Tn[or],ui=to[4],Ye=this.createLabel(ui,X,F,""),_=to[2],w=ha*Ye.height-Ms;var ge=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,to[0],to[1],Ye.width,Ye.height,_,w,0,0,to[3],Fs,!1,Zn,!1,ut);if(u&&u.collides(ge.declutterBox))break t;Rn.push([e,t,Ye,ge,1,null,null])}u&&u.load(Rn.map(_v));for(var ma=0,Ns=Rn.length;ma<Ns;++ma)this.replayImageOrLabel_.apply(this,Rn[ma])}}++h;break;case Ot.END_GEOMETRY:if(s!==void 0){ut=Z[1];var zs=s(ut,Lt);if(zs)return zs}++h;break;case Ot.FILL:et?K++:this.fill_(e),++h;break;case Ot.MOVE_TO_LINE_TO:for(p=Z[1],v=Z[2],yt=d[p],Pt=d[p+1],A=yt+.5|0,I=Pt+.5|0,(A!==k||I!==T)&&(e.moveTo(yt,Pt),k=A,T=I),p+=2;p<v;p+=2)yt=d[p],Pt=d[p+1],A=yt+.5|0,I=Pt+.5|0,(p==v-2||A!==k||I!==T)&&(e.lineTo(yt,Pt),k=A,T=I);++h;break;case Ot.SET_FILL_STYLE:st=Z,this.alignFill_=Z[2],K&&(this.fill_(e),K=0,ot&&(e.stroke(),ot=0)),e.fillStyle=Z[1],++h;break;case Ot.SET_STROKE_STYLE:dt=Z,ot&&(e.stroke(),ot=0),this.setStrokeStyle_(e,Z),++h;break;case Ot.STROKE:et?ot++:e.stroke(),++h;break;default:++h;break}}K&&this.fill_(e),ot&&e.stroke()},r.prototype.execute=function(e,t,o,n,i,s){this.viewRotation_=n,this.execute_(e,t,o,this.instructions,i,void 0,void 0,s)},r.prototype.executeHitDetection=function(e,t,o,n,i){return this.viewRotation_=o,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,i)},r}(),EP=kP,Ed=[xe.POLYGON,xe.CIRCLE,xe.LINE_STRING,xe.IMAGE,xe.TEXT,xe.DEFAULT],CP=function(){function r(e,t,o,n,i,s){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=dr(),this.createExecutors_(i)}return r.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},r.prototype.createExecutors_=function(e){for(var t in e){var o=this.executorsByZIndex_[t];o===void 0&&(o={},this.executorsByZIndex_[t]=o);var n=e[t];for(var i in n){var s=n[i];o[i]=new EP(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},r.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var o=this.executorsByZIndex_[t],n=0,i=e.length;n<i;++n)if(e[n]in o)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,i,s){n=Math.round(n);var c=n*2+1,u=Nr(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-o,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Do(c,c));var h=this.hitDetectionContext_;h.canvas.width!==c||h.canvas.height!==c?(h.canvas.width=c,h.canvas.height=c):d||h.clearRect(0,0,c,c);var b;this.renderBuffer_!==void 0&&(b=Mo(),Ja(b,e),Vf(b,t*(this.renderBuffer_+n),b));var p=TP(n),v;function _(X,G){for(var F=h.getImageData(0,0,c,c).data,K=0,ot=p.length;K<ot;K++)if(F[p[K]]>0){if(!s||v!==xe.IMAGE&&v!==xe.TEXT||s.indexOf(X)!==-1){var st=(p[K]-3)/4,dt=n-st%c,ft=n-(st/c|0),mt=i(X,G,dt*dt+ft*ft);if(mt)return mt}h.clearRect(0,0,c,c);break}}var w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(ni);var k,T,A,I,P;for(k=w.length-1;k>=0;--k){var D=w[k].toString();for(A=this.executorsByZIndex_[D],T=Ed.length-1;T>=0;--T)if(v=Ed[T],I=A[v],I!==void 0&&(P=I.executeHitDetection(h,u,o,_,b),P))return P}},r.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var o=t[0],n=t[1],i=t[2],s=t[3],c=[o,n,o,s,i,s,i,n];return oi(c,0,8,2,e,c),c},r.prototype.isEmpty=function(){return cs(this.executorsByZIndex_)},r.prototype.execute=function(e,t,o,n,i,s,c){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(ni),this.maxExtent_&&(e.save(),this.clip(e,o));var d=s||Ed,h,b,p,v,_,w;for(c&&u.reverse(),h=0,b=u.length;h<b;++h){var k=u[h].toString();for(_=this.executorsByZIndex_[k],p=0,v=d.length;p<v;++p){var T=d[p];w=_[T],w!==void 0&&w.execute(e,t,o,n,i,c)}}this.maxExtent_&&e.restore()},r}(),Cd={};function TP(r){if(Cd[r]!==void 0)return Cd[r];for(var e=r*2+1,t=r*r,o=new Array(t+1),n=0;n<=r;++n)for(var i=0;i<=r;++i){var s=n*n+i*i;if(s>t)break;var c=o[s];c||(c=[],o[s]=c),c.push(((r+n)*e+(r+i))*4+3),n>0&&c.push(((r-n)*e+(r+i))*4+3),i>0&&(c.push(((r+n)*e+(r-i))*4+3),n>0&&c.push(((r-n)*e+(r-i))*4+3))}for(var u=[],n=0,d=o.length;n<d;++n)o[n]&&u.push.apply(u,o[n]);return Cd[r]=u,u}var xv=CP,RP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),AP=function(r){RP(e,r);function e(t,o,n,i,s,c,u){var d=r.call(this)||this;return d.context_=t,d.pixelRatio_=o,d.extent_=n,d.transform_=i,d.viewRotation_=s,d.squaredTolerance_=c,d.userTransform_=u,d.contextFillState_=null,d.contextStrokeState_=null,d.contextTextState_=null,d.fillState_=null,d.strokeState_=null,d.image_=null,d.imageAnchorX_=0,d.imageAnchorY_=0,d.imageHeight_=0,d.imageOpacity_=0,d.imageOriginX_=0,d.imageOriginY_=0,d.imageRotateWithView_=!1,d.imageRotation_=0,d.imageScale_=[0,0],d.imageWidth_=0,d.text_="",d.textOffsetX_=0,d.textOffsetY_=0,d.textRotateWithView_=!1,d.textRotation_=0,d.textScale_=[0,0],d.textFillState_=null,d.textStrokeState_=null,d.textState_=null,d.pixelCoordinates_=[],d.tmpLocalTransform_=dr(),d}return e.prototype.drawImages_=function(t,o,n,i){if(!!this.image_){var s=oi(t,o,n,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var b=0,p=s.length;b<p;b+=2){var v=s[b]-this.imageAnchorX_,_=s[b+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var w=v+this.imageAnchorX_,k=_+this.imageAnchorY_;Nr(u,w,k,1,1,h,-w,-k),c.setTransform.apply(c,u),c.translate(w,k),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,_,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}},e.prototype.drawText_=function(t,o,n,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=oi(t,o,n,i,this.transform_,this.pixelCoordinates_),c=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);o<n;o+=i){var d=s[o]+this.textOffsetX_,h=s[o+1]+this.textOffsetY_;if(u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var b=Nr(this.tmpLocalTransform_,d,h,1,1,u,-d,-h);c.setTransform.apply(c,b),c.translate(d,h),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&c.strokeText(this.text_,d,h),this.textFillState_&&c.fillText(this.text_,d,h)}}},e.prototype.moveToLineTo_=function(t,o,n,i,s){var c=this.context_,u=oi(t,o,n,i,this.transform_,this.pixelCoordinates_);c.moveTo(u[0],u[1]);var d=u.length;s&&(d-=2);for(var h=2;h<d;h+=2)c.lineTo(u[h],u[h+1]);return s&&c.closePath(),n},e.prototype.drawRings_=function(t,o,n,i){for(var s=0,c=n.length;s<c;++s)o=this.moveToLineTo_(t,o,n[s],i,!0);return o},e.prototype.drawCircle=function(t){if(!!Qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=CA(t,this.transform_,this.pixelCoordinates_),n=o[2]-o[0],i=o[3]-o[1],s=Math.sqrt(n*n+i*i),c=this.context_;c.beginPath(),c.arc(o[0],o[1],s,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var o=t.getType();switch(o){case ct.POINT:this.drawPoint(t);break;case ct.LINE_STRING:this.drawLineString(t);break;case ct.POLYGON:this.drawPolygon(t);break;case ct.MULTI_POINT:this.drawMultiPoint(t);break;case ct.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case ct.MULTI_POLYGON:this.drawMultiPolygon(t);break;case ct.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case ct.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,o){var n=o.getGeometryFunction()(t);!n||!Qe(this.extent_,n.getExtent())||(this.setStyle(o),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var o=t.getGeometriesArray(),n=0,i=o.length;n<i;++n)this.drawGeometry(o[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(o,0,o.length,n),this.text_!==""&&this.drawText_(o,0,o.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(o,0,o.length,n),this.text_!==""&&this.drawText_(o,0,o.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,n=t.getFlatCoordinates();o.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),o.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getExtent();if(!!Qe(this.extent_,o)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),s=0,c=t.getEnds(),u=t.getStride();n.beginPath();for(var d=0,h=c.length;d<h;++d)s=this.moveToLineTo_(i,s,c[d],u,!1);n.stroke()}if(this.text_!==""){var b=t.getFlatMidpoints();this.drawText_(b,0,b.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_;o.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_,n=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),c=t.getStride();o.beginPath();for(var u=0,d=s.length;u<d;++u){var h=s[u];i=this.drawRings_(n,i,h,c)}this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var b=t.getFlatInteriorPoints();this.drawText_(b,0,b.length,2)}}},e.prototype.setContextFillState_=function(t){var o=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,o.fillStyle=t.fillStyle):(o.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var o=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,o.lineCap=t.lineCap),o.setLineDash&&(si(n.lineDash,t.lineDash)||o.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,o.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,o.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,o.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,o.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,o.strokeStyle=t.strokeStyle)):(o.lineCap=t.lineCap,o.setLineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.lineWidth=t.lineWidth,o.miterLimit=t.miterLimit,o.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var o=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:ms;n?(n.font!=t.font&&(n.font=t.font,o.font=t.font),n.textAlign!=i&&(n.textAlign=i,o.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,o.textBaseline=t.textBaseline)):(o.font=t.font,o.textAlign=i,o.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,o){var n=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:ur(i||Fr)}}if(!o)this.strokeState_=null;else{var s=o.getColor(),c=o.getLineCap(),u=o.getLineDash(),d=o.getLineDashOffset(),h=o.getLineJoin(),b=o.getWidth(),p=o.getMiterLimit(),v=u||ps;this.strokeState_={lineCap:c!==void 0?c:pc,lineDash:this.pixelRatio_===1?v:v.map(function(_){return _*n.pixelRatio_}),lineDashOffset:(d||gs)*this.pixelRatio_,lineJoin:h!==void 0?h:ea,lineWidth:(b!==void 0?b:_s)*this.pixelRatio_,miterLimit:p!==void 0?p:bs,strokeStyle:ur(s||vs)}}},e.prototype.setImageStyle=function(t){var o;if(!t||!(o=t.getSize())){this.image_=null;return}var n=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=o[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=o[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var o=t.getFill();if(!o)this.textFillState_=null;else{var n=o.getColor();this.textFillState_={fillStyle:ur(n||Fr)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),c=i.getLineCap(),u=i.getLineDash(),d=i.getLineDashOffset(),h=i.getLineJoin(),b=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:c!==void 0?c:pc,lineDash:u||ps,lineDashOffset:d||gs,lineJoin:h!==void 0?h:ea,lineWidth:b!==void 0?b:_s,miterLimit:p!==void 0?p:bs,strokeStyle:ur(s||vs)}}var v=t.getFont(),_=t.getOffsetX(),w=t.getOffsetY(),k=t.getRotateWithView(),T=t.getRotation(),A=t.getScaleArray(),I=t.getText(),P=t.getTextAlign(),D=t.getTextBaseline();this.textState_={font:v!==void 0?v:R0,textAlign:P!==void 0?P:ms,textBaseline:D!==void 0?D:gc},this.text_=I!==void 0?Array.isArray(I)?I.reduce(function(X,G,F){return X+=F%2?" ":G},""):I:"",this.textOffsetX_=_!==void 0?this.pixelRatio_*_:0,this.textOffsetY_=w!==void 0?this.pixelRatio_*w:0,this.textRotateWithView_=k!==void 0?k:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}(X0),OP=AP,cn={FRACTION:"fraction",PIXELS:"pixels"},Oo={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},IP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),SP=function(r){IP(e,r);function e(t,o,n,i){var s=r.call(this)||this;return s.extent=t,s.pixelRatio_=n,s.resolution=o,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(zt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Kt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Kt()},e}(ua),PP=SP,LP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();(function(r){LP(e,r);function e(t,o,n,i,s,c){var u=r.call(this,t,o,n,pe.IDLE)||this;return u.src_=i,u.image_=new Image,s!==null&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=pe.IDLE,u.imageLoadFunction_=c,u}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=pe.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=er(this.extent)/this.image_.height),this.state=pe.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==pe.IDLE||this.state==pe.ERROR)&&(this.state=pe.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=yh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=er(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(PP);function yh(r,e,t){var o=r,n=!0,i=!1,s=!1,c=[uc(o,zt.LOAD,function(){s=!0,i||e()})];return o.src&&hA?(i=!0,o.decode().then(function(){n&&e()}).catch(function(u){n&&(s?e():t())})):c.push(uc(o,zt.ERROR,t)),function(){n=!1,c.forEach(_e)}}var MP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),za=null,FP=function(r){MP(e,r);function e(t,o,n,i,s,c){var u=r.call(this)||this;return u.hitDetectionImage_=null,u.image_=t||new Image,i!==null&&(u.image_.crossOrigin=i),u.canvas_={},u.color_=c,u.unlisten_=null,u.imageState_=s,u.size_=n,u.src_=o,u.tainted_,u}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===pe.LOADED){za||(za=Do(1,1)),za.drawImage(this.image_,0,0);try{za.getImageData(0,0,1,1),this.tainted_=!1}catch{za=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(zt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=pe.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=pe.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],o=this.size_[1],n=Do(t,o);n.fillRect(0,0,t,o),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==pe.IDLE){this.imageState_=pe.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=yh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==pe.LOADED)){var o=document.createElement("canvas");this.canvas_[t]=o,o.width=Math.ceil(this.image_.width*t),o.height=Math.ceil(this.image_.height*t);var n=o.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply",n.globalCompositeOperation==="multiply"||this.isTainted_())n.fillStyle=x0(this.color_),n.fillRect(0,0,o.width/t,o.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,o.width,o.height),s=i.data,c=this.color_[0]/255,u=this.color_[1]/255,d=this.color_[2]/255,h=this.color_[3],b=0,p=s.length;b<p;b+=4)s[b]*=c,s[b+1]*=u,s[b+2]*=d,s[b+3]*=h;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ua);function DP(r,e,t,o,n,i){var s=fc.get(e,o,i);return s||(s=new FP(r,e,t,o,n,i),fc.set(e,o,i,s)),s}var NP=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),zP=function(r){NP(e,r);function e(t){var o=this,n=t||{},i=n.opacity!==void 0?n.opacity:1,s=n.rotation!==void 0?n.rotation:0,c=n.scale!==void 0?n.scale:1,u=n.rotateWithView!==void 0?n.rotateWithView:!1;o=r.call(this,{opacity:i,rotation:s,scale:c,displacement:n.displacement!==void 0?n.displacement:[0,0],rotateWithView:u})||this,o.anchor_=n.anchor!==void 0?n.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=n.anchorOrigin!==void 0?n.anchorOrigin:Oo.TOP_LEFT,o.anchorXUnits_=n.anchorXUnits!==void 0?n.anchorXUnits:cn.FRACTION,o.anchorYUnits_=n.anchorYUnits!==void 0?n.anchorYUnits:cn.FRACTION,o.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null;var d=n.img!==void 0?n.img:null;o.imgSize_=n.imgSize;var h=n.src;$t(!(h!==void 0&&d),4),$t(!d||d&&o.imgSize_,5),(h===void 0||h.length===0)&&d&&(h=d.src||ie(d)),$t(h!==void 0&&h.length>0,6);var b=n.src!==void 0?pe.IDLE:pe.LOADED;return o.color_=n.color!==void 0?dc(n.color):null,o.iconImage_=DP(d,h,o.imgSize_!==void 0?o.imgSize_:null,o.crossOrigin_,b,o.color_),o.offset_=n.offset!==void 0?n.offset:[0,0],o.offsetOrigin_=n.offsetOrigin!==void 0?n.offsetOrigin:Oo.TOP_LEFT,o.origin_=null,o.size_=n.size!==void 0?n.size:null,o}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var o=this.getSize();if(this.anchorXUnits_==cn.FRACTION||this.anchorYUnits_==cn.FRACTION){if(!o)return null;t=this.anchor_.slice(),this.anchorXUnits_==cn.FRACTION&&(t[0]*=o[0]),this.anchorYUnits_==cn.FRACTION&&(t[1]*=o[1])}if(this.anchorOrigin_!=Oo.TOP_LEFT){if(!o)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Oo.TOP_RIGHT||this.anchorOrigin_==Oo.BOTTOM_RIGHT)&&(t[0]=-t[0]+o[0]),(this.anchorOrigin_==Oo.BOTTOM_LEFT||this.anchorOrigin_==Oo.BOTTOM_RIGHT)&&(t[1]=-t[1]+o[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Oo.TOP_LEFT){var o=this.getSize(),n=this.iconImage_.getSize();if(!o||!n)return null;t=t.slice(),(this.offsetOrigin_==Oo.TOP_RIGHT||this.offsetOrigin_==Oo.BOTTOM_RIGHT)&&(t[0]=n[0]-o[0]-t[0]),(this.offsetOrigin_==Oo.BOTTOM_LEFT||this.offsetOrigin_==Oo.BOTTOM_RIGHT)&&(t[1]=n[1]-o[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(zt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(zt.CHANGE,t)},e}(U0),GP=zP,cr=.5;function BP(r,e,t,o,n,i,s){var c=r[0]*cr,u=r[1]*cr,d=Do(c,u);d.imageSmoothingEnabled=!1;for(var h=d.canvas,b=new OP(d,cr,n,null,s),p=t.length,v=Math.floor((256*256*256-1)/p),_={},w=1;w<=p;++w){var k=t[w-1],T=k.getStyleFunction()||o;if(!!o){var A=T(k,i);if(!!A){Array.isArray(A)||(A=[A]);for(var I=w*v,P="#"+("000000"+I.toString(16)).slice(-6),D=0,X=A.length;D<X;++D){var G=A[D],F=G.getGeometryFunction()(k);if(!(!F||!Qe(n,F.getExtent()))){var K=G.clone(),ot=K.getFill();ot&&ot.setColor(P);var st=K.getStroke();st&&(st.setColor(P),st.setLineDash(null)),K.setText(void 0);var dt=G.getImage();if(dt&&dt.getOpacity()!==0){var ft=dt.getImageSize();if(!ft)continue;var mt=Do(ft[0],ft[1],void 0,{alpha:!1}),it=mt.canvas;mt.fillStyle=P,mt.fillRect(0,0,it.width,it.height),K.setImage(new GP({img:it,imgSize:ft,anchor:dt.getAnchor(),anchorXUnits:cn.PIXELS,anchorYUnits:cn.PIXELS,offset:dt.getOrigin(),opacity:1,size:dt.getSize(),scale:dt.getScale(),rotation:dt.getRotation(),rotateWithView:dt.getRotateWithView()}))}var ht=K.getZIndex()||0,et=_[ht];et||(et={},_[ht]=et,et[ct.POLYGON]=[],et[ct.CIRCLE]=[],et[ct.LINE_STRING]=[],et[ct.POINT]=[]),et[F.getType().replace("Multi","")].push(F,K)}}}}}for(var ut=Object.keys(_).map(Number).sort(ni),w=0,yt=ut.length;w<yt;++w){var et=_[ut[w]];for(var Pt in et)for(var Lt=et[Pt],D=0,X=Lt.length;D<X;D+=2){b.setStyle(Lt[D+1]);for(var Z=0,Xt=e.length;Z<Xt;++Z)b.setTransform(e[Z]),b.drawGeometry(Lt[D])}}return d.getImageData(0,0,h.width,h.height)}function WP(r,e,t){var o=[];if(t){var n=Math.floor(Math.round(r[0])*cr),i=Math.floor(Math.round(r[1])*cr),s=(Se(n,0,t.width-1)+Se(i,0,t.height-1)*t.width)*4,c=t.data[s],u=t.data[s+1],d=t.data[s+2],h=d+256*(u+256*c),b=Math.floor((256*256*256-1)/e.length);h&&h%b===0&&o.push(e[h/b-1])}return o}var UP=.5,j0={Point:qP,LineString:KP,Polygon:QP,MultiPoint:JP,MultiLineString:$P,MultiPolygon:ZP,GeometryCollection:HP,Circle:VP};function YP(r,e){return parseInt(ie(r),10)-parseInt(ie(e),10)}function XP(r,e){var t=bf(r,e);return t*t}function bf(r,e){return UP*r/e}function VP(r,e,t,o,n){var i=t.getFill(),s=t.getStroke();if(i||s){var c=r.getBuilder(t.getZIndex(),xe.CIRCLE);c.setFillStrokeStyle(i,s),c.drawCircle(e,o)}var u=t.getText();if(u&&u.getText()){var d=(n||r).getBuilder(t.getZIndex(),xe.TEXT);d.setTextStyle(u),d.drawText(e,o)}}function wv(r,e,t,o,n,i,s){var c=!1,u=t.getImage();if(u){var d=u.getImageState();d==pe.LOADED||d==pe.ERROR?u.unlistenImageChange(n):(d==pe.IDLE&&u.load(),d=u.getImageState(),u.listenImageChange(n),c=!0)}return jP(r,e,t,o,i,s),c}function jP(r,e,t,o,n,i){var s=t.getGeometryFunction()(e);if(!!s){var c=s.simplifyTransformed(o,n),u=t.getRenderer();if(u)H0(r,c,t,e);else{var d=j0[c.getType()];d(r,c,t,e,i)}}}function H0(r,e,t,o){if(e.getType()==ct.GEOMETRY_COLLECTION){for(var n=e.getGeometries(),i=0,s=n.length;i<s;++i)H0(r,n[i],t,o);return}var c=r.getBuilder(t.getZIndex(),xe.DEFAULT);c.drawCustom(e,o,t.getRenderer(),t.getHitDetectionRenderer())}function HP(r,e,t,o,n){var i=e.getGeometriesArray(),s,c;for(s=0,c=i.length;s<c;++s){var u=j0[i[s].getType()];u(r,i[s],t,o,n)}}function KP(r,e,t,o,n){var i=t.getStroke();if(i){var s=r.getBuilder(t.getZIndex(),xe.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,o)}var c=t.getText();if(c&&c.getText()){var u=(n||r).getBuilder(t.getZIndex(),xe.TEXT);u.setTextStyle(c),u.drawText(e,o)}}function $P(r,e,t,o,n){var i=t.getStroke();if(i){var s=r.getBuilder(t.getZIndex(),xe.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,o)}var c=t.getText();if(c&&c.getText()){var u=(n||r).getBuilder(t.getZIndex(),xe.TEXT);u.setTextStyle(c),u.drawText(e,o)}}function ZP(r,e,t,o,n){var i=t.getFill(),s=t.getStroke();if(s||i){var c=r.getBuilder(t.getZIndex(),xe.POLYGON);c.setFillStrokeStyle(i,s),c.drawMultiPolygon(e,o)}var u=t.getText();if(u&&u.getText()){var d=(n||r).getBuilder(t.getZIndex(),xe.TEXT);d.setTextStyle(u),d.drawText(e,o)}}function qP(r,e,t,o,n){var i=t.getImage(),s=t.getText(),c;if(n&&(r=n,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var u=r.getBuilder(t.getZIndex(),xe.IMAGE);u.setImageStyle(i,c),u.drawPoint(e,o)}if(s&&s.getText()){var d=r.getBuilder(t.getZIndex(),xe.TEXT);d.setTextStyle(s,c),d.drawText(e,o)}}function JP(r,e,t,o,n){var i=t.getImage(),s=t.getText(),c;if(n&&(r=n,c=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var u=r.getBuilder(t.getZIndex(),xe.IMAGE);u.setImageStyle(i,c),u.drawMultiPoint(e,o)}if(s&&s.getText()){var d=(n||r).getBuilder(t.getZIndex(),xe.TEXT);d.setTextStyle(s,c),d.drawText(e,o)}}function QP(r,e,t,o,n){var i=t.getFill(),s=t.getStroke();if(i||s){var c=r.getBuilder(t.getZIndex(),xe.POLYGON);c.setFillStrokeStyle(i,s),c.drawPolygon(e,o)}var u=t.getText();if(u&&u.getText()){var d=(n||r).getBuilder(t.getZIndex(),xe.TEXT);d.setTextStyle(u),d.drawText(e,o)}}var t3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),e3=function(r){t3(e,r);function e(t){var o=r.call(this,t)||this;return o.boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(o),o.animatingOrInteracting_,o.dirty_=!1,o.hitDetectionImageData_=null,o.renderedFeatures_=null,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=Mo(),o.wrappedRenderedExtent_=Mo(),o.renderedRotation_,o.renderedCenter_=null,o.renderedProjection_=null,o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o.declutterExecutorGroup=null,o.clipping=!0,o}return e.prototype.renderWorlds=function(t,o,n){var i=o.extent,s=o.viewState,c=s.center,u=s.resolution,d=s.projection,h=s.rotation,b=d.getExtent(),p=this.getLayer().getSource(),v=o.pixelRatio,_=o.viewHints,w=!(_[He.ANIMATING]||_[He.INTERACTING]),k=this.context,T=Math.round(o.size[0]*v),A=Math.round(o.size[1]*v),I=p.getWrapX()&&d.canWrapX(),P=I?ke(b):null,D=I?Math.ceil((i[2]-b[2])/P)+1:1,X=I?Math.floor((i[0]-b[0])/P):0;do{var G=this.getRenderTransform(c,u,h,v,T,A,X*P);t.execute(k,1,G,h,w,void 0,n)}while(++X<D)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,o){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];bA(this.pixelTransform,1/n,1/n),oh(this.inversePixelTransform,this.pixelTransform);var s=r0(this.pixelTransform);this.useContainer(o,s,i.opacity,this.getBackground(t));var c=this.context,u=c.canvas,d=this.replayGroup_,h=this.declutterExecutorGroup;if((!d||d.isEmpty())&&(!h||h.isEmpty()))return null;var b=Math.round(t.size[0]*n),p=Math.round(t.size[1]*n);u.width!=b||u.height!=p?(u.width=b,u.height=p,u.style.transform!==s&&(u.style.transform=s)):this.containerReused||c.clearRect(0,0,b,p),this.preRender(c,t);var v=t.viewState,_=v.projection,w=!1,k=!0;if(i.extent&&this.clipping){var T=Kn(i.extent,_);k=Qe(T,t.extent),w=k&&!Gi(T,t.extent),w&&this.clipUnrotated(c,t,T)}k&&this.renderWorlds(d,t),w&&c.restore(),this.postRender(c,t);var A=T0(i.opacity),I=this.container;return A!==I.style.opacity&&(I.style.opacity=A),this.renderedRotation_!==v.rotation&&(this.renderedRotation_=v.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(o){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Ie(this.pixelTransform,n);var i=this.renderedCenter_,s=this.renderedResolution_,c=this.renderedRotation_,u=this.renderedProjection_,d=this.wrappedRenderedExtent_,h=this.getLayer(),b=[],p=n[0]*cr,v=n[1]*cr;b.push(this.getRenderTransform(i,s,c,cr,p,v,0).slice());var _=h.getSource(),w=u.getExtent();if(_.getWrapX()&&u.canWrapX()&&!Gi(w,d)){for(var k=d[0],T=ke(w),A=0,I=void 0;k<w[0];)--A,I=T*A,b.push(this.getRenderTransform(i,s,c,cr,p,v,I).slice()),k+=T;for(A=0,k=d[2];k>w[2];)++A,I=T*A,b.push(this.getRenderTransform(i,s,c,cr,p,v,I).slice()),k-=T}this.hitDetectionImageData_=BP(n,b,this.renderedFeatures_,h.getStyleFunction(),d,s,c)}o(WP(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,o,n,i,s){var c=this;if(!!this.replayGroup_){var u=o.viewState.resolution,d=o.viewState.rotation,h=this.getLayer(),b={},p=function(w,k,T){var A=ie(w),I=b[A];if(I){if(I!==!0&&T<I.distanceSq){if(T===0)return b[A]=!0,s.splice(s.lastIndexOf(I),1),i(w,h,k);I.geometry=k,I.distanceSq=T}}else{if(T===0)return b[A]=!0,i(w,h,k);s.push(b[A]={feature:w,layer:h,geometry:k,distanceSq:T,callback:i})}},v,_=[this.replayGroup_];return this.declutterExecutorGroup&&_.push(this.declutterExecutorGroup),_.some(function(w){return v=w.forEachFeatureAtCoordinate(t,u,d,n,p,w===c.declutterExecutorGroup&&o.declutterTree?o.declutterTree.all().map(function(k){return k.value}):null)}),v}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var o=this.getLayer(),n=o.getSource();if(!n)return!1;var i=t.viewHints[He.ANIMATING],s=t.viewHints[He.INTERACTING],c=o.getUpdateWhileAnimating(),u=o.getUpdateWhileInteracting();if(!this.dirty_&&!c&&i||!u&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,h=t.viewState,b=h.projection,p=h.resolution,v=t.pixelRatio,_=o.getRevision(),w=o.getRenderBuffer(),k=o.getRenderOrder();k===void 0&&(k=YP);var T=h.center.slice(),A=Vf(d,w*p),I=A.slice(),P=[A.slice()],D=b.getExtent();if(n.getWrapX()&&b.canWrapX()&&!Gi(D,t.extent)){var X=ke(D),G=Math.max(ke(A)/2,X);A[0]=D[0]-G,A[2]=D[2]+G,qm(T,b);var F=FR(P[0],b);F[0]<D[0]&&F[2]<D[2]?P.push([F[0]+X,F[1],F[2]+X,F[3]]):F[0]>D[0]&&F[2]>D[2]&&P.push([F[0]-X,F[1],F[2]-X,F[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==_&&this.renderedRenderOrder_==k&&Gi(this.wrappedRenderedExtent_,A))return si(this.renderedExtent_,I)||(this.hitDetectionImageData_=null,this.renderedExtent_=I),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var K=new mv(bf(p,v),A,p,v),ot;this.getLayer().getDeclutter()&&(ot=new mv(bf(p,v),A,p,v));var st=Rs(),dt;if(st){for(var ft=0,mt=P.length;ft<mt;++ft){var it=P[ft],ht=af(it,b);n.loadFeatures(ht,ZR(p,b),st)}dt=Qi(st,b)}else for(var ft=0,mt=P.length;ft<mt;++ft)n.loadFeatures(P[ft],p,b);var et=XP(p,v),ut=function(Xt){var Et,z=Xt.getStyleFunction()||o.getStyleFunction();if(z&&(Et=z(Xt,p)),Et){var rt=this.renderFeature(Xt,et,Et,K,dt,ot);this.dirty_=this.dirty_||rt}}.bind(this),yt=af(A,b),Pt=n.getFeaturesInExtent(yt);k&&Pt.sort(k);for(var ft=0,mt=Pt.length;ft<mt;++ft)ut(Pt[ft]);this.renderedFeatures_=Pt;var Lt=K.finish(),Z=new xv(A,p,v,n.getOverlaps(),Lt,o.getRenderBuffer());return ot&&(this.declutterExecutorGroup=new xv(A,p,v,n.getOverlaps(),ot.finish(),o.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=_,this.renderedRenderOrder_=k,this.renderedExtent_=I,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=b,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,o,n,i,s,c){if(!n)return!1;var u=!1;if(Array.isArray(n))for(var d=0,h=n.length;d<h;++d)u=wv(i,t,n[d],o,this.boundHandleStyleImageChange_,s,c)||u;else u=wv(i,t,n,o,this.boundHandleStyleImageChange_,s,c);return u},e}(V0),o3=e3,r3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),n3=function(r){r3(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new o3(this)},e}($S),vf=n3,i3=function(){function r(e){this.rbush_=new W0(e),this.items_={}}return r.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[ie(t)]=o},r.prototype.load=function(e,t){for(var o=new Array(t.length),n=0,i=t.length;n<i;n++){var s=e[n],c=t[n],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:c};o[n]=u,this.items_[ie(c)]=u}this.rbush_.load(o)},r.prototype.remove=function(e){var t=ie(e),o=this.items_[t];return delete this.items_[t],this.rbush_.remove(o)!==null},r.prototype.update=function(e,t){var o=this.items_[ie(t)],n=[o.minX,o.minY,o.maxX,o.maxY];us(n,e)||(this.remove(t),this.insert(e,t))},r.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},r.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(n){return n.value})},r.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},r.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},r.prototype.forEach_=function(e,t){for(var o,n=0,i=e.length;n<i;n++)if(o=t(e[n]),o)return o;return o},r.prototype.isEmpty=function(){return cs(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return tr(t.minX,t.minY,t.maxX,t.maxY,e)},r.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},r}(),kv=i3,a3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),s3=function(r){a3(e,r);function e(t){var o=r.call(this)||this;o.projection=lo(t.projection),o.attributions_=Ev(t.attributions),o.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,o.loading=!1,o.state_=t.state!==void 0?t.state:ai.READY,o.wrapX_=t.wrapX!==void 0?t.wrapX:!1,o.interpolate_=!!t.interpolate,o.viewResolver=null,o.viewRejector=null;var n=o;return o.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s}),o}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Kt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Ev(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(hr);function Ev(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}var K0=s3,Yo={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function l3(r,e){return[[-1/0,-1/0,1/0,1/0]]}var c3=!1;function u3(r,e,t,o,n,i,s){var c=new XMLHttpRequest;c.open("GET",typeof r=="function"?r(t,o,n):r,!0),e.getType()==Da.ARRAY_BUFFER&&(c.responseType="arraybuffer"),c.withCredentials=c3,c.onload=function(u){if(!c.status||c.status>=200&&c.status<300){var d=e.getType(),h=void 0;d==Da.JSON||d==Da.TEXT?h=c.responseText:d==Da.XML?(h=c.responseXML,h||(h=new DOMParser().parseFromString(c.responseText,"application/xml"))):d==Da.ARRAY_BUFFER&&(h=c.response),h?i(e.readFeatures(h,{extent:t,featureProjection:n}),e.readProjection(h)):s()}else s()},c.onerror=s,c.send()}function Cv(r,e){return function(t,o,n,i,s){var c=this;u3(r,e,t,o,n,function(u,d){c.addFeatures(u),i!==void 0&&i(u)},s||ii)}}var $0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),en=function(r){$0(e,r);function e(t,o,n){var i=r.call(this,t)||this;return i.feature=o,i.features=n,i}return e}(fr),d3=function(r){$0(e,r);function e(t){var o=this,n=t||{};o=r.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:ai.READY,wrapX:n.wrapX!==void 0?n.wrapX:!0})||this,o.on,o.once,o.un,o.loader_=ii,o.format_=n.format,o.overlaps_=n.overlaps===void 0?!0:n.overlaps,o.url_=n.url,n.loader!==void 0?o.loader_=n.loader:o.url_!==void 0&&($t(o.format_,7),o.loader_=Cv(o.url_,o.format_)),o.strategy_=n.strategy!==void 0?n.strategy:l3;var i=n.useSpatialIndex!==void 0?n.useSpatialIndex:!0;o.featuresRtree_=i?new kv:null,o.loadedExtentsRtree_=new kv,o.loadingExtentsCount_=0,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null;var s,c;return Array.isArray(n.features)?c=n.features:n.features&&(s=n.features,c=s.getArray()),!i&&s===void 0&&(s=new So(c)),c!==void 0&&o.addFeaturesInternal(c),s!==void 0&&o.bindFeaturesCollection_(s),o}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var o=ie(t);if(!this.addToIndex_(o,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(o,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[o]=t;this.dispatchEvent(new en(Yo.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,o){this.featureChangeKeys_[t]=[Jt(o,zt.CHANGE,this.handleFeatureChange_,this),Jt(o,ta.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,o){var n=!0,i=o.getId();return i!==void 0&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=o),n&&($t(!(t in this.uidIndex_),30),this.uidIndex_[t]=o),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var o=[],n=[],i=[],s=0,c=t.length;s<c;s++){var u=t[s],d=ie(u);this.addToIndex_(d,u)&&n.push(u)}for(var s=0,h=n.length;s<h;s++){var u=n[s],d=ie(u);this.setupChangeEvents_(d,u);var b=u.getGeometry();if(b){var p=b.getExtent();o.push(p),i.push(u)}else this.nullGeometryFeatures_[d]=u}if(this.featuresRtree_&&this.featuresRtree_.load(o,i),this.hasListener(Yo.ADDFEATURE))for(var s=0,v=n.length;s<v;s++)this.dispatchEvent(new en(Yo.ADDFEATURE,n[s]))},e.prototype.bindFeaturesCollection_=function(t){var o=!1;this.addEventListener(Yo.ADDFEATURE,function(n){o||(o=!0,t.push(n.feature),o=!1)}),this.addEventListener(Yo.REMOVEFEATURE,function(n){o||(o=!0,t.remove(n.feature),o=!1)}),t.addEventListener(so.ADD,function(n){o||(o=!0,this.addFeature(n.element),o=!1)}.bind(this)),t.addEventListener(so.REMOVE,function(n){o||(o=!0,this.removeFeature(n.element),o=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var o in this.featureChangeKeys_){var n=this.featureChangeKeys_[o];n.forEach(_e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(u){this.removeFeatureInternal(u)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var c=new en(Yo.CLEAR);this.dispatchEvent(c),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,o){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return o(i)})},e.prototype.forEachFeatureInExtent=function(t,o){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,o);this.featuresCollection_&&this.featuresCollection_.forEach(o)},e.prototype.forEachFeatureIntersectingExtent=function(t,o){return this.forEachFeatureInExtent(t,function(n){var i=n.getGeometry();if(i.intersectsExtent(t)){var s=o(n);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),cs(this.nullGeometryFeatures_)||Mr(t,jm(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var o=[];return this.forEachFeatureAtCoordinateDirect(t,function(n){o.push(n)}),o},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,o){var n=t[0],i=t[1],s=null,c=[NaN,NaN],u=1/0,d=[-1/0,-1/0,1/0,1/0],h=o||ei;return this.featuresRtree_.forEachInExtent(d,function(b){if(h(b)){var p=b.getGeometry(),v=u;if(u=p.closestPointXY(n,i,c,u),u<v){s=b;var _=Math.sqrt(u);d[0]=n-_,d[1]=i-_,d[2]=n+_,d[3]=i+_}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var o=this.idIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getFeatureByUid=function(t){var o=this.uidIndex_[t];return o!==void 0?o:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var o=t.target,n=ie(o),i=o.getGeometry();if(!i)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(o),this.nullGeometryFeatures_[n]=o);else{var s=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(s,o)):this.featuresRtree_&&this.featuresRtree_.update(s,o)}var c=o.getId();if(c!==void 0){var u=c.toString();this.idIndex_[u]!==o&&(this.removeFromIdIndex_(o),this.idIndex_[u]=o)}else this.removeFromIdIndex_(o),this.uidIndex_[n]=o;this.changed(),this.dispatchEvent(new en(Yo.CHANGEFEATURE,o))},e.prototype.hasFeature=function(t){var o=t.getId();return o!==void 0?o in this.idIndex_:ie(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&cs(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,o,n){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,o,n),c=function(b,p){var v=s[b],_=i.forEachInExtent(v,function(w){return Gi(w.extent,v)});_||(++u.loadingExtentsCount_,u.dispatchEvent(new en(Yo.FEATURESLOADSTART)),u.loader_.call(u,v,o,n,function(w){--this.loadingExtentsCount_,this.dispatchEvent(new en(Yo.FEATURESLOADEND,void 0,w))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new en(Yo.FEATURESLOADERROR))}.bind(u)),i.insert(v,{extent:v.slice()}))},u=this,d=0,h=s.length;d<h;++d)c(d);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var o=this.loadedExtentsRtree_,n;o.forEachInExtent(t,function(i){if(us(i.extent,t))return n=i,!0}),n&&o.remove(n)},e.prototype.removeFeature=function(t){if(!!t){var o=ie(t);o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:this.featuresRtree_&&this.featuresRtree_.remove(t);var n=this.removeFeatureInternal(t);n&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var o=ie(t),n=this.featureChangeKeys_[o];if(!!n){n.forEach(_e),delete this.featureChangeKeys_[o];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[o],this.dispatchEvent(new en(Yo.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var o=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],o=!0;break}return o},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){$t(this.format_,7),this.url_=t,this.setLoader(Cv(t,this.format_))},e}(K0),mf=d3,Z0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),te={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Ul={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Yl=function(r){Z0(e,r);function e(t,o){var n=r.call(this,t)||this;return n.feature=o,n}return e}(fr),f3=function(r){Z0(e,r);function e(t){var o=this,n=t;n.stopDown||(n.stopDown=As),o=r.call(this,n)||this,o.on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=t.source?t.source:null,o.features_=t.features?t.features:null,o.snapTolerance_=t.snapTolerance?t.snapTolerance:12,o.type_=t.type,o.mode_=g3(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints?t.minPoints:o.mode_===te.POLYGON?3:2,o.maxPoints_=o.mode_===te.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,o.finishCondition_=t.finishCondition?t.finishCondition:ei;var i=t.geometryFunction;if(!i){var s=o.mode_;if(s===te.CIRCLE)i=function(u,d,h){var b=d||new s0([NaN,NaN]),p=Io(u[0],h),v=BR(p,Io(u[u.length-1],h));b.setCenterAndRadius(p,Math.sqrt(v));var _=Rs();return _&&b.transform(h,_),b};else{var c;s===te.POINT?c=ri:s===te.LINE_STRING?c=bn:s===te.POLYGON&&(c=hs),i=function(u,d,h){return d?s===te.POLYGON?u[0].length?d.setCoordinates([u[0].concat([u[0][0]])]):d.setCoordinates([]):d.setCoordinates(u):d=new c(u),d}}}return o.geometryFunction_=i,o.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new vf({source:new mf({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:h3(),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition?t.condition:_h,o.freehandCondition_,t.freehand?o.freehandCondition_=F0:o.freehandCondition_=t.freehandCondition?t.freehandCondition:N0,o.addChangeListener(pf.ACTIVE,o.updateState_),o}return e.prototype.setMap=function(t){r.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===zt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==te.POINT&&this.freehandCondition_(t);var o=t.type===ee.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===ee.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===ee.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===ee.POINTERDOWN?n=!1:o&&this.getPointerCount()<2?(n=t.type===ee.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===ee.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===ee.DBLCLICK&&(n=!1),r.prototype.handleEvent.call(this,t)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Or(ee.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var o=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_===te.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),o=!1}else this.freehand_&&this.abortDrawing();return!o&&this.stopClick_&&t.preventDefault(),o},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var o=this.downPx_,n=t.pixel,i=o[0]-n[0],s=o[1]-n[1],c=i*i+s*s;if(this.shouldHandle_=this.freehand_?c>this.squaredClickTolerance_:c<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var o=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===te.POINT)o=!0;else if(s===te.CIRCLE)o=this.sketchCoords_.length===2;else if(s===te.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(s===te.POLYGON){var c=this.sketchCoords_;n=c[0].length>this.minPoints_,i=[c[0][0],c[0][c[0].length-2]]}if(n)for(var u=this.getMap(),d=0,h=i.length;d<h;d++){var b=i[d],p=u.getPixelFromCoordinate(b),v=t[0]-p[0],_=t[1]-p[1],w=this.freehand_?1:this.snapTolerance_;if(o=Math.sqrt(v*v+_*_)<=w,o){this.finishCoordinate_=b;break}}}return o},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new jn(new ri(t)),this.updateSketchFeatures_();else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new jn);var o=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(o.getLayout(),o.getFlatCoordinates()),n.changed()):(n=new bn(o.getFlatCoordinates(),o.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){var o=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===te.POINT?this.sketchCoords_=t.slice():this.mode_===te.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new jn(new bn(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,o);this.sketchFeature_=new jn,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Yl(Ul.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var o=this.getMap(),n=this.sketchFeature_.getGeometry(),i=o.getView().getProjection(),s,c;if(this.mode_===te.POINT?c=this.sketchCoords_:this.mode_===te.POLYGON?(s=this.sketchCoords_[0],c=s[s.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,c=s[s.length-1]),c[0]=t[0],c[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_){var u=this.sketchPoint_.getGeometry();u.setCoordinates(t)}if(n.getType()===ct.POLYGON&&this.mode_!==te.POLYGON)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){var d=this.sketchLine_.getGeometry();d.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var o=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i,s,c=this.mode_;c===te.LINE_STRING||c===te.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,o,n)):c===te.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,o,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),n,i=this.mode_;if(i===te.LINE_STRING||i===te.CIRCLE){if(n=this.sketchCoords_,n.splice(-2,1),n.length>=2){this.finishCoordinate_=n[n.length-2].slice();var s=this.finishCoordinate_.slice();n[n.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(n,t,o),t.getType()===ct.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===te.POLYGON){n=this.sketchCoords_[0],n.splice(-2,1);var c=this.sketchLine_.getGeometry();if(n.length>=2){var s=n[n.length-2].slice();n[n.length-1]=s,this.createOrUpdateSketchPoint_(s)}c.setCoordinates(n),this.geometryFunction_(this.sketchCoords_,t,o)}n.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var o=this.sketchCoords_,n=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===te.LINE_STRING?(o.pop(),this.geometryFunction_(o,n,i)):this.mode_===te.POLYGON&&(o[0].pop(),this.geometryFunction_(o,n,i),o=n.getCoordinates()),this.type_===ct.MULTI_POINT?t.setGeometry(new g0([o])):this.type_===ct.MULTI_LINE_STRING?t.setGeometry(new jA([o])):this.type_===ct.MULTI_POLYGON&&t.setGeometry(new nO([o])),this.dispatchEvent(new Yl(Ul.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Yl(Ul.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var o=this.mode_,n=!this.sketchFeature_;n&&this.startDrawing_(t[0]);var i;if(o===te.LINE_STRING||o===te.CIRCLE)i=this.sketchCoords_;else if(o===te.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;n&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var c=t[t.length-1];this.addToDrawing_(c),this.modifyDrawing_(c)},e.prototype.extend=function(t){var o=t.getGeometry(),n=o;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new jn(new ri(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Yl(Ul.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),o=this.getActive();(!t||!o)&&this.abortDrawing(),this.overlay_.setMap(o?t:null)},e}(fa);function h3(){var r=VS();return function(e,t){return r[e.getGeometry().getType()]}}function p3(){return function(r,e,t){var o=Qd([r[0],r[r.length-1]].map(function(c){return Io(c,t)})),n=[[qi(o),Cs(o),Ts(o),xn(o),qi(o)]],i=e;i?i.setCoordinates(n):i=new hs(n);var s=Rs();return s&&i.transform(t,s),i}}function g3(r){switch(r){case ct.POINT:case ct.MULTI_POINT:return te.POINT;case ct.LINE_STRING:case ct.MULTI_LINE_STRING:return te.LINE_STRING;case ct.POLYGON:case ct.MULTI_POLYGON:return te.POLYGON;case ct.CIRCLE:return te.CIRCLE;default:throw new Error("Invalid type: "+r)}}var b3=f3;function v3(r){var e=r||{},t=new So,o=new gS(-.005,.05,100),n=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;n&&t.push(new QI);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new WI({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new ZI({onFocusOnly:e.onFocusOnly,kinetic:o}));var c=e.pinchRotate!==void 0?e.pinchRotate:!0;c&&t.push(new xS);var u=e.pinchZoom!==void 0?e.pinchZoom:!0;u&&t.push(new ES({duration:e.zoomDuration}));var d=e.keyboard!==void 0?e.keyboard:!0;d&&(t.push(new uS),t.push(new hS({delta:e.zoomDelta,duration:e.zoomDuration})));var h=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;h&&t.push(new mS({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var b=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return b&&t.push(new sS({duration:e.zoomDuration})),t}var m3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_3=function(r){m3(e,r);function e(t){return t=De({},t),t.controls||(t.controls=L0()),t.interactions||(t.interactions=v3({onFocusOnly:!0})),r.call(this,t)||this}return e.prototype.createRenderer=function(){return new eI(this)},e}(xI),y3=_3,x3=function(){function r(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},r.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},r.prototype.get=function(e,t){var o=this.entries_[e];return $t(o!==void 0,15),o===this.newest_||(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o),o.value_},r.prototype.remove=function(e){var t=this.entries_[e];return $t(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},r.prototype.getValues=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},r.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},r.prototype.set=function(e,t){$t(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},r.prototype.setSize=function(e){this.highWaterMark=e},r}(),w3=x3,k3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),E3=function(r){k3(e,r);function e(t,o,n){var i=r.call(this)||this,s=n||{};return i.tileCoord=t,i.state=o,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(zt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==At.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,o=this;do{if(t.getState()==At.LOADED){t.interimTile=null;break}else t.getState()==At.LOADING?o=t:t.getState()==At.IDLE?o.interimTile=t.interimTile:o=t;t=o.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==At.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Kt()},e.prototype.getAlpha=function(t,o){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(!n)n=o,this.transitionStarts_[t]=n;else if(n===-1)return 1;var i=o-n+1e3/60;return i>=this.transition_?1:y0(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ua),q0=E3,C3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),T3=function(r){C3(e,r);function e(t,o,n,i,s,c){var u=r.call(this,t,o,c)||this;return u.crossOrigin_=i,u.src_=n,u.key=n,u.image_=new Image,i!==null&&(u.image_.crossOrigin=i),u.unlisten_=null,u.tileLoadFunction_=s,u}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=At.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=At.ERROR,this.unlistenImage_(),this.image_=R3(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=At.LOADED:this.state=At.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==At.ERROR&&(this.state=At.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==At.IDLE&&(this.state=At.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=yh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(q0);function R3(){var r=Do(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}var J0=T3,A3=.5,Tr=!0,O3=10,Tv=.25,I3=function(){function r(e,t,o,n,i,s){this.sourceProj_=e,this.targetProj_=t;var c={},u=ds(this.targetProj_,this.sourceProj_);this.transformInv_=function(I){var P=I[0]+"/"+I[1];return c[P]||(c[P]=u(I)),c[P]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&ke(n)==ke(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ke(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ke(this.targetProj_.getExtent()):null;var d=xn(o),h=Ts(o),b=Cs(o),p=qi(o),v=this.transformInv_(d),_=this.transformInv_(h),w=this.transformInv_(b),k=this.transformInv_(p),T=O3+(s?Math.max(0,Math.ceil(cR(ef(o)/(s*s*256*256)))):0);if(this.addQuad_(d,h,b,p,v,_,w,k,T),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(I,P,D){A=Math.min(A,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(function(I){if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-A>this.sourceWorldWidth_/2){var P=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];P[0][0]-A>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-A>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-A>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);var D=Math.min(P[0][0],P[1][0],P[2][0]),X=Math.max(P[0][0],P[1][0],P[2][0]);X-D<this.sourceWorldWidth_/2&&(I.source=P)}}.bind(this))}c={}}return r.prototype.addTriangle_=function(e,t,o,n,i,s){this.triangles_.push({source:[n,i,s],target:[e,t,o]})},r.prototype.addQuad_=function(e,t,o,n,i,s,c,u,d){var h=Qd([i,s,c,u]),b=this.sourceWorldWidth_?ke(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&b>.5&&b<1,_=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var w=Qd([e,t,o,n]),k=ke(w)/this.targetWorldWidth_;_=k>Tv||_}!v&&this.sourceProj_.isGlobal()&&b&&(_=b>Tv||_)}if(!(!_&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!Qe(h,this.maxSourceExtent_))){var T=0;if(!_&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(u[0])||!isFinite(u[1]))){if(d>0)_=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(d>0){if(!_){var A=[(e[0]+o[0])/2,(e[1]+o[1])/2],I=this.transformInv_(A),P=void 0;if(v){var D=(Xi(i[0],p)+Xi(c[0],p))/2;P=D-Xi(I[0],p)}else P=(i[0]+c[0])/2-I[0];var X=(i[1]+c[1])/2-I[1],G=P*P+X*X;_=G>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var F=[(t[0]+o[0])/2,(t[1]+o[1])/2],K=this.transformInv_(F),ot=[(n[0]+e[0])/2,(n[1]+e[1])/2],st=this.transformInv_(ot);this.addQuad_(e,t,F,ot,i,s,K,st,d-1),this.addQuad_(ot,F,o,n,st,K,c,u,d-1)}else{var dt=[(e[0]+t[0])/2,(e[1]+t[1])/2],ft=this.transformInv_(dt),mt=[(o[0]+n[0])/2,(o[1]+n[1])/2],it=this.transformInv_(mt);this.addQuad_(e,dt,mt,n,i,ft,it,u,d-1),this.addQuad_(dt,t,o,mt,ft,s,c,it,d-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,o,n,i,c,u),(T&14)==0&&this.addTriangle_(e,o,t,i,c,s),T&&((T&13)==0&&this.addTriangle_(t,n,e,s,u,i),(T&7)==0&&this.addTriangle_(t,n,o,s,u,c))}},r.prototype.calculateSourceExtent=function(){var e=Mo();return this.triangles_.forEach(function(t,o,n){var i=t.source;Ja(e,i[0]),Ja(e,i[1]),Ja(e,i[2])}),e},r.prototype.getTriangles=function(){return this.triangles_},r}(),S3=I3,_f={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},P3={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Td;function Rv(r,e,t,o,n){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(o,n),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,o)+1,Math.max(t,n)),r.restore()}function Rd(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function L3(){if(Td===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",Rv(r,4,5,4,0),Rv(r,4,5,0,5);var e=r.getImageData(0,0,3,3).data;Td=Rd(e,0)||Rd(e,4)||Rd(e,8)}return Td}function Av(r,e,t,o){var n=Qf(t,e,r),i=Xb(e,o,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var c=r.getMetersPerUnit();c!==void 0&&(i/=c);var u=r.getExtent();if(!u||Es(u,n)){var d=Xb(r,i,n)/i;isFinite(d)&&d>0&&(i/=d)}return i}function M3(r,e,t,o){var n=Ji(t),i=Av(r,e,n,o);return(!isFinite(i)||i<=0)&&Hf(t,function(s){return i=Av(r,e,s,o),isFinite(i)&&i>0}),i}function F3(r,e,t,o,n,i,s,c,u,d,h,b){var p=Do(Math.round(t*r),Math.round(t*e));if(b||De(p,_f),u.length===0)return p.canvas;p.scale(t,t);function v(P){return Math.round(P*t)/t}p.globalCompositeOperation="lighter";var _=Mo();u.forEach(function(P,D,X){OR(_,P.extent)});var w=ke(_),k=er(_),T=Do(Math.round(t*w/o),Math.round(t*k/o));b||De(T,_f);var A=t/o;u.forEach(function(P,D,X){var G=P.extent[0]-_[0],F=-(P.extent[3]-_[3]),K=ke(P.extent),ot=er(P.extent);P.image.width>0&&P.image.height>0&&T.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,G*A,F*A,K*A,ot*A)});var I=xn(s);return c.getTriangles().forEach(function(P,D,X){var G=P.source,F=P.target,K=G[0][0],ot=G[0][1],st=G[1][0],dt=G[1][1],ft=G[2][0],mt=G[2][1],it=v((F[0][0]-I[0])/i),ht=v(-(F[0][1]-I[1])/i),et=v((F[1][0]-I[0])/i),ut=v(-(F[1][1]-I[1])/i),yt=v((F[2][0]-I[0])/i),Pt=v(-(F[2][1]-I[1])/i),Lt=K,Z=ot;K=0,ot=0,st-=Lt,dt-=Z,ft-=Lt,mt-=Z;var Xt=[[st,dt,0,0,et-it],[ft,mt,0,0,yt-it],[0,0,st,dt,ut-ht],[0,0,ft,mt,Pt-ht]],Et=dR(Xt);if(!!Et){if(p.save(),p.beginPath(),L3()||!b){p.moveTo(et,ut);for(var z=4,rt=it-et,Q=ht-ut,at=0;at<z;at++)p.lineTo(et+v((at+1)*rt/z),ut+v(at*Q/(z-1))),at!=z-1&&p.lineTo(et+v((at+1)*rt/z),ut+v((at+1)*Q/(z-1)));p.lineTo(yt,Pt)}else p.moveTo(et,ut),p.lineTo(it,ht),p.lineTo(yt,Pt);p.clip(),p.transform(Et[0],Et[2],Et[1],Et[3],it,ht),p.translate(_[0]-Lt,_[3]-Z),p.scale(o/t,-o/t),p.drawImage(T.canvas,0,0),p.restore()}}),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,c.getTriangles().forEach(function(P,D,X){var G=P.target,F=(G[0][0]-I[0])/i,K=-(G[0][1]-I[1])/i,ot=(G[1][0]-I[0])/i,st=-(G[1][1]-I[1])/i,dt=(G[2][0]-I[0])/i,ft=-(G[2][1]-I[1])/i;p.beginPath(),p.moveTo(ot,st),p.lineTo(F,K),p.lineTo(dt,ft),p.closePath(),p.stroke()}),p.restore()),p.canvas}var D3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),N3=function(r){D3(e,r);function e(t,o,n,i,s,c,u,d,h,b,p,v){var _=r.call(this,s,At.IDLE,{interpolate:!!v})||this;_.renderEdges_=p!==void 0?p:!1,_.pixelRatio_=u,_.gutter_=d,_.canvas_=null,_.sourceTileGrid_=o,_.targetTileGrid_=i,_.wrappedTileCoord_=c||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var w=i.getTileCoordExtent(_.wrappedTileCoord_),k=_.targetTileGrid_.getExtent(),T=_.sourceTileGrid_.getExtent(),A=k?Qa(w,k):w;if(ef(A)===0)return _.state=At.EMPTY,_;var I=t.getExtent();I&&(T?T=Qa(T,I):T=I);var P=i.getResolution(_.wrappedTileCoord_[0]),D=M3(t,n,A,P);if(!isFinite(D)||D<=0)return _.state=At.EMPTY,_;var X=b!==void 0?b:A3;if(_.triangulation_=new S3(t,n,A,T,D*X,P),_.triangulation_.getTriangles().length===0)return _.state=At.EMPTY,_;_.sourceZ_=o.getZForResolution(D);var G=_.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(G[1]=Se(G[1],T[1],T[3]),G[3]=Se(G[3],T[1],T[3])):G=Qa(G,T)),!ef(G))_.state=At.EMPTY;else{for(var F=o.getTileRangeForExtentAndZ(G,_.sourceZ_),K=F.minX;K<=F.maxX;K++)for(var ot=F.minY;ot<=F.maxY;ot++){var st=h(_.sourceZ_,K,ot,u);st&&_.sourceTiles_.push(st)}_.sourceTiles_.length===0&&(_.state=At.EMPTY)}return _}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(h,b,p){h&&h.getState()==At.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(h.tileCoord),image:h.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=At.ERROR;else{var o=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(o),i=typeof n=="number"?n:n[0],s=typeof n=="number"?n:n[1],c=this.targetTileGrid_.getResolution(o),u=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=F3(i,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=At.LOADED}this.changed()},e.prototype.load=function(){if(this.state==At.IDLE){this.state=At.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(o,n,i){var s=o.getState();if(s==At.IDLE||s==At.LOADING){t++;var c=Jt(o,zt.CHANGE,function(u){var d=o.getState();(d==At.LOADED||d==At.ERROR||d==At.EMPTY)&&(_e(c),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(o,n,i){var s=o.getState();s==At.IDLE&&o.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_e),this.sourcesListenerKeys_=null},e}(q0),Q0=N3;function Ov(r,e,t,o){return o!==void 0?(o[0]=r,o[1]=e,o[2]=t,o):[r,e,t]}function jc(r,e,t){return r+"/"+e+"/"+t}function t_(r){return jc(r[0],r[1],r[2])}function z3(r){return r.split("/").map(Number)}function G3(r){return(r[1]<<r[0])+r[2]}function B3(r,e){var t=r[0],o=r[1],n=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(o,n):!0}var W3=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),U3=function(r){W3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var o=this.peekLast();if(o.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),o=z3(t),n=o[0];this.forEach(function(i){i.tileCoord[0]!==n&&(this.remove(t_(i.tileCoord)),i.release())}.bind(this))}},e}(w3),e_=U3,Ad={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},o_=function(){function r(e,t,o,n){this.minX=e,this.maxX=t,this.minY=o,this.maxY=n}return r.prototype.contains=function(e){return this.containsXY(e[1],e[2])},r.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},r.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},r.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},r.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},r}();function Ii(r,e,t,o,n){return n!==void 0?(n.minX=r,n.maxX=e,n.minY=t,n.maxY=o,n):new o_(r,e,t,o)}var r_=o_,Y3=[0,0,0],on=5,X3=function(){function r(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,$t(oA(this.resolutions_,function(s,c){return c-s},!0),17);var t;if(!e.origins){for(var o=0,n=this.resolutions_.length-1;o<n;++o)if(!t)t=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,$t(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=xn(i)),$t(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,$t(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:fh,$t(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,c){var u=new r_(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var d=this.getTileRangeForExtentAndZ(i,c);u.minX=Math.max(d.minX,u.minX),u.maxX=Math.min(d.maxX,u.maxX),u.minY=Math.max(d.minY,u.minY),u.maxY=Math.min(d.maxY,u.maxY)}return u},this):i&&this.calculateTileRanges_(i)}return r.prototype.forEachTileCoord=function(e,t,o){for(var n=this.getTileRangeForExtentAndZ(e,t),i=n.minX,s=n.maxX;i<=s;++i)for(var c=n.minY,u=n.maxY;c<=u;++c)o([t,i,c])},r.prototype.forEachTileCoordParentTileRange=function(e,t,o,n){var i,s,c,u=null,d=e[0]-1;for(this.zoomFactor_===2?(s=e[1],c=e[2]):u=this.getTileCoordExtent(e,n);d>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),c=Math.floor(c/2),i=Ii(s,s,c,c,o)):i=this.getTileRangeForExtentAndZ(u,d,o),t(d,i))return!0;--d}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},r.prototype.getResolution=function(e){return this.resolutions_[e]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var n=e[1]*2,i=e[2]*2;return Ii(n,n+1,i,i+1,t)}var s=this.getTileCoordExtent(e,o||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(e,t,o){if(t>this.maxZoom||t<this.minZoom)return null;var n=e[0],i=e[1],s=e[2];if(t===n)return Ii(i,s,i,s,o);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,t-n),u=Math.floor(i*c),d=Math.floor(s*c);if(t<n)return Ii(u,u,d,d,o);var h=Math.floor(c*(i+1))-1,b=Math.floor(c*(s+1))-1;return Ii(u,h,d,b,o)}var p=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,t,o)},r.prototype.getTileRangeExtent=function(e,t,o){var n=this.getOrigin(e),i=this.getResolution(e),s=$o(this.getTileSize(e),this.tmpSize_),c=n[0]+t.minX*s[0]*i,u=n[0]+(t.maxX+1)*s[0]*i,d=n[1]+t.minY*s[1]*i,h=n[1]+(t.maxY+1)*s[1]*i;return tr(c,d,u,h,o)},r.prototype.getTileRangeForExtentAndZ=function(e,t,o){var n=Y3;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);var i=n[1],s=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),Ii(i,n[1],s,n[2],o)},r.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),n=$o(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*o,t[1]-(e[2]+.5)*n[1]*o]},r.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=$o(this.getTileSize(e[0]),this.tmpSize_),s=o[0]+e[1]*i[0]*n,c=o[1]-(e[2]+1)*i[1]*n,u=s+i[0]*n,d=c+i[1]*n;return tr(s,c,u,d,t)},r.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},r.prototype.getTileCoordForXYAndResolution_=function(e,t,o,n,i){var s=this.getZForResolution(o),c=o/this.getResolution(s),u=this.getOrigin(s),d=$o(this.getTileSize(s),this.tmpSize_),h=c*(e-u[0])/o/d[0],b=c*(u[1]-t)/o/d[1];return n?(h=Ll(h,on)-1,b=Ll(b,on)-1):(h=Pl(h,on),b=Pl(b,on)),Ov(s,h,b,i)},r.prototype.getTileCoordForXYAndZ_=function(e,t,o,n,i){var s=this.getOrigin(o),c=this.getResolution(o),u=$o(this.getTileSize(o),this.tmpSize_),d=(e-s[0])/c/u[0],h=(s[1]-t)/c/u[1];return n?(d=Ll(d,on)-1,h=Ll(h,on)-1):(d=Pl(d,on),h=Pl(h,on)),Ov(o,d,h,i)},r.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},r.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},r.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},r.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},r.prototype.getZForResolution=function(e,t){var o=eh(this.resolutions_,e,t||0);return Se(o,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=new Array(t),n=this.minZoom;n<t;++n)o[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=o},r}(),n_=X3;function i_(r){var e=r.getDefaultTileGrid();return e||(e=K3(r),r.setDefaultTileGrid(e)),e}function V3(r,e,t){var o=e[0],n=r.getTileCoordCenter(e),i=xh(t);if(Es(i,n))return e;var s=ke(i),c=Math.ceil((i[0]-n[0])/s);return n[0]+=s*c,r.getTileCoordForCoordAndZ(n,o)}function j3(r,e,t,o){var n=o!==void 0?o:Wa.TOP_LEFT,i=a_(r,e,t);return new n_({extent:r,origin:SR(r,n),resolutions:i,tileSize:t})}function H3(r){var e=r||{},t=e.extent||lo("EPSG:3857").getExtent(),o={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:a_(t,e.maxZoom,e.tileSize,e.maxResolution)};return new n_(o)}function a_(r,e,t,o){for(var n=e!==void 0?e:pO,i=er(r),s=ke(r),c=$o(t!==void 0?t:fh),u=o>0?o:Math.max(s/c[0],i/c[1]),d=n+1,h=new Array(d),b=0;b<d;++b)h[b]=u/Math.pow(2,b);return h}function K3(r,e,t,o){var n=xh(r);return j3(n,e,t,o)}function xh(r){r=lo(r);var e=r.getExtent();if(!e){var t=180*Lo[mo.DEGREES]/r.getMetersPerUnit();e=tr(-t,-t,t,t)}return e}var s_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),$3=function(r){s_(e,r);function e(t){var o=r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;o.on,o.once,o.un,o.opaque_=t.opaque!==void 0?t.opaque:!1,o.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,o.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var n=[256,256];return o.tileGrid&&$o(o.tileGrid.getTileSize(o.tileGrid.getMinZoom()),n),o.tileCache=new e_(t.cacheSize||0),o.tmpSize=[0,0],o.key_=t.key||"",o.tileOptions={transition:t.transition,interpolate:t.interpolate},o.zDirection=t.zDirection?t.zDirection:0,o}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,o){var n=this.getTileCacheForProjection(t);n&&n.expireCache(o)},e.prototype.forEachLoadedTile=function(t,o,n,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var c=!0,u,d,h,b=n.minX;b<=n.maxX;++b)for(var p=n.minY;p<=n.maxY;++p)d=jc(o,b,p),h=!1,s.containsKey(d)&&(u=s.get(d),h=u.getState()===At.LOADED,h&&(h=i(u)!==!1)),h||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,o,n,i,s){return Kt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:i_(t)},e.prototype.getTileCacheForProjection=function(t){return $t(Mi(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,o,n){var i=this.getTileGridForProjection(n),s=this.getTilePixelRatio(o),c=$o(i.getTileSize(t),this.tmpSize);return s==1?c:vI(c,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,o){var n=o!==void 0?o:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=V3(i,t,n)),B3(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,o){var n=this.getTileCacheForProjection(o);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,o,n,i){},e}(K0),Z3=function(r){s_(e,r);function e(t,o){var n=r.call(this,t)||this;return n.tile=o,n}return e}(fr),q3=$3;function J3(r,e){var t=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,i=/\{-y\}/g;return function(s,c,u){if(s)return r.replace(t,s[0].toString()).replace(o,s[1].toString()).replace(n,s[2].toString()).replace(i,function(){var d=s[0],h=e.getFullTileRange(d);$t(h,55);var b=h.getHeight()-s[2]-1;return b.toString()})}}function Q3(r,e){for(var t=r.length,o=new Array(t),n=0;n<t;++n)o[n]=J3(r[n],e);return tL(o)}function tL(r){return r.length===1?r[0]:function(e,t,o){if(e){var n=G3(e),i=Xi(n,r.length);return r[i](e,t,o)}else return}}function eL(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var o=t[1].charCodeAt(0),n=t[2].charCodeAt(0),i=void 0;for(i=o;i<=n;++i)e.push(r.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){for(var s=parseInt(t[2],10),c=parseInt(t[1],10);c<=s;c++)e.push(r.replace(t[0],c.toString()));return e}return e.push(r),e}var oL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),rL=function(r){oL(e,r);function e(t){var o=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return o.generateTileUrlFunction_=o.tileUrlFunction===e.prototype.tileUrlFunction,o.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(o.tileUrlFunction=t.tileUrlFunction),o.urls=null,t.urls?o.setUrls(t.urls):t.url&&o.setUrl(t.url),o.tileLoadingKeys_={},o}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var o=t.target,n=ie(o),i=o.getState(),s;i==At.LOADING?(this.tileLoadingKeys_[n]=!0,s=Ad.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],s=i==At.ERROR?Ad.TILELOADERROR:i==At.LOADED?Ad.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Z3(s,o))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,o){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof o!="undefined"?this.setKey(o):this.changed()},e.prototype.setUrl=function(t){var o=eL(t);this.urls=o,this.setUrls(o)},e.prototype.setUrls=function(t){this.urls=t;var o=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Q3(t,this.tileGrid),o):this.setKey(o)},e.prototype.tileUrlFunction=function(t,o,n){},e.prototype.useTile=function(t,o,n){var i=jc(t,o,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(q3),nL=rL,iL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),aL=function(r){iL(e,r);function e(t){var o=this,n=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(n=t.interpolate),o=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:sL,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:n,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,o.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,o.tileClass=t.tileClass!==void 0?t.tileClass:J0,o.tileCacheForProjection={},o.tileGridForProjection={},o.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,o.renderReprojectionEdges_=!1,o}return e.prototype.canExpireCache=function(){if(!Tr)return r.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,o){if(!Tr){r.prototype.expireCache.call(this,t,o);return}var n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?o:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==n?o:{})}},e.prototype.getGutterForProjection=function(t){return Tr&&this.getProjection()&&t&&!Mi(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=r.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return Tr&&this.getProjection()&&t&&!Mi(this.getProjection(),t)?!1:r.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!Tr)return r.prototype.getTileGridForProjection.call(this,t);var o=this.getProjection();if(this.tileGrid&&(!o||Mi(o,t)))return this.tileGrid;var n=ie(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=i_(t)),this.tileGridForProjection[n]},e.prototype.getTileCacheForProjection=function(t){if(!Tr)return r.prototype.getTileCacheForProjection.call(this,t);var o=this.getProjection();if(!o||Mi(o,t))return this.tileCache;var n=ie(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new e_(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,o,n,i,s,c){var u=[t,o,n],d=this.getTileCoordForTileUrlFunction(u,s),h=d?this.tileUrlFunction(d,i,s):void 0,b=new this.tileClass(u,h!==void 0?At.IDLE:At.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return b.key=c,b.addEventListener(zt.CHANGE,this.handleTileChange.bind(this)),b},e.prototype.getTile=function(t,o,n,i,s){var c=this.getProjection();if(!Tr||!c||!s||Mi(c,s))return this.getTileInternal(t,o,n,i,c||s);var u=this.getTileCacheForProjection(s),d=[t,o,n],h=void 0,b=t_(d);u.containsKey(b)&&(h=u.get(b));var p=this.getKey();if(h&&h.key==p)return h;var v=this.getTileGridForProjection(c),_=this.getTileGridForProjection(s),w=this.getTileCoordForTileUrlFunction(d,s),k=new Q0(c,v,s,_,d,w,this.getTilePixelRatio(i),this.getGutter(),function(T,A,I,P){return this.getTileInternal(T,A,I,P,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=p,h?(k.interimTile=h,k.refreshInterimChain(),u.replace(b,k)):u.set(b,k),k},e.prototype.getTileInternal=function(t,o,n,i,s){var c=null,u=jc(t,o,n),d=this.getKey();if(!this.tileCache.containsKey(u))c=this.createTile_(t,o,n,i,s,d),this.tileCache.set(u,c);else if(c=this.tileCache.get(u),c.key!=d){var h=c;c=this.createTile_(t,o,n,i,s,d),h.getState()==At.IDLE?c.interimTile=h.interimTile:c.interimTile=h,c.refreshInterimChain(),this.tileCache.replace(u,c)}return c},e.prototype.setRenderReprojectionEdges=function(t){if(!(!Tr||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var o in this.tileCacheForProjection)this.tileCacheForProjection[o].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,o){if(Tr){var n=lo(t);if(n){var i=ie(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=o)}}},e}(nL);function sL(r,e){r.getImage().src=e}var lL=aL,cL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uL=function(r){cL(e,r);function e(t){var o=t||{},n=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(n=o.interpolate);var i=o.projection!==void 0?o.projection:"EPSG:3857",s=o.tileGrid!==void 0?o.tileGrid:H3({extent:xh(i),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return r.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:n,opaque:o.opaque,projection:i,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this}return e}(lL),dL=uL,fL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),hL='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',pL=function(r){fL(e,r);function e(t){var o=t||{},n=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(n=o.interpolate);var i;o.attributions!==void 0?i=o.attributions:i=[hL];var s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",c=o.url!==void 0?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:s,interpolate:n,maxZoom:o.maxZoom!==void 0?o.maxZoom:19,opaque:o.opaque!==void 0?o.opaque:!0,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:c,wrapX:o.wrapX,zDirection:o.zDirection})||this}return e}(dL),gL=pL,Xl={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},bL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),vL=function(r){bL(e,r);function e(t){var o=this,n=t||{},i=De({},n);return delete i.preload,delete i.useInterimTilesOnError,o=r.call(this,i)||this,o.on,o.once,o.un,o.setPreload(n.preload!==void 0?n.preload:0),o.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),o}return e.prototype.getPreload=function(){return this.get(Xl.PRELOAD)},e.prototype.setPreload=function(t){this.set(Xl.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Xl.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Xl.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return r.prototype.getData.call(this,t)},e}(Uc),mL=vL,_L=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yL=function(r){_L(e,r);function e(t){var o=r.call(this,t)||this;return o.extentChanged=!0,o.renderedExtent_=null,o.renderedPixelRatio,o.renderedProjection=null,o.renderedRevision,o.renderedTiles=[],o.newTiles_=!1,o.tmpExtent=Mo(),o.tmpTileRange_=new r_(0,0,0,0),o}return e.prototype.isDrawableTile=function(t){var o=this.getLayer(),n=t.getState(),i=o.getUseInterimTilesOnError();return n==At.LOADED||n==At.EMPTY||n==At.ERROR&&!i},e.prototype.getTile=function(t,o,n,i){var s=i.pixelRatio,c=i.viewState.projection,u=this.getLayer(),d=u.getSource(),h=d.getTile(t,o,n,s,c);return h.getState()==At.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):h.setState(At.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h},e.prototype.getData=function(t){var o=this.frameState;if(!o)return null;var n=this.getLayer(),i=Ie(o.pixelToCoordinateTransform,t.slice()),s=n.getExtent();if(s&&!Es(s,i))return null;for(var c=o.pixelRatio,u=o.viewState.projection,d=o.viewState,h=n.getRenderSource(),b=h.getTileGridForProjection(d.projection),p=h.getTilePixelRatio(o.pixelRatio),v=b.getZForResolution(d.resolution);v>=b.getMinZoom();--v){var _=b.getTileCoordForCoordAndZ(i,v),w=h.getTile(v,_[1],_[2],c,u);if(!(w instanceof J0||w instanceof Q0))return null;if(w.getState()===At.LOADED){var k=b.getOrigin(v),T=$o(b.getTileSize(v)),A=b.getResolution(v),I=Math.floor(p*((i[0]-k[0])/A-_[1]*T[0])),P=Math.floor(p*((k[1]-i[1])/A-_[2]*T[1]));return this.getImageData(w.getImage(),I,P)}}return null},e.prototype.loadedTileCallback=function(t,o,n){return this.isDrawableTile(n)?r.prototype.loadedTileCallback.call(this,t,o,n):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,o){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,c=i.resolution,u=i.center,d=i.rotation,h=t.pixelRatio,b=this.getLayer(),p=b.getSource(),v=p.getRevision(),_=p.getTileGridForProjection(s),w=_.getZForResolution(c,p.zDirection),k=_.getResolution(w),T=t.extent,A=n.extent&&Kn(n.extent,s);A&&(T=Qa(T,Kn(n.extent,s)));var I=p.getTilePixelRatio(h),P=Math.round(t.size[0]*I),D=Math.round(t.size[1]*I);if(d){var X=Math.round(Math.sqrt(P*P+D*D));P=X,D=X}var G=k*P/2/I,F=k*D/2/I,K=[u[0]-G,u[1]-F,u[0]+G,u[1]+F],ot=_.getTileRangeForExtentAndZ(T,w),st={};st[w]={};var dt=this.createLoadedTileFinder(p,s,st),ft=this.tmpExtent,mt=this.tmpTileRange_;this.newTiles_=!1;for(var it=ot.minX;it<=ot.maxX;++it)for(var ht=ot.minY;ht<=ot.maxY;++ht){var et=this.getTile(w,it,ht,t);if(this.isDrawableTile(et)){var ut=ie(this);if(et.getState()==At.LOADED){st[w][et.tileCoord.toString()]=et;var yt=et.inTransition(ut);!this.newTiles_&&(yt||this.renderedTiles.indexOf(et)===-1)&&(this.newTiles_=!0)}if(et.getAlpha(ut,t.time)===1)continue}var Pt=_.getTileCoordChildTileRange(et.tileCoord,mt,ft),Lt=!1;Pt&&(Lt=dt(w+1,Pt)),Lt||_.forEachTileCoordParentTileRange(et.tileCoord,dt,mt,ft)}var Z=k/c;Nr(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/I,1/I,d,-P/2,-D/2);var Xt=r0(this.pixelTransform);this.useContainer(o,Xt,n.opacity,this.getBackground(t));var Et=this.context,z=Et.canvas;oh(this.inversePixelTransform,this.pixelTransform),Nr(this.tempTransform,P/2,D/2,Z,Z,0,-P/2,-D/2),z.width!=P||z.height!=D?(z.width=P,z.height=D):this.containerReused||Et.clearRect(0,0,P,D),A&&this.clipUnrotated(Et,t,A),p.getInterpolate()||De(Et,_f),this.preRender(Et,t),this.renderedTiles.length=0;var rt=Object.keys(st).map(Number);rt.sort(ni);var Q,at,St;n.opacity===1&&(!this.containerReused||p.getOpaque(t.viewState.projection))?rt=rt.reverse():(Q=[],at=[]);for(var Zt=rt.length-1;Zt>=0;--Zt){var xt=rt[Zt],Ct=p.getTilePixelSize(xt,h,s),E=_.getResolution(xt),O=E/k,M=Ct[0]*O*Z,V=Ct[1]*O*Z,W=_.getTileCoordForCoordAndZ(xn(K),xt),tt=_.getTileCoordExtent(W),nt=Ie(this.tempTransform,[I*(tt[0]-K[0])/k,I*(K[3]-tt[3])/k]),q=I*p.getGutterForProjection(s),J=st[xt];for(var j in J){var et=J[j],gt=et.tileCoord,pt=W[1]-gt[1],vt=Math.round(nt[0]-(pt-1)*M),wt=W[2]-gt[2],Mt=Math.round(nt[1]-(wt-1)*V),it=Math.round(nt[0]-pt*M),ht=Math.round(nt[1]-wt*V),Ft=vt-it,Gt=Mt-ht,Vt=w===xt,yt=Vt&&et.getAlpha(ie(this),t.time)!==1,Ee=!1;if(!yt)if(Q){St=[it,ht,it+Ft,ht,it+Ft,ht+Gt,it,ht+Gt];for(var ge=0,No=Q.length;ge<No;++ge)if(w!==xt&&xt<at[ge]){var ce=Q[ge];Qe([it,ht,it+Ft,ht+Gt],[ce[0],ce[3],ce[4],ce[7]])&&(Ee||(Et.save(),Ee=!0),Et.beginPath(),Et.moveTo(St[0],St[1]),Et.lineTo(St[2],St[3]),Et.lineTo(St[4],St[5]),Et.lineTo(St[6],St[7]),Et.moveTo(ce[6],ce[7]),Et.lineTo(ce[4],ce[5]),Et.lineTo(ce[2],ce[3]),Et.lineTo(ce[0],ce[1]),Et.clip())}Q.push(St),at.push(xt)}else Et.clearRect(it,ht,Ft,Gt);this.drawTileImage(et,t,it,ht,Ft,Gt,q,Vt),Q&&!yt?(Ee&&Et.restore(),this.renderedTiles.unshift(et)):this.renderedTiles.push(et),this.updateUsedTiles(t.usedTiles,p,et)}}this.renderedRevision=v,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!us(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(t,p,_,h,s,T,w,b.getPreload()),this.scheduleExpireCache(t,p),this.postRender(Et,t),n.extent&&Et.restore(),De(Et,P3),Xt!==z.style.transform&&(z.style.transform=Xt);var co=T0(n.opacity),be=this.container;return co!==be.style.opacity&&(be.style.opacity=co),this.container},e.prototype.drawTileImage=function(t,o,n,i,s,c,u,d){var h=this.getTileImage(t);if(!!h){var b=ie(this),p=d?t.getAlpha(b,o.time):1,v=p!==this.context.globalAlpha;v&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(h,u,u,h.width-2*u,h.height-2*u,n,i,s,c),v&&this.context.restore(),p!==1?o.animate=!0:d&&t.endTransition(b)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,o){if(o.canExpireCache()){var n=function(i,s,c){var u=ie(i);u in c.usedTiles&&i.expireCache(c.viewState.projection,c.usedTiles[u])}.bind(null,o);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,o,n){var i=ie(o);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,o,n,i,s,c,u,d,h){var b=ie(o);b in t.wantedTiles||(t.wantedTiles[b]={});var p=t.wantedTiles[b],v=t.tileQueue,_=n.getMinZoom(),w=0,k,T,A,I,P,D;for(D=_;D<=u;++D)for(T=n.getTileRangeForExtentAndZ(c,D,T),A=n.getResolution(D),I=T.minX;I<=T.maxX;++I)for(P=T.minY;P<=T.maxY;++P)u-D<=d?(++w,k=o.getTile(D,I,P,i,s),k.getState()==At.IDLE&&(p[k.getKey()]=!0,v.isKeyQueued(k.getKey())||v.enqueue([k,b,n.getTileCoordCenter(k.tileCoord),A])),h!==void 0&&h(k)):o.useTile(D,I,P,s);o.updateCacheSize(w,s)},e}(V0),xL=yL,wL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kL=function(r){wL(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new xL(this)},e}(mL),EL=kL;class CL{constructor(e){kr(this,"name");kr(this,"horizFov");kr(this,"vertFov");this.name=e.name,this.horizFov=e.horizFov,this.vertFov=e.vertFov}projectedArea(e){return{height:this.projectedLength(this.vertFov,e),width:this.projectedLength(this.horizFov,e)}}projectedLength(e,t){return Math.tan(e/2/180*Math.PI)*t*2}}class TL{constructor(e){kr(this,"name");kr(this,"viewModes");this.name=e.name,this.viewModes=e.viewModes.map(t=>new CL(t))}}const RL=[{name:"Go Pro Hero 8",viewModes:[{name:"Narrow 4:3 landscape",vertFov:53.7,horizFov:68},{name:"Linear (zoom=1.0x) 4:3 landscape",vertFov:70,horizFov:86},{name:"Wide 4:3 landscape",vertFov:94.4,horizFov:122.6}]}];function AL(){return RL.map(r=>new TL(r))}const Od=AL(),oa=Wf({id:"acquisition",state:()=>({cameraLibrary:Od,selectedCamera:Od[0],selectedViewMode:Od[0].viewModes[0],distanceToGround:2.5,frontOverlapPercent:80,sideOverlapPercent:70,shotTimeInterval:1}),getters:{frontShotDistance:r=>r.selectedViewMode.projectedArea(r.distanceToGround).height*(1-r.frontOverlapPercent/100),sideShotDistance:r=>r.selectedViewMode.projectedArea(r.distanceToGround).width*(1-r.sideOverlapPercent/100),swimmingSpeed:r=>r.selectedViewMode.projectedArea(r.distanceToGround).height*(1-r.frontOverlapPercent/100)/r.shotTimeInterval},actions:{setCamera(r){this.selectedCamera=r,this.selectedViewMode=r.viewModes[0]}}}),Ps=Wf({id:"mappingTrajectory",state:()=>({trajectory:[],pointLeap:5}),getters:{distance:r=>tv(r.trajectory),duration:r=>{const e=oa();return tv(r.trajectory)/e.swimmingSpeed}},actions:{updateTrajectory(){const r=Xf(),e=oa();if(r.perimeter===null){this.trajectory=[];return}this.trajectory=sO(r.perimeter,e.sideShotDistance,this.pointLeap)}}}),OL={class:"section"},IL=H("h1",null,"Navigation",-1),SL={class:"field is-horizontal"},PL=H("div",{class:"field-label is-normal"},[H("label",{class:"label"},[sa(" Point leaps "),H("span",{class:"tooltip has-tooltip-right","data-tooltip":"Distance between 2 points on the GPS swimming track"},"(*)")])],-1),LL={class:"field-body"},ML={class:"field has-addons"},FL={class:"control"},DL=H("p",{class:"control"},[H("a",{class:"button is-static"}," m ")],-1),NL=zr({__name:"TrajectoryParams",setup(r){const e=Ps();return oa(),Qo(()=>e.pointLeap,()=>e.updateTrajectory()),(t,o)=>(jo(),Ho("section",OL,[IL,H("div",SL,[PL,H("div",LL,[H("div",ML,[H("p",FL,[Yi(H("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>ne(e).pointLeap=n),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[Ka,ne(e).pointLeap]])]),DL])])])]))}}),zL={class:"section"},GL=H("h1",null,"Camera",-1),BL={class:"field is-horizontal"},WL=H("div",{class:"field-label is-normal"},[H("label",{class:"label"}," Model ")],-1),UL={class:"field-body"},YL={class:"field has-addons"},XL={class:"control"},VL=["value"],jL=["value"],HL={class:"field is-horizontal"},KL=H("div",{class:"field-label is-normal"},[H("label",{class:"label"}," View mode ")],-1),$L={class:"field-body"},ZL={class:"field has-addons"},qL={class:"control"},JL=["value"],QL={class:"field is-horizontal"},tM=H("div",{class:"field-label is-normal"},[H("label",{class:"label"}," Shot time interval ")],-1),eM={class:"field-body"},oM={class:"field has-addons"},rM={class:"control"},nM=H("p",{class:"control"},[H("a",{class:"button is-static"}," s ")],-1),iM=zr({__name:"CameraSelection",setup(r){const e=oa(),t=Ps();Qo(()=>e.selectedViewMode,()=>t.updateTrajectory());function o(n){e.setCamera(n.target.value)}return(n,i)=>(jo(),Ho("section",zL,[GL,H("div",BL,[WL,H("div",UL,[H("div",YL,[H("p",XL,[H("select",{value:ne(e).selectedCamera,onChange:o,class:"input is-primary"},[(jo(!0),Ho(ao,null,ab(ne(e).cameraLibrary,s=>(jo(),Ho("option",{value:s},Xo(s.name),9,jL))),256))],40,VL)])])])]),H("div",HL,[KL,H("div",$L,[H("div",ZL,[H("p",qL,[Yi(H("select",{"onUpdate:modelValue":i[0]||(i[0]=s=>ne(e).selectedViewMode=s),class:"input is-primary"},[(jo(!0),Ho(ao,null,ab(ne(e).selectedCamera.viewModes,s=>(jo(),Ho("option",{value:s},Xo(s.name),9,JL))),256))],512),[[XT,ne(e).selectedViewMode]])])])])]),H("div",QL,[tM,H("div",eM,[H("div",oM,[H("p",rM,[Yi(H("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>ne(e).shotTimeInterval=s),type:"number",min:"1",max:"10",class:"input is-primary"},null,512),[[Ka,ne(e).shotTimeInterval]])]),nM])])])]))}}),aM={class:"section"},sM=H("h1",null,"Acquistion",-1),lM={class:"field is-horizontal"},cM=H("div",{class:"field-label is-normal"},[H("label",{class:"label"},[sa(" Min dist to ground "),H("span",{class:"tooltip has-tooltip-right","data-tooltip":"The closer ground fixes the overall capture speed"}," (*) ")])],-1),uM={class:"field-body"},dM={class:"field has-addons"},fM={class:"control"},hM=H("p",{class:"control"},[H("a",{class:"button is-static"}," m ")],-1),pM={class:"field is-horizontal"},gM=H("div",{class:"field-label is-normal"},[H("label",{class:"label"},[sa(" Front overlap "),H("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover going front"},"(*)")])],-1),bM={class:"field-body"},vM={class:"field has-addons"},mM={class:"control"},_M=H("p",{class:"control"},[H("a",{class:"button is-static"}," % ")],-1),yM={class:"field is-horizontal"},xM=H("div",{class:"field-label is-normal"},[H("label",{class:"label"},[sa(" Side overlap "),H("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover side by side"}," (*) ")])],-1),wM={class:"field-body"},kM={class:"field has-addons"},EM={class:"control"},CM=H("p",{class:"control"},[H("a",{class:"button is-static"}," % ")],-1),TM=zr({__name:"AcquisitionParams",setup(r){const e=oa(),t=Ps();return Qo(()=>e.distanceToGround,()=>t.updateTrajectory()),Qo(()=>e.sideOverlapPercent,()=>t.updateTrajectory()),(o,n)=>(jo(),Ho("div",null,[Ue(iM),H("section",aM,[sM,H("div",lM,[cM,H("div",uM,[H("div",dM,[H("p",fM,[Yi(H("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>ne(e).distanceToGround=i),type:"number",min:"0.2",max:"10",class:"input is-primary"},null,512),[[Ka,ne(e).distanceToGround]])]),hM])])]),H("div",pM,[gM,H("div",bM,[H("div",vM,[H("p",mM,[Yi(H("input",{"onUpdate:modelValue":n[1]||(n[1]=i=>ne(e).frontOverlapPercent=i),type:"number",min:"10",max:"1000",class:"input is-primary"},null,512),[[Ka,ne(e).frontOverlapPercent]])]),_M])])]),H("div",yM,[xM,H("div",wM,[H("div",kM,[H("p",EM,[Yi(H("input",{"onUpdate:modelValue":n[2]||(n[2]=i=>ne(e).sideOverlapPercent=i),type:"number",min:"10",max:"100",class:"input is-primary"},null,512),[[Ka,ne(e).sideOverlapPercent]])]),CM])])])])]))}}),RM={class:"section"},AM=H("h1",null,"Planned route",-1),OM={class:"table is-striped is-fullwidth"},IM=H("td",null,"Area",-1),SM=H("sup",null,"2",-1),PM=H("td",null,"Band width",-1),LM=H("td",null,"Distance",-1),MM=H("td",null,"Moving speed",-1),FM=H("td",null,"Duration",-1),DM=H("td",null,"Nb photos",-1),NM=H("tr",null,[H("td"),H("td")],-1),zM=zr({__name:"Route",setup(r){const e=oa(),t=Xf(),o=Ps();return(n,i)=>(jo(),Ho("div",null,[H("section",RM,[AM,H("table",OM,[H("tbody",null,[H("tr",null,[IM,H("td",null,[sa(Xo(ne(t).width.toFixed(0))+" x "+Xo(ne(t).height.toFixed(0))+" = "+Xo(ne(t).area.toFixed(0))+" m",1),SM])]),H("tr",null,[PM,H("td",null,Xo(ne(e).sideShotDistance.toFixed(2)),1)]),H("tr",null,[LM,H("td",null,Xo(ne(o).distance.toFixed(0))+" m ",1)]),H("tr",null,[MM,H("td",null,Xo(ne(e).swimmingSpeed.toFixed(1))+" m/s, "+Xo((ne(e).swimmingSpeed*3.6).toFixed(1))+" km/h ",1)]),H("tr",null,[FM,H("td",null,Xo(ne(o).duration.toFixed(0))+" s ",1)]),H("tr",null,[DM,H("td",null,Xo(Math.round(ne(o).duration/ne(e).shotTimeInterval)),1)]),NM])])])]))}});const GM=H("div",null,[H("div",{id:"mapViewport",class:"mapViewport map-viewport"})],-1),BM={class:"field"},WM=H("div",{id:"mouse-position"},null,-1),UM=zr({__name:"MapLayer",setup(r){const e=Xf(),t=Ps();Qo(()=>e.perimeter,()=>t.updateTrajectory()),Qo(()=>t.trajectory,b),Cc("mapViewport"),$R();const o=new EL({source:new gL}),n=new mf({wrapX:!1}),i=new vf({source:n}),s=new mf({wrapX:!1}),c=new vf({source:s,style:[new jS({stroke:new ts({color:"orangered",width:2}),fill:new mc({color:"orangered"})})]}),u=new FI({coordinateFormat:NR(6),projection:"EPSG:3857"});let d;Ff(()=>{d=new y3({layers:[o,i,c],controls:L0().extend([u]),target:"mapViewport",view:new un({center:[23.1319788,37.4283254],zoom:17})})});function h(){n.clear(),s.clear();const p=new b3({source:n,type:"Circle",geometryFunction:p3()});d.addInteraction(p),p.on("drawend",function(v){d.removeInteraction(p);const _=v.feature.getGeometry().getCoordinates()[0];_.pop();const w=new hO(_.map(k=>[...k]));e.perimeter=w,b()})}function b(){s.clear();const p=t.trajectory;if(!p)return;const v=new bn(p),_=new jn(v);s.addFeature(_),p.forEach(w=>s.addFeature(new jn(new s0(w,2e-6))))}return(p,v)=>(jo(),Ho(ao,null,[GM,H("div",null,[H("div",BM,[H("div",{class:"control"},[H("button",{class:"button is-primary is-fullwidth",onClick:h},"Draw perimeter")]),Ue(TM),Ue(NL),Ue(zM)]),WM])],64))}}),YM=zr({__name:"HomeView",setup(r){return(e,t)=>(jo(),Ho("main",null,[Ue(UM)]))}}),XM=oR({history:_2("/lawnmower/"),routes:[{path:"/",name:"home",component:YM}]});const wh=HT(aR);wh.use(ZT());wh.use(XM);wh.mount("#app");
