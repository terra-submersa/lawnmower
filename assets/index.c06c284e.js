var E2=Object.defineProperty;var C2=(n,e,t)=>e in n?E2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Tn=(n,e,t)=>(C2(n,typeof e!="symbol"?e+"":e,t),t);const T2=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};T2();function Cu(n,e){const t=Object.create(null),o=n.split(",");for(let r=0;r<o.length;r++)t[o[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const R2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",A2=Cu(R2);function Lm(n){return!!n||n===""}function Tu(n){if(Ot(n)){const e={};for(let t=0;t<n.length;t++){const o=n[t],r=Ne(o)?S2(o):Tu(o);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Ne(n))return n;if(Oe(n))return n}}const I2=/;(?![^(]*\))/g,O2=/:(.+)/;function S2(n){const e={};return n.split(I2).forEach(t=>{if(t){const o=t.split(O2);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Cf(n){let e="";if(Ne(n))e=n;else if(Ot(n))for(let t=0;t<n.length;t++){const o=Cf(n[t]);o&&(e+=o+" ")}else if(Oe(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function P2(n,e){if(n.length!==e.length)return!1;let t=!0;for(let o=0;t&&o<n.length;o++)t=Tf(n[o],e[o]);return t}function Tf(n,e){if(n===e)return!0;let t=Zb(n),o=Zb(e);if(t||o)return t&&o?n.getTime()===e.getTime():!1;if(t=os(n),o=os(e),t||o)return n===e;if(t=Ot(n),o=Ot(e),t||o)return t&&o?P2(n,e):!1;if(t=Oe(n),o=Oe(e),t||o){if(!t||!o)return!1;const r=Object.keys(n).length,i=Object.keys(e).length;if(r!==i)return!1;for(const s in n){const f=n.hasOwnProperty(s),c=e.hasOwnProperty(s);if(f&&!c||!f&&c||!Tf(n[s],e[s]))return!1}}return String(n)===String(e)}function L2(n,e){return n.findIndex(t=>Tf(t,e))}const qo=n=>Ne(n)?n:n==null?"":Ot(n)||Oe(n)&&(n.toString===zm||!jt(n.toString))?JSON.stringify(n,Fm,2):String(n),Fm=(n,e)=>e&&e.__v_isRef?Fm(n,e.value):Vi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,r])=>(t[`${o} =>`]=r,t),{})}:Af(e)?{[`Set(${e.size})`]:[...e.values()]}:Oe(e)&&!Ot(e)&&!Dm(e)?String(e):e,ue={},Xi=[],tn=()=>{},F2=()=>!1,M2=/^on[^a-z]/,Rf=n=>M2.test(n),Ru=n=>n.startsWith("onUpdate:"),qe=Object.assign,Au=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},z2=Object.prototype.hasOwnProperty,te=(n,e)=>z2.call(n,e),Ot=Array.isArray,Vi=n=>Es(n)==="[object Map]",Af=n=>Es(n)==="[object Set]",Zb=n=>Es(n)==="[object Date]",jt=n=>typeof n=="function",Ne=n=>typeof n=="string",os=n=>typeof n=="symbol",Oe=n=>n!==null&&typeof n=="object",Mm=n=>Oe(n)&&jt(n.then)&&jt(n.catch),zm=Object.prototype.toString,Es=n=>zm.call(n),D2=n=>Es(n).slice(8,-1),Dm=n=>Es(n)==="[object Object]",Iu=n=>Ne(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Kl=Cu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),If=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},N2=/-(\w)/g,Ki=If(n=>n.replace(N2,(e,t)=>t?t.toUpperCase():"")),G2=/\B([A-Z])/g,ia=If(n=>n.replace(G2,"-$1").toLowerCase()),Nm=If(n=>n.charAt(0).toUpperCase()+n.slice(1)),hd=If(n=>n?`on${Nm(n)}`:""),ns=(n,e)=>!Object.is(n,e),$l=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},nf=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},rf=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Jb;const U2=()=>Jb||(Jb=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let fn;class Gm{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&fn&&(this.parent=fn,this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}run(e){if(this.active){const t=fn;try{return fn=this,e()}finally{fn=t}}}on(){fn=this}off(){fn=this.parent}stop(e){if(this.active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Um(n){return new Gm(n)}function B2(n,e=fn){e&&e.active&&e.effects.push(n)}const Ou=n=>{const e=new Set(n);return e.w=0,e.n=0,e},Bm=n=>(n.w&wr)>0,jm=n=>(n.n&wr)>0,j2=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=wr},Y2=n=>{const{deps:e}=n;if(e.length){let t=0;for(let o=0;o<e.length;o++){const r=e[o];Bm(r)&&!jm(r)?r.delete(n):e[t++]=r,r.w&=~wr,r.n&=~wr}e.length=t}},zd=new WeakMap;let Ua=0,wr=1;const Dd=30;let Ko;const ti=Symbol(""),Nd=Symbol("");class Su{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,B2(this,o)}run(){if(!this.active)return this.fn();let e=Ko,t=pr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ko,Ko=this,pr=!0,wr=1<<++Ua,Ua<=Dd?j2(this):Qb(this),this.fn()}finally{Ua<=Dd&&Y2(this),wr=1<<--Ua,Ko=this.parent,pr=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ko===this?this.deferStop=!0:this.active&&(Qb(this),this.onStop&&this.onStop(),this.active=!1)}}function Qb(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let pr=!0;const Ym=[];function aa(){Ym.push(pr),pr=!1}function sa(){const n=Ym.pop();pr=n===void 0?!0:n}function wo(n,e,t){if(pr&&Ko){let o=zd.get(n);o||zd.set(n,o=new Map);let r=o.get(t);r||o.set(t,r=Ou()),Wm(r)}}function Wm(n,e){let t=!1;Ua<=Dd?jm(n)||(n.n|=wr,t=!Bm(n)):t=!n.has(Ko),t&&(n.add(Ko),Ko.deps.push(n))}function Gn(n,e,t,o,r,i){const s=zd.get(n);if(!s)return;let f=[];if(e==="clear")f=[...s.values()];else if(t==="length"&&Ot(n))s.forEach((c,d)=>{(d==="length"||d>=o)&&f.push(c)});else switch(t!==void 0&&f.push(s.get(t)),e){case"add":Ot(n)?Iu(t)&&f.push(s.get("length")):(f.push(s.get(ti)),Vi(n)&&f.push(s.get(Nd)));break;case"delete":Ot(n)||(f.push(s.get(ti)),Vi(n)&&f.push(s.get(Nd)));break;case"set":Vi(n)&&f.push(s.get(ti));break}if(f.length===1)f[0]&&Gd(f[0]);else{const c=[];for(const d of f)d&&c.push(...d);Gd(Ou(c))}}function Gd(n,e){const t=Ot(n)?n:[...n];for(const o of t)o.computed&&tg(o);for(const o of t)o.computed||tg(o)}function tg(n,e){(n!==Ko||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const W2=Cu("__proto__,__v_isRef,__isVue"),Xm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(os)),X2=Pu(),V2=Pu(!1,!0),H2=Pu(!0),eg=q2();function q2(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const o=ne(this);for(let i=0,s=this.length;i<s;i++)wo(o,"get",i+"");const r=o[e](...t);return r===-1||r===!1?o[e](...t.map(ne)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){aa();const o=ne(this)[e].apply(this,t);return sa(),o}}),n}function Pu(n=!1,e=!1){return function(o,r,i){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(n?e?c3:$m:e?Km:qm).get(o))return o;const s=Ot(o);if(!n&&s&&te(eg,r))return Reflect.get(eg,r,i);const f=Reflect.get(o,r,i);return(os(r)?Xm.has(r):W2(r))||(n||wo(o,"get",r),e)?f:Ae(f)?s&&Iu(r)?f:f.value:Oe(f)?n?Zm(f):la(f):f}}const K2=Vm(),$2=Vm(!0);function Vm(n=!1){return function(t,o,r,i){let s=t[o];if(rs(s)&&Ae(s)&&!Ae(r))return!1;if(!n&&!rs(r)&&(Ud(r)||(r=ne(r),s=ne(s)),!Ot(t)&&Ae(s)&&!Ae(r)))return s.value=r,!0;const f=Ot(t)&&Iu(o)?Number(o)<t.length:te(t,o),c=Reflect.set(t,o,r,i);return t===ne(i)&&(f?ns(r,s)&&Gn(t,"set",o,r):Gn(t,"add",o,r)),c}}function Z2(n,e){const t=te(n,e);n[e];const o=Reflect.deleteProperty(n,e);return o&&t&&Gn(n,"delete",e,void 0),o}function J2(n,e){const t=Reflect.has(n,e);return(!os(e)||!Xm.has(e))&&wo(n,"has",e),t}function Q2(n){return wo(n,"iterate",Ot(n)?"length":ti),Reflect.ownKeys(n)}const Hm={get:X2,set:K2,deleteProperty:Z2,has:J2,ownKeys:Q2},t3={get:H2,set(n,e){return!0},deleteProperty(n,e){return!0}},e3=qe({},Hm,{get:V2,set:$2}),Lu=n=>n,Of=n=>Reflect.getPrototypeOf(n);function Sl(n,e,t=!1,o=!1){n=n.__v_raw;const r=ne(n),i=ne(e);t||(e!==i&&wo(r,"get",e),wo(r,"get",i));const{has:s}=Of(r),f=o?Lu:t?zu:is;if(s.call(r,e))return f(n.get(e));if(s.call(r,i))return f(n.get(i));n!==r&&n.get(e)}function Pl(n,e=!1){const t=this.__v_raw,o=ne(t),r=ne(n);return e||(n!==r&&wo(o,"has",n),wo(o,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function Ll(n,e=!1){return n=n.__v_raw,!e&&wo(ne(n),"iterate",ti),Reflect.get(n,"size",n)}function og(n){n=ne(n);const e=ne(this);return Of(e).has.call(e,n)||(e.add(n),Gn(e,"add",n,n)),this}function ng(n,e){e=ne(e);const t=ne(this),{has:o,get:r}=Of(t);let i=o.call(t,n);i||(n=ne(n),i=o.call(t,n));const s=r.call(t,n);return t.set(n,e),i?ns(e,s)&&Gn(t,"set",n,e):Gn(t,"add",n,e),this}function rg(n){const e=ne(this),{has:t,get:o}=Of(e);let r=t.call(e,n);r||(n=ne(n),r=t.call(e,n)),o&&o.call(e,n);const i=e.delete(n);return r&&Gn(e,"delete",n,void 0),i}function ig(){const n=ne(this),e=n.size!==0,t=n.clear();return e&&Gn(n,"clear",void 0,void 0),t}function Fl(n,e){return function(o,r){const i=this,s=i.__v_raw,f=ne(s),c=e?Lu:n?zu:is;return!n&&wo(f,"iterate",ti),s.forEach((d,h)=>o.call(r,c(d),c(h),i))}}function Ml(n,e,t){return function(...o){const r=this.__v_raw,i=ne(r),s=Vi(i),f=n==="entries"||n===Symbol.iterator&&s,c=n==="keys"&&s,d=r[n](...o),h=t?Lu:e?zu:is;return!e&&wo(i,"iterate",c?Nd:ti),{next(){const{value:g,done:p}=d.next();return p?{value:g,done:p}:{value:f?[h(g[0]),h(g[1])]:h(g),done:p}},[Symbol.iterator](){return this}}}}function Jn(n){return function(...e){return n==="delete"?!1:this}}function o3(){const n={get(i){return Sl(this,i)},get size(){return Ll(this)},has:Pl,add:og,set:ng,delete:rg,clear:ig,forEach:Fl(!1,!1)},e={get(i){return Sl(this,i,!1,!0)},get size(){return Ll(this)},has:Pl,add:og,set:ng,delete:rg,clear:ig,forEach:Fl(!1,!0)},t={get(i){return Sl(this,i,!0)},get size(){return Ll(this,!0)},has(i){return Pl.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Fl(!0,!1)},o={get(i){return Sl(this,i,!0,!0)},get size(){return Ll(this,!0)},has(i){return Pl.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Fl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Ml(i,!1,!1),t[i]=Ml(i,!0,!1),e[i]=Ml(i,!1,!0),o[i]=Ml(i,!0,!0)}),[n,t,e,o]}const[n3,r3,i3,a3]=o3();function Fu(n,e){const t=e?n?a3:i3:n?r3:n3;return(o,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?o:Reflect.get(te(t,r)&&r in o?t:o,r,i)}const s3={get:Fu(!1,!1)},l3={get:Fu(!1,!0)},f3={get:Fu(!0,!1)},qm=new WeakMap,Km=new WeakMap,$m=new WeakMap,c3=new WeakMap;function d3(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function u3(n){return n.__v_skip||!Object.isExtensible(n)?0:d3(D2(n))}function la(n){return rs(n)?n:Mu(n,!1,Hm,s3,qm)}function h3(n){return Mu(n,!1,e3,l3,Km)}function Zm(n){return Mu(n,!0,t3,f3,$m)}function Mu(n,e,t,o,r){if(!Oe(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=r.get(n);if(i)return i;const s=u3(n);if(s===0)return n;const f=new Proxy(n,s===2?o:t);return r.set(n,f),f}function br(n){return rs(n)?br(n.__v_raw):!!(n&&n.__v_isReactive)}function rs(n){return!!(n&&n.__v_isReadonly)}function Ud(n){return!!(n&&n.__v_isShallow)}function Jm(n){return br(n)||rs(n)}function ne(n){const e=n&&n.__v_raw;return e?ne(e):n}function $i(n){return nf(n,"__v_skip",!0),n}const is=n=>Oe(n)?la(n):n,zu=n=>Oe(n)?Zm(n):n;function Qm(n){pr&&Ko&&(n=ne(n),Wm(n.dep||(n.dep=Ou())))}function t0(n,e){n=ne(n),n.dep&&Gd(n.dep)}function Ae(n){return!!(n&&n.__v_isRef===!0)}function Sf(n){return e0(n,!1)}function p3(n){return e0(n,!0)}function e0(n,e){return Ae(n)?n:new b3(n,e)}class b3{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ne(e),this._value=t?e:is(e)}get value(){return Qm(this),this._value}set value(e){e=this.__v_isShallow?e:ne(e),ns(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:is(e),t0(this))}}function Jt(n){return Ae(n)?n.value:n}const g3={get:(n,e,t)=>Jt(Reflect.get(n,e,t)),set:(n,e,t,o)=>{const r=n[e];return Ae(r)&&!Ae(t)?(r.value=t,!0):Reflect.set(n,e,t,o)}};function o0(n){return br(n)?n:new Proxy(n,g3)}function m3(n){const e=Ot(n)?new Array(n.length):{};for(const t in n)e[t]=x3(n,t);return e}class v3{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function x3(n,e,t){const o=n[e];return Ae(o)?o:new v3(n,e,t)}class w3{constructor(e,t,o,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Su(e,()=>{this._dirty||(this._dirty=!0,t0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const e=ne(this);return Qm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function y3(n,e,t=!1){let o,r;const i=jt(n);return i?(o=n,r=tn):(o=n.get,r=n.set),new w3(o,r,i||!r,t)}function gr(n,e,t,o){let r;try{r=o?n(...o):n()}catch(i){Pf(i,e,t)}return r}function Mo(n,e,t,o){if(jt(n)){const i=gr(n,e,t,o);return i&&Mm(i)&&i.catch(s=>{Pf(s,e,t)}),i}const r=[];for(let i=0;i<n.length;i++)r.push(Mo(n[i],e,t,o));return r}function Pf(n,e,t,o=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,f=t;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](n,s,f)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){gr(c,null,10,[n,s,f]);return}}_3(n,t,r,o)}function _3(n,e,t,o=!0){console.error(n)}let af=!1,Bd=!1;const vo=[];let Fn=0;const Va=[];let Ba=null,Mi=0;const Ha=[];let ir=null,zi=0;const n0=Promise.resolve();let Du=null,jd=null;function Nu(n){const e=Du||n0;return n?e.then(this?n.bind(this):n):e}function k3(n){let e=Fn+1,t=vo.length;for(;e<t;){const o=e+t>>>1;as(vo[o])<n?e=o+1:t=o}return e}function r0(n){(!vo.length||!vo.includes(n,af&&n.allowRecurse?Fn+1:Fn))&&n!==jd&&(n.id==null?vo.push(n):vo.splice(k3(n.id),0,n),i0())}function i0(){!af&&!Bd&&(Bd=!0,Du=n0.then(l0))}function E3(n){const e=vo.indexOf(n);e>Fn&&vo.splice(e,1)}function a0(n,e,t,o){Ot(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?o+1:o))&&t.push(n),i0()}function C3(n){a0(n,Ba,Va,Mi)}function T3(n){a0(n,ir,Ha,zi)}function Lf(n,e=null){if(Va.length){for(jd=e,Ba=[...new Set(Va)],Va.length=0,Mi=0;Mi<Ba.length;Mi++)Ba[Mi]();Ba=null,Mi=0,jd=null,Lf(n,e)}}function s0(n){if(Lf(),Ha.length){const e=[...new Set(Ha)];if(Ha.length=0,ir){ir.push(...e);return}for(ir=e,ir.sort((t,o)=>as(t)-as(o)),zi=0;zi<ir.length;zi++)ir[zi]();ir=null,zi=0}}const as=n=>n.id==null?1/0:n.id;function l0(n){Bd=!1,af=!0,Lf(n),vo.sort((t,o)=>as(t)-as(o));const e=tn;try{for(Fn=0;Fn<vo.length;Fn++){const t=vo[Fn];t&&t.active!==!1&&gr(t,null,14)}}finally{Fn=0,vo.length=0,s0(),af=!1,Du=null,(vo.length||Va.length||Ha.length)&&l0(n)}}function R3(n,e,...t){if(n.isUnmounted)return;const o=n.vnode.props||ue;let r=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in o){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:p}=o[h]||ue;p&&(r=t.map(m=>m.trim())),g&&(r=t.map(rf))}let f,c=o[f=hd(e)]||o[f=hd(Ki(e))];!c&&i&&(c=o[f=hd(ia(e))]),c&&Mo(c,n,6,r);const d=o[f+"Once"];if(d){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,Mo(d,n,6,r)}}function f0(n,e,t=!1){const o=e.emitsCache,r=o.get(n);if(r!==void 0)return r;const i=n.emits;let s={},f=!1;if(!jt(n)){const c=d=>{const h=f0(d,e,!0);h&&(f=!0,qe(s,h))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!f?(o.set(n,null),null):(Ot(i)?i.forEach(c=>s[c]=null):qe(s,i),o.set(n,s),s)}function Ff(n,e){return!n||!Rf(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(n,e[0].toLowerCase()+e.slice(1))||te(n,ia(e))||te(n,e))}let Jo=null,Mf=null;function sf(n){const e=Jo;return Jo=n,Mf=n&&n.type.__scopeId||null,e}function A3(n){Mf=n}function I3(){Mf=null}function O3(n,e=Jo,t){if(!e||n._n)return n;const o=(...r)=>{o._d&&gg(-1);const i=sf(e),s=n(...r);return sf(i),o._d&&gg(1),s};return o._n=!0,o._c=!0,o._d=!0,o}function pd(n){const{type:e,vnode:t,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:f,attrs:c,emit:d,render:h,renderCache:g,data:p,setupState:m,ctx:x,inheritAttrs:_}=n;let k,T;const A=sf(n);try{if(t.shapeFlag&4){const P=r||o;k=cn(h.call(P,P,g,i,m,p,x)),T=c}else{const P=e;k=cn(P.length>1?P(i,{attrs:c,slots:f,emit:d}):P(i,null)),T=e.props?c:S3(c)}}catch(P){qa.length=0,Pf(P,n,1),k=Ee(zn)}let O=k;if(T&&_!==!1){const P=Object.keys(T),{shapeFlag:z}=O;P.length&&z&7&&(s&&P.some(Ru)&&(T=P3(T,s)),O=yr(O,T))}return t.dirs&&(O=yr(O),O.dirs=O.dirs?O.dirs.concat(t.dirs):t.dirs),t.transition&&(O.transition=t.transition),k=O,sf(A),k}const S3=n=>{let e;for(const t in n)(t==="class"||t==="style"||Rf(t))&&((e||(e={}))[t]=n[t]);return e},P3=(n,e)=>{const t={};for(const o in n)(!Ru(o)||!(o.slice(9)in e))&&(t[o]=n[o]);return t};function L3(n,e,t){const{props:o,children:r,component:i}=n,{props:s,children:f,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return o?ag(o,s,d):!!s;if(c&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const p=h[g];if(s[p]!==o[p]&&!Ff(d,p))return!0}}}else return(r||f)&&(!f||!f.$stable)?!0:o===s?!1:o?s?ag(o,s,d):!0:!!s;return!1}function ag(n,e,t){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==n[i]&&!Ff(t,i))return!0}return!1}function F3({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const M3=n=>n.__isSuspense;function z3(n,e){e&&e.pendingBranch?Ot(n)?e.effects.push(...n):e.effects.push(n):T3(n)}function Zl(n,e){if(je){let t=je.provides;const o=je.parent&&je.parent.provides;o===t&&(t=je.provides=Object.create(o)),t[n]=e}}function Mn(n,e,t=!1){const o=je||Jo;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&jt(e)?e.call(o.proxy):e}}const sg={};function zo(n,e,t){return c0(n,e,t)}function c0(n,e,{immediate:t,deep:o,flush:r,onTrack:i,onTrigger:s}=ue){const f=je;let c,d=!1,h=!1;if(Ae(n)?(c=()=>n.value,d=Ud(n)):br(n)?(c=()=>n,o=!0):Ot(n)?(h=!0,d=n.some(T=>br(T)||Ud(T)),c=()=>n.map(T=>{if(Ae(T))return T.value;if(br(T))return Kr(T);if(jt(T))return gr(T,f,2)})):jt(n)?e?c=()=>gr(n,f,2):c=()=>{if(!(f&&f.isUnmounted))return g&&g(),Mo(n,f,3,[p])}:c=tn,e&&o){const T=c;c=()=>Kr(T())}let g,p=T=>{g=k.onStop=()=>{gr(T,f,4)}};if(ls)return p=tn,e?t&&Mo(e,f,3,[c(),h?[]:void 0,p]):c(),tn;let m=h?[]:sg;const x=()=>{if(!!k.active)if(e){const T=k.run();(o||d||(h?T.some((A,O)=>ns(A,m[O])):ns(T,m)))&&(g&&g(),Mo(e,f,3,[T,m===sg?void 0:m,p]),m=T)}else k.run()};x.allowRecurse=!!e;let _;r==="sync"?_=x:r==="post"?_=()=>io(x,f&&f.suspense):_=()=>C3(x);const k=new Su(c,_);return e?t?x():m=k.run():r==="post"?io(k.run.bind(k),f&&f.suspense):k.run(),()=>{k.stop(),f&&f.scope&&Au(f.scope.effects,k)}}function D3(n,e,t){const o=this.proxy,r=Ne(n)?n.includes(".")?d0(o,n):()=>o[n]:n.bind(o,o);let i;jt(e)?i=e:(i=e.handler,t=e);const s=je;Zi(this);const f=c0(r,i.bind(o),t);return s?Zi(s):ei(),f}function d0(n,e){const t=e.split(".");return()=>{let o=n;for(let r=0;r<t.length&&o;r++)o=o[t[r]];return o}}function Kr(n,e){if(!Oe(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ae(n))Kr(n.value,e);else if(Ot(n))for(let t=0;t<n.length;t++)Kr(n[t],e);else if(Af(n)||Vi(n))n.forEach(t=>{Kr(t,e)});else if(Dm(n))for(const t in n)Kr(n[t],e);return n}function N3(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gu(()=>{n.isMounted=!0}),b0(()=>{n.isUnmounting=!0}),n}const Io=[Function,Array],G3={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Io,onEnter:Io,onAfterEnter:Io,onEnterCancelled:Io,onBeforeLeave:Io,onLeave:Io,onAfterLeave:Io,onLeaveCancelled:Io,onBeforeAppear:Io,onAppear:Io,onAfterAppear:Io,onAppearCancelled:Io},setup(n,{slots:e}){const t=Wu(),o=N3();let r;return()=>{const i=e.default&&h0(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const _ of i)if(_.type!==zn){s=_;break}}const f=ne(n),{mode:c}=f;if(o.isLeaving)return bd(s);const d=lg(s);if(!d)return bd(s);const h=Yd(d,f,o,t);Wd(d,h);const g=t.subTree,p=g&&lg(g);let m=!1;const{getTransitionKey:x}=d.type;if(x){const _=x();r===void 0?r=_:_!==r&&(r=_,m=!0)}if(p&&p.type!==zn&&(!Xr(d,p)||m)){const _=Yd(p,f,o,t);if(Wd(p,_),c==="out-in")return o.isLeaving=!0,_.afterLeave=()=>{o.isLeaving=!1,t.update()},bd(s);c==="in-out"&&d.type!==zn&&(_.delayLeave=(k,T,A)=>{const O=u0(o,p);O[String(p.key)]=p,k._leaveCb=()=>{T(),k._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=A})}return s}}},U3=G3;function u0(n,e){const{leavingVNodes:t}=n;let o=t.get(e.type);return o||(o=Object.create(null),t.set(e.type,o)),o}function Yd(n,e,t,o){const{appear:r,mode:i,persisted:s=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:g,onLeave:p,onAfterLeave:m,onLeaveCancelled:x,onBeforeAppear:_,onAppear:k,onAfterAppear:T,onAppearCancelled:A}=e,O=String(n.key),P=u0(t,n),z=(M,q)=>{M&&Mo(M,o,9,q)},X=(M,q)=>{const ot=q[1];z(M,q),Ot(M)?M.every(st=>st.length<=1)&&ot():M.length<=1&&ot()},U={mode:i,persisted:s,beforeEnter(M){let q=f;if(!t.isMounted)if(r)q=_||f;else return;M._leaveCb&&M._leaveCb(!0);const ot=P[O];ot&&Xr(n,ot)&&ot.el._leaveCb&&ot.el._leaveCb(),z(q,[M])},enter(M){let q=c,ot=d,st=h;if(!t.isMounted)if(r)q=k||c,ot=T||d,st=A||h;else return;let dt=!1;const ut=M._enterCb=vt=>{dt||(dt=!0,vt?z(st,[M]):z(ot,[M]),U.delayedLeave&&U.delayedLeave(),M._enterCb=void 0)};q?X(q,[M,ut]):ut()},leave(M,q){const ot=String(n.key);if(M._enterCb&&M._enterCb(!0),t.isUnmounting)return q();z(g,[M]);let st=!1;const dt=M._leaveCb=ut=>{st||(st=!0,q(),ut?z(x,[M]):z(m,[M]),M._leaveCb=void 0,P[ot]===n&&delete P[ot])};P[ot]=n,p?X(p,[M,dt]):dt()},clone(M){return Yd(M,e,t,o)}};return U}function bd(n){if(zf(n))return n=yr(n),n.children=null,n}function lg(n){return zf(n)?n.children?n.children[0]:void 0:n}function Wd(n,e){n.shapeFlag&6&&n.component?Wd(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function h0(n,e=!1,t){let o=[],r=0;for(let i=0;i<n.length;i++){let s=n[i];const f=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===ao?(s.patchFlag&128&&r++,o=o.concat(h0(s.children,e,f))):(e||s.type!==zn)&&o.push(f!=null?yr(s,{key:f}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function pn(n){return jt(n)?{setup:n,name:n.name}:n}const Jl=n=>!!n.type.__asyncLoader,zf=n=>n.type.__isKeepAlive;function B3(n,e){p0(n,"a",e)}function j3(n,e){p0(n,"da",e)}function p0(n,e,t=je){const o=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Df(e,o,t),t){let r=t.parent;for(;r&&r.parent;)zf(r.parent.vnode)&&Y3(o,e,t,r),r=r.parent}}function Y3(n,e,t,o){const r=Df(e,n,o,!0);Uu(()=>{Au(o[e],r)},t)}function Df(n,e,t=je,o=!1){if(t){const r=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;aa(),Zi(t);const f=Mo(e,t,n,s);return ei(),sa(),f});return o?r.unshift(i):r.push(i),i}}const Bn=n=>(e,t=je)=>(!ls||n==="sp")&&Df(n,e,t),W3=Bn("bm"),Gu=Bn("m"),X3=Bn("bu"),V3=Bn("u"),b0=Bn("bum"),Uu=Bn("um"),H3=Bn("sp"),q3=Bn("rtg"),K3=Bn("rtc");function $3(n,e=je){Df("ec",n,e)}function mr(n,e){const t=Jo;if(t===null)return n;const o=Gf(t)||t.proxy,r=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,f,c,d=ue]=e[i];jt(s)&&(s={mounted:s,updated:s}),s.deep&&Kr(f),r.push({dir:s,instance:o,value:f,oldValue:void 0,arg:c,modifiers:d})}return n}function Gr(n,e,t,o){const r=n.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const f=r[s];i&&(f.oldValue=i[s].value);let c=f.dir[o];c&&(aa(),Mo(c,t,8,[n.el,f,n,e]),sa())}}const Z3=Symbol();function fg(n,e,t,o){let r;const i=t&&t[o];if(Ot(n)||Ne(n)){r=new Array(n.length);for(let s=0,f=n.length;s<f;s++)r[s]=e(n[s],s,void 0,i&&i[s])}else if(typeof n=="number"){r=new Array(n);for(let s=0;s<n;s++)r[s]=e(s+1,s,void 0,i&&i[s])}else if(Oe(n))if(n[Symbol.iterator])r=Array.from(n,(s,f)=>e(s,f,void 0,i&&i[f]));else{const s=Object.keys(n);r=new Array(s.length);for(let f=0,c=s.length;f<c;f++){const d=s[f];r[f]=e(n[d],d,f,i&&i[f])}}else r=[];return t&&(t[o]=r),r}const Xd=n=>n?T0(n)?Gf(n)||n.proxy:Xd(n.parent):null,lf=qe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Xd(n.parent),$root:n=>Xd(n.root),$emit:n=>n.emit,$options:n=>m0(n),$forceUpdate:n=>n.f||(n.f=()=>r0(n.update)),$nextTick:n=>n.n||(n.n=Nu.bind(n.proxy)),$watch:n=>D3.bind(n)}),J3={get({_:n},e){const{ctx:t,setupState:o,data:r,props:i,accessCache:s,type:f,appContext:c}=n;let d;if(e[0]!=="$"){const m=s[e];if(m!==void 0)switch(m){case 1:return o[e];case 2:return r[e];case 4:return t[e];case 3:return i[e]}else{if(o!==ue&&te(o,e))return s[e]=1,o[e];if(r!==ue&&te(r,e))return s[e]=2,r[e];if((d=n.propsOptions[0])&&te(d,e))return s[e]=3,i[e];if(t!==ue&&te(t,e))return s[e]=4,t[e];Vd&&(s[e]=0)}}const h=lf[e];let g,p;if(h)return e==="$attrs"&&wo(n,"get",e),h(n);if((g=f.__cssModules)&&(g=g[e]))return g;if(t!==ue&&te(t,e))return s[e]=4,t[e];if(p=c.config.globalProperties,te(p,e))return p[e]},set({_:n},e,t){const{data:o,setupState:r,ctx:i}=n;return r!==ue&&te(r,e)?(r[e]=t,!0):o!==ue&&te(o,e)?(o[e]=t,!0):te(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:o,appContext:r,propsOptions:i}},s){let f;return!!t[s]||n!==ue&&te(n,s)||e!==ue&&te(e,s)||(f=i[0])&&te(f,s)||te(o,s)||te(lf,s)||te(r.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:te(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let Vd=!0;function Q3(n){const e=m0(n),t=n.proxy,o=n.ctx;Vd=!1,e.beforeCreate&&cg(e.beforeCreate,n,"bc");const{data:r,computed:i,methods:s,watch:f,provide:c,inject:d,created:h,beforeMount:g,mounted:p,beforeUpdate:m,updated:x,activated:_,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:O,unmounted:P,render:z,renderTracked:X,renderTriggered:U,errorCaptured:M,serverPrefetch:q,expose:ot,inheritAttrs:st,components:dt,directives:ut,filters:vt}=e;if(d&&t6(d,o,null,n.appContext.config.unwrapInjectedRef),s)for(const et in s){const ct=s[et];jt(ct)&&(o[et]=ct.bind(t))}if(r){const et=r.call(t,t);Oe(et)&&(n.data=la(et))}if(Vd=!0,i)for(const et in i){const ct=i[et],wt=jt(ct)?ct.bind(t,t):jt(ct.get)?ct.get.bind(t,t):tn,Pt=!jt(ct)&&jt(ct.set)?ct.set.bind(t):tn,Lt=$o({get:wt,set:Pt});Object.defineProperty(o,et,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:$=>Lt.value=$})}if(f)for(const et in f)g0(f[et],o,t,et);if(c){const et=jt(c)?c.call(t):c;Reflect.ownKeys(et).forEach(ct=>{Zl(ct,et[ct])})}h&&cg(h,n,"c");function ht(et,ct){Ot(ct)?ct.forEach(wt=>et(wt.bind(t))):ct&&et(ct.bind(t))}if(ht(W3,g),ht(Gu,p),ht(X3,m),ht(V3,x),ht(B3,_),ht(j3,k),ht($3,M),ht(K3,X),ht(q3,U),ht(b0,A),ht(Uu,P),ht(H3,q),Ot(ot))if(ot.length){const et=n.exposed||(n.exposed={});ot.forEach(ct=>{Object.defineProperty(et,ct,{get:()=>t[ct],set:wt=>t[ct]=wt})})}else n.exposed||(n.exposed={});z&&n.render===tn&&(n.render=z),st!=null&&(n.inheritAttrs=st),dt&&(n.components=dt),ut&&(n.directives=ut)}function t6(n,e,t=tn,o=!1){Ot(n)&&(n=Hd(n));for(const r in n){const i=n[r];let s;Oe(i)?"default"in i?s=Mn(i.from||r,i.default,!0):s=Mn(i.from||r):s=Mn(i),Ae(s)&&o?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:f=>s.value=f}):e[r]=s}}function cg(n,e,t){Mo(Ot(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,t)}function g0(n,e,t,o){const r=o.includes(".")?d0(t,o):()=>t[o];if(Ne(n)){const i=e[n];jt(i)&&zo(r,i)}else if(jt(n))zo(r,n.bind(t));else if(Oe(n))if(Ot(n))n.forEach(i=>g0(i,e,t,o));else{const i=jt(n.handler)?n.handler.bind(t):e[n.handler];jt(i)&&zo(r,i,n)}}function m0(n){const e=n.type,{mixins:t,extends:o}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,f=i.get(e);let c;return f?c=f:!r.length&&!t&&!o?c=e:(c={},r.length&&r.forEach(d=>ff(c,d,s,!0)),ff(c,e,s)),i.set(e,c),c}function ff(n,e,t,o=!1){const{mixins:r,extends:i}=e;i&&ff(n,i,t,!0),r&&r.forEach(s=>ff(n,s,t,!0));for(const s in e)if(!(o&&s==="expose")){const f=e6[s]||t&&t[s];n[s]=f?f(n[s],e[s]):e[s]}return n}const e6={data:dg,props:Yr,emits:Yr,methods:Yr,computed:Yr,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Yr,directives:Yr,watch:n6,provide:dg,inject:o6};function dg(n,e){return e?n?function(){return qe(jt(n)?n.call(this,this):n,jt(e)?e.call(this,this):e)}:e:n}function o6(n,e){return Yr(Hd(n),Hd(e))}function Hd(n){if(Ot(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Je(n,e){return n?[...new Set([].concat(n,e))]:e}function Yr(n,e){return n?qe(qe(Object.create(null),n),e):e}function n6(n,e){if(!n)return e;if(!e)return n;const t=qe(Object.create(null),n);for(const o in e)t[o]=Je(n[o],e[o]);return t}function r6(n,e,t,o=!1){const r={},i={};nf(i,Nf,1),n.propsDefaults=Object.create(null),v0(n,e,r,i);for(const s in n.propsOptions[0])s in r||(r[s]=void 0);t?n.props=o?r:h3(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function i6(n,e,t,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=n,f=ne(r),[c]=n.propsOptions;let d=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=n.vnode.dynamicProps;for(let g=0;g<h.length;g++){let p=h[g];if(Ff(n.emitsOptions,p))continue;const m=e[p];if(c)if(te(i,p))m!==i[p]&&(i[p]=m,d=!0);else{const x=Ki(p);r[x]=qd(c,f,x,m,n,!1)}else m!==i[p]&&(i[p]=m,d=!0)}}}else{v0(n,e,r,i)&&(d=!0);let h;for(const g in f)(!e||!te(e,g)&&((h=ia(g))===g||!te(e,h)))&&(c?t&&(t[g]!==void 0||t[h]!==void 0)&&(r[g]=qd(c,f,g,void 0,n,!0)):delete r[g]);if(i!==f)for(const g in i)(!e||!te(e,g)&&!0)&&(delete i[g],d=!0)}d&&Gn(n,"set","$attrs")}function v0(n,e,t,o){const[r,i]=n.propsOptions;let s=!1,f;if(e)for(let c in e){if(Kl(c))continue;const d=e[c];let h;r&&te(r,h=Ki(c))?!i||!i.includes(h)?t[h]=d:(f||(f={}))[h]=d:Ff(n.emitsOptions,c)||(!(c in o)||d!==o[c])&&(o[c]=d,s=!0)}if(i){const c=ne(t),d=f||ue;for(let h=0;h<i.length;h++){const g=i[h];t[g]=qd(r,c,g,d[g],n,!te(d,g))}}return s}function qd(n,e,t,o,r,i){const s=n[t];if(s!=null){const f=te(s,"default");if(f&&o===void 0){const c=s.default;if(s.type!==Function&&jt(c)){const{propsDefaults:d}=r;t in d?o=d[t]:(Zi(r),o=d[t]=c.call(null,e),ei())}else o=c}s[0]&&(i&&!f?o=!1:s[1]&&(o===""||o===ia(t))&&(o=!0))}return o}function x0(n,e,t=!1){const o=e.propsCache,r=o.get(n);if(r)return r;const i=n.props,s={},f=[];let c=!1;if(!jt(n)){const h=g=>{c=!0;const[p,m]=x0(g,e,!0);qe(s,p),m&&f.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!i&&!c)return o.set(n,Xi),Xi;if(Ot(i))for(let h=0;h<i.length;h++){const g=Ki(i[h]);ug(g)&&(s[g]=ue)}else if(i)for(const h in i){const g=Ki(h);if(ug(g)){const p=i[h],m=s[g]=Ot(p)||jt(p)?{type:p}:p;if(m){const x=bg(Boolean,m.type),_=bg(String,m.type);m[0]=x>-1,m[1]=_<0||x<_,(x>-1||te(m,"default"))&&f.push(g)}}}const d=[s,f];return o.set(n,d),d}function ug(n){return n[0]!=="$"}function hg(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function pg(n,e){return hg(n)===hg(e)}function bg(n,e){return Ot(e)?e.findIndex(t=>pg(t,n)):jt(e)&&pg(e,n)?0:-1}const w0=n=>n[0]==="_"||n==="$stable",Bu=n=>Ot(n)?n.map(cn):[cn(n)],a6=(n,e,t)=>{if(e._n)return e;const o=O3((...r)=>Bu(e(...r)),t);return o._c=!1,o},y0=(n,e,t)=>{const o=n._ctx;for(const r in n){if(w0(r))continue;const i=n[r];if(jt(i))e[r]=a6(r,i,o);else if(i!=null){const s=Bu(i);e[r]=()=>s}}},_0=(n,e)=>{const t=Bu(e);n.slots.default=()=>t},s6=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ne(e),nf(e,"_",t)):y0(e,n.slots={})}else n.slots={},e&&_0(n,e);nf(n.slots,Nf,1)},l6=(n,e,t)=>{const{vnode:o,slots:r}=n;let i=!0,s=ue;if(o.shapeFlag&32){const f=e._;f?t&&f===1?i=!1:(qe(r,e),!t&&f===1&&delete r._):(i=!e.$stable,y0(e,r)),s=e}else e&&(_0(n,e),s={default:1});if(i)for(const f in r)!w0(f)&&!(f in s)&&delete r[f]};function k0(){return{app:null,config:{isNativeTag:F2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let f6=0;function c6(n,e){return function(o,r=null){jt(o)||(o=Object.assign({},o)),r!=null&&!Oe(r)&&(r=null);const i=k0(),s=new Set;let f=!1;const c=i.app={_uid:f6++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:I6,get config(){return i.config},set config(d){},use(d,...h){return s.has(d)||(d&&jt(d.install)?(s.add(d),d.install(c,...h)):jt(d)&&(s.add(d),d(c,...h))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,h){return h?(i.components[d]=h,c):i.components[d]},directive(d,h){return h?(i.directives[d]=h,c):i.directives[d]},mount(d,h,g){if(!f){const p=Ee(o,r);return p.appContext=i,h&&e?e(p,d):n(p,d,g),f=!0,c._container=d,d.__vue_app__=c,Gf(p.component)||p.component.proxy}},unmount(){f&&(n(null,c._container),delete c._container.__vue_app__)},provide(d,h){return i.provides[d]=h,c}};return c}}function Kd(n,e,t,o,r=!1){if(Ot(n)){n.forEach((p,m)=>Kd(p,e&&(Ot(e)?e[m]:e),t,o,r));return}if(Jl(o)&&!r)return;const i=o.shapeFlag&4?Gf(o.component)||o.component.proxy:o.el,s=r?null:i,{i:f,r:c}=n,d=e&&e.r,h=f.refs===ue?f.refs={}:f.refs,g=f.setupState;if(d!=null&&d!==c&&(Ne(d)?(h[d]=null,te(g,d)&&(g[d]=null)):Ae(d)&&(d.value=null)),jt(c))gr(c,f,12,[s,h]);else{const p=Ne(c),m=Ae(c);if(p||m){const x=()=>{if(n.f){const _=p?h[c]:c.value;r?Ot(_)&&Au(_,i):Ot(_)?_.includes(i)||_.push(i):p?(h[c]=[i],te(g,c)&&(g[c]=h[c])):(c.value=[i],n.k&&(h[n.k]=c.value))}else p?(h[c]=s,te(g,c)&&(g[c]=s)):m&&(c.value=s,n.k&&(h[n.k]=s))};s?(x.id=-1,io(x,t)):x()}}}const io=z3;function d6(n){return u6(n)}function u6(n,e){const t=U2();t.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:f,createComment:c,setText:d,setElementText:h,parentNode:g,nextSibling:p,setScopeId:m=tn,cloneNode:x,insertStaticContent:_}=n,k=(E,I,F,V=null,j=null,tt=null,rt=!1,Z=null,J=!!I.dynamicChildren)=>{if(E===I)return;E&&!Xr(E,I)&&(V=at(E),Wt(E,j,tt,!0),E=null),I.patchFlag===-2&&(J=!1,I.dynamicChildren=null);const{type:H,ref:bt,shapeFlag:pt}=I;switch(H){case ju:T(E,I,F,V);break;case zn:A(E,I,F,V);break;case Ql:E==null&&O(I,F,V,rt);break;case ao:ut(E,I,F,V,j,tt,rt,Z,J);break;default:pt&1?X(E,I,F,V,j,tt,rt,Z,J):pt&6?vt(E,I,F,V,j,tt,rt,Z,J):(pt&64||pt&128)&&H.process(E,I,F,V,j,tt,rt,Z,J,$t)}bt!=null&&j&&Kd(bt,E&&E.ref,tt,I||E,!I)},T=(E,I,F,V)=>{if(E==null)o(I.el=f(I.children),F,V);else{const j=I.el=E.el;I.children!==E.children&&d(j,I.children)}},A=(E,I,F,V)=>{E==null?o(I.el=c(I.children||""),F,V):I.el=E.el},O=(E,I,F,V)=>{[E.el,E.anchor]=_(E.children,I,F,V,E.el,E.anchor)},P=({el:E,anchor:I},F,V)=>{let j;for(;E&&E!==I;)j=p(E),o(E,F,V),E=j;o(I,F,V)},z=({el:E,anchor:I})=>{let F;for(;E&&E!==I;)F=p(E),r(E),E=F;r(I)},X=(E,I,F,V,j,tt,rt,Z,J)=>{rt=rt||I.type==="svg",E==null?U(I,F,V,j,tt,rt,Z,J):ot(E,I,j,tt,rt,Z,J)},U=(E,I,F,V,j,tt,rt,Z)=>{let J,H;const{type:bt,props:pt,shapeFlag:mt,transition:_t,patchFlag:Ft,dirs:Mt}=E;if(E.el&&x!==void 0&&Ft===-1)J=E.el=x(E.el);else{if(J=E.el=s(E.type,tt,pt&&pt.is,pt),mt&8?h(J,E.children):mt&16&&q(E.children,J,null,V,j,tt&&bt!=="foreignObject",rt,Z),Mt&&Gr(E,null,V,"created"),pt){for(const Xt in pt)Xt!=="value"&&!Kl(Xt)&&i(J,Xt,null,pt[Xt],tt,E.children,V,j,Q);"value"in pt&&i(J,"value",null,pt.value),(H=pt.onVnodeBeforeMount)&&ln(H,V,E)}M(J,E,E.scopeId,rt,V)}Mt&&Gr(E,null,V,"beforeMount");const Gt=(!j||j&&!j.pendingBranch)&&_t&&!_t.persisted;Gt&&_t.beforeEnter(J),o(J,I,F),((H=pt&&pt.onVnodeMounted)||Gt||Mt)&&io(()=>{H&&ln(H,V,E),Gt&&_t.enter(J),Mt&&Gr(E,null,V,"mounted")},j)},M=(E,I,F,V,j)=>{if(F&&m(E,F),V)for(let tt=0;tt<V.length;tt++)m(E,V[tt]);if(j){let tt=j.subTree;if(I===tt){const rt=j.vnode;M(E,rt,rt.scopeId,rt.slotScopeIds,j.parent)}}},q=(E,I,F,V,j,tt,rt,Z,J=0)=>{for(let H=J;H<E.length;H++){const bt=E[H]=Z?sr(E[H]):cn(E[H]);k(null,bt,I,F,V,j,tt,rt,Z)}},ot=(E,I,F,V,j,tt,rt)=>{const Z=I.el=E.el;let{patchFlag:J,dynamicChildren:H,dirs:bt}=I;J|=E.patchFlag&16;const pt=E.props||ue,mt=I.props||ue;let _t;F&&Ur(F,!1),(_t=mt.onVnodeBeforeUpdate)&&ln(_t,F,I,E),bt&&Gr(I,E,F,"beforeUpdate"),F&&Ur(F,!0);const Ft=j&&I.type!=="foreignObject";if(H?st(E.dynamicChildren,H,Z,F,V,Ft,tt):rt||wt(E,I,Z,null,F,V,Ft,tt,!1),J>0){if(J&16)dt(Z,I,pt,mt,F,V,j);else if(J&2&&pt.class!==mt.class&&i(Z,"class",null,mt.class,j),J&4&&i(Z,"style",pt.style,mt.style,j),J&8){const Mt=I.dynamicProps;for(let Gt=0;Gt<Mt.length;Gt++){const Xt=Mt[Gt],Ce=pt[Xt],be=mt[Xt];(be!==Ce||Xt==="value")&&i(Z,Xt,Ce,be,j,E.children,F,V,Q)}}J&1&&E.children!==I.children&&h(Z,I.children)}else!rt&&H==null&&dt(Z,I,pt,mt,F,V,j);((_t=mt.onVnodeUpdated)||bt)&&io(()=>{_t&&ln(_t,F,I,E),bt&&Gr(I,E,F,"updated")},V)},st=(E,I,F,V,j,tt,rt)=>{for(let Z=0;Z<I.length;Z++){const J=E[Z],H=I[Z],bt=J.el&&(J.type===ao||!Xr(J,H)||J.shapeFlag&70)?g(J.el):F;k(J,H,bt,null,V,j,tt,rt,!0)}},dt=(E,I,F,V,j,tt,rt)=>{if(F!==V){for(const Z in V){if(Kl(Z))continue;const J=V[Z],H=F[Z];J!==H&&Z!=="value"&&i(E,Z,H,J,rt,I.children,j,tt,Q)}if(F!==ue)for(const Z in F)!Kl(Z)&&!(Z in V)&&i(E,Z,F[Z],null,rt,I.children,j,tt,Q);"value"in V&&i(E,"value",F.value,V.value)}},ut=(E,I,F,V,j,tt,rt,Z,J)=>{const H=I.el=E?E.el:f(""),bt=I.anchor=E?E.anchor:f("");let{patchFlag:pt,dynamicChildren:mt,slotScopeIds:_t}=I;_t&&(Z=Z?Z.concat(_t):_t),E==null?(o(H,F,V),o(bt,F,V),q(I.children,F,bt,j,tt,rt,Z,J)):pt>0&&pt&64&&mt&&E.dynamicChildren?(st(E.dynamicChildren,mt,F,j,tt,rt,Z),(I.key!=null||j&&I===j.subTree)&&E0(E,I,!0)):wt(E,I,F,bt,j,tt,rt,Z,J)},vt=(E,I,F,V,j,tt,rt,Z,J)=>{I.slotScopeIds=Z,E==null?I.shapeFlag&512?j.ctx.activate(I,F,V,rt,J):it(I,F,V,j,tt,rt,J):ht(E,I,J)},it=(E,I,F,V,j,tt,rt)=>{const Z=E.component=k6(E,V,j);if(zf(E)&&(Z.ctx.renderer=$t),E6(Z),Z.asyncDep){if(j&&j.registerDep(Z,et),!E.el){const J=Z.subTree=Ee(zn);A(null,J,I,F)}return}et(Z,E,I,F,j,tt,rt)},ht=(E,I,F)=>{const V=I.component=E.component;if(L3(E,I,F))if(V.asyncDep&&!V.asyncResolved){ct(V,I,F);return}else V.next=I,E3(V.update),V.update();else I.el=E.el,V.vnode=I},et=(E,I,F,V,j,tt,rt)=>{const Z=()=>{if(E.isMounted){let{next:bt,bu:pt,u:mt,parent:_t,vnode:Ft}=E,Mt=bt,Gt;Ur(E,!1),bt?(bt.el=Ft.el,ct(E,bt,rt)):bt=Ft,pt&&$l(pt),(Gt=bt.props&&bt.props.onVnodeBeforeUpdate)&&ln(Gt,_t,bt,Ft),Ur(E,!0);const Xt=pd(E),Ce=E.subTree;E.subTree=Xt,k(Ce,Xt,g(Ce.el),at(Ce),E,j,tt),bt.el=Xt.el,Mt===null&&F3(E,Xt.el),mt&&io(mt,j),(Gt=bt.props&&bt.props.onVnodeUpdated)&&io(()=>ln(Gt,_t,bt,Ft),j)}else{let bt;const{el:pt,props:mt}=I,{bm:_t,m:Ft,parent:Mt}=E,Gt=Jl(I);if(Ur(E,!1),_t&&$l(_t),!Gt&&(bt=mt&&mt.onVnodeBeforeMount)&&ln(bt,Mt,I),Ur(E,!0),pt&&Ct){const Xt=()=>{E.subTree=pd(E),Ct(pt,E.subTree,E,j,null)};Gt?I.type.__asyncLoader().then(()=>!E.isUnmounted&&Xt()):Xt()}else{const Xt=E.subTree=pd(E);k(null,Xt,F,V,E,j,tt),I.el=Xt.el}if(Ft&&io(Ft,j),!Gt&&(bt=mt&&mt.onVnodeMounted)){const Xt=I;io(()=>ln(bt,Mt,Xt),j)}(I.shapeFlag&256||Mt&&Jl(Mt.vnode)&&Mt.vnode.shapeFlag&256)&&E.a&&io(E.a,j),E.isMounted=!0,I=F=V=null}},J=E.effect=new Su(Z,()=>r0(H),E.scope),H=E.update=()=>J.run();H.id=E.uid,Ur(E,!0),H()},ct=(E,I,F)=>{I.component=E;const V=E.vnode.props;E.vnode=I,E.next=null,i6(E,I.props,V,F),l6(E,I.children,F),aa(),Lf(void 0,E.update),sa()},wt=(E,I,F,V,j,tt,rt,Z,J=!1)=>{const H=E&&E.children,bt=E?E.shapeFlag:0,pt=I.children,{patchFlag:mt,shapeFlag:_t}=I;if(mt>0){if(mt&128){Lt(H,pt,F,V,j,tt,rt,Z,J);return}else if(mt&256){Pt(H,pt,F,V,j,tt,rt,Z,J);return}}_t&8?(bt&16&&Q(H,j,tt),pt!==H&&h(F,pt)):bt&16?_t&16?Lt(H,pt,F,V,j,tt,rt,Z,J):Q(H,j,tt,!0):(bt&8&&h(F,""),_t&16&&q(pt,F,V,j,tt,rt,Z,J))},Pt=(E,I,F,V,j,tt,rt,Z,J)=>{E=E||Xi,I=I||Xi;const H=E.length,bt=I.length,pt=Math.min(H,bt);let mt;for(mt=0;mt<pt;mt++){const _t=I[mt]=J?sr(I[mt]):cn(I[mt]);k(E[mt],_t,F,null,j,tt,rt,Z,J)}H>bt?Q(E,j,tt,!0,!1,pt):q(I,F,V,j,tt,rt,Z,J,pt)},Lt=(E,I,F,V,j,tt,rt,Z,J)=>{let H=0;const bt=I.length;let pt=E.length-1,mt=bt-1;for(;H<=pt&&H<=mt;){const _t=E[H],Ft=I[H]=J?sr(I[H]):cn(I[H]);if(Xr(_t,Ft))k(_t,Ft,F,null,j,tt,rt,Z,J);else break;H++}for(;H<=pt&&H<=mt;){const _t=E[pt],Ft=I[mt]=J?sr(I[mt]):cn(I[mt]);if(Xr(_t,Ft))k(_t,Ft,F,null,j,tt,rt,Z,J);else break;pt--,mt--}if(H>pt){if(H<=mt){const _t=mt+1,Ft=_t<bt?I[_t].el:V;for(;H<=mt;)k(null,I[H]=J?sr(I[H]):cn(I[H]),F,Ft,j,tt,rt,Z,J),H++}}else if(H>mt)for(;H<=pt;)Wt(E[H],j,tt,!0),H++;else{const _t=H,Ft=H,Mt=new Map;for(H=Ft;H<=mt;H++){const ge=I[H]=J?sr(I[H]):cn(I[H]);ge.key!=null&&Mt.set(ge.key,H)}let Gt,Xt=0;const Ce=mt-Ft+1;let be=!1,Bo=0;const fe=new Array(Ce);for(H=0;H<Ce;H++)fe[H]=0;for(H=_t;H<=pt;H++){const ge=E[H];if(Xt>=Ce){Wt(ge,j,tt,!0);continue}let Ge;if(ge.key!=null)Ge=Mt.get(ge.key);else for(Gt=Ft;Gt<=mt;Gt++)if(fe[Gt-Ft]===0&&Xr(ge,I[Gt])){Ge=Gt;break}Ge===void 0?Wt(ge,j,tt,!0):(fe[Ge-Ft]=H+1,Ge>=Bo?Bo=Ge:be=!0,k(ge,I[Ge],F,null,j,tt,rt,Z,J),Xt++)}const co=be?h6(fe):Xi;for(Gt=co.length-1,H=Ce-1;H>=0;H--){const ge=Ft+H,Ge=I[ge],Cr=ge+1<bt?I[ge+1].el:V;fe[H]===0?k(null,Ge,F,Cr,j,tt,rt,Z,J):be&&(Gt<0||H!==co[Gt]?$(Ge,F,Cr,2):Gt--)}}},$=(E,I,F,V,j=null)=>{const{el:tt,type:rt,transition:Z,children:J,shapeFlag:H}=E;if(H&6){$(E.component.subTree,I,F,V);return}if(H&128){E.suspense.move(I,F,V);return}if(H&64){rt.move(E,I,F,$t);return}if(rt===ao){o(tt,I,F);for(let pt=0;pt<J.length;pt++)$(J[pt],I,F,V);o(E.anchor,I,F);return}if(rt===Ql){P(E,I,F);return}if(V!==2&&H&1&&Z)if(V===0)Z.beforeEnter(tt),o(tt,I,F),io(()=>Z.enter(tt),j);else{const{leave:pt,delayLeave:mt,afterLeave:_t}=Z,Ft=()=>o(tt,I,F),Mt=()=>{pt(tt,()=>{Ft(),_t&&_t()})};mt?mt(tt,Ft,Mt):Mt()}else o(tt,I,F)},Wt=(E,I,F,V=!1,j=!1)=>{const{type:tt,props:rt,ref:Z,children:J,dynamicChildren:H,shapeFlag:bt,patchFlag:pt,dirs:mt}=E;if(Z!=null&&Kd(Z,null,F,E,!0),bt&256){I.ctx.deactivate(E);return}const _t=bt&1&&mt,Ft=!Jl(E);let Mt;if(Ft&&(Mt=rt&&rt.onVnodeBeforeUnmount)&&ln(Mt,I,E),bt&6)nt(E.component,F,V);else{if(bt&128){E.suspense.unmount(F,V);return}_t&&Gr(E,null,I,"beforeUnmount"),bt&64?E.type.remove(E,I,F,j,$t,V):H&&(tt!==ao||pt>0&&pt&64)?Q(H,I,F,!1,!0):(tt===ao&&pt&384||!j&&bt&16)&&Q(J,I,F),V&&Et(E)}(Ft&&(Mt=rt&&rt.onVnodeUnmounted)||_t)&&io(()=>{Mt&&ln(Mt,I,E),_t&&Gr(E,null,I,"unmounted")},F)},Et=E=>{const{type:I,el:F,anchor:V,transition:j}=E;if(I===ao){N(F,V);return}if(I===Ql){z(E);return}const tt=()=>{r(F),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(E.shapeFlag&1&&j&&!j.persisted){const{leave:rt,delayLeave:Z}=j,J=()=>rt(F,tt);Z?Z(E.el,tt,J):J()}else tt()},N=(E,I)=>{let F;for(;E!==I;)F=p(E),r(E),E=F;r(I)},nt=(E,I,F)=>{const{bum:V,scope:j,update:tt,subTree:rt,um:Z}=E;V&&$l(V),j.stop(),tt&&(tt.active=!1,Wt(rt,E,I,F)),Z&&io(Z,I),io(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Q=(E,I,F,V=!1,j=!1,tt=0)=>{for(let rt=tt;rt<E.length;rt++)Wt(E[rt],I,F,V,j)},at=E=>E.shapeFlag&6?at(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el),St=(E,I,F)=>{E==null?I._vnode&&Wt(I._vnode,null,null,!0):k(I._vnode||null,E,I,null,null,null,F),s0(),I._vnode=E},$t={p:k,um:Wt,m:$,r:Et,mt:it,mc:q,pc:wt,pbc:st,n:at,o:n};let yt,Ct;return e&&([yt,Ct]=e($t)),{render:St,hydrate:yt,createApp:c6(St,yt)}}function Ur({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function E0(n,e,t=!1){const o=n.children,r=e.children;if(Ot(o)&&Ot(r))for(let i=0;i<o.length;i++){const s=o[i];let f=r[i];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=r[i]=sr(r[i]),f.el=s.el),t||E0(s,f))}}function h6(n){const e=n.slice(),t=[0];let o,r,i,s,f;const c=n.length;for(o=0;o<c;o++){const d=n[o];if(d!==0){if(r=t[t.length-1],n[r]<d){e[o]=r,t.push(o);continue}for(i=0,s=t.length-1;i<s;)f=i+s>>1,n[t[f]]<d?i=f+1:s=f;d<n[t[i]]&&(i>0&&(e[o]=t[i-1]),t[i]=o)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const p6=n=>n.__isTeleport,ao=Symbol(void 0),ju=Symbol(void 0),zn=Symbol(void 0),Ql=Symbol(void 0),qa=[];let Qo=null;function Po(n=!1){qa.push(Qo=n?null:[])}function b6(){qa.pop(),Qo=qa[qa.length-1]||null}let ss=1;function gg(n){ss+=n}function g6(n){return n.dynamicChildren=ss>0?Qo||Xi:null,b6(),ss>0&&Qo&&Qo.push(n),n}function Lo(n,e,t,o,r,i){return g6(G(n,e,t,o,r,i,!0))}function $d(n){return n?n.__v_isVNode===!0:!1}function Xr(n,e){return n.type===e.type&&n.key===e.key}const Nf="__vInternal",C0=({key:n})=>n!=null?n:null,tf=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ne(n)||Ae(n)||jt(n)?{i:Jo,r:n,k:e,f:!!t}:n:null;function G(n,e=null,t=null,o=0,r=null,i=n===ao?0:1,s=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&C0(e),ref:e&&tf(e),scopeId:Mf,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null};return f?(Yu(c,t),i&128&&n.normalize(c)):t&&(c.shapeFlag|=Ne(t)?8:16),ss>0&&!s&&Qo&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Qo.push(c),c}const Ee=m6;function m6(n,e=null,t=null,o=0,r=null,i=!1){if((!n||n===Z3)&&(n=zn),$d(n)){const f=yr(n,e,!0);return t&&Yu(f,t),ss>0&&!i&&Qo&&(f.shapeFlag&6?Qo[Qo.indexOf(n)]=f:Qo.push(f)),f.patchFlag|=-2,f}if(A6(n)&&(n=n.__vccOpts),e){e=v6(e);let{class:f,style:c}=e;f&&!Ne(f)&&(e.class=Cf(f)),Oe(c)&&(Jm(c)&&!Ot(c)&&(c=qe({},c)),e.style=Tu(c))}const s=Ne(n)?1:M3(n)?128:p6(n)?64:Oe(n)?4:jt(n)?2:0;return G(n,e,t,o,r,s,i,!0)}function v6(n){return n?Jm(n)||Nf in n?qe({},n):n:null}function yr(n,e,t=!1){const{props:o,ref:r,patchFlag:i,children:s}=n,f=e?w6(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&C0(f),ref:e&&e.ref?t&&r?Ot(r)?r.concat(tf(e)):[r,tf(e)]:tf(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ao?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&yr(n.ssContent),ssFallback:n.ssFallback&&yr(n.ssFallback),el:n.el,anchor:n.anchor}}function lo(n=" ",e=0){return Ee(ju,null,n,e)}function x6(n,e){const t=Ee(Ql,null,n);return t.staticCount=e,t}function cn(n){return n==null||typeof n=="boolean"?Ee(zn):Ot(n)?Ee(ao,null,n.slice()):typeof n=="object"?sr(n):Ee(ju,null,String(n))}function sr(n){return n.el===null||n.memo?n:yr(n)}function Yu(n,e){let t=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(Ot(e))t=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),Yu(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Nf in e)?e._ctx=Jo:r===3&&Jo&&(Jo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else jt(e)?(e={default:e,_ctx:Jo},t=32):(e=String(e),o&64?(t=16,e=[lo(e)]):t=8);n.children=e,n.shapeFlag|=t}function w6(...n){const e={};for(let t=0;t<n.length;t++){const o=n[t];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=Cf([e.class,o.class]));else if(r==="style")e.style=Tu([e.style,o.style]);else if(Rf(r)){const i=e[r],s=o[r];s&&i!==s&&!(Ot(i)&&i.includes(s))&&(e[r]=i?[].concat(i,s):s)}else r!==""&&(e[r]=o[r])}return e}function ln(n,e,t,o=null){Mo(n,e,7,[t,o])}const y6=k0();let _6=0;function k6(n,e,t){const o=n.type,r=(e?e.appContext:n.appContext)||y6,i={uid:_6++,vnode:n,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:x0(o,r),emitsOptions:f0(o,r),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:o.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=R3.bind(null,i),n.ce&&n.ce(i),i}let je=null;const Wu=()=>je||Jo,Zi=n=>{je=n,n.scope.on()},ei=()=>{je&&je.scope.off(),je=null};function T0(n){return n.vnode.shapeFlag&4}let ls=!1;function E6(n,e=!1){ls=e;const{props:t,children:o}=n.vnode,r=T0(n);r6(n,t,r,e),s6(n,o);const i=r?C6(n,e):void 0;return ls=!1,i}function C6(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=$i(new Proxy(n.ctx,J3));const{setup:o}=t;if(o){const r=n.setupContext=o.length>1?R6(n):null;Zi(n),aa();const i=gr(o,n,0,[n.props,r]);if(sa(),ei(),Mm(i)){if(i.then(ei,ei),e)return i.then(s=>{mg(n,s,e)}).catch(s=>{Pf(s,n,0)});n.asyncDep=i}else mg(n,i,e)}else R0(n,e)}function mg(n,e,t){jt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Oe(e)&&(n.setupState=o0(e)),R0(n,t)}let vg;function R0(n,e,t){const o=n.type;if(!n.render){if(!e&&vg&&!o.render){const r=o.template;if(r){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:f,compilerOptions:c}=o,d=qe(qe({isCustomElement:i,delimiters:f},s),c);o.render=vg(r,d)}}n.render=o.render||tn}Zi(n),aa(),Q3(n),sa(),ei()}function T6(n){return new Proxy(n.attrs,{get(e,t){return wo(n,"get","$attrs"),e[t]}})}function R6(n){const e=o=>{n.exposed=o||{}};let t;return{get attrs(){return t||(t=T6(n))},slots:n.slots,emit:n.emit,expose:e}}function Gf(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(o0($i(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in lf)return lf[t](n)}}))}function A6(n){return jt(n)&&"__vccOpts"in n}const $o=(n,e)=>y3(n,e,ls);function A0(n,e,t){const o=arguments.length;return o===2?Oe(e)&&!Ot(e)?$d(e)?Ee(n,null,[e]):Ee(n,e):Ee(n,null,e):(o>3?t=Array.prototype.slice.call(arguments,2):o===3&&$d(t)&&(t=[t]),Ee(n,e,t))}const I6="3.2.37",O6="http://www.w3.org/2000/svg",Vr=typeof document!="undefined"?document:null,xg=Vr&&Vr.createElement("template"),S6={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,o)=>{const r=e?Vr.createElementNS(O6,n):Vr.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:n=>Vr.createTextNode(n),createComment:n=>Vr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Vr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,o,r,i){const s=t?t.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===i||!(r=r.nextSibling)););else{xg.innerHTML=o?`<svg>${n}</svg>`:n;const f=xg.content;if(o){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}e.insertBefore(f,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function P6(n,e,t){const o=n._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function L6(n,e,t){const o=n.style,r=Ne(t);if(t&&!r){for(const i in t)Zd(o,i,t[i]);if(e&&!Ne(e))for(const i in e)t[i]==null&&Zd(o,i,"")}else{const i=o.display;r?e!==t&&(o.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(o.display=i)}}const wg=/\s*!important$/;function Zd(n,e,t){if(Ot(t))t.forEach(o=>Zd(n,e,o));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const o=F6(n,e);wg.test(t)?n.setProperty(ia(o),t.replace(wg,""),"important"):n[o]=t}}const yg=["Webkit","Moz","ms"],gd={};function F6(n,e){const t=gd[e];if(t)return t;let o=Ki(e);if(o!=="filter"&&o in n)return gd[e]=o;o=Nm(o);for(let r=0;r<yg.length;r++){const i=yg[r]+o;if(i in n)return gd[e]=i}return e}const _g="http://www.w3.org/1999/xlink";function M6(n,e,t,o,r){if(o&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(_g,e.slice(6,e.length)):n.setAttributeNS(_g,e,t);else{const i=A2(e);t==null||i&&!Lm(t)?n.removeAttribute(e):n.setAttribute(e,i?"":t)}}function z6(n,e,t,o,r,i,s){if(e==="innerHTML"||e==="textContent"){o&&s(o,r,i),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const c=t==null?"":t;(n.value!==c||n.tagName==="OPTION")&&(n.value=c),t==null&&n.removeAttribute(e);return}let f=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=Lm(t):t==null&&c==="string"?(t="",f=!0):c==="number"&&(t=0,f=!0)}try{n[e]=t}catch{}f&&n.removeAttribute(e)}const[I0,D6]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Jd=0;const N6=Promise.resolve(),G6=()=>{Jd=0},U6=()=>Jd||(N6.then(G6),Jd=I0());function Hr(n,e,t,o){n.addEventListener(e,t,o)}function B6(n,e,t,o){n.removeEventListener(e,t,o)}function j6(n,e,t,o,r=null){const i=n._vei||(n._vei={}),s=i[e];if(o&&s)s.value=o;else{const[f,c]=Y6(e);if(o){const d=i[e]=W6(o,r);Hr(n,f,d,c)}else s&&(B6(n,f,s,c),i[e]=void 0)}}const kg=/(?:Once|Passive|Capture)$/;function Y6(n){let e;if(kg.test(n)){e={};let t;for(;t=n.match(kg);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[ia(n.slice(2)),e]}function W6(n,e){const t=o=>{const r=o.timeStamp||I0();(D6||r>=t.attached-1)&&Mo(X6(o,t.value),e,5,[o])};return t.value=n,t.attached=U6(),t}function X6(n,e){if(Ot(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const Eg=/^on[a-z]/,V6=(n,e,t,o,r=!1,i,s,f,c)=>{e==="class"?P6(n,o,r):e==="style"?L6(n,t,o):Rf(e)?Ru(e)||j6(n,e,t,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):H6(n,e,o,r))?z6(n,e,o,i,s,f,c):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),M6(n,e,o,r))};function H6(n,e,t,o){return o?!!(e==="innerHTML"||e==="textContent"||e in n&&Eg.test(e)&&jt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||Eg.test(e)&&Ne(t)?!1:e in n}const q6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};U3.props;const cf=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Ot(e)?t=>$l(e,t):e};function K6(n){n.target.composing=!0}function Cg(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const oi={created(n,{modifiers:{lazy:e,trim:t,number:o}},r){n._assign=cf(r);const i=o||r.props&&r.props.type==="number";Hr(n,e?"change":"input",s=>{if(s.target.composing)return;let f=n.value;t&&(f=f.trim()),i&&(f=rf(f)),n._assign(f)}),t&&Hr(n,"change",()=>{n.value=n.value.trim()}),e||(Hr(n,"compositionstart",K6),Hr(n,"compositionend",Cg),Hr(n,"change",Cg))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:o,number:r}},i){if(n._assign=cf(i),n.composing||document.activeElement===n&&n.type!=="range"&&(t||o&&n.value.trim()===e||(r||n.type==="number")&&rf(n.value)===e))return;const s=e==null?"":e;n.value!==s&&(n.value=s)}},$6={deep:!0,created(n,{value:e,modifiers:{number:t}},o){const r=Af(e);Hr(n,"change",()=>{const i=Array.prototype.filter.call(n.options,s=>s.selected).map(s=>t?rf(df(s)):df(s));n._assign(n.multiple?r?new Set(i):i:i[0])}),n._assign=cf(o)},mounted(n,{value:e}){Tg(n,e)},beforeUpdate(n,e,t){n._assign=cf(t)},updated(n,{value:e}){Tg(n,e)}};function Tg(n,e){const t=n.multiple;if(!(t&&!Ot(e)&&!Af(e))){for(let o=0,r=n.options.length;o<r;o++){const i=n.options[o],s=df(i);if(t)Ot(e)?i.selected=L2(e,s)>-1:i.selected=e.has(s);else if(Tf(df(i),e)){n.selectedIndex!==o&&(n.selectedIndex=o);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function df(n){return"_value"in n?n._value:n.value}const Z6=qe({patchProp:V6},S6);let Rg;function J6(){return Rg||(Rg=d6(Z6))}const Q6=(...n)=>{const e=J6().createApp(...n),{mount:t}=e;return e.mount=o=>{const r=t4(o);if(!r)return;const i=e._component;!jt(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const s=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function t4(n){return Ne(n)?document.querySelector(n):n}var e4=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let O0;const Uf=n=>O0=n,S0=Symbol();function Qd(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ka;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ka||(Ka={}));function o4(){const n=Um(!0),e=n.run(()=>Sf({}));let t=[],o=[];const r=$i({install(i){Uf(r),r._a=i,i.provide(S0,r),i.config.globalProperties.$pinia=r,o.forEach(s=>t.push(s)),o=[]},use(i){return!this._a&&!e4?o.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return r}const P0=()=>{};function Ag(n,e,t,o=P0){n.push(e);const r=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),o())};return!t&&Wu()&&Uu(r),r}function Ai(n,...e){n.slice().forEach(t=>{t(...e)})}function tu(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t],r=n[t];Qd(r)&&Qd(o)&&n.hasOwnProperty(t)&&!Ae(o)&&!br(o)?n[t]=tu(r,o):n[t]=o}return n}const n4=Symbol();function r4(n){return!Qd(n)||!n.hasOwnProperty(n4)}const{assign:Sn}=Object;function i4(n){return!!(Ae(n)&&n.effect)}function a4(n,e,t,o){const{state:r,actions:i,getters:s}=e,f=t.state.value[n];let c;function d(){f||(t.state.value[n]=r?r():{});const h=m3(t.state.value[n]);return Sn(h,i,Object.keys(s||{}).reduce((g,p)=>(g[p]=$i($o(()=>{Uf(t);const m=t._s.get(n);return s[p].call(m,m)})),g),{}))}return c=L0(n,d,e,t,o,!0),c.$reset=function(){const g=r?r():{};this.$patch(p=>{Sn(p,g)})},c}function L0(n,e,t={},o,r,i){let s;const f=Sn({actions:{}},t),c={deep:!0};let d,h,g=$i([]),p=$i([]),m;const x=o.state.value[n];!i&&!x&&(o.state.value[n]={}),Sf({});let _;function k(U){let M;d=h=!1,typeof U=="function"?(U(o.state.value[n]),M={type:Ka.patchFunction,storeId:n,events:m}):(tu(o.state.value[n],U),M={type:Ka.patchObject,payload:U,storeId:n,events:m});const q=_=Symbol();Nu().then(()=>{_===q&&(d=!0)}),h=!0,Ai(g,M,o.state.value[n])}const T=P0;function A(){s.stop(),g=[],p=[],o._s.delete(n)}function O(U,M){return function(){Uf(o);const q=Array.from(arguments),ot=[],st=[];function dt(it){ot.push(it)}function ut(it){st.push(it)}Ai(p,{args:q,name:U,store:z,after:dt,onError:ut});let vt;try{vt=M.apply(this&&this.$id===n?this:z,q)}catch(it){throw Ai(st,it),it}return vt instanceof Promise?vt.then(it=>(Ai(ot,it),it)).catch(it=>(Ai(st,it),Promise.reject(it))):(Ai(ot,vt),vt)}}const P={_p:o,$id:n,$onAction:Ag.bind(null,p),$patch:k,$reset:T,$subscribe(U,M={}){const q=Ag(g,U,M.detached,()=>ot()),ot=s.run(()=>zo(()=>o.state.value[n],st=>{(M.flush==="sync"?h:d)&&U({storeId:n,type:Ka.direct,events:m},st)},Sn({},c,M)));return q},$dispose:A},z=la(Sn({},P));o._s.set(n,z);const X=o._e.run(()=>(s=Um(),s.run(()=>e())));for(const U in X){const M=X[U];if(Ae(M)&&!i4(M)||br(M))i||(x&&r4(M)&&(Ae(M)?M.value=x[U]:tu(M,x[U])),o.state.value[n][U]=M);else if(typeof M=="function"){const q=O(U,M);X[U]=q,f.actions[U]=M}}return Sn(z,X),Sn(ne(z),X),Object.defineProperty(z,"$state",{get:()=>o.state.value[n],set:U=>{k(M=>{Sn(M,U)})}}),o._p.forEach(U=>{Sn(z,s.run(()=>U({store:z,app:o._a,pinia:o,options:f})))}),x&&i&&t.hydrate&&t.hydrate(z.$state,x),d=!0,h=!0,z}function Xu(n,e,t){let o,r;const i=typeof e=="function";typeof n=="string"?(o=n,r=i?t:e):(r=n,o=n.id);function s(f,c){const d=Wu();return f=f||d&&Mn(S0),f&&Uf(f),f=O0,f._s.has(o)||(i?L0(o,e,r,f):a4(o,r,f)),f._s.get(o)}return s.$id=o,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const F0=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",fa=n=>F0?Symbol(n):"_vr_"+n,s4=fa("rvlm"),Ig=fa("rvd"),Vu=fa("r"),M0=fa("rl"),eu=fa("rvl"),Di=typeof window!="undefined";function l4(n){return n.__esModule||F0&&n[Symbol.toStringTag]==="Module"}const de=Object.assign;function md(n,e){const t={};for(const o in e){const r=e[o];t[o]=Array.isArray(r)?r.map(n):n(r)}return t}const $a=()=>{},f4=/\/$/,c4=n=>n.replace(f4,"");function vd(n,e,t="/"){let o,r={},i="",s="";const f=e.indexOf("?"),c=e.indexOf("#",f>-1?f:0);return f>-1&&(o=e.slice(0,f),i=e.slice(f+1,c>-1?c:e.length),r=n(i)),c>-1&&(o=o||e.slice(0,c),s=e.slice(c,e.length)),o=p4(o!=null?o:e,t),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:s}}function d4(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Og(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function u4(n,e,t){const o=e.matched.length-1,r=t.matched.length-1;return o>-1&&o===r&&Ji(e.matched[o],t.matched[r])&&z0(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ji(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function z0(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!h4(n[t],e[t]))return!1;return!0}function h4(n,e){return Array.isArray(n)?Sg(n,e):Array.isArray(e)?Sg(e,n):n===e}function Sg(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,o)=>t===e[o]):n.length===1&&n[0]===e}function p4(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),o=n.split("/");let r=t.length-1,i,s;for(i=0;i<o.length;i++)if(s=o[i],!(r===1||s==="."))if(s==="..")r--;else break;return t.slice(0,r).join("/")+"/"+o.slice(i-(i===o.length?1:0)).join("/")}var fs;(function(n){n.pop="pop",n.push="push"})(fs||(fs={}));var Za;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Za||(Za={}));function b4(n){if(!n)if(Di){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),c4(n)}const g4=/^[^#]+#/;function m4(n,e){return n.replace(g4,"#")+e}function v4(n,e){const t=document.documentElement.getBoundingClientRect(),o=n.getBoundingClientRect();return{behavior:e.behavior,left:o.left-t.left-(e.left||0),top:o.top-t.top-(e.top||0)}}const Bf=()=>({left:window.pageXOffset,top:window.pageYOffset});function x4(n){let e;if("el"in n){const t=n.el,o=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=v4(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pg(n,e){return(history.state?history.state.position-e:-1)+n}const ou=new Map;function w4(n,e){ou.set(n,e)}function y4(n){const e=ou.get(n);return ou.delete(n),e}let _4=()=>location.protocol+"//"+location.host;function D0(n,e){const{pathname:t,search:o,hash:r}=e,i=n.indexOf("#");if(i>-1){let f=r.includes(n.slice(i))?n.slice(i).length:1,c=r.slice(f);return c[0]!=="/"&&(c="/"+c),Og(c,"")}return Og(t,n)+o+r}function k4(n,e,t,o){let r=[],i=[],s=null;const f=({state:p})=>{const m=D0(n,location),x=t.value,_=e.value;let k=0;if(p){if(t.value=m,e.value=p,s&&s===x){s=null;return}k=_?p.position-_.position:0}else o(m);r.forEach(T=>{T(t.value,x,{delta:k,type:fs.pop,direction:k?k>0?Za.forward:Za.back:Za.unknown})})};function c(){s=t.value}function d(p){r.push(p);const m=()=>{const x=r.indexOf(p);x>-1&&r.splice(x,1)};return i.push(m),m}function h(){const{history:p}=window;!p.state||p.replaceState(de({},p.state,{scroll:Bf()}),"")}function g(){for(const p of i)p();i=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:d,destroy:g}}function Lg(n,e,t,o=!1,r=!1){return{back:n,current:e,forward:t,replaced:o,position:window.history.length,scroll:r?Bf():null}}function E4(n){const{history:e,location:t}=window,o={value:D0(n,t)},r={value:e.state};r.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,d,h){const g=n.indexOf("#"),p=g>-1?(t.host&&document.querySelector("base")?n:n.slice(g))+c:_4()+n+c;try{e[h?"replaceState":"pushState"](d,"",p),r.value=d}catch(m){console.error(m),t[h?"replace":"assign"](p)}}function s(c,d){const h=de({},e.state,Lg(r.value.back,c,r.value.forward,!0),d,{position:r.value.position});i(c,h,!0),o.value=c}function f(c,d){const h=de({},r.value,e.state,{forward:c,scroll:Bf()});i(h.current,h,!0);const g=de({},Lg(o.value,c,null),{position:h.position+1},d);i(c,g,!1),o.value=c}return{location:o,state:r,push:f,replace:s}}function C4(n){n=b4(n);const e=E4(n),t=k4(n,e.state,e.location,e.replace);function o(i,s=!0){s||t.pauseListeners(),history.go(i)}const r=de({location:"",base:n,go:o,createHref:m4.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function T4(n){return typeof n=="string"||n&&typeof n=="object"}function N0(n){return typeof n=="string"||typeof n=="symbol"}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},G0=fa("nf");var Fg;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Fg||(Fg={}));function Qi(n,e){return de(new Error,{type:n,[G0]:!0},e)}function tr(n,e){return n instanceof Error&&G0 in n&&(e==null||!!(n.type&e))}const Mg="[^/]+?",R4={sensitive:!1,strict:!1,start:!0,end:!0},A4=/[.+*?^${}()[\]/\\]/g;function I4(n,e){const t=de({},R4,e),o=[];let r=t.start?"^":"";const i=[];for(const d of n){const h=d.length?[]:[90];t.strict&&!d.length&&(r+="/");for(let g=0;g<d.length;g++){const p=d[g];let m=40+(t.sensitive?.25:0);if(p.type===0)g||(r+="/"),r+=p.value.replace(A4,"\\$&"),m+=40;else if(p.type===1){const{value:x,repeatable:_,optional:k,regexp:T}=p;i.push({name:x,repeatable:_,optional:k});const A=T||Mg;if(A!==Mg){m+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${x}" (${A}): `+P.message)}}let O=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;g||(O=k&&d.length<2?`(?:/${O})`:"/"+O),k&&(O+="?"),r+=O,m+=20,k&&(m+=-8),_&&(m+=-20),A===".*"&&(m+=-50)}h.push(m)}o.push(h)}if(t.strict&&t.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const s=new RegExp(r,t.sensitive?"":"i");function f(d){const h=d.match(s),g={};if(!h)return null;for(let p=1;p<h.length;p++){const m=h[p]||"",x=i[p-1];g[x.name]=m&&x.repeatable?m.split("/"):m}return g}function c(d){let h="",g=!1;for(const p of n){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const m of p)if(m.type===0)h+=m.value;else if(m.type===1){const{value:x,repeatable:_,optional:k}=m,T=x in d?d[x]:"";if(Array.isArray(T)&&!_)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(k)p.length<2&&n.length>1&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${x}"`);h+=A}}return h}return{re:s,score:o,keys:i,parse:f,stringify:c}}function O4(n,e){let t=0;for(;t<n.length&&t<e.length;){const o=e[t]-n[t];if(o)return o;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function S4(n,e){let t=0;const o=n.score,r=e.score;for(;t<o.length&&t<r.length;){const i=O4(o[t],r[t]);if(i)return i;t++}return r.length-o.length}const P4={type:0,value:""},L4=/[a-zA-Z0-9_]/;function F4(n){if(!n)return[[]];if(n==="/")return[[P4]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(m){throw new Error(`ERR (${t})/"${d}": ${m}`)}let t=0,o=t;const r=[];let i;function s(){i&&r.push(i),i=[]}let f=0,c,d="",h="";function g(){!d||(t===0?i.push({type:0,value:d}):t===1||t===2||t===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;f<n.length;){if(c=n[f++],c==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:c==="/"?(d&&g(),s()):c===":"?(g(),t=1):p();break;case 4:p(),t=o;break;case 1:c==="("?t=2:L4.test(c)?p():(g(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:t=3:h+=c;break;case 3:g(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),g(),s(),r}function M4(n,e,t){const o=I4(F4(n.path),t),r=de(o,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function z4(n,e){const t=[],o=new Map;e=Dg({strict:!1,end:!0,sensitive:!1},e);function r(h){return o.get(h)}function i(h,g,p){const m=!p,x=N4(h);x.aliasOf=p&&p.record;const _=Dg(e,h),k=[x];if("alias"in h){const O=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of O)k.push(de({},x,{components:p?p.record.components:x.components,path:P,aliasOf:p?p.record:x}))}let T,A;for(const O of k){const{path:P}=O;if(g&&P[0]!=="/"){const z=g.record.path,X=z[z.length-1]==="/"?"":"/";O.path=g.record.path+(P&&X+P)}if(T=M4(O,g,_),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),m&&h.name&&!zg(T)&&s(h.name)),"children"in x){const z=x.children;for(let X=0;X<z.length;X++)i(z[X],T,p&&p.children[X])}p=p||T,c(T)}return A?()=>{s(A)}:$a}function s(h){if(N0(h)){const g=o.get(h);g&&(o.delete(h),t.splice(t.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=t.indexOf(h);g>-1&&(t.splice(g,1),h.record.name&&o.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function f(){return t}function c(h){let g=0;for(;g<t.length&&S4(h,t[g])>=0&&(h.record.path!==t[g].record.path||!U0(h,t[g]));)g++;t.splice(g,0,h),h.record.name&&!zg(h)&&o.set(h.record.name,h)}function d(h,g){let p,m={},x,_;if("name"in h&&h.name){if(p=o.get(h.name),!p)throw Qi(1,{location:h});_=p.record.name,m=de(D4(g.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),h.params),x=p.stringify(m)}else if("path"in h)x=h.path,p=t.find(A=>A.re.test(x)),p&&(m=p.parse(x),_=p.record.name);else{if(p=g.name?o.get(g.name):t.find(A=>A.re.test(g.path)),!p)throw Qi(1,{location:h,currentLocation:g});_=p.record.name,m=de({},g.params,h.params),x=p.stringify(m)}const k=[];let T=p;for(;T;)k.unshift(T.record),T=T.parent;return{name:_,path:x,params:m,matched:k,meta:U4(k)}}return n.forEach(h=>i(h)),{addRoute:i,resolve:d,removeRoute:s,getRoutes:f,getRecordMatcher:r}}function D4(n,e){const t={};for(const o of e)o in n&&(t[o]=n[o]);return t}function N4(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:G4(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function G4(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const o in n.components)e[o]=typeof t=="boolean"?t:t[o];return e}function zg(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function U4(n){return n.reduce((e,t)=>de(e,t.meta),{})}function Dg(n,e){const t={};for(const o in n)t[o]=o in e?e[o]:n[o];return t}function U0(n,e){return e.children.some(t=>t===n||U0(n,t))}const B0=/#/g,B4=/&/g,j4=/\//g,Y4=/=/g,W4=/\?/g,j0=/\+/g,X4=/%5B/g,V4=/%5D/g,Y0=/%5E/g,H4=/%60/g,W0=/%7B/g,q4=/%7C/g,X0=/%7D/g,K4=/%20/g;function Hu(n){return encodeURI(""+n).replace(q4,"|").replace(X4,"[").replace(V4,"]")}function $4(n){return Hu(n).replace(W0,"{").replace(X0,"}").replace(Y0,"^")}function nu(n){return Hu(n).replace(j0,"%2B").replace(K4,"+").replace(B0,"%23").replace(B4,"%26").replace(H4,"`").replace(W0,"{").replace(X0,"}").replace(Y0,"^")}function Z4(n){return nu(n).replace(Y4,"%3D")}function J4(n){return Hu(n).replace(B0,"%23").replace(W4,"%3F")}function Q4(n){return n==null?"":J4(n).replace(j4,"%2F")}function uf(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function tE(n){const e={};if(n===""||n==="?")return e;const o=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<o.length;++r){const i=o[r].replace(j0," "),s=i.indexOf("="),f=uf(s<0?i:i.slice(0,s)),c=s<0?null:uf(i.slice(s+1));if(f in e){let d=e[f];Array.isArray(d)||(d=e[f]=[d]),d.push(c)}else e[f]=c}return e}function Ng(n){let e="";for(let t in n){const o=n[t];if(t=Z4(t),o==null){o!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(o)?o.map(i=>i&&nu(i)):[o&&nu(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function eE(n){const e={};for(const t in n){const o=n[t];o!==void 0&&(e[t]=Array.isArray(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return e}function Ma(){let n=[];function e(o){return n.push(o),()=>{const r=n.indexOf(o);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function lr(n,e,t,o,r){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((s,f)=>{const c=g=>{g===!1?f(Qi(4,{from:t,to:e})):g instanceof Error?f(g):T4(g)?f(Qi(2,{from:e,to:g})):(i&&o.enterCallbacks[r]===i&&typeof g=="function"&&i.push(g),s())},d=n.call(o&&o.instances[r],e,t,c);let h=Promise.resolve(d);n.length<3&&(h=h.then(c)),h.catch(g=>f(g))})}function xd(n,e,t,o){const r=[];for(const i of n)for(const s in i.components){let f=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(oE(f)){const d=(f.__vccOpts||f)[e];d&&r.push(lr(d,t,o,i,s))}else{let c=f();r.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const h=l4(d)?d.default:d;i.components[s]=h;const p=(h.__vccOpts||h)[e];return p&&lr(p,t,o,i,s)()}))}}return r}function oE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Gg(n){const e=Mn(Vu),t=Mn(M0),o=$o(()=>e.resolve(Jt(n.to))),r=$o(()=>{const{matched:c}=o.value,{length:d}=c,h=c[d-1],g=t.matched;if(!h||!g.length)return-1;const p=g.findIndex(Ji.bind(null,h));if(p>-1)return p;const m=Ug(c[d-2]);return d>1&&Ug(h)===m&&g[g.length-1].path!==m?g.findIndex(Ji.bind(null,c[d-2])):p}),i=$o(()=>r.value>-1&&aE(t.params,o.value.params)),s=$o(()=>r.value>-1&&r.value===t.matched.length-1&&z0(t.params,o.value.params));function f(c={}){return iE(c)?e[Jt(n.replace)?"replace":"push"](Jt(n.to)).catch($a):Promise.resolve()}return{route:o,href:$o(()=>o.value.href),isActive:i,isExactActive:s,navigate:f}}const nE=pn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gg,setup(n,{slots:e}){const t=la(Gg(n)),{options:o}=Mn(Vu),r=$o(()=>({[Bg(n.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[Bg(n.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:A0("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},i)}}}),rE=nE;function iE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function aE(n,e){for(const t in e){const o=e[t],r=n[t];if(typeof o=="string"){if(o!==r)return!1}else if(!Array.isArray(r)||r.length!==o.length||o.some((i,s)=>i!==r[s]))return!1}return!0}function Ug(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Bg=(n,e,t)=>n!=null?n:e!=null?e:t,sE=pn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const o=Mn(eu),r=$o(()=>n.route||o.value),i=Mn(Ig,0),s=$o(()=>r.value.matched[i]);Zl(Ig,i+1),Zl(s4,s),Zl(eu,r);const f=Sf();return zo(()=>[f.value,s.value,n.name],([c,d,h],[g,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===g&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Ji(d,p)||!g)&&(d.enterCallbacks[h]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=r.value,d=s.value,h=d&&d.components[n.name],g=n.name;if(!h)return jg(t.default,{Component:h,route:c});const p=d.props[n.name],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=A0(h,de({},m,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(d.instances[g]=null)},ref:f}));return jg(t.default,{Component:_,route:c})||_}}});function jg(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const V0=sE;function lE(n){const e=z4(n.routes,n),t=n.parseQuery||tE,o=n.stringifyQuery||Ng,r=n.history,i=Ma(),s=Ma(),f=Ma(),c=p3(Qn);let d=Qn;Di&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=md.bind(null,N=>""+N),g=md.bind(null,Q4),p=md.bind(null,uf);function m(N,nt){let Q,at;return N0(N)?(Q=e.getRecordMatcher(N),at=nt):at=N,e.addRoute(at,Q)}function x(N){const nt=e.getRecordMatcher(N);nt&&e.removeRoute(nt)}function _(){return e.getRoutes().map(N=>N.record)}function k(N){return!!e.getRecordMatcher(N)}function T(N,nt){if(nt=de({},nt||c.value),typeof N=="string"){const Ct=vd(t,N,nt.path),E=e.resolve({path:Ct.path},nt),I=r.createHref(Ct.fullPath);return de(Ct,E,{params:p(E.params),hash:uf(Ct.hash),redirectedFrom:void 0,href:I})}let Q;if("path"in N)Q=de({},N,{path:vd(t,N.path,nt.path).path});else{const Ct=de({},N.params);for(const E in Ct)Ct[E]==null&&delete Ct[E];Q=de({},N,{params:g(N.params)}),nt.params=g(nt.params)}const at=e.resolve(Q,nt),St=N.hash||"";at.params=h(p(at.params));const $t=d4(o,de({},N,{hash:$4(St),path:at.path})),yt=r.createHref($t);return de({fullPath:$t,hash:St,query:o===Ng?eE(N.query):N.query||{}},at,{redirectedFrom:void 0,href:yt})}function A(N){return typeof N=="string"?vd(t,N,c.value.path):de({},N)}function O(N,nt){if(d!==N)return Qi(8,{from:nt,to:N})}function P(N){return U(N)}function z(N){return P(de(A(N),{replace:!0}))}function X(N){const nt=N.matched[N.matched.length-1];if(nt&&nt.redirect){const{redirect:Q}=nt;let at=typeof Q=="function"?Q(N):Q;return typeof at=="string"&&(at=at.includes("?")||at.includes("#")?at=A(at):{path:at},at.params={}),de({query:N.query,hash:N.hash,params:N.params},at)}}function U(N,nt){const Q=d=T(N),at=c.value,St=N.state,$t=N.force,yt=N.replace===!0,Ct=X(Q);if(Ct)return U(de(A(Ct),{state:St,force:$t,replace:yt}),nt||Q);const E=Q;E.redirectedFrom=nt;let I;return!$t&&u4(o,at,Q)&&(I=Qi(16,{to:E,from:at}),Pt(at,at,!0,!1)),(I?Promise.resolve(I):q(E,at)).catch(F=>tr(F)?tr(F,2)?F:wt(F):et(F,E,at)).then(F=>{if(F){if(tr(F,2))return U(de(A(F.to),{state:St,force:$t,replace:yt}),nt||E)}else F=st(E,at,!0,yt,St);return ot(E,at,F),F})}function M(N,nt){const Q=O(N,nt);return Q?Promise.reject(Q):Promise.resolve()}function q(N,nt){let Q;const[at,St,$t]=fE(N,nt);Q=xd(at.reverse(),"beforeRouteLeave",N,nt);for(const Ct of at)Ct.leaveGuards.forEach(E=>{Q.push(lr(E,N,nt))});const yt=M.bind(null,N,nt);return Q.push(yt),Ii(Q).then(()=>{Q=[];for(const Ct of i.list())Q.push(lr(Ct,N,nt));return Q.push(yt),Ii(Q)}).then(()=>{Q=xd(St,"beforeRouteUpdate",N,nt);for(const Ct of St)Ct.updateGuards.forEach(E=>{Q.push(lr(E,N,nt))});return Q.push(yt),Ii(Q)}).then(()=>{Q=[];for(const Ct of N.matched)if(Ct.beforeEnter&&!nt.matched.includes(Ct))if(Array.isArray(Ct.beforeEnter))for(const E of Ct.beforeEnter)Q.push(lr(E,N,nt));else Q.push(lr(Ct.beforeEnter,N,nt));return Q.push(yt),Ii(Q)}).then(()=>(N.matched.forEach(Ct=>Ct.enterCallbacks={}),Q=xd($t,"beforeRouteEnter",N,nt),Q.push(yt),Ii(Q))).then(()=>{Q=[];for(const Ct of s.list())Q.push(lr(Ct,N,nt));return Q.push(yt),Ii(Q)}).catch(Ct=>tr(Ct,8)?Ct:Promise.reject(Ct))}function ot(N,nt,Q){for(const at of f.list())at(N,nt,Q)}function st(N,nt,Q,at,St){const $t=O(N,nt);if($t)return $t;const yt=nt===Qn,Ct=Di?history.state:{};Q&&(at||yt?r.replace(N.fullPath,de({scroll:yt&&Ct&&Ct.scroll},St)):r.push(N.fullPath,St)),c.value=N,Pt(N,nt,Q,yt),wt()}let dt;function ut(){dt||(dt=r.listen((N,nt,Q)=>{const at=T(N),St=X(at);if(St){U(de(St,{replace:!0}),at).catch($a);return}d=at;const $t=c.value;Di&&w4(Pg($t.fullPath,Q.delta),Bf()),q(at,$t).catch(yt=>tr(yt,12)?yt:tr(yt,2)?(U(yt.to,at).then(Ct=>{tr(Ct,20)&&!Q.delta&&Q.type===fs.pop&&r.go(-1,!1)}).catch($a),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),et(yt,at,$t))).then(yt=>{yt=yt||st(at,$t,!1),yt&&(Q.delta?r.go(-Q.delta,!1):Q.type===fs.pop&&tr(yt,20)&&r.go(-1,!1)),ot(at,$t,yt)}).catch($a)}))}let vt=Ma(),it=Ma(),ht;function et(N,nt,Q){wt(N);const at=it.list();return at.length?at.forEach(St=>St(N,nt,Q)):console.error(N),Promise.reject(N)}function ct(){return ht&&c.value!==Qn?Promise.resolve():new Promise((N,nt)=>{vt.add([N,nt])})}function wt(N){return ht||(ht=!N,ut(),vt.list().forEach(([nt,Q])=>N?Q(N):nt()),vt.reset()),N}function Pt(N,nt,Q,at){const{scrollBehavior:St}=n;if(!Di||!St)return Promise.resolve();const $t=!Q&&y4(Pg(N.fullPath,0))||(at||!Q)&&history.state&&history.state.scroll||null;return Nu().then(()=>St(N,nt,$t)).then(yt=>yt&&x4(yt)).catch(yt=>et(yt,N,nt))}const Lt=N=>r.go(N);let $;const Wt=new Set;return{currentRoute:c,addRoute:m,removeRoute:x,hasRoute:k,getRoutes:_,resolve:T,options:n,push:P,replace:z,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:i.add,beforeResolve:s.add,afterEach:f.add,onError:it.add,isReady:ct,install(N){const nt=this;N.component("RouterLink",rE),N.component("RouterView",V0),N.config.globalProperties.$router=nt,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Jt(c)}),Di&&!$&&c.value===Qn&&($=!0,P(r.location).catch(St=>{}));const Q={};for(const St in Qn)Q[St]=$o(()=>c.value[St]);N.provide(Vu,nt),N.provide(M0,la(Q)),N.provide(eu,c);const at=N.unmount;Wt.add(N),N.unmount=function(){Wt.delete(N),Wt.size<1&&(d=Qn,dt&&dt(),dt=null,c.value=Qn,$=!1,ht=!1),at()}}}}function Ii(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function fE(n,e){const t=[],o=[],r=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const f=e.matched[s];f&&(n.matched.find(d=>Ji(d,f))?o.push(f):t.push(f));const c=n.matched[s];c&&(e.matched.find(d=>Ji(d,c))||r.push(c))}return[t,o,r]}const cE=G("header",null,[G("div",{class:"wrapper"})],-1),dE={class:"content"},uE=pn({__name:"App",setup(n){return(e,t)=>(Po(),Lo(ao,null,[cE,G("div",dE,[Ee(Jt(V0))])],64))}}),qu=Xu({id:"mappingArea",state:()=>({perimeter:null}),getters:{height:n=>{var e;return((e=n.perimeter)==null?void 0:e.height())||0},width:n=>{var e;return((e=n.perimeter)==null?void 0:e.width())||0},area:n=>{var e,t;return(((e=n.perimeter)==null?void 0:e.height())||0)*(((t=n.perimeter)==null?void 0:t.width())||0)}},actions:{}});var za=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},cs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,o="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,p=2,m=4,x=1,_=2,k=1,T=2,A=4,O=8,P=16,z=32,X=64,U=128,M=256,q=512,ot=30,st="...",dt=800,ut=16,vt=1,it=2,ht=3,et=1/0,ct=9007199254740991,wt=17976931348623157e292,Pt=0/0,Lt=4294967295,$=Lt-1,Wt=Lt>>>1,Et=[["ary",U],["bind",k],["bindKey",T],["curry",O],["curryRight",P],["flip",q],["partial",z],["partialRight",X],["rearg",M]],N="[object Arguments]",nt="[object Array]",Q="[object AsyncFunction]",at="[object Boolean]",St="[object Date]",$t="[object DOMException]",yt="[object Error]",Ct="[object Function]",E="[object GeneratorFunction]",I="[object Map]",F="[object Number]",V="[object Null]",j="[object Object]",tt="[object Promise]",rt="[object Proxy]",Z="[object RegExp]",J="[object Set]",H="[object String]",bt="[object Symbol]",pt="[object Undefined]",mt="[object WeakMap]",_t="[object WeakSet]",Ft="[object ArrayBuffer]",Mt="[object DataView]",Gt="[object Float32Array]",Xt="[object Float64Array]",Ce="[object Int8Array]",be="[object Int16Array]",Bo="[object Int32Array]",fe="[object Uint8Array]",co="[object Uint8ClampedArray]",ge="[object Uint16Array]",Ge="[object Uint32Array]",Cr=/\b__p \+= '';/g,pa=/\b(__p \+=) '' \+/g,ec=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ds=/&(?:amp|lt|gt|quot|#39);/g,ba=/[&<>"']/g,Ns=RegExp(Ds.source),ga=RegExp(ba.source),Gs=/<%-([\s\S]+?)%>/g,ma=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,Tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rr=/^\w*$/,Us=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/[\\^$.*+?()[\]{}|]/g,oc=RegExp(di.source),va=/^\s+/,Ar=/\s/,Ir=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nn=/\{\n\/\* \[wrapped with (.+)\] \*/,ui=/,? & /,hi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,to=/\\(\\)?/g,xa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bs=/\w*$/,js=/^[-+]0x[0-9a-f]+$/i,dx=/^0b[01]+$/i,ux=/^\[object .+?Constructor\]$/,hx=/^0o[0-7]+$/i,px=/^(?:0|[1-9]\d*)$/,bx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ys=/($^)/,gx=/['\n\r\u2028\u2029\\]/g,Ws="\\ud800-\\udfff",mx="\\u0300-\\u036f",vx="\\ufe20-\\ufe2f",xx="\\u20d0-\\u20ff",Th=mx+vx+xx,Rh="\\u2700-\\u27bf",Ah="a-z\\xdf-\\xf6\\xf8-\\xff",wx="\\xac\\xb1\\xd7\\xf7",yx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_x="\\u2000-\\u206f",kx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ih="A-Z\\xc0-\\xd6\\xd8-\\xde",Oh="\\ufe0e\\ufe0f",Sh=wx+yx+_x+kx,nc="['\u2019]",Ex="["+Ws+"]",Ph="["+Sh+"]",Xs="["+Th+"]",Lh="\\d+",Cx="["+Rh+"]",Fh="["+Ah+"]",Mh="[^"+Ws+Sh+Lh+Rh+Ah+Ih+"]",rc="\\ud83c[\\udffb-\\udfff]",Tx="(?:"+Xs+"|"+rc+")",zh="[^"+Ws+"]",ic="(?:\\ud83c[\\udde6-\\uddff]){2}",ac="[\\ud800-\\udbff][\\udc00-\\udfff]",pi="["+Ih+"]",Dh="\\u200d",Nh="(?:"+Fh+"|"+Mh+")",Rx="(?:"+pi+"|"+Mh+")",Gh="(?:"+nc+"(?:d|ll|m|re|s|t|ve))?",Uh="(?:"+nc+"(?:D|LL|M|RE|S|T|VE))?",Bh=Tx+"?",jh="["+Oh+"]?",Ax="(?:"+Dh+"(?:"+[zh,ic,ac].join("|")+")"+jh+Bh+")*",Ix="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ox="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yh=jh+Bh+Ax,Sx="(?:"+[Cx,ic,ac].join("|")+")"+Yh,Px="(?:"+[zh+Xs+"?",Xs,ic,ac,Ex].join("|")+")",Lx=RegExp(nc,"g"),Fx=RegExp(Xs,"g"),sc=RegExp(rc+"(?="+rc+")|"+Px+Yh,"g"),Mx=RegExp([pi+"?"+Fh+"+"+Gh+"(?="+[Ph,pi,"$"].join("|")+")",Rx+"+"+Uh+"(?="+[Ph,pi+Nh,"$"].join("|")+")",pi+"?"+Nh+"+"+Gh,pi+"+"+Uh,Ox,Ix,Lh,Sx].join("|"),"g"),zx=RegExp("["+Dh+Ws+Th+Oh+"]"),Dx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gx=-1,me={};me[Gt]=me[Xt]=me[Ce]=me[be]=me[Bo]=me[fe]=me[co]=me[ge]=me[Ge]=!0,me[N]=me[nt]=me[Ft]=me[at]=me[Mt]=me[St]=me[yt]=me[Ct]=me[I]=me[F]=me[j]=me[Z]=me[J]=me[H]=me[mt]=!1;var he={};he[N]=he[nt]=he[Ft]=he[Mt]=he[at]=he[St]=he[Gt]=he[Xt]=he[Ce]=he[be]=he[Bo]=he[I]=he[F]=he[j]=he[Z]=he[J]=he[H]=he[bt]=he[fe]=he[co]=he[ge]=he[Ge]=!0,he[yt]=he[Ct]=he[mt]=!1;var Ux={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Bx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wx=parseFloat,Xx=parseInt,Wh=typeof za=="object"&&za&&za.Object===Object&&za,Vx=typeof self=="object"&&self&&self.Object===Object&&self,Ue=Wh||Vx||Function("return this")(),lc=e&&!e.nodeType&&e,Or=lc&&!0&&n&&!n.nodeType&&n,Xh=Or&&Or.exports===lc,fc=Xh&&Wh.process,yo=function(){try{var S=Or&&Or.require&&Or.require("util").types;return S||fc&&fc.binding&&fc.binding("util")}catch{}}(),Vh=yo&&yo.isArrayBuffer,Hh=yo&&yo.isDate,qh=yo&&yo.isMap,Kh=yo&&yo.isRegExp,$h=yo&&yo.isSet,Zh=yo&&yo.isTypedArray;function uo(S,B,D){switch(D.length){case 0:return S.call(B);case 1:return S.call(B,D[0]);case 2:return S.call(B,D[0],D[1]);case 3:return S.call(B,D[0],D[1],D[2])}return S.apply(B,D)}function Hx(S,B,D,gt){for(var zt=-1,re=S==null?0:S.length;++zt<re;){var Le=S[zt];B(gt,Le,D(Le),S)}return gt}function _o(S,B){for(var D=-1,gt=S==null?0:S.length;++D<gt&&B(S[D],D,S)!==!1;);return S}function qx(S,B){for(var D=S==null?0:S.length;D--&&B(S[D],D,S)!==!1;);return S}function Jh(S,B){for(var D=-1,gt=S==null?0:S.length;++D<gt;)if(!B(S[D],D,S))return!1;return!0}function Yn(S,B){for(var D=-1,gt=S==null?0:S.length,zt=0,re=[];++D<gt;){var Le=S[D];B(Le,D,S)&&(re[zt++]=Le)}return re}function Vs(S,B){var D=S==null?0:S.length;return!!D&&bi(S,B,0)>-1}function cc(S,B,D){for(var gt=-1,zt=S==null?0:S.length;++gt<zt;)if(D(B,S[gt]))return!0;return!1}function ve(S,B){for(var D=-1,gt=S==null?0:S.length,zt=Array(gt);++D<gt;)zt[D]=B(S[D],D,S);return zt}function Wn(S,B){for(var D=-1,gt=B.length,zt=S.length;++D<gt;)S[zt+D]=B[D];return S}function dc(S,B,D,gt){var zt=-1,re=S==null?0:S.length;for(gt&&re&&(D=S[++zt]);++zt<re;)D=B(D,S[zt],zt,S);return D}function Kx(S,B,D,gt){var zt=S==null?0:S.length;for(gt&&zt&&(D=S[--zt]);zt--;)D=B(D,S[zt],zt,S);return D}function uc(S,B){for(var D=-1,gt=S==null?0:S.length;++D<gt;)if(B(S[D],D,S))return!0;return!1}var $x=hc("length");function Zx(S){return S.split("")}function Jx(S){return S.match(hi)||[]}function Qh(S,B,D){var gt;return D(S,function(zt,re,Le){if(B(zt,re,Le))return gt=re,!1}),gt}function Hs(S,B,D,gt){for(var zt=S.length,re=D+(gt?1:-1);gt?re--:++re<zt;)if(B(S[re],re,S))return re;return-1}function bi(S,B,D){return B===B?cw(S,B,D):Hs(S,tp,D)}function Qx(S,B,D,gt){for(var zt=D-1,re=S.length;++zt<re;)if(gt(S[zt],B))return zt;return-1}function tp(S){return S!==S}function ep(S,B){var D=S==null?0:S.length;return D?bc(S,B)/D:Pt}function hc(S){return function(B){return B==null?t:B[S]}}function pc(S){return function(B){return S==null?t:S[B]}}function op(S,B,D,gt,zt){return zt(S,function(re,Le,ce){D=gt?(gt=!1,re):B(D,re,Le,ce)}),D}function tw(S,B){var D=S.length;for(S.sort(B);D--;)S[D]=S[D].value;return S}function bc(S,B){for(var D,gt=-1,zt=S.length;++gt<zt;){var re=B(S[gt]);re!==t&&(D=D===t?re:D+re)}return D}function gc(S,B){for(var D=-1,gt=Array(S);++D<S;)gt[D]=B(D);return gt}function ew(S,B){return ve(B,function(D){return[D,S[D]]})}function np(S){return S&&S.slice(0,sp(S)+1).replace(va,"")}function ho(S){return function(B){return S(B)}}function mc(S,B){return ve(B,function(D){return S[D]})}function wa(S,B){return S.has(B)}function rp(S,B){for(var D=-1,gt=S.length;++D<gt&&bi(B,S[D],0)>-1;);return D}function ip(S,B){for(var D=S.length;D--&&bi(B,S[D],0)>-1;);return D}function ow(S,B){for(var D=S.length,gt=0;D--;)S[D]===B&&++gt;return gt}var nw=pc(Ux),rw=pc(Bx);function iw(S){return"\\"+Yx[S]}function aw(S,B){return S==null?t:S[B]}function gi(S){return zx.test(S)}function sw(S){return Dx.test(S)}function lw(S){for(var B,D=[];!(B=S.next()).done;)D.push(B.value);return D}function vc(S){var B=-1,D=Array(S.size);return S.forEach(function(gt,zt){D[++B]=[zt,gt]}),D}function ap(S,B){return function(D){return S(B(D))}}function Xn(S,B){for(var D=-1,gt=S.length,zt=0,re=[];++D<gt;){var Le=S[D];(Le===B||Le===h)&&(S[D]=h,re[zt++]=D)}return re}function qs(S){var B=-1,D=Array(S.size);return S.forEach(function(gt){D[++B]=gt}),D}function fw(S){var B=-1,D=Array(S.size);return S.forEach(function(gt){D[++B]=[gt,gt]}),D}function cw(S,B,D){for(var gt=D-1,zt=S.length;++gt<zt;)if(S[gt]===B)return gt;return-1}function dw(S,B,D){for(var gt=D+1;gt--;)if(S[gt]===B)return gt;return gt}function mi(S){return gi(S)?hw(S):$x(S)}function jo(S){return gi(S)?pw(S):Zx(S)}function sp(S){for(var B=S.length;B--&&Ar.test(S.charAt(B)););return B}var uw=pc(jx);function hw(S){for(var B=sc.lastIndex=0;sc.test(S);)++B;return B}function pw(S){return S.match(sc)||[]}function bw(S){return S.match(Mx)||[]}var gw=function S(B){B=B==null?Ue:vi.defaults(Ue.Object(),B,vi.pick(Ue,Nx));var D=B.Array,gt=B.Date,zt=B.Error,re=B.Function,Le=B.Math,ce=B.Object,xc=B.RegExp,mw=B.String,ko=B.TypeError,Ks=D.prototype,vw=re.prototype,xi=ce.prototype,$s=B["__core-js_shared__"],Zs=vw.toString,se=xi.hasOwnProperty,xw=0,lp=function(){var a=/[^.]+$/.exec($s&&$s.keys&&$s.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Js=xi.toString,ww=Zs.call(ce),yw=Ue._,_w=xc("^"+Zs.call(se).replace(di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qs=Xh?B.Buffer:t,Vn=B.Symbol,tl=B.Uint8Array,fp=Qs?Qs.allocUnsafe:t,el=ap(ce.getPrototypeOf,ce),cp=ce.create,dp=xi.propertyIsEnumerable,ol=Ks.splice,up=Vn?Vn.isConcatSpreadable:t,ya=Vn?Vn.iterator:t,Sr=Vn?Vn.toStringTag:t,nl=function(){try{var a=zr(ce,"defineProperty");return a({},"",{}),a}catch{}}(),kw=B.clearTimeout!==Ue.clearTimeout&&B.clearTimeout,Ew=gt&&gt.now!==Ue.Date.now&&gt.now,Cw=B.setTimeout!==Ue.setTimeout&&B.setTimeout,rl=Le.ceil,il=Le.floor,wc=ce.getOwnPropertySymbols,Tw=Qs?Qs.isBuffer:t,hp=B.isFinite,Rw=Ks.join,Aw=ap(ce.keys,ce),Fe=Le.max,We=Le.min,Iw=gt.now,Ow=B.parseInt,pp=Le.random,Sw=Ks.reverse,yc=zr(B,"DataView"),_a=zr(B,"Map"),_c=zr(B,"Promise"),wi=zr(B,"Set"),ka=zr(B,"WeakMap"),Ea=zr(ce,"create"),al=ka&&new ka,yi={},Pw=Dr(yc),Lw=Dr(_a),Fw=Dr(_c),Mw=Dr(wi),zw=Dr(ka),sl=Vn?Vn.prototype:t,Ca=sl?sl.valueOf:t,bp=sl?sl.toString:t;function w(a){if(_e(a)&&!Dt(a)&&!(a instanceof Ht)){if(a instanceof Eo)return a;if(se.call(a,"__wrapped__"))return gb(a)}return new Eo(a)}var _i=function(){function a(){}return function(l){if(!we(l))return{};if(cp)return cp(l);a.prototype=l;var u=new a;return a.prototype=t,u}}();function ll(){}function Eo(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}w.templateSettings={escape:Gs,evaluate:ma,interpolate:jn,variable:"",imports:{_:w}},w.prototype=ll.prototype,w.prototype.constructor=w,Eo.prototype=_i(ll.prototype),Eo.prototype.constructor=Eo;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function Dw(){var a=new Ht(this.__wrapped__);return a.__actions__=eo(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=eo(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=eo(this.__views__),a}function Nw(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Gw(){var a=this.__wrapped__.value(),l=this.__dir__,u=Dt(a),b=l<0,v=u?a.length:0,y=Zy(0,v,this.__views__),C=y.start,R=y.end,L=R-C,Y=b?R:C-1,W=this.__iteratees__,K=W.length,lt=0,xt=We(L,this.__takeCount__);if(!u||!b&&v==L&&xt==L)return Gp(a,this.__actions__);var Tt=[];t:for(;L--&&lt<xt;){Y+=l;for(var Bt=-1,Rt=a[Y];++Bt<K;){var Vt=W[Bt],Zt=Vt.iteratee,go=Vt.type,Ze=Zt(Rt);if(go==it)Rt=Ze;else if(!Ze){if(go==vt)continue t;break t}}Tt[lt++]=Rt}return Tt}Ht.prototype=_i(ll.prototype),Ht.prototype.constructor=Ht;function Pr(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var b=a[l];this.set(b[0],b[1])}}function Uw(){this.__data__=Ea?Ea(null):{},this.size=0}function Bw(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function jw(a){var l=this.__data__;if(Ea){var u=l[a];return u===c?t:u}return se.call(l,a)?l[a]:t}function Yw(a){var l=this.__data__;return Ea?l[a]!==t:se.call(l,a)}function Ww(a,l){var u=this.__data__;return this.size+=this.has(a)?0:1,u[a]=Ea&&l===t?c:l,this}Pr.prototype.clear=Uw,Pr.prototype.delete=Bw,Pr.prototype.get=jw,Pr.prototype.has=Yw,Pr.prototype.set=Ww;function mn(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var b=a[l];this.set(b[0],b[1])}}function Xw(){this.__data__=[],this.size=0}function Vw(a){var l=this.__data__,u=fl(l,a);if(u<0)return!1;var b=l.length-1;return u==b?l.pop():ol.call(l,u,1),--this.size,!0}function Hw(a){var l=this.__data__,u=fl(l,a);return u<0?t:l[u][1]}function qw(a){return fl(this.__data__,a)>-1}function Kw(a,l){var u=this.__data__,b=fl(u,a);return b<0?(++this.size,u.push([a,l])):u[b][1]=l,this}mn.prototype.clear=Xw,mn.prototype.delete=Vw,mn.prototype.get=Hw,mn.prototype.has=qw,mn.prototype.set=Kw;function vn(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var b=a[l];this.set(b[0],b[1])}}function $w(){this.size=0,this.__data__={hash:new Pr,map:new(_a||mn),string:new Pr}}function Zw(a){var l=yl(this,a).delete(a);return this.size-=l?1:0,l}function Jw(a){return yl(this,a).get(a)}function Qw(a){return yl(this,a).has(a)}function ty(a,l){var u=yl(this,a),b=u.size;return u.set(a,l),this.size+=u.size==b?0:1,this}vn.prototype.clear=$w,vn.prototype.delete=Zw,vn.prototype.get=Jw,vn.prototype.has=Qw,vn.prototype.set=ty;function Lr(a){var l=-1,u=a==null?0:a.length;for(this.__data__=new vn;++l<u;)this.add(a[l])}function ey(a){return this.__data__.set(a,c),this}function oy(a){return this.__data__.has(a)}Lr.prototype.add=Lr.prototype.push=ey,Lr.prototype.has=oy;function Yo(a){var l=this.__data__=new mn(a);this.size=l.size}function ny(){this.__data__=new mn,this.size=0}function ry(a){var l=this.__data__,u=l.delete(a);return this.size=l.size,u}function iy(a){return this.__data__.get(a)}function ay(a){return this.__data__.has(a)}function sy(a,l){var u=this.__data__;if(u instanceof mn){var b=u.__data__;if(!_a||b.length<r-1)return b.push([a,l]),this.size=++u.size,this;u=this.__data__=new vn(b)}return u.set(a,l),this.size=u.size,this}Yo.prototype.clear=ny,Yo.prototype.delete=ry,Yo.prototype.get=iy,Yo.prototype.has=ay,Yo.prototype.set=sy;function gp(a,l){var u=Dt(a),b=!u&&Nr(a),v=!u&&!b&&Zn(a),y=!u&&!b&&!v&&Ti(a),C=u||b||v||y,R=C?gc(a.length,mw):[],L=R.length;for(var Y in a)(l||se.call(a,Y))&&!(C&&(Y=="length"||v&&(Y=="offset"||Y=="parent")||y&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||_n(Y,L)))&&R.push(Y);return R}function mp(a){var l=a.length;return l?a[Lc(0,l-1)]:t}function ly(a,l){return _l(eo(a),Fr(l,0,a.length))}function fy(a){return _l(eo(a))}function kc(a,l,u){(u!==t&&!Wo(a[l],u)||u===t&&!(l in a))&&xn(a,l,u)}function Ta(a,l,u){var b=a[l];(!(se.call(a,l)&&Wo(b,u))||u===t&&!(l in a))&&xn(a,l,u)}function fl(a,l){for(var u=a.length;u--;)if(Wo(a[u][0],l))return u;return-1}function cy(a,l,u,b){return Hn(a,function(v,y,C){l(b,v,u(v),C)}),b}function vp(a,l){return a&&an(l,Me(l),a)}function dy(a,l){return a&&an(l,no(l),a)}function xn(a,l,u){l=="__proto__"&&nl?nl(a,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):a[l]=u}function Ec(a,l){for(var u=-1,b=l.length,v=D(b),y=a==null;++u<b;)v[u]=y?t:rd(a,l[u]);return v}function Fr(a,l,u){return a===a&&(u!==t&&(a=a<=u?a:u),l!==t&&(a=a>=l?a:l)),a}function Co(a,l,u,b,v,y){var C,R=l&g,L=l&p,Y=l&m;if(u&&(C=v?u(a,b,v,y):u(a)),C!==t)return C;if(!we(a))return a;var W=Dt(a);if(W){if(C=Qy(a),!R)return eo(a,C)}else{var K=Xe(a),lt=K==Ct||K==E;if(Zn(a))return jp(a,R);if(K==j||K==N||lt&&!v){if(C=L||lt?{}:sb(a),!R)return L?jy(a,dy(C,a)):By(a,vp(C,a))}else{if(!he[K])return v?a:{};C=t1(a,K,R)}}y||(y=new Yo);var xt=y.get(a);if(xt)return xt;y.set(a,C),zb(a)?a.forEach(function(Rt){C.add(Co(Rt,l,u,Rt,a,y))}):Fb(a)&&a.forEach(function(Rt,Vt){C.set(Vt,Co(Rt,l,u,Vt,a,y))});var Tt=Y?L?Wc:Yc:L?no:Me,Bt=W?t:Tt(a);return _o(Bt||a,function(Rt,Vt){Bt&&(Vt=Rt,Rt=a[Vt]),Ta(C,Vt,Co(Rt,l,u,Vt,a,y))}),C}function uy(a){var l=Me(a);return function(u){return xp(u,a,l)}}function xp(a,l,u){var b=u.length;if(a==null)return!b;for(a=ce(a);b--;){var v=u[b],y=l[v],C=a[v];if(C===t&&!(v in a)||!y(C))return!1}return!0}function wp(a,l,u){if(typeof a!="function")throw new ko(s);return La(function(){a.apply(t,u)},l)}function Ra(a,l,u,b){var v=-1,y=Vs,C=!0,R=a.length,L=[],Y=l.length;if(!R)return L;u&&(l=ve(l,ho(u))),b?(y=cc,C=!1):l.length>=r&&(y=wa,C=!1,l=new Lr(l));t:for(;++v<R;){var W=a[v],K=u==null?W:u(W);if(W=b||W!==0?W:0,C&&K===K){for(var lt=Y;lt--;)if(l[lt]===K)continue t;L.push(W)}else y(l,K,b)||L.push(W)}return L}var Hn=Hp(rn),yp=Hp(Tc,!0);function hy(a,l){var u=!0;return Hn(a,function(b,v,y){return u=!!l(b,v,y),u}),u}function cl(a,l,u){for(var b=-1,v=a.length;++b<v;){var y=a[b],C=l(y);if(C!=null&&(R===t?C===C&&!bo(C):u(C,R)))var R=C,L=y}return L}function py(a,l,u,b){var v=a.length;for(u=Ut(u),u<0&&(u=-u>v?0:v+u),b=b===t||b>v?v:Ut(b),b<0&&(b+=v),b=u>b?0:Nb(b);u<b;)a[u++]=l;return a}function _p(a,l){var u=[];return Hn(a,function(b,v,y){l(b,v,y)&&u.push(b)}),u}function Be(a,l,u,b,v){var y=-1,C=a.length;for(u||(u=o1),v||(v=[]);++y<C;){var R=a[y];l>0&&u(R)?l>1?Be(R,l-1,u,b,v):Wn(v,R):b||(v[v.length]=R)}return v}var Cc=qp(),kp=qp(!0);function rn(a,l){return a&&Cc(a,l,Me)}function Tc(a,l){return a&&kp(a,l,Me)}function dl(a,l){return Yn(l,function(u){return kn(a[u])})}function Mr(a,l){l=Kn(l,a);for(var u=0,b=l.length;a!=null&&u<b;)a=a[sn(l[u++])];return u&&u==b?a:t}function Ep(a,l,u){var b=l(a);return Dt(a)?b:Wn(b,u(a))}function Ke(a){return a==null?a===t?pt:V:Sr&&Sr in ce(a)?$y(a):f1(a)}function Rc(a,l){return a>l}function by(a,l){return a!=null&&se.call(a,l)}function gy(a,l){return a!=null&&l in ce(a)}function my(a,l,u){return a>=We(l,u)&&a<Fe(l,u)}function Ac(a,l,u){for(var b=u?cc:Vs,v=a[0].length,y=a.length,C=y,R=D(y),L=1/0,Y=[];C--;){var W=a[C];C&&l&&(W=ve(W,ho(l))),L=We(W.length,L),R[C]=!u&&(l||v>=120&&W.length>=120)?new Lr(C&&W):t}W=a[0];var K=-1,lt=R[0];t:for(;++K<v&&Y.length<L;){var xt=W[K],Tt=l?l(xt):xt;if(xt=u||xt!==0?xt:0,!(lt?wa(lt,Tt):b(Y,Tt,u))){for(C=y;--C;){var Bt=R[C];if(!(Bt?wa(Bt,Tt):b(a[C],Tt,u)))continue t}lt&&lt.push(Tt),Y.push(xt)}}return Y}function vy(a,l,u,b){return rn(a,function(v,y,C){l(b,u(v),y,C)}),b}function Aa(a,l,u){l=Kn(l,a),a=db(a,l);var b=a==null?a:a[sn(Ro(l))];return b==null?t:uo(b,a,u)}function Cp(a){return _e(a)&&Ke(a)==N}function xy(a){return _e(a)&&Ke(a)==Ft}function wy(a){return _e(a)&&Ke(a)==St}function Ia(a,l,u,b,v){return a===l?!0:a==null||l==null||!_e(a)&&!_e(l)?a!==a&&l!==l:yy(a,l,u,b,Ia,v)}function yy(a,l,u,b,v,y){var C=Dt(a),R=Dt(l),L=C?nt:Xe(a),Y=R?nt:Xe(l);L=L==N?j:L,Y=Y==N?j:Y;var W=L==j,K=Y==j,lt=L==Y;if(lt&&Zn(a)){if(!Zn(l))return!1;C=!0,W=!1}if(lt&&!W)return y||(y=new Yo),C||Ti(a)?rb(a,l,u,b,v,y):qy(a,l,L,u,b,v,y);if(!(u&x)){var xt=W&&se.call(a,"__wrapped__"),Tt=K&&se.call(l,"__wrapped__");if(xt||Tt){var Bt=xt?a.value():a,Rt=Tt?l.value():l;return y||(y=new Yo),v(Bt,Rt,u,b,y)}}return lt?(y||(y=new Yo),Ky(a,l,u,b,v,y)):!1}function _y(a){return _e(a)&&Xe(a)==I}function Ic(a,l,u,b){var v=u.length,y=v,C=!b;if(a==null)return!y;for(a=ce(a);v--;){var R=u[v];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++v<y;){R=u[v];var L=R[0],Y=a[L],W=R[1];if(C&&R[2]){if(Y===t&&!(L in a))return!1}else{var K=new Yo;if(b)var lt=b(Y,W,L,a,l,K);if(!(lt===t?Ia(W,Y,x|_,b,K):lt))return!1}}return!0}function Tp(a){if(!we(a)||r1(a))return!1;var l=kn(a)?_w:ux;return l.test(Dr(a))}function ky(a){return _e(a)&&Ke(a)==Z}function Ey(a){return _e(a)&&Xe(a)==J}function Cy(a){return _e(a)&&Al(a.length)&&!!me[Ke(a)]}function Rp(a){return typeof a=="function"?a:a==null?ro:typeof a=="object"?Dt(a)?Op(a[0],a[1]):Ip(a):Kb(a)}function Oc(a){if(!Pa(a))return Aw(a);var l=[];for(var u in ce(a))se.call(a,u)&&u!="constructor"&&l.push(u);return l}function Ty(a){if(!we(a))return l1(a);var l=Pa(a),u=[];for(var b in a)b=="constructor"&&(l||!se.call(a,b))||u.push(b);return u}function Sc(a,l){return a<l}function Ap(a,l){var u=-1,b=oo(a)?D(a.length):[];return Hn(a,function(v,y,C){b[++u]=l(v,y,C)}),b}function Ip(a){var l=Vc(a);return l.length==1&&l[0][2]?fb(l[0][0],l[0][1]):function(u){return u===a||Ic(u,a,l)}}function Op(a,l){return qc(a)&&lb(l)?fb(sn(a),l):function(u){var b=rd(u,a);return b===t&&b===l?id(u,a):Ia(l,b,x|_)}}function ul(a,l,u,b,v){a!==l&&Cc(l,function(y,C){if(v||(v=new Yo),we(y))Ry(a,l,C,u,ul,b,v);else{var R=b?b($c(a,C),y,C+"",a,l,v):t;R===t&&(R=y),kc(a,C,R)}},no)}function Ry(a,l,u,b,v,y,C){var R=$c(a,u),L=$c(l,u),Y=C.get(L);if(Y){kc(a,u,Y);return}var W=y?y(R,L,u+"",a,l,C):t,K=W===t;if(K){var lt=Dt(L),xt=!lt&&Zn(L),Tt=!lt&&!xt&&Ti(L);W=L,lt||xt||Tt?Dt(R)?W=R:Te(R)?W=eo(R):xt?(K=!1,W=jp(L,!0)):Tt?(K=!1,W=Yp(L,!0)):W=[]:Fa(L)||Nr(L)?(W=R,Nr(R)?W=Gb(R):(!we(R)||kn(R))&&(W=sb(L))):K=!1}K&&(C.set(L,W),v(W,L,b,y,C),C.delete(L)),kc(a,u,W)}function Sp(a,l){var u=a.length;if(!!u)return l+=l<0?u:0,_n(l,u)?a[l]:t}function Pp(a,l,u){l.length?l=ve(l,function(y){return Dt(y)?function(C){return Mr(C,y.length===1?y[0]:y)}:y}):l=[ro];var b=-1;l=ve(l,ho(kt()));var v=Ap(a,function(y,C,R){var L=ve(l,function(Y){return Y(y)});return{criteria:L,index:++b,value:y}});return tw(v,function(y,C){return Uy(y,C,u)})}function Ay(a,l){return Lp(a,l,function(u,b){return id(a,b)})}function Lp(a,l,u){for(var b=-1,v=l.length,y={};++b<v;){var C=l[b],R=Mr(a,C);u(R,C)&&Oa(y,Kn(C,a),R)}return y}function Iy(a){return function(l){return Mr(l,a)}}function Pc(a,l,u,b){var v=b?Qx:bi,y=-1,C=l.length,R=a;for(a===l&&(l=eo(l)),u&&(R=ve(a,ho(u)));++y<C;)for(var L=0,Y=l[y],W=u?u(Y):Y;(L=v(R,W,L,b))>-1;)R!==a&&ol.call(R,L,1),ol.call(a,L,1);return a}function Fp(a,l){for(var u=a?l.length:0,b=u-1;u--;){var v=l[u];if(u==b||v!==y){var y=v;_n(v)?ol.call(a,v,1):zc(a,v)}}return a}function Lc(a,l){return a+il(pp()*(l-a+1))}function Oy(a,l,u,b){for(var v=-1,y=Fe(rl((l-a)/(u||1)),0),C=D(y);y--;)C[b?y:++v]=a,a+=u;return C}function Fc(a,l){var u="";if(!a||l<1||l>ct)return u;do l%2&&(u+=a),l=il(l/2),l&&(a+=a);while(l);return u}function Yt(a,l){return Zc(cb(a,l,ro),a+"")}function Sy(a){return mp(Ri(a))}function Py(a,l){var u=Ri(a);return _l(u,Fr(l,0,u.length))}function Oa(a,l,u,b){if(!we(a))return a;l=Kn(l,a);for(var v=-1,y=l.length,C=y-1,R=a;R!=null&&++v<y;){var L=sn(l[v]),Y=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(v!=C){var W=R[L];Y=b?b(W,L,R):t,Y===t&&(Y=we(W)?W:_n(l[v+1])?[]:{})}Ta(R,L,Y),R=R[L]}return a}var Mp=al?function(a,l){return al.set(a,l),a}:ro,Ly=nl?function(a,l){return nl(a,"toString",{configurable:!0,enumerable:!1,value:sd(l),writable:!0})}:ro;function Fy(a){return _l(Ri(a))}function To(a,l,u){var b=-1,v=a.length;l<0&&(l=-l>v?0:v+l),u=u>v?v:u,u<0&&(u+=v),v=l>u?0:u-l>>>0,l>>>=0;for(var y=D(v);++b<v;)y[b]=a[b+l];return y}function My(a,l){var u;return Hn(a,function(b,v,y){return u=l(b,v,y),!u}),!!u}function hl(a,l,u){var b=0,v=a==null?b:a.length;if(typeof l=="number"&&l===l&&v<=Wt){for(;b<v;){var y=b+v>>>1,C=a[y];C!==null&&!bo(C)&&(u?C<=l:C<l)?b=y+1:v=y}return v}return Mc(a,l,ro,u)}function Mc(a,l,u,b){var v=0,y=a==null?0:a.length;if(y===0)return 0;l=u(l);for(var C=l!==l,R=l===null,L=bo(l),Y=l===t;v<y;){var W=il((v+y)/2),K=u(a[W]),lt=K!==t,xt=K===null,Tt=K===K,Bt=bo(K);if(C)var Rt=b||Tt;else Y?Rt=Tt&&(b||lt):R?Rt=Tt&&lt&&(b||!xt):L?Rt=Tt&&lt&&!xt&&(b||!Bt):xt||Bt?Rt=!1:Rt=b?K<=l:K<l;Rt?v=W+1:y=W}return We(y,$)}function zp(a,l){for(var u=-1,b=a.length,v=0,y=[];++u<b;){var C=a[u],R=l?l(C):C;if(!u||!Wo(R,L)){var L=R;y[v++]=C===0?0:C}}return y}function Dp(a){return typeof a=="number"?a:bo(a)?Pt:+a}function po(a){if(typeof a=="string")return a;if(Dt(a))return ve(a,po)+"";if(bo(a))return bp?bp.call(a):"";var l=a+"";return l=="0"&&1/a==-et?"-0":l}function qn(a,l,u){var b=-1,v=Vs,y=a.length,C=!0,R=[],L=R;if(u)C=!1,v=cc;else if(y>=r){var Y=l?null:Vy(a);if(Y)return qs(Y);C=!1,v=wa,L=new Lr}else L=l?[]:R;t:for(;++b<y;){var W=a[b],K=l?l(W):W;if(W=u||W!==0?W:0,C&&K===K){for(var lt=L.length;lt--;)if(L[lt]===K)continue t;l&&L.push(K),R.push(W)}else v(L,K,u)||(L!==R&&L.push(K),R.push(W))}return R}function zc(a,l){return l=Kn(l,a),a=db(a,l),a==null||delete a[sn(Ro(l))]}function Np(a,l,u,b){return Oa(a,l,u(Mr(a,l)),b)}function pl(a,l,u,b){for(var v=a.length,y=b?v:-1;(b?y--:++y<v)&&l(a[y],y,a););return u?To(a,b?0:y,b?y+1:v):To(a,b?y+1:0,b?v:y)}function Gp(a,l){var u=a;return u instanceof Ht&&(u=u.value()),dc(l,function(b,v){return v.func.apply(v.thisArg,Wn([b],v.args))},u)}function Dc(a,l,u){var b=a.length;if(b<2)return b?qn(a[0]):[];for(var v=-1,y=D(b);++v<b;)for(var C=a[v],R=-1;++R<b;)R!=v&&(y[v]=Ra(y[v]||C,a[R],l,u));return qn(Be(y,1),l,u)}function Up(a,l,u){for(var b=-1,v=a.length,y=l.length,C={};++b<v;){var R=b<y?l[b]:t;u(C,a[b],R)}return C}function Nc(a){return Te(a)?a:[]}function Gc(a){return typeof a=="function"?a:ro}function Kn(a,l){return Dt(a)?a:qc(a,l)?[a]:bb(ae(a))}var zy=Yt;function $n(a,l,u){var b=a.length;return u=u===t?b:u,!l&&u>=b?a:To(a,l,u)}var Bp=kw||function(a){return Ue.clearTimeout(a)};function jp(a,l){if(l)return a.slice();var u=a.length,b=fp?fp(u):new a.constructor(u);return a.copy(b),b}function Uc(a){var l=new a.constructor(a.byteLength);return new tl(l).set(new tl(a)),l}function Dy(a,l){var u=l?Uc(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.byteLength)}function Ny(a){var l=new a.constructor(a.source,Bs.exec(a));return l.lastIndex=a.lastIndex,l}function Gy(a){return Ca?ce(Ca.call(a)):{}}function Yp(a,l){var u=l?Uc(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.length)}function Wp(a,l){if(a!==l){var u=a!==t,b=a===null,v=a===a,y=bo(a),C=l!==t,R=l===null,L=l===l,Y=bo(l);if(!R&&!Y&&!y&&a>l||y&&C&&L&&!R&&!Y||b&&C&&L||!u&&L||!v)return 1;if(!b&&!y&&!Y&&a<l||Y&&u&&v&&!b&&!y||R&&u&&v||!C&&v||!L)return-1}return 0}function Uy(a,l,u){for(var b=-1,v=a.criteria,y=l.criteria,C=v.length,R=u.length;++b<C;){var L=Wp(v[b],y[b]);if(L){if(b>=R)return L;var Y=u[b];return L*(Y=="desc"?-1:1)}}return a.index-l.index}function Xp(a,l,u,b){for(var v=-1,y=a.length,C=u.length,R=-1,L=l.length,Y=Fe(y-C,0),W=D(L+Y),K=!b;++R<L;)W[R]=l[R];for(;++v<C;)(K||v<y)&&(W[u[v]]=a[v]);for(;Y--;)W[R++]=a[v++];return W}function Vp(a,l,u,b){for(var v=-1,y=a.length,C=-1,R=u.length,L=-1,Y=l.length,W=Fe(y-R,0),K=D(W+Y),lt=!b;++v<W;)K[v]=a[v];for(var xt=v;++L<Y;)K[xt+L]=l[L];for(;++C<R;)(lt||v<y)&&(K[xt+u[C]]=a[v++]);return K}function eo(a,l){var u=-1,b=a.length;for(l||(l=D(b));++u<b;)l[u]=a[u];return l}function an(a,l,u,b){var v=!u;u||(u={});for(var y=-1,C=l.length;++y<C;){var R=l[y],L=b?b(u[R],a[R],R,u,a):t;L===t&&(L=a[R]),v?xn(u,R,L):Ta(u,R,L)}return u}function By(a,l){return an(a,Hc(a),l)}function jy(a,l){return an(a,ib(a),l)}function bl(a,l){return function(u,b){var v=Dt(u)?Hx:cy,y=l?l():{};return v(u,a,kt(b,2),y)}}function ki(a){return Yt(function(l,u){var b=-1,v=u.length,y=v>1?u[v-1]:t,C=v>2?u[2]:t;for(y=a.length>3&&typeof y=="function"?(v--,y):t,C&&$e(u[0],u[1],C)&&(y=v<3?t:y,v=1),l=ce(l);++b<v;){var R=u[b];R&&a(l,R,b,y)}return l})}function Hp(a,l){return function(u,b){if(u==null)return u;if(!oo(u))return a(u,b);for(var v=u.length,y=l?v:-1,C=ce(u);(l?y--:++y<v)&&b(C[y],y,C)!==!1;);return u}}function qp(a){return function(l,u,b){for(var v=-1,y=ce(l),C=b(l),R=C.length;R--;){var L=C[a?R:++v];if(u(y[L],L,y)===!1)break}return l}}function Yy(a,l,u){var b=l&k,v=Sa(a);function y(){var C=this&&this!==Ue&&this instanceof y?v:a;return C.apply(b?u:this,arguments)}return y}function Kp(a){return function(l){l=ae(l);var u=gi(l)?jo(l):t,b=u?u[0]:l.charAt(0),v=u?$n(u,1).join(""):l.slice(1);return b[a]()+v}}function Ei(a){return function(l){return dc(Hb(Vb(l).replace(Lx,"")),a,"")}}function Sa(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var u=_i(a.prototype),b=a.apply(u,l);return we(b)?b:u}}function Wy(a,l,u){var b=Sa(a);function v(){for(var y=arguments.length,C=D(y),R=y,L=Ci(v);R--;)C[R]=arguments[R];var Y=y<3&&C[0]!==L&&C[y-1]!==L?[]:Xn(C,L);if(y-=Y.length,y<u)return tb(a,l,gl,v.placeholder,t,C,Y,t,t,u-y);var W=this&&this!==Ue&&this instanceof v?b:a;return uo(W,this,C)}return v}function $p(a){return function(l,u,b){var v=ce(l);if(!oo(l)){var y=kt(u,3);l=Me(l),u=function(R){return y(v[R],R,v)}}var C=a(l,u,b);return C>-1?v[y?l[C]:C]:t}}function Zp(a){return yn(function(l){var u=l.length,b=u,v=Eo.prototype.thru;for(a&&l.reverse();b--;){var y=l[b];if(typeof y!="function")throw new ko(s);if(v&&!C&&wl(y)=="wrapper")var C=new Eo([],!0)}for(b=C?b:u;++b<u;){y=l[b];var R=wl(y),L=R=="wrapper"?Xc(y):t;L&&Kc(L[0])&&L[1]==(U|O|z|M)&&!L[4].length&&L[9]==1?C=C[wl(L[0])].apply(C,L[3]):C=y.length==1&&Kc(y)?C[R]():C.thru(y)}return function(){var Y=arguments,W=Y[0];if(C&&Y.length==1&&Dt(W))return C.plant(W).value();for(var K=0,lt=u?l[K].apply(this,Y):W;++K<u;)lt=l[K].call(this,lt);return lt}})}function gl(a,l,u,b,v,y,C,R,L,Y){var W=l&U,K=l&k,lt=l&T,xt=l&(O|P),Tt=l&q,Bt=lt?t:Sa(a);function Rt(){for(var Vt=arguments.length,Zt=D(Vt),go=Vt;go--;)Zt[go]=arguments[go];if(xt)var Ze=Ci(Rt),mo=ow(Zt,Ze);if(b&&(Zt=Xp(Zt,b,v,xt)),y&&(Zt=Vp(Zt,y,C,xt)),Vt-=mo,xt&&Vt<Y){var Re=Xn(Zt,Ze);return tb(a,l,gl,Rt.placeholder,u,Zt,Re,R,L,Y-Vt)}var Xo=K?u:this,Cn=lt?Xo[a]:a;return Vt=Zt.length,R?Zt=c1(Zt,R):Tt&&Vt>1&&Zt.reverse(),W&&L<Vt&&(Zt.length=L),this&&this!==Ue&&this instanceof Rt&&(Cn=Bt||Sa(Cn)),Cn.apply(Xo,Zt)}return Rt}function Jp(a,l){return function(u,b){return vy(u,a,l(b),{})}}function ml(a,l){return function(u,b){var v;if(u===t&&b===t)return l;if(u!==t&&(v=u),b!==t){if(v===t)return b;typeof u=="string"||typeof b=="string"?(u=po(u),b=po(b)):(u=Dp(u),b=Dp(b)),v=a(u,b)}return v}}function Bc(a){return yn(function(l){return l=ve(l,ho(kt())),Yt(function(u){var b=this;return a(l,function(v){return uo(v,b,u)})})})}function vl(a,l){l=l===t?" ":po(l);var u=l.length;if(u<2)return u?Fc(l,a):l;var b=Fc(l,rl(a/mi(l)));return gi(l)?$n(jo(b),0,a).join(""):b.slice(0,a)}function Xy(a,l,u,b){var v=l&k,y=Sa(a);function C(){for(var R=-1,L=arguments.length,Y=-1,W=b.length,K=D(W+L),lt=this&&this!==Ue&&this instanceof C?y:a;++Y<W;)K[Y]=b[Y];for(;L--;)K[Y++]=arguments[++R];return uo(lt,v?u:this,K)}return C}function Qp(a){return function(l,u,b){return b&&typeof b!="number"&&$e(l,u,b)&&(u=b=t),l=En(l),u===t?(u=l,l=0):u=En(u),b=b===t?l<u?1:-1:En(b),Oy(l,u,b,a)}}function xl(a){return function(l,u){return typeof l=="string"&&typeof u=="string"||(l=Ao(l),u=Ao(u)),a(l,u)}}function tb(a,l,u,b,v,y,C,R,L,Y){var W=l&O,K=W?C:t,lt=W?t:C,xt=W?y:t,Tt=W?t:y;l|=W?z:X,l&=~(W?X:z),l&A||(l&=~(k|T));var Bt=[a,l,v,xt,K,Tt,lt,R,L,Y],Rt=u.apply(t,Bt);return Kc(a)&&ub(Rt,Bt),Rt.placeholder=b,hb(Rt,a,l)}function jc(a){var l=Le[a];return function(u,b){if(u=Ao(u),b=b==null?0:We(Ut(b),292),b&&hp(u)){var v=(ae(u)+"e").split("e"),y=l(v[0]+"e"+(+v[1]+b));return v=(ae(y)+"e").split("e"),+(v[0]+"e"+(+v[1]-b))}return l(u)}}var Vy=wi&&1/qs(new wi([,-0]))[1]==et?function(a){return new wi(a)}:cd;function eb(a){return function(l){var u=Xe(l);return u==I?vc(l):u==J?fw(l):ew(l,a(l))}}function wn(a,l,u,b,v,y,C,R){var L=l&T;if(!L&&typeof a!="function")throw new ko(s);var Y=b?b.length:0;if(Y||(l&=~(z|X),b=v=t),C=C===t?C:Fe(Ut(C),0),R=R===t?R:Ut(R),Y-=v?v.length:0,l&X){var W=b,K=v;b=v=t}var lt=L?t:Xc(a),xt=[a,l,u,b,v,W,K,y,C,R];if(lt&&s1(xt,lt),a=xt[0],l=xt[1],u=xt[2],b=xt[3],v=xt[4],R=xt[9]=xt[9]===t?L?0:a.length:Fe(xt[9]-Y,0),!R&&l&(O|P)&&(l&=~(O|P)),!l||l==k)var Tt=Yy(a,l,u);else l==O||l==P?Tt=Wy(a,l,R):(l==z||l==(k|z))&&!v.length?Tt=Xy(a,l,u,b):Tt=gl.apply(t,xt);var Bt=lt?Mp:ub;return hb(Bt(Tt,xt),a,l)}function ob(a,l,u,b){return a===t||Wo(a,xi[u])&&!se.call(b,u)?l:a}function nb(a,l,u,b,v,y){return we(a)&&we(l)&&(y.set(l,a),ul(a,l,t,nb,y),y.delete(l)),a}function Hy(a){return Fa(a)?t:a}function rb(a,l,u,b,v,y){var C=u&x,R=a.length,L=l.length;if(R!=L&&!(C&&L>R))return!1;var Y=y.get(a),W=y.get(l);if(Y&&W)return Y==l&&W==a;var K=-1,lt=!0,xt=u&_?new Lr:t;for(y.set(a,l),y.set(l,a);++K<R;){var Tt=a[K],Bt=l[K];if(b)var Rt=C?b(Bt,Tt,K,l,a,y):b(Tt,Bt,K,a,l,y);if(Rt!==t){if(Rt)continue;lt=!1;break}if(xt){if(!uc(l,function(Vt,Zt){if(!wa(xt,Zt)&&(Tt===Vt||v(Tt,Vt,u,b,y)))return xt.push(Zt)})){lt=!1;break}}else if(!(Tt===Bt||v(Tt,Bt,u,b,y))){lt=!1;break}}return y.delete(a),y.delete(l),lt}function qy(a,l,u,b,v,y,C){switch(u){case Mt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Ft:return!(a.byteLength!=l.byteLength||!y(new tl(a),new tl(l)));case at:case St:case F:return Wo(+a,+l);case yt:return a.name==l.name&&a.message==l.message;case Z:case H:return a==l+"";case I:var R=vc;case J:var L=b&x;if(R||(R=qs),a.size!=l.size&&!L)return!1;var Y=C.get(a);if(Y)return Y==l;b|=_,C.set(a,l);var W=rb(R(a),R(l),b,v,y,C);return C.delete(a),W;case bt:if(Ca)return Ca.call(a)==Ca.call(l)}return!1}function Ky(a,l,u,b,v,y){var C=u&x,R=Yc(a),L=R.length,Y=Yc(l),W=Y.length;if(L!=W&&!C)return!1;for(var K=L;K--;){var lt=R[K];if(!(C?lt in l:se.call(l,lt)))return!1}var xt=y.get(a),Tt=y.get(l);if(xt&&Tt)return xt==l&&Tt==a;var Bt=!0;y.set(a,l),y.set(l,a);for(var Rt=C;++K<L;){lt=R[K];var Vt=a[lt],Zt=l[lt];if(b)var go=C?b(Zt,Vt,lt,l,a,y):b(Vt,Zt,lt,a,l,y);if(!(go===t?Vt===Zt||v(Vt,Zt,u,b,y):go)){Bt=!1;break}Rt||(Rt=lt=="constructor")}if(Bt&&!Rt){var Ze=a.constructor,mo=l.constructor;Ze!=mo&&"constructor"in a&&"constructor"in l&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof mo=="function"&&mo instanceof mo)&&(Bt=!1)}return y.delete(a),y.delete(l),Bt}function yn(a){return Zc(cb(a,t,xb),a+"")}function Yc(a){return Ep(a,Me,Hc)}function Wc(a){return Ep(a,no,ib)}var Xc=al?function(a){return al.get(a)}:cd;function wl(a){for(var l=a.name+"",u=yi[l],b=se.call(yi,l)?u.length:0;b--;){var v=u[b],y=v.func;if(y==null||y==a)return v.name}return l}function Ci(a){var l=se.call(w,"placeholder")?w:a;return l.placeholder}function kt(){var a=w.iteratee||ld;return a=a===ld?Rp:a,arguments.length?a(arguments[0],arguments[1]):a}function yl(a,l){var u=a.__data__;return n1(l)?u[typeof l=="string"?"string":"hash"]:u.map}function Vc(a){for(var l=Me(a),u=l.length;u--;){var b=l[u],v=a[b];l[u]=[b,v,lb(v)]}return l}function zr(a,l){var u=aw(a,l);return Tp(u)?u:t}function $y(a){var l=se.call(a,Sr),u=a[Sr];try{a[Sr]=t;var b=!0}catch{}var v=Js.call(a);return b&&(l?a[Sr]=u:delete a[Sr]),v}var Hc=wc?function(a){return a==null?[]:(a=ce(a),Yn(wc(a),function(l){return dp.call(a,l)}))}:dd,ib=wc?function(a){for(var l=[];a;)Wn(l,Hc(a)),a=el(a);return l}:dd,Xe=Ke;(yc&&Xe(new yc(new ArrayBuffer(1)))!=Mt||_a&&Xe(new _a)!=I||_c&&Xe(_c.resolve())!=tt||wi&&Xe(new wi)!=J||ka&&Xe(new ka)!=mt)&&(Xe=function(a){var l=Ke(a),u=l==j?a.constructor:t,b=u?Dr(u):"";if(b)switch(b){case Pw:return Mt;case Lw:return I;case Fw:return tt;case Mw:return J;case zw:return mt}return l});function Zy(a,l,u){for(var b=-1,v=u.length;++b<v;){var y=u[b],C=y.size;switch(y.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=We(l,a+C);break;case"takeRight":a=Fe(a,l-C);break}}return{start:a,end:l}}function Jy(a){var l=a.match(nn);return l?l[1].split(ui):[]}function ab(a,l,u){l=Kn(l,a);for(var b=-1,v=l.length,y=!1;++b<v;){var C=sn(l[b]);if(!(y=a!=null&&u(a,C)))break;a=a[C]}return y||++b!=v?y:(v=a==null?0:a.length,!!v&&Al(v)&&_n(C,v)&&(Dt(a)||Nr(a)))}function Qy(a){var l=a.length,u=new a.constructor(l);return l&&typeof a[0]=="string"&&se.call(a,"index")&&(u.index=a.index,u.input=a.input),u}function sb(a){return typeof a.constructor=="function"&&!Pa(a)?_i(el(a)):{}}function t1(a,l,u){var b=a.constructor;switch(l){case Ft:return Uc(a);case at:case St:return new b(+a);case Mt:return Dy(a,u);case Gt:case Xt:case Ce:case be:case Bo:case fe:case co:case ge:case Ge:return Yp(a,u);case I:return new b;case F:case H:return new b(a);case Z:return Ny(a);case J:return new b;case bt:return Gy(a)}}function e1(a,l){var u=l.length;if(!u)return a;var b=u-1;return l[b]=(u>1?"& ":"")+l[b],l=l.join(u>2?", ":" "),a.replace(Ir,`{
/* [wrapped with `+l+`] */
`)}function o1(a){return Dt(a)||Nr(a)||!!(up&&a&&a[up])}function _n(a,l){var u=typeof a;return l=l==null?ct:l,!!l&&(u=="number"||u!="symbol"&&px.test(a))&&a>-1&&a%1==0&&a<l}function $e(a,l,u){if(!we(u))return!1;var b=typeof l;return(b=="number"?oo(u)&&_n(l,u.length):b=="string"&&l in u)?Wo(u[l],a):!1}function qc(a,l){if(Dt(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||bo(a)?!0:Rr.test(a)||!Tr.test(a)||l!=null&&a in ce(l)}function n1(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Kc(a){var l=wl(a),u=w[l];if(typeof u!="function"||!(l in Ht.prototype))return!1;if(a===u)return!0;var b=Xc(u);return!!b&&a===b[0]}function r1(a){return!!lp&&lp in a}var i1=$s?kn:ud;function Pa(a){var l=a&&a.constructor,u=typeof l=="function"&&l.prototype||xi;return a===u}function lb(a){return a===a&&!we(a)}function fb(a,l){return function(u){return u==null?!1:u[a]===l&&(l!==t||a in ce(u))}}function a1(a){var l=Tl(a,function(b){return u.size===d&&u.clear(),b}),u=l.cache;return l}function s1(a,l){var u=a[1],b=l[1],v=u|b,y=v<(k|T|U),C=b==U&&u==O||b==U&&u==M&&a[7].length<=l[8]||b==(U|M)&&l[7].length<=l[8]&&u==O;if(!(y||C))return a;b&k&&(a[2]=l[2],v|=u&k?0:A);var R=l[3];if(R){var L=a[3];a[3]=L?Xp(L,R,l[4]):R,a[4]=L?Xn(a[3],h):l[4]}return R=l[5],R&&(L=a[5],a[5]=L?Vp(L,R,l[6]):R,a[6]=L?Xn(a[5],h):l[6]),R=l[7],R&&(a[7]=R),b&U&&(a[8]=a[8]==null?l[8]:We(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=v,a}function l1(a){var l=[];if(a!=null)for(var u in ce(a))l.push(u);return l}function f1(a){return Js.call(a)}function cb(a,l,u){return l=Fe(l===t?a.length-1:l,0),function(){for(var b=arguments,v=-1,y=Fe(b.length-l,0),C=D(y);++v<y;)C[v]=b[l+v];v=-1;for(var R=D(l+1);++v<l;)R[v]=b[v];return R[l]=u(C),uo(a,this,R)}}function db(a,l){return l.length<2?a:Mr(a,To(l,0,-1))}function c1(a,l){for(var u=a.length,b=We(l.length,u),v=eo(a);b--;){var y=l[b];a[b]=_n(y,u)?v[y]:t}return a}function $c(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var ub=pb(Mp),La=Cw||function(a,l){return Ue.setTimeout(a,l)},Zc=pb(Ly);function hb(a,l,u){var b=l+"";return Zc(a,e1(b,d1(Jy(b),u)))}function pb(a){var l=0,u=0;return function(){var b=Iw(),v=ut-(b-u);if(u=b,v>0){if(++l>=dt)return arguments[0]}else l=0;return a.apply(t,arguments)}}function _l(a,l){var u=-1,b=a.length,v=b-1;for(l=l===t?b:l;++u<l;){var y=Lc(u,v),C=a[y];a[y]=a[u],a[u]=C}return a.length=l,a}var bb=a1(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Us,function(u,b,v,y){l.push(v?y.replace(to,"$1"):b||u)}),l});function sn(a){if(typeof a=="string"||bo(a))return a;var l=a+"";return l=="0"&&1/a==-et?"-0":l}function Dr(a){if(a!=null){try{return Zs.call(a)}catch{}try{return a+""}catch{}}return""}function d1(a,l){return _o(Et,function(u){var b="_."+u[0];l&u[1]&&!Vs(a,b)&&a.push(b)}),a.sort()}function gb(a){if(a instanceof Ht)return a.clone();var l=new Eo(a.__wrapped__,a.__chain__);return l.__actions__=eo(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function u1(a,l,u){(u?$e(a,l,u):l===t)?l=1:l=Fe(Ut(l),0);var b=a==null?0:a.length;if(!b||l<1)return[];for(var v=0,y=0,C=D(rl(b/l));v<b;)C[y++]=To(a,v,v+=l);return C}function h1(a){for(var l=-1,u=a==null?0:a.length,b=0,v=[];++l<u;){var y=a[l];y&&(v[b++]=y)}return v}function p1(){var a=arguments.length;if(!a)return[];for(var l=D(a-1),u=arguments[0],b=a;b--;)l[b-1]=arguments[b];return Wn(Dt(u)?eo(u):[u],Be(l,1))}var b1=Yt(function(a,l){return Te(a)?Ra(a,Be(l,1,Te,!0)):[]}),g1=Yt(function(a,l){var u=Ro(l);return Te(u)&&(u=t),Te(a)?Ra(a,Be(l,1,Te,!0),kt(u,2)):[]}),m1=Yt(function(a,l){var u=Ro(l);return Te(u)&&(u=t),Te(a)?Ra(a,Be(l,1,Te,!0),t,u):[]});function v1(a,l,u){var b=a==null?0:a.length;return b?(l=u||l===t?1:Ut(l),To(a,l<0?0:l,b)):[]}function x1(a,l,u){var b=a==null?0:a.length;return b?(l=u||l===t?1:Ut(l),l=b-l,To(a,0,l<0?0:l)):[]}function w1(a,l){return a&&a.length?pl(a,kt(l,3),!0,!0):[]}function y1(a,l){return a&&a.length?pl(a,kt(l,3),!0):[]}function _1(a,l,u,b){var v=a==null?0:a.length;return v?(u&&typeof u!="number"&&$e(a,l,u)&&(u=0,b=v),py(a,l,u,b)):[]}function mb(a,l,u){var b=a==null?0:a.length;if(!b)return-1;var v=u==null?0:Ut(u);return v<0&&(v=Fe(b+v,0)),Hs(a,kt(l,3),v)}function vb(a,l,u){var b=a==null?0:a.length;if(!b)return-1;var v=b-1;return u!==t&&(v=Ut(u),v=u<0?Fe(b+v,0):We(v,b-1)),Hs(a,kt(l,3),v,!0)}function xb(a){var l=a==null?0:a.length;return l?Be(a,1):[]}function k1(a){var l=a==null?0:a.length;return l?Be(a,et):[]}function E1(a,l){var u=a==null?0:a.length;return u?(l=l===t?1:Ut(l),Be(a,l)):[]}function C1(a){for(var l=-1,u=a==null?0:a.length,b={};++l<u;){var v=a[l];b[v[0]]=v[1]}return b}function wb(a){return a&&a.length?a[0]:t}function T1(a,l,u){var b=a==null?0:a.length;if(!b)return-1;var v=u==null?0:Ut(u);return v<0&&(v=Fe(b+v,0)),bi(a,l,v)}function R1(a){var l=a==null?0:a.length;return l?To(a,0,-1):[]}var A1=Yt(function(a){var l=ve(a,Nc);return l.length&&l[0]===a[0]?Ac(l):[]}),I1=Yt(function(a){var l=Ro(a),u=ve(a,Nc);return l===Ro(u)?l=t:u.pop(),u.length&&u[0]===a[0]?Ac(u,kt(l,2)):[]}),O1=Yt(function(a){var l=Ro(a),u=ve(a,Nc);return l=typeof l=="function"?l:t,l&&u.pop(),u.length&&u[0]===a[0]?Ac(u,t,l):[]});function S1(a,l){return a==null?"":Rw.call(a,l)}function Ro(a){var l=a==null?0:a.length;return l?a[l-1]:t}function P1(a,l,u){var b=a==null?0:a.length;if(!b)return-1;var v=b;return u!==t&&(v=Ut(u),v=v<0?Fe(b+v,0):We(v,b-1)),l===l?dw(a,l,v):Hs(a,tp,v,!0)}function L1(a,l){return a&&a.length?Sp(a,Ut(l)):t}var F1=Yt(yb);function yb(a,l){return a&&a.length&&l&&l.length?Pc(a,l):a}function M1(a,l,u){return a&&a.length&&l&&l.length?Pc(a,l,kt(u,2)):a}function z1(a,l,u){return a&&a.length&&l&&l.length?Pc(a,l,t,u):a}var D1=yn(function(a,l){var u=a==null?0:a.length,b=Ec(a,l);return Fp(a,ve(l,function(v){return _n(v,u)?+v:v}).sort(Wp)),b});function N1(a,l){var u=[];if(!(a&&a.length))return u;var b=-1,v=[],y=a.length;for(l=kt(l,3);++b<y;){var C=a[b];l(C,b,a)&&(u.push(C),v.push(b))}return Fp(a,v),u}function Jc(a){return a==null?a:Sw.call(a)}function G1(a,l,u){var b=a==null?0:a.length;return b?(u&&typeof u!="number"&&$e(a,l,u)?(l=0,u=b):(l=l==null?0:Ut(l),u=u===t?b:Ut(u)),To(a,l,u)):[]}function U1(a,l){return hl(a,l)}function B1(a,l,u){return Mc(a,l,kt(u,2))}function j1(a,l){var u=a==null?0:a.length;if(u){var b=hl(a,l);if(b<u&&Wo(a[b],l))return b}return-1}function Y1(a,l){return hl(a,l,!0)}function W1(a,l,u){return Mc(a,l,kt(u,2),!0)}function X1(a,l){var u=a==null?0:a.length;if(u){var b=hl(a,l,!0)-1;if(Wo(a[b],l))return b}return-1}function V1(a){return a&&a.length?zp(a):[]}function H1(a,l){return a&&a.length?zp(a,kt(l,2)):[]}function q1(a){var l=a==null?0:a.length;return l?To(a,1,l):[]}function K1(a,l,u){return a&&a.length?(l=u||l===t?1:Ut(l),To(a,0,l<0?0:l)):[]}function $1(a,l,u){var b=a==null?0:a.length;return b?(l=u||l===t?1:Ut(l),l=b-l,To(a,l<0?0:l,b)):[]}function Z1(a,l){return a&&a.length?pl(a,kt(l,3),!1,!0):[]}function J1(a,l){return a&&a.length?pl(a,kt(l,3)):[]}var Q1=Yt(function(a){return qn(Be(a,1,Te,!0))}),t_=Yt(function(a){var l=Ro(a);return Te(l)&&(l=t),qn(Be(a,1,Te,!0),kt(l,2))}),e_=Yt(function(a){var l=Ro(a);return l=typeof l=="function"?l:t,qn(Be(a,1,Te,!0),t,l)});function o_(a){return a&&a.length?qn(a):[]}function n_(a,l){return a&&a.length?qn(a,kt(l,2)):[]}function r_(a,l){return l=typeof l=="function"?l:t,a&&a.length?qn(a,t,l):[]}function Qc(a){if(!(a&&a.length))return[];var l=0;return a=Yn(a,function(u){if(Te(u))return l=Fe(u.length,l),!0}),gc(l,function(u){return ve(a,hc(u))})}function _b(a,l){if(!(a&&a.length))return[];var u=Qc(a);return l==null?u:ve(u,function(b){return uo(l,t,b)})}var i_=Yt(function(a,l){return Te(a)?Ra(a,l):[]}),a_=Yt(function(a){return Dc(Yn(a,Te))}),s_=Yt(function(a){var l=Ro(a);return Te(l)&&(l=t),Dc(Yn(a,Te),kt(l,2))}),l_=Yt(function(a){var l=Ro(a);return l=typeof l=="function"?l:t,Dc(Yn(a,Te),t,l)}),f_=Yt(Qc);function c_(a,l){return Up(a||[],l||[],Ta)}function d_(a,l){return Up(a||[],l||[],Oa)}var u_=Yt(function(a){var l=a.length,u=l>1?a[l-1]:t;return u=typeof u=="function"?(a.pop(),u):t,_b(a,u)});function kb(a){var l=w(a);return l.__chain__=!0,l}function h_(a,l){return l(a),a}function kl(a,l){return l(a)}var p_=yn(function(a){var l=a.length,u=l?a[0]:0,b=this.__wrapped__,v=function(y){return Ec(y,a)};return l>1||this.__actions__.length||!(b instanceof Ht)||!_n(u)?this.thru(v):(b=b.slice(u,+u+(l?1:0)),b.__actions__.push({func:kl,args:[v],thisArg:t}),new Eo(b,this.__chain__).thru(function(y){return l&&!y.length&&y.push(t),y}))});function b_(){return kb(this)}function g_(){return new Eo(this.value(),this.__chain__)}function m_(){this.__values__===t&&(this.__values__=Db(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function v_(){return this}function x_(a){for(var l,u=this;u instanceof ll;){var b=gb(u);b.__index__=0,b.__values__=t,l?v.__wrapped__=b:l=b;var v=b;u=u.__wrapped__}return v.__wrapped__=a,l}function w_(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:kl,args:[Jc],thisArg:t}),new Eo(l,this.__chain__)}return this.thru(Jc)}function y_(){return Gp(this.__wrapped__,this.__actions__)}var __=bl(function(a,l,u){se.call(a,u)?++a[u]:xn(a,u,1)});function k_(a,l,u){var b=Dt(a)?Jh:hy;return u&&$e(a,l,u)&&(l=t),b(a,kt(l,3))}function E_(a,l){var u=Dt(a)?Yn:_p;return u(a,kt(l,3))}var C_=$p(mb),T_=$p(vb);function R_(a,l){return Be(El(a,l),1)}function A_(a,l){return Be(El(a,l),et)}function I_(a,l,u){return u=u===t?1:Ut(u),Be(El(a,l),u)}function Eb(a,l){var u=Dt(a)?_o:Hn;return u(a,kt(l,3))}function Cb(a,l){var u=Dt(a)?qx:yp;return u(a,kt(l,3))}var O_=bl(function(a,l,u){se.call(a,u)?a[u].push(l):xn(a,u,[l])});function S_(a,l,u,b){a=oo(a)?a:Ri(a),u=u&&!b?Ut(u):0;var v=a.length;return u<0&&(u=Fe(v+u,0)),Il(a)?u<=v&&a.indexOf(l,u)>-1:!!v&&bi(a,l,u)>-1}var P_=Yt(function(a,l,u){var b=-1,v=typeof l=="function",y=oo(a)?D(a.length):[];return Hn(a,function(C){y[++b]=v?uo(l,C,u):Aa(C,l,u)}),y}),L_=bl(function(a,l,u){xn(a,u,l)});function El(a,l){var u=Dt(a)?ve:Ap;return u(a,kt(l,3))}function F_(a,l,u,b){return a==null?[]:(Dt(l)||(l=l==null?[]:[l]),u=b?t:u,Dt(u)||(u=u==null?[]:[u]),Pp(a,l,u))}var M_=bl(function(a,l,u){a[u?0:1].push(l)},function(){return[[],[]]});function z_(a,l,u){var b=Dt(a)?dc:op,v=arguments.length<3;return b(a,kt(l,4),u,v,Hn)}function D_(a,l,u){var b=Dt(a)?Kx:op,v=arguments.length<3;return b(a,kt(l,4),u,v,yp)}function N_(a,l){var u=Dt(a)?Yn:_p;return u(a,Rl(kt(l,3)))}function G_(a){var l=Dt(a)?mp:Sy;return l(a)}function U_(a,l,u){(u?$e(a,l,u):l===t)?l=1:l=Ut(l);var b=Dt(a)?ly:Py;return b(a,l)}function B_(a){var l=Dt(a)?fy:Fy;return l(a)}function j_(a){if(a==null)return 0;if(oo(a))return Il(a)?mi(a):a.length;var l=Xe(a);return l==I||l==J?a.size:Oc(a).length}function Y_(a,l,u){var b=Dt(a)?uc:My;return u&&$e(a,l,u)&&(l=t),b(a,kt(l,3))}var W_=Yt(function(a,l){if(a==null)return[];var u=l.length;return u>1&&$e(a,l[0],l[1])?l=[]:u>2&&$e(l[0],l[1],l[2])&&(l=[l[0]]),Pp(a,Be(l,1),[])}),Cl=Ew||function(){return Ue.Date.now()};function X_(a,l){if(typeof l!="function")throw new ko(s);return a=Ut(a),function(){if(--a<1)return l.apply(this,arguments)}}function Tb(a,l,u){return l=u?t:l,l=a&&l==null?a.length:l,wn(a,U,t,t,t,t,l)}function Rb(a,l){var u;if(typeof l!="function")throw new ko(s);return a=Ut(a),function(){return--a>0&&(u=l.apply(this,arguments)),a<=1&&(l=t),u}}var td=Yt(function(a,l,u){var b=k;if(u.length){var v=Xn(u,Ci(td));b|=z}return wn(a,b,l,u,v)}),Ab=Yt(function(a,l,u){var b=k|T;if(u.length){var v=Xn(u,Ci(Ab));b|=z}return wn(l,b,a,u,v)});function Ib(a,l,u){l=u?t:l;var b=wn(a,O,t,t,t,t,t,l);return b.placeholder=Ib.placeholder,b}function Ob(a,l,u){l=u?t:l;var b=wn(a,P,t,t,t,t,t,l);return b.placeholder=Ob.placeholder,b}function Sb(a,l,u){var b,v,y,C,R,L,Y=0,W=!1,K=!1,lt=!0;if(typeof a!="function")throw new ko(s);l=Ao(l)||0,we(u)&&(W=!!u.leading,K="maxWait"in u,y=K?Fe(Ao(u.maxWait)||0,l):y,lt="trailing"in u?!!u.trailing:lt);function xt(Re){var Xo=b,Cn=v;return b=v=t,Y=Re,C=a.apply(Cn,Xo),C}function Tt(Re){return Y=Re,R=La(Vt,l),W?xt(Re):C}function Bt(Re){var Xo=Re-L,Cn=Re-Y,$b=l-Xo;return K?We($b,y-Cn):$b}function Rt(Re){var Xo=Re-L,Cn=Re-Y;return L===t||Xo>=l||Xo<0||K&&Cn>=y}function Vt(){var Re=Cl();if(Rt(Re))return Zt(Re);R=La(Vt,Bt(Re))}function Zt(Re){return R=t,lt&&b?xt(Re):(b=v=t,C)}function go(){R!==t&&Bp(R),Y=0,b=L=v=R=t}function Ze(){return R===t?C:Zt(Cl())}function mo(){var Re=Cl(),Xo=Rt(Re);if(b=arguments,v=this,L=Re,Xo){if(R===t)return Tt(L);if(K)return Bp(R),R=La(Vt,l),xt(L)}return R===t&&(R=La(Vt,l)),C}return mo.cancel=go,mo.flush=Ze,mo}var V_=Yt(function(a,l){return wp(a,1,l)}),H_=Yt(function(a,l,u){return wp(a,Ao(l)||0,u)});function q_(a){return wn(a,q)}function Tl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ko(s);var u=function(){var b=arguments,v=l?l.apply(this,b):b[0],y=u.cache;if(y.has(v))return y.get(v);var C=a.apply(this,b);return u.cache=y.set(v,C)||y,C};return u.cache=new(Tl.Cache||vn),u}Tl.Cache=vn;function Rl(a){if(typeof a!="function")throw new ko(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function K_(a){return Rb(2,a)}var $_=zy(function(a,l){l=l.length==1&&Dt(l[0])?ve(l[0],ho(kt())):ve(Be(l,1),ho(kt()));var u=l.length;return Yt(function(b){for(var v=-1,y=We(b.length,u);++v<y;)b[v]=l[v].call(this,b[v]);return uo(a,this,b)})}),ed=Yt(function(a,l){var u=Xn(l,Ci(ed));return wn(a,z,t,l,u)}),Pb=Yt(function(a,l){var u=Xn(l,Ci(Pb));return wn(a,X,t,l,u)}),Z_=yn(function(a,l){return wn(a,M,t,t,t,l)});function J_(a,l){if(typeof a!="function")throw new ko(s);return l=l===t?l:Ut(l),Yt(a,l)}function Q_(a,l){if(typeof a!="function")throw new ko(s);return l=l==null?0:Fe(Ut(l),0),Yt(function(u){var b=u[l],v=$n(u,0,l);return b&&Wn(v,b),uo(a,this,v)})}function t5(a,l,u){var b=!0,v=!0;if(typeof a!="function")throw new ko(s);return we(u)&&(b="leading"in u?!!u.leading:b,v="trailing"in u?!!u.trailing:v),Sb(a,l,{leading:b,maxWait:l,trailing:v})}function e5(a){return Tb(a,1)}function o5(a,l){return ed(Gc(l),a)}function n5(){if(!arguments.length)return[];var a=arguments[0];return Dt(a)?a:[a]}function r5(a){return Co(a,m)}function i5(a,l){return l=typeof l=="function"?l:t,Co(a,m,l)}function a5(a){return Co(a,g|m)}function s5(a,l){return l=typeof l=="function"?l:t,Co(a,g|m,l)}function l5(a,l){return l==null||xp(a,l,Me(l))}function Wo(a,l){return a===l||a!==a&&l!==l}var f5=xl(Rc),c5=xl(function(a,l){return a>=l}),Nr=Cp(function(){return arguments}())?Cp:function(a){return _e(a)&&se.call(a,"callee")&&!dp.call(a,"callee")},Dt=D.isArray,d5=Vh?ho(Vh):xy;function oo(a){return a!=null&&Al(a.length)&&!kn(a)}function Te(a){return _e(a)&&oo(a)}function u5(a){return a===!0||a===!1||_e(a)&&Ke(a)==at}var Zn=Tw||ud,h5=Hh?ho(Hh):wy;function p5(a){return _e(a)&&a.nodeType===1&&!Fa(a)}function b5(a){if(a==null)return!0;if(oo(a)&&(Dt(a)||typeof a=="string"||typeof a.splice=="function"||Zn(a)||Ti(a)||Nr(a)))return!a.length;var l=Xe(a);if(l==I||l==J)return!a.size;if(Pa(a))return!Oc(a).length;for(var u in a)if(se.call(a,u))return!1;return!0}function g5(a,l){return Ia(a,l)}function m5(a,l,u){u=typeof u=="function"?u:t;var b=u?u(a,l):t;return b===t?Ia(a,l,t,u):!!b}function od(a){if(!_e(a))return!1;var l=Ke(a);return l==yt||l==$t||typeof a.message=="string"&&typeof a.name=="string"&&!Fa(a)}function v5(a){return typeof a=="number"&&hp(a)}function kn(a){if(!we(a))return!1;var l=Ke(a);return l==Ct||l==E||l==Q||l==rt}function Lb(a){return typeof a=="number"&&a==Ut(a)}function Al(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ct}function we(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function _e(a){return a!=null&&typeof a=="object"}var Fb=qh?ho(qh):_y;function x5(a,l){return a===l||Ic(a,l,Vc(l))}function w5(a,l,u){return u=typeof u=="function"?u:t,Ic(a,l,Vc(l),u)}function y5(a){return Mb(a)&&a!=+a}function _5(a){if(i1(a))throw new zt(i);return Tp(a)}function k5(a){return a===null}function E5(a){return a==null}function Mb(a){return typeof a=="number"||_e(a)&&Ke(a)==F}function Fa(a){if(!_e(a)||Ke(a)!=j)return!1;var l=el(a);if(l===null)return!0;var u=se.call(l,"constructor")&&l.constructor;return typeof u=="function"&&u instanceof u&&Zs.call(u)==ww}var nd=Kh?ho(Kh):ky;function C5(a){return Lb(a)&&a>=-ct&&a<=ct}var zb=$h?ho($h):Ey;function Il(a){return typeof a=="string"||!Dt(a)&&_e(a)&&Ke(a)==H}function bo(a){return typeof a=="symbol"||_e(a)&&Ke(a)==bt}var Ti=Zh?ho(Zh):Cy;function T5(a){return a===t}function R5(a){return _e(a)&&Xe(a)==mt}function A5(a){return _e(a)&&Ke(a)==_t}var I5=xl(Sc),O5=xl(function(a,l){return a<=l});function Db(a){if(!a)return[];if(oo(a))return Il(a)?jo(a):eo(a);if(ya&&a[ya])return lw(a[ya]());var l=Xe(a),u=l==I?vc:l==J?qs:Ri;return u(a)}function En(a){if(!a)return a===0?a:0;if(a=Ao(a),a===et||a===-et){var l=a<0?-1:1;return l*wt}return a===a?a:0}function Ut(a){var l=En(a),u=l%1;return l===l?u?l-u:l:0}function Nb(a){return a?Fr(Ut(a),0,Lt):0}function Ao(a){if(typeof a=="number")return a;if(bo(a))return Pt;if(we(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=we(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=np(a);var u=dx.test(a);return u||hx.test(a)?Xx(a.slice(2),u?2:8):js.test(a)?Pt:+a}function Gb(a){return an(a,no(a))}function S5(a){return a?Fr(Ut(a),-ct,ct):a===0?a:0}function ae(a){return a==null?"":po(a)}var P5=ki(function(a,l){if(Pa(l)||oo(l)){an(l,Me(l),a);return}for(var u in l)se.call(l,u)&&Ta(a,u,l[u])}),Ub=ki(function(a,l){an(l,no(l),a)}),Ol=ki(function(a,l,u,b){an(l,no(l),a,b)}),L5=ki(function(a,l,u,b){an(l,Me(l),a,b)}),F5=yn(Ec);function M5(a,l){var u=_i(a);return l==null?u:vp(u,l)}var z5=Yt(function(a,l){a=ce(a);var u=-1,b=l.length,v=b>2?l[2]:t;for(v&&$e(l[0],l[1],v)&&(b=1);++u<b;)for(var y=l[u],C=no(y),R=-1,L=C.length;++R<L;){var Y=C[R],W=a[Y];(W===t||Wo(W,xi[Y])&&!se.call(a,Y))&&(a[Y]=y[Y])}return a}),D5=Yt(function(a){return a.push(t,nb),uo(Bb,t,a)});function N5(a,l){return Qh(a,kt(l,3),rn)}function G5(a,l){return Qh(a,kt(l,3),Tc)}function U5(a,l){return a==null?a:Cc(a,kt(l,3),no)}function B5(a,l){return a==null?a:kp(a,kt(l,3),no)}function j5(a,l){return a&&rn(a,kt(l,3))}function Y5(a,l){return a&&Tc(a,kt(l,3))}function W5(a){return a==null?[]:dl(a,Me(a))}function X5(a){return a==null?[]:dl(a,no(a))}function rd(a,l,u){var b=a==null?t:Mr(a,l);return b===t?u:b}function V5(a,l){return a!=null&&ab(a,l,by)}function id(a,l){return a!=null&&ab(a,l,gy)}var H5=Jp(function(a,l,u){l!=null&&typeof l.toString!="function"&&(l=Js.call(l)),a[l]=u},sd(ro)),q5=Jp(function(a,l,u){l!=null&&typeof l.toString!="function"&&(l=Js.call(l)),se.call(a,l)?a[l].push(u):a[l]=[u]},kt),K5=Yt(Aa);function Me(a){return oo(a)?gp(a):Oc(a)}function no(a){return oo(a)?gp(a,!0):Ty(a)}function $5(a,l){var u={};return l=kt(l,3),rn(a,function(b,v,y){xn(u,l(b,v,y),b)}),u}function Z5(a,l){var u={};return l=kt(l,3),rn(a,function(b,v,y){xn(u,v,l(b,v,y))}),u}var J5=ki(function(a,l,u){ul(a,l,u)}),Bb=ki(function(a,l,u,b){ul(a,l,u,b)}),Q5=yn(function(a,l){var u={};if(a==null)return u;var b=!1;l=ve(l,function(y){return y=Kn(y,a),b||(b=y.length>1),y}),an(a,Wc(a),u),b&&(u=Co(u,g|p|m,Hy));for(var v=l.length;v--;)zc(u,l[v]);return u});function tk(a,l){return jb(a,Rl(kt(l)))}var ek=yn(function(a,l){return a==null?{}:Ay(a,l)});function jb(a,l){if(a==null)return{};var u=ve(Wc(a),function(b){return[b]});return l=kt(l),Lp(a,u,function(b,v){return l(b,v[0])})}function ok(a,l,u){l=Kn(l,a);var b=-1,v=l.length;for(v||(v=1,a=t);++b<v;){var y=a==null?t:a[sn(l[b])];y===t&&(b=v,y=u),a=kn(y)?y.call(a):y}return a}function nk(a,l,u){return a==null?a:Oa(a,l,u)}function rk(a,l,u,b){return b=typeof b=="function"?b:t,a==null?a:Oa(a,l,u,b)}var Yb=eb(Me),Wb=eb(no);function ik(a,l,u){var b=Dt(a),v=b||Zn(a)||Ti(a);if(l=kt(l,4),u==null){var y=a&&a.constructor;v?u=b?new y:[]:we(a)?u=kn(y)?_i(el(a)):{}:u={}}return(v?_o:rn)(a,function(C,R,L){return l(u,C,R,L)}),u}function ak(a,l){return a==null?!0:zc(a,l)}function sk(a,l,u){return a==null?a:Np(a,l,Gc(u))}function lk(a,l,u,b){return b=typeof b=="function"?b:t,a==null?a:Np(a,l,Gc(u),b)}function Ri(a){return a==null?[]:mc(a,Me(a))}function fk(a){return a==null?[]:mc(a,no(a))}function ck(a,l,u){return u===t&&(u=l,l=t),u!==t&&(u=Ao(u),u=u===u?u:0),l!==t&&(l=Ao(l),l=l===l?l:0),Fr(Ao(a),l,u)}function dk(a,l,u){return l=En(l),u===t?(u=l,l=0):u=En(u),a=Ao(a),my(a,l,u)}function uk(a,l,u){if(u&&typeof u!="boolean"&&$e(a,l,u)&&(l=u=t),u===t&&(typeof l=="boolean"?(u=l,l=t):typeof a=="boolean"&&(u=a,a=t)),a===t&&l===t?(a=0,l=1):(a=En(a),l===t?(l=a,a=0):l=En(l)),a>l){var b=a;a=l,l=b}if(u||a%1||l%1){var v=pp();return We(a+v*(l-a+Wx("1e-"+((v+"").length-1))),l)}return Lc(a,l)}var hk=Ei(function(a,l,u){return l=l.toLowerCase(),a+(u?Xb(l):l)});function Xb(a){return ad(ae(a).toLowerCase())}function Vb(a){return a=ae(a),a&&a.replace(bx,nw).replace(Fx,"")}function pk(a,l,u){a=ae(a),l=po(l);var b=a.length;u=u===t?b:Fr(Ut(u),0,b);var v=u;return u-=l.length,u>=0&&a.slice(u,v)==l}function bk(a){return a=ae(a),a&&ga.test(a)?a.replace(ba,rw):a}function gk(a){return a=ae(a),a&&oc.test(a)?a.replace(di,"\\$&"):a}var mk=Ei(function(a,l,u){return a+(u?"-":"")+l.toLowerCase()}),vk=Ei(function(a,l,u){return a+(u?" ":"")+l.toLowerCase()}),xk=Kp("toLowerCase");function wk(a,l,u){a=ae(a),l=Ut(l);var b=l?mi(a):0;if(!l||b>=l)return a;var v=(l-b)/2;return vl(il(v),u)+a+vl(rl(v),u)}function yk(a,l,u){a=ae(a),l=Ut(l);var b=l?mi(a):0;return l&&b<l?a+vl(l-b,u):a}function _k(a,l,u){a=ae(a),l=Ut(l);var b=l?mi(a):0;return l&&b<l?vl(l-b,u)+a:a}function kk(a,l,u){return u||l==null?l=0:l&&(l=+l),Ow(ae(a).replace(va,""),l||0)}function Ek(a,l,u){return(u?$e(a,l,u):l===t)?l=1:l=Ut(l),Fc(ae(a),l)}function Ck(){var a=arguments,l=ae(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var Tk=Ei(function(a,l,u){return a+(u?"_":"")+l.toLowerCase()});function Rk(a,l,u){return u&&typeof u!="number"&&$e(a,l,u)&&(l=u=t),u=u===t?Lt:u>>>0,u?(a=ae(a),a&&(typeof l=="string"||l!=null&&!nd(l))&&(l=po(l),!l&&gi(a))?$n(jo(a),0,u):a.split(l,u)):[]}var Ak=Ei(function(a,l,u){return a+(u?" ":"")+ad(l)});function Ik(a,l,u){return a=ae(a),u=u==null?0:Fr(Ut(u),0,a.length),l=po(l),a.slice(u,u+l.length)==l}function Ok(a,l,u){var b=w.templateSettings;u&&$e(a,l,u)&&(l=t),a=ae(a),l=Ol({},l,b,ob);var v=Ol({},l.imports,b.imports,ob),y=Me(v),C=mc(v,y),R,L,Y=0,W=l.interpolate||Ys,K="__p += '",lt=xc((l.escape||Ys).source+"|"+W.source+"|"+(W===jn?xa:Ys).source+"|"+(l.evaluate||Ys).source+"|$","g"),xt="//# sourceURL="+(se.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gx+"]")+`
`;a.replace(lt,function(Rt,Vt,Zt,go,Ze,mo){return Zt||(Zt=go),K+=a.slice(Y,mo).replace(gx,iw),Vt&&(R=!0,K+=`' +
__e(`+Vt+`) +
'`),Ze&&(L=!0,K+=`';
`+Ze+`;
__p += '`),Zt&&(K+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),Y=mo+Rt.length,Rt}),K+=`';
`;var Tt=se.call(l,"variable")&&l.variable;if(!Tt)K=`with (obj) {
`+K+`
}
`;else if(Ye.test(Tt))throw new zt(f);K=(L?K.replace(Cr,""):K).replace(pa,"$1").replace(ec,"$1;"),K="function("+(Tt||"obj")+`) {
`+(Tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var Bt=qb(function(){return re(y,xt+"return "+K).apply(t,C)});if(Bt.source=K,od(Bt))throw Bt;return Bt}function Sk(a){return ae(a).toLowerCase()}function Pk(a){return ae(a).toUpperCase()}function Lk(a,l,u){if(a=ae(a),a&&(u||l===t))return np(a);if(!a||!(l=po(l)))return a;var b=jo(a),v=jo(l),y=rp(b,v),C=ip(b,v)+1;return $n(b,y,C).join("")}function Fk(a,l,u){if(a=ae(a),a&&(u||l===t))return a.slice(0,sp(a)+1);if(!a||!(l=po(l)))return a;var b=jo(a),v=ip(b,jo(l))+1;return $n(b,0,v).join("")}function Mk(a,l,u){if(a=ae(a),a&&(u||l===t))return a.replace(va,"");if(!a||!(l=po(l)))return a;var b=jo(a),v=rp(b,jo(l));return $n(b,v).join("")}function zk(a,l){var u=ot,b=st;if(we(l)){var v="separator"in l?l.separator:v;u="length"in l?Ut(l.length):u,b="omission"in l?po(l.omission):b}a=ae(a);var y=a.length;if(gi(a)){var C=jo(a);y=C.length}if(u>=y)return a;var R=u-mi(b);if(R<1)return b;var L=C?$n(C,0,R).join(""):a.slice(0,R);if(v===t)return L+b;if(C&&(R+=L.length-R),nd(v)){if(a.slice(R).search(v)){var Y,W=L;for(v.global||(v=xc(v.source,ae(Bs.exec(v))+"g")),v.lastIndex=0;Y=v.exec(W);)var K=Y.index;L=L.slice(0,K===t?R:K)}}else if(a.indexOf(po(v),R)!=R){var lt=L.lastIndexOf(v);lt>-1&&(L=L.slice(0,lt))}return L+b}function Dk(a){return a=ae(a),a&&Ns.test(a)?a.replace(Ds,uw):a}var Nk=Ei(function(a,l,u){return a+(u?" ":"")+l.toUpperCase()}),ad=Kp("toUpperCase");function Hb(a,l,u){return a=ae(a),l=u?t:l,l===t?sw(a)?bw(a):Jx(a):a.match(l)||[]}var qb=Yt(function(a,l){try{return uo(a,t,l)}catch(u){return od(u)?u:new zt(u)}}),Gk=yn(function(a,l){return _o(l,function(u){u=sn(u),xn(a,u,td(a[u],a))}),a});function Uk(a){var l=a==null?0:a.length,u=kt();return a=l?ve(a,function(b){if(typeof b[1]!="function")throw new ko(s);return[u(b[0]),b[1]]}):[],Yt(function(b){for(var v=-1;++v<l;){var y=a[v];if(uo(y[0],this,b))return uo(y[1],this,b)}})}function Bk(a){return uy(Co(a,g))}function sd(a){return function(){return a}}function jk(a,l){return a==null||a!==a?l:a}var Yk=Zp(),Wk=Zp(!0);function ro(a){return a}function ld(a){return Rp(typeof a=="function"?a:Co(a,g))}function Xk(a){return Ip(Co(a,g))}function Vk(a,l){return Op(a,Co(l,g))}var Hk=Yt(function(a,l){return function(u){return Aa(u,a,l)}}),qk=Yt(function(a,l){return function(u){return Aa(a,u,l)}});function fd(a,l,u){var b=Me(l),v=dl(l,b);u==null&&!(we(l)&&(v.length||!b.length))&&(u=l,l=a,a=this,v=dl(l,Me(l)));var y=!(we(u)&&"chain"in u)||!!u.chain,C=kn(a);return _o(v,function(R){var L=l[R];a[R]=L,C&&(a.prototype[R]=function(){var Y=this.__chain__;if(y||Y){var W=a(this.__wrapped__),K=W.__actions__=eo(this.__actions__);return K.push({func:L,args:arguments,thisArg:a}),W.__chain__=Y,W}return L.apply(a,Wn([this.value()],arguments))})}),a}function Kk(){return Ue._===this&&(Ue._=yw),this}function cd(){}function $k(a){return a=Ut(a),Yt(function(l){return Sp(l,a)})}var Zk=Bc(ve),Jk=Bc(Jh),Qk=Bc(uc);function Kb(a){return qc(a)?hc(sn(a)):Iy(a)}function t2(a){return function(l){return a==null?t:Mr(a,l)}}var e2=Qp(),o2=Qp(!0);function dd(){return[]}function ud(){return!1}function n2(){return{}}function r2(){return""}function i2(){return!0}function a2(a,l){if(a=Ut(a),a<1||a>ct)return[];var u=Lt,b=We(a,Lt);l=kt(l),a-=Lt;for(var v=gc(b,l);++u<a;)l(u);return v}function s2(a){return Dt(a)?ve(a,sn):bo(a)?[a]:eo(bb(ae(a)))}function l2(a){var l=++xw;return ae(a)+l}var f2=ml(function(a,l){return a+l},0),c2=jc("ceil"),d2=ml(function(a,l){return a/l},1),u2=jc("floor");function h2(a){return a&&a.length?cl(a,ro,Rc):t}function p2(a,l){return a&&a.length?cl(a,kt(l,2),Rc):t}function b2(a){return ep(a,ro)}function g2(a,l){return ep(a,kt(l,2))}function m2(a){return a&&a.length?cl(a,ro,Sc):t}function v2(a,l){return a&&a.length?cl(a,kt(l,2),Sc):t}var x2=ml(function(a,l){return a*l},1),w2=jc("round"),y2=ml(function(a,l){return a-l},0);function _2(a){return a&&a.length?bc(a,ro):0}function k2(a,l){return a&&a.length?bc(a,kt(l,2)):0}return w.after=X_,w.ary=Tb,w.assign=P5,w.assignIn=Ub,w.assignInWith=Ol,w.assignWith=L5,w.at=F5,w.before=Rb,w.bind=td,w.bindAll=Gk,w.bindKey=Ab,w.castArray=n5,w.chain=kb,w.chunk=u1,w.compact=h1,w.concat=p1,w.cond=Uk,w.conforms=Bk,w.constant=sd,w.countBy=__,w.create=M5,w.curry=Ib,w.curryRight=Ob,w.debounce=Sb,w.defaults=z5,w.defaultsDeep=D5,w.defer=V_,w.delay=H_,w.difference=b1,w.differenceBy=g1,w.differenceWith=m1,w.drop=v1,w.dropRight=x1,w.dropRightWhile=w1,w.dropWhile=y1,w.fill=_1,w.filter=E_,w.flatMap=R_,w.flatMapDeep=A_,w.flatMapDepth=I_,w.flatten=xb,w.flattenDeep=k1,w.flattenDepth=E1,w.flip=q_,w.flow=Yk,w.flowRight=Wk,w.fromPairs=C1,w.functions=W5,w.functionsIn=X5,w.groupBy=O_,w.initial=R1,w.intersection=A1,w.intersectionBy=I1,w.intersectionWith=O1,w.invert=H5,w.invertBy=q5,w.invokeMap=P_,w.iteratee=ld,w.keyBy=L_,w.keys=Me,w.keysIn=no,w.map=El,w.mapKeys=$5,w.mapValues=Z5,w.matches=Xk,w.matchesProperty=Vk,w.memoize=Tl,w.merge=J5,w.mergeWith=Bb,w.method=Hk,w.methodOf=qk,w.mixin=fd,w.negate=Rl,w.nthArg=$k,w.omit=Q5,w.omitBy=tk,w.once=K_,w.orderBy=F_,w.over=Zk,w.overArgs=$_,w.overEvery=Jk,w.overSome=Qk,w.partial=ed,w.partialRight=Pb,w.partition=M_,w.pick=ek,w.pickBy=jb,w.property=Kb,w.propertyOf=t2,w.pull=F1,w.pullAll=yb,w.pullAllBy=M1,w.pullAllWith=z1,w.pullAt=D1,w.range=e2,w.rangeRight=o2,w.rearg=Z_,w.reject=N_,w.remove=N1,w.rest=J_,w.reverse=Jc,w.sampleSize=U_,w.set=nk,w.setWith=rk,w.shuffle=B_,w.slice=G1,w.sortBy=W_,w.sortedUniq=V1,w.sortedUniqBy=H1,w.split=Rk,w.spread=Q_,w.tail=q1,w.take=K1,w.takeRight=$1,w.takeRightWhile=Z1,w.takeWhile=J1,w.tap=h_,w.throttle=t5,w.thru=kl,w.toArray=Db,w.toPairs=Yb,w.toPairsIn=Wb,w.toPath=s2,w.toPlainObject=Gb,w.transform=ik,w.unary=e5,w.union=Q1,w.unionBy=t_,w.unionWith=e_,w.uniq=o_,w.uniqBy=n_,w.uniqWith=r_,w.unset=ak,w.unzip=Qc,w.unzipWith=_b,w.update=sk,w.updateWith=lk,w.values=Ri,w.valuesIn=fk,w.without=i_,w.words=Hb,w.wrap=o5,w.xor=a_,w.xorBy=s_,w.xorWith=l_,w.zip=f_,w.zipObject=c_,w.zipObjectDeep=d_,w.zipWith=u_,w.entries=Yb,w.entriesIn=Wb,w.extend=Ub,w.extendWith=Ol,fd(w,w),w.add=f2,w.attempt=qb,w.camelCase=hk,w.capitalize=Xb,w.ceil=c2,w.clamp=ck,w.clone=r5,w.cloneDeep=a5,w.cloneDeepWith=s5,w.cloneWith=i5,w.conformsTo=l5,w.deburr=Vb,w.defaultTo=jk,w.divide=d2,w.endsWith=pk,w.eq=Wo,w.escape=bk,w.escapeRegExp=gk,w.every=k_,w.find=C_,w.findIndex=mb,w.findKey=N5,w.findLast=T_,w.findLastIndex=vb,w.findLastKey=G5,w.floor=u2,w.forEach=Eb,w.forEachRight=Cb,w.forIn=U5,w.forInRight=B5,w.forOwn=j5,w.forOwnRight=Y5,w.get=rd,w.gt=f5,w.gte=c5,w.has=V5,w.hasIn=id,w.head=wb,w.identity=ro,w.includes=S_,w.indexOf=T1,w.inRange=dk,w.invoke=K5,w.isArguments=Nr,w.isArray=Dt,w.isArrayBuffer=d5,w.isArrayLike=oo,w.isArrayLikeObject=Te,w.isBoolean=u5,w.isBuffer=Zn,w.isDate=h5,w.isElement=p5,w.isEmpty=b5,w.isEqual=g5,w.isEqualWith=m5,w.isError=od,w.isFinite=v5,w.isFunction=kn,w.isInteger=Lb,w.isLength=Al,w.isMap=Fb,w.isMatch=x5,w.isMatchWith=w5,w.isNaN=y5,w.isNative=_5,w.isNil=E5,w.isNull=k5,w.isNumber=Mb,w.isObject=we,w.isObjectLike=_e,w.isPlainObject=Fa,w.isRegExp=nd,w.isSafeInteger=C5,w.isSet=zb,w.isString=Il,w.isSymbol=bo,w.isTypedArray=Ti,w.isUndefined=T5,w.isWeakMap=R5,w.isWeakSet=A5,w.join=S1,w.kebabCase=mk,w.last=Ro,w.lastIndexOf=P1,w.lowerCase=vk,w.lowerFirst=xk,w.lt=I5,w.lte=O5,w.max=h2,w.maxBy=p2,w.mean=b2,w.meanBy=g2,w.min=m2,w.minBy=v2,w.stubArray=dd,w.stubFalse=ud,w.stubObject=n2,w.stubString=r2,w.stubTrue=i2,w.multiply=x2,w.nth=L1,w.noConflict=Kk,w.noop=cd,w.now=Cl,w.pad=wk,w.padEnd=yk,w.padStart=_k,w.parseInt=kk,w.random=uk,w.reduce=z_,w.reduceRight=D_,w.repeat=Ek,w.replace=Ck,w.result=ok,w.round=w2,w.runInContext=S,w.sample=G_,w.size=j_,w.snakeCase=Tk,w.some=Y_,w.sortedIndex=U1,w.sortedIndexBy=B1,w.sortedIndexOf=j1,w.sortedLastIndex=Y1,w.sortedLastIndexBy=W1,w.sortedLastIndexOf=X1,w.startCase=Ak,w.startsWith=Ik,w.subtract=y2,w.sum=_2,w.sumBy=k2,w.template=Ok,w.times=a2,w.toFinite=En,w.toInteger=Ut,w.toLength=Nb,w.toLower=Sk,w.toNumber=Ao,w.toSafeInteger=S5,w.toString=ae,w.toUpper=Pk,w.trim=Lk,w.trimEnd=Fk,w.trimStart=Mk,w.truncate=zk,w.unescape=Dk,w.uniqueId=l2,w.upperCase=Nk,w.upperFirst=ad,w.each=Eb,w.eachRight=Cb,w.first=wb,fd(w,function(){var a={};return rn(w,function(l,u){se.call(w.prototype,u)||(a[u]=l)}),a}(),{chain:!1}),w.VERSION=o,_o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){w[a].placeholder=w}),_o(["drop","take"],function(a,l){Ht.prototype[a]=function(u){u=u===t?1:Fe(Ut(u),0);var b=this.__filtered__&&!l?new Ht(this):this.clone();return b.__filtered__?b.__takeCount__=We(u,b.__takeCount__):b.__views__.push({size:We(u,Lt),type:a+(b.__dir__<0?"Right":"")}),b},Ht.prototype[a+"Right"]=function(u){return this.reverse()[a](u).reverse()}}),_o(["filter","map","takeWhile"],function(a,l){var u=l+1,b=u==vt||u==ht;Ht.prototype[a]=function(v){var y=this.clone();return y.__iteratees__.push({iteratee:kt(v,3),type:u}),y.__filtered__=y.__filtered__||b,y}}),_o(["head","last"],function(a,l){var u="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[u](1).value()[0]}}),_o(["initial","tail"],function(a,l){var u="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[u](1)}}),Ht.prototype.compact=function(){return this.filter(ro)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Yt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(u){return Aa(u,a,l)})}),Ht.prototype.reject=function(a){return this.filter(Rl(kt(a)))},Ht.prototype.slice=function(a,l){a=Ut(a);var u=this;return u.__filtered__&&(a>0||l<0)?new Ht(u):(a<0?u=u.takeRight(-a):a&&(u=u.drop(a)),l!==t&&(l=Ut(l),u=l<0?u.dropRight(-l):u.take(l-a)),u)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(Lt)},rn(Ht.prototype,function(a,l){var u=/^(?:filter|find|map|reject)|While$/.test(l),b=/^(?:head|last)$/.test(l),v=w[b?"take"+(l=="last"?"Right":""):l],y=b||/^find/.test(l);!v||(w.prototype[l]=function(){var C=this.__wrapped__,R=b?[1]:arguments,L=C instanceof Ht,Y=R[0],W=L||Dt(C),K=function(Vt){var Zt=v.apply(w,Wn([Vt],R));return b&&lt?Zt[0]:Zt};W&&u&&typeof Y=="function"&&Y.length!=1&&(L=W=!1);var lt=this.__chain__,xt=!!this.__actions__.length,Tt=y&&!lt,Bt=L&&!xt;if(!y&&W){C=Bt?C:new Ht(this);var Rt=a.apply(C,R);return Rt.__actions__.push({func:kl,args:[K],thisArg:t}),new Eo(Rt,lt)}return Tt&&Bt?a.apply(this,R):(Rt=this.thru(K),Tt?b?Rt.value()[0]:Rt.value():Rt)})}),_o(["pop","push","shift","sort","splice","unshift"],function(a){var l=Ks[a],u=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",b=/^(?:pop|shift)$/.test(a);w.prototype[a]=function(){var v=arguments;if(b&&!this.__chain__){var y=this.value();return l.apply(Dt(y)?y:[],v)}return this[u](function(C){return l.apply(Dt(C)?C:[],v)})}}),rn(Ht.prototype,function(a,l){var u=w[l];if(u){var b=u.name+"";se.call(yi,b)||(yi[b]=[]),yi[b].push({name:l,func:u})}}),yi[gl(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=Dw,Ht.prototype.reverse=Nw,Ht.prototype.value=Gw,w.prototype.at=p_,w.prototype.chain=b_,w.prototype.commit=g_,w.prototype.next=m_,w.prototype.plant=x_,w.prototype.reverse=w_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=y_,w.prototype.first=w.prototype.head,ya&&(w.prototype[ya]=v_),w},vi=gw();Or?((Or.exports=vi)._=vi,lc._=vi):Ue._=vi}).call(za)})(cs,cs.exports);var xo={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Do={};Do[xo.RADIANS]=6370997/(2*Math.PI);Do[xo.DEGREES]=2*Math.PI*6370997/360;Do[xo.FEET]=.3048;Do[xo.METERS]=1;Do[xo.USFEET]=1200/3937;var hE=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Do[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),jf=hE;function Pe(n,e,t){return Math.min(Math.max(n,e),t)}var pE=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),bE=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function gE(n,e,t,o,r,i){var s=r-t,f=i-o;if(s!==0||f!==0){var c=((n-t)*s+(e-o)*f)/(s*s+f*f);c>1?(t=r,o=i):c>0&&(t+=s*c,o+=f*c)}return ni(n,e,t,o)}function ni(n,e,t,o){var r=t-n,i=o-e;return r*r+i*i}function mE(n){for(var e=n.length,t=0;t<e;t++){for(var o=t,r=Math.abs(n[t][t]),i=t+1;i<e;i++){var s=Math.abs(n[i][t]);s>r&&(r=s,o=i)}if(r===0)return null;var f=n[o];n[o]=n[t],n[t]=f;for(var c=t+1;c<e;c++)for(var d=-n[c][t]/n[t][t],h=t;h<e+1;h++)t==h?n[c][h]=0:n[c][h]+=d*n[t][h]}for(var g=new Array(e),p=e-1;p>=0;p--){g[p]=n[p][e]/n[p][p];for(var m=p-1;m>=0;m--)n[m][e]-=n[m][p]*g[p]}return g}function ef(n){return n*Math.PI/180}function Hi(n,e){var t=n%e;return t*e<0?t+e:t}function Ln(n,e,t){return n+t*(e-n)}function H0(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function zl(n,e){return Math.floor(H0(n,e))}function Dl(n,e){return Math.ceil(H0(n,e))}var vE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Cs=6378137,ji=Math.PI*Cs,xE=[-ji,-ji,ji,ji],wE=[-180,-85,180,85],Nl=Cs*Math.log(Math.tan(Math.PI/2)),Oi=function(n){vE(e,n);function e(t){return n.call(this,{code:t,units:xo.METERS,extent:xE,global:!0,worldExtent:wE,getPointResolution:function(o,r){return o/pE(r[1]/Cs)}})||this}return e}(jf),Yg=[new Oi("EPSG:3857"),new Oi("EPSG:102100"),new Oi("EPSG:102113"),new Oi("EPSG:900913"),new Oi("http://www.opengis.net/def/crs/EPSG/0/3857"),new Oi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function yE(n,e,t){var o=n.length,r=t>1?t:2,i=e;i===void 0&&(r>2?i=n.slice():i=new Array(o));for(var s=0;s<o;s+=r){i[s]=ji*n[s]/180;var f=Cs*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));f>Nl?f=Nl:f<-Nl&&(f=-Nl),i[s+1]=f}return i}function _E(n,e,t){var o=n.length,r=t>1?t:2,i=e;i===void 0&&(r>2?i=n.slice():i=new Array(o));for(var s=0;s<o;s+=r)i[s]=180*n[s]/ji,i[s+1]=360*Math.atan(Math.exp(n[s+1]/Cs))/Math.PI-90;return i}var kE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),EE=6378137,Wg=[-180,-90,180,90],CE=Math.PI*EE/180,Br=function(n){kE(e,n);function e(t,o){return n.call(this,{code:t,units:xo.DEGREES,extent:Wg,axisOrientation:o,global:!0,metersPerUnit:CE,worldExtent:Wg})||this}return e}(jf),Xg=[new Br("CRS:84"),new Br("EPSG:4326","neu"),new Br("urn:ogc:def:crs:OGC:1.3:CRS84"),new Br("urn:ogc:def:crs:OGC:2:84"),new Br("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Br("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Br("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],ru={};function TE(n){return ru[n]||ru[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function RE(n,e){ru[n]=e}var De=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),o=1,r=arguments.length;o<r;++o){var i=arguments[o];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function Ts(n){for(var e in n)delete n[e]}var q0=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function ds(n){var e;for(e in n)return!1;return!e}var qi={};function hf(n,e,t){var o=n.getCode(),r=e.getCode();o in qi||(qi[o]={}),qi[o][r]=t}function AE(n,e){var t;return n in qi&&e in qi[n]&&(t=qi[n][e]),t}var ja={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ze={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function qt(){return function(){throw new Error("Unimplemented abstract method.")}()}var IE=0;function ie(n){return n.ol_uid||(n.ol_uid=String(++IE))}var OE="6.14.1",SE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),PE=function(n){SE(e,n);function e(t){var o=this,r="v"+OE.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+r+"/doc/errors/#"+t+" for details.";return o=n.call(this,i)||this,o.code=t,o.name="AssertionError",o.message=i,o}return e}(Error),K0=PE;function Kt(n,e){if(!n)throw new K0(e)}function iu(n){for(var e=No(),t=0,o=n.length;t<o;++t)Ja(e,n[t]);return e}function LE(n,e,t){var o=Math.min.apply(null,n),r=Math.min.apply(null,e),i=Math.max.apply(null,n),s=Math.max.apply(null,e);return en(o,r,i,s,t)}function Ku(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function $0(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function ca(n,e,t){var o,r;return e<n[0]?o=n[0]-e:n[2]<e?o=e-n[2]:o=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,o*o+r*r}function Rs(n,e){return $u(n,e[0],e[1])}function Yi(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function $u(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function au(n,e){var t=n[0],o=n[1],r=n[2],i=n[3],s=e[0],f=e[1],c=ze.UNKNOWN;return s<t?c=c|ze.LEFT:s>r&&(c=c|ze.RIGHT),f<o?c=c|ze.BELOW:f>i&&(c=c|ze.ABOVE),c===ze.UNKNOWN&&(c=ze.INTERSECTING),c}function No(){return[1/0,1/0,-1/0,-1/0]}function en(n,e,t,o,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=o,r):[n,e,t,o]}function Yf(n){return en(1/0,1/0,-1/0,-1/0,n)}function FE(n,e){var t=n[0],o=n[1];return en(t,o,t,o,e)}function Z0(n,e,t,o,r){var i=Yf(r);return J0(i,n,e,t,o)}function us(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function ME(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Ja(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function J0(n,e,t,o,r){for(;t<o;t+=r)zE(n,e[t],e[t+1]);return n}function zE(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Zu(n,e){var t;return t=e(ta(n)),t||(t=e(As(n)),t)||(t=e(Is(n)),t)||(t=e(kr(n)),t)?t:!1}function su(n){var e=0;return Ju(n)||(e=ke(n)*on(n)),e}function ta(n){return[n[0],n[1]]}function As(n){return[n[2],n[1]]}function ea(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function DE(n,e){var t;return e===ja.BOTTOM_LEFT?t=ta(n):e===ja.BOTTOM_RIGHT?t=As(n):e===ja.TOP_LEFT?t=kr(n):e===ja.TOP_RIGHT?t=Is(n):Kt(!1,13),t}function lu(n,e,t,o,r){var i=e*o[0]/2,s=e*o[1]/2,f=Math.cos(t),c=Math.sin(t),d=i*f,h=i*c,g=s*f,p=s*c,m=n[0],x=n[1],_=m-d+p,k=m-d-p,T=m+d-p,A=m+d+p,O=x-h-g,P=x-h+g,z=x+h+g,X=x+h-g;return en(Math.min(_,k,T,A),Math.min(O,P,z,X),Math.max(_,k,T,A),Math.max(O,P,z,X),r)}function on(n){return n[3]-n[1]}function Qa(n,e,t){var o=t||No();return Qe(n,e)?(n[0]>e[0]?o[0]=n[0]:o[0]=e[0],n[1]>e[1]?o[1]=n[1]:o[1]=e[1],n[2]<e[2]?o[2]=n[2]:o[2]=e[2],n[3]<e[3]?o[3]=n[3]:o[3]=e[3]):Yf(o),o}function kr(n){return[n[0],n[3]]}function Is(n){return[n[2],n[3]]}function ke(n){return n[2]-n[0]}function Qe(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Ju(n){return n[2]<n[0]||n[3]<n[1]}function NE(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function GE(n,e,t){var o=!1,r=au(n,e),i=au(n,t);if(r===ze.INTERSECTING||i===ze.INTERSECTING)o=!0;else{var s=n[0],f=n[1],c=n[2],d=n[3],h=e[0],g=e[1],p=t[0],m=t[1],x=(m-g)/(p-h),_=void 0,k=void 0;!!(i&ze.ABOVE)&&!(r&ze.ABOVE)&&(_=p-(m-d)/x,o=_>=s&&_<=c),!o&&!!(i&ze.RIGHT)&&!(r&ze.RIGHT)&&(k=m-(p-c)*x,o=k>=f&&k<=d),!o&&!!(i&ze.BELOW)&&!(r&ze.BELOW)&&(_=p-(m-f)/x,o=_>=s&&_<=c),!o&&!!(i&ze.LEFT)&&!(r&ze.LEFT)&&(k=m-(p-s)*x,o=k>=f&&k<=d)}return o}function UE(n,e,t,o){var r=[];if(o>1)for(var i=n[2]-n[0],s=n[3]-n[1],f=0;f<o;++f)r.push(n[0]+i*f/o,n[1],n[2],n[1]+s*f/o,n[2]-i*f/o,n[3],n[0],n[3]-s*f/o);else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);for(var c=[],d=[],f=0,h=r.length;f<h;f+=2)c.push(r[f]),d.push(r[f+1]);return LE(c,d,t)}function BE(n,e){var t=e.getExtent(),o=ea(n);if(e.canWrapX()&&(o[0]<t[0]||o[0]>=t[2])){var r=ke(t),i=Math.floor((o[0]-t[0])/r),s=i*r;n[0]-=s,n[2]-=s}return n}function jE(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function YE(n){return function(e){return HE(e,n)}}function WE(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function pf(n,e){for(var t=!0,o=n.length-1;o>=0;--o)if(n[o]!=e[o]){t=!1;break}return t}function Qu(n,e){var t=Math.cos(e),o=Math.sin(e),r=n[0]*t-n[1]*o,i=n[1]*t+n[0]*o;return n[0]=r,n[1]=i,n}function XE(n,e){return n[0]*=e,n[1]*=e,n}function VE(n,e){var t=n[0]-e[0],o=n[1]-e[1];return t*t+o*o}function HE(n,e){return WE(n,"{x}, {y}",e)}function Q0(n,e){if(e.canWrapX()){var t=ke(e.getExtent()),o=qE(n,e,t);o&&(n[0]-=o*t)}return n}function qE(n,e,t){var o=e.getExtent(),r=0;if(e.canWrapX()&&(n[0]<o[0]||n[0]>o[2])){var i=t||ke(o);r=Math.floor((n[0]-o[0])/i)}return r}var ft={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},KE=63710088e-1;function Vg(n,e,t){var o=t||KE,r=ef(n[1]),i=ef(e[1]),s=(i-r)/2,f=ef(e[0]-n[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(f)*Math.sin(f)*Math.cos(r)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}var fu=!0;function $E(n){var e=n===void 0?!0:n;fu=!e}function th(n,e,t){var o;if(e!==void 0){for(var r=0,i=n.length;r<i;++r)e[r]=n[r];o=e}else o=n.slice();return o}function eh(n,e,t){if(e!==void 0&&n!==e){for(var o=0,r=n.length;o<r;++o)e[o]=n[o];n=e}return n}function ZE(n){RE(n.getCode(),n),hf(n,n,th)}function JE(n){n.forEach(ZE)}function fo(n){return typeof n=="string"?TE(n):n||null}function Hg(n,e,t,o){n=fo(n);var r,i=n.getPointResolutionFunc();if(i){if(r=i(e,t),o&&o!==n.getUnits()){var s=n.getMetersPerUnit();s&&(r=r*s/Do[o])}}else{var f=n.getUnits();if(f==xo.DEGREES&&!o||o==xo.DEGREES)r=e;else{var c=oa(n,fo("EPSG:4326"));if(c===eh&&f!==xo.DEGREES)r=e*n.getMetersPerUnit();else{var d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=c(d,d,2);var h=Vg(d.slice(0,2),d.slice(2,4)),g=Vg(d.slice(4,6),d.slice(6,8));r=(h+g)/2}var s=o?Do[o]:n.getMetersPerUnit();s!==void 0&&(r/=s)}}return r}function qg(n){JE(n),n.forEach(function(e){n.forEach(function(t){e!==t&&hf(e,t,th)})})}function QE(n,e,t,o){n.forEach(function(r){e.forEach(function(i){hf(r,i,t),hf(i,r,o)})})}function oh(n,e){return n?typeof n=="string"?fo(n):n:fo(e)}function Ni(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var o=oa(n,e);return o===th&&t}function oa(n,e){var t=n.getCode(),o=e.getCode(),r=AE(t,o);return r||(r=eh),r}function hs(n,e){var t=fo(n),o=fo(e);return oa(t,o)}function nh(n,e,t){var o=hs(e,t);return o(n,void 0,n.length)}function tv(n,e,t,o){var r=hs(e,t);return UE(n,r,void 0,o)}var Go=null;function tC(n){Go=fo(n)}function Os(){return Go}function eC(){tC("EPSG:4326")}function cu(n,e){return Go?nh(n,e,Go):n}function So(n,e){return Go?nh(n,Go,e):(fu&&!pf(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(fu=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function du(n,e){return Go?tv(n,e,Go):n}function $r(n,e){return Go?tv(n,Go,e):n}function oC(n,e){if(!Go)return n;var t=fo(e).getUnits(),o=Go.getUnits();return t&&o?n*Do[t]/Do[o]:n}function nC(){qg(Yg),qg(Xg),QE(Xg,Yg,yE,_E)}nC();var rC=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),bn=rC,na={PROPERTYCHANGE:"propertychange"},iC=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),rh=iC;function aC(n,e,t){for(var o,r,i=t||si,s=0,f=n.length,c=!1;s<f;)o=s+(f-s>>1),r=+i(n[o],e),r<0?s=o+1:(f=o,c=!r);return c?s:~s}function si(n,e){return n>e?1:n<e?-1:0}function ih(n,e,t){var o=n.length;if(n[0]<=e)return 0;if(e<=n[o-1])return o-1;var r=void 0;if(t>0){for(r=1;r<o;++r)if(n[r]<e)return r-1}else if(t<0){for(r=1;r<o;++r)if(n[r]<=e)return r}else for(r=1;r<o;++r){if(n[r]==e)return r;if(n[r]<e)return typeof t=="function"?t(e,n[r-1],n[r])>0?r-1:r:n[r-1]-e<e-n[r]?r-1:r}return o-1}function sC(n,e,t){for(;e<t;){var o=n[e];n[e]=n[t],n[t]=o,++e,--t}}function Dn(n,e){for(var t=Array.isArray(e)?e:[e],o=t.length,r=0;r<o;r++)n[n.length]=t[r]}function ci(n,e){var t=n.length;if(t!==e.length)return!1;for(var o=0;o<t;o++)if(n[o]!==e[o])return!1;return!0}function lC(n,e,t){var o=e||si;return n.every(function(r,i){if(i===0)return!0;var s=o(n[i-1],r);return!(s>0||t&&s===0)})}function ri(){return!0}function Ss(){return!1}function li(){}function fC(n){var e=!1,t,o,r;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==r||!ci(i,o))&&(e=!0,r=this,o=i,t=n.apply(this,arguments)),t}}var cC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),dC=function(n){cC(e,n);function e(t){var o=n.call(this)||this;return o.eventTarget_=t,o.pendingRemovals_=null,o.dispatching_=null,o.listeners_=null,o}return e.prototype.addEventListener=function(t,o){if(!(!t||!o)){var r=this.listeners_||(this.listeners_={}),i=r[t]||(r[t]=[]);i.indexOf(o)===-1&&i.push(o)}},e.prototype.dispatchEvent=function(t){var o=typeof t=="string",r=o?t:t.type,i=this.listeners_&&this.listeners_[r];if(!!i){var s=o?new bn(t):t;s.target||(s.target=this.eventTarget_||this);var f=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});r in f||(f[r]=0,c[r]=0),++f[r];for(var d,h=0,g=i.length;h<g;++h)if("handleEvent"in i[h]?d=i[h].handleEvent(s):d=i[h].call(this,s),d===!1||s.propagationStopped){d=!1;break}if(--f[r]===0){var p=c[r];for(delete c[r];p--;)this.removeEventListener(r,li);delete f[r]}return d}},e.prototype.disposeInternal=function(){this.listeners_&&Ts(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,o){var r=this.listeners_&&this.listeners_[t];if(r){var i=r.indexOf(o);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[i]=li,++this.pendingRemovals_[t]):(r.splice(i,1),r.length===0&&delete this.listeners_[t]))}},e}(rh),da=dC,Nt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Qt(n,e,t,o,r){if(o&&o!==n&&(t=t.bind(o)),r){var i=t;t=function(){n.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function bf(n,e,t,o){return Qt(n,e,t,o,!0)}function xe(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Ts(n))}var uC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Wf=function(n){uC(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Nt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,o){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),s=0;s<r;++s)i[s]=Qt(this,t[s],o);return i}else return Qt(this,t,o)},e.prototype.onceInternal=function(t,o){var r;if(Array.isArray(t)){var i=t.length;r=new Array(i);for(var s=0;s<i;++s)r[s]=bf(this,t[s],o)}else r=bf(this,t,o);return o.ol_key=r,r},e.prototype.unInternal=function(t,o){var r=o.ol_key;if(r)hC(r);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],o);else this.removeEventListener(t,o)},e}(da);Wf.prototype.on;Wf.prototype.once;Wf.prototype.un;function hC(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)xe(n[e]);else xe(n)}var ev=Wf,ov=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kg=function(n){ov(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.key=o,i.oldValue=r,i}return e}(bn),pC=function(n){ov(e,n);function e(t){var o=n.call(this)||this;return o.on,o.once,o.un,ie(o),o.values_=null,t!==void 0&&o.setProperties(t),o}return e.prototype.get=function(t){var o;return this.values_&&this.values_.hasOwnProperty(t)&&(o=this.values_[t]),o},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&De({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,o){var r;r="change:".concat(t),this.hasListener(r)&&this.dispatchEvent(new Kg(r,t,o)),r=na.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new Kg(r,t,o))},e.prototype.addChangeListener=function(t,o){this.addEventListener("change:".concat(t),o)},e.prototype.removeChangeListener=function(t,o){this.removeEventListener("change:".concat(t),o)},e.prototype.set=function(t,o,r){var i=this.values_||(this.values_={});if(r)i[t]=o;else{var s=i[t];i[t]=o,s!==o&&this.notify(t,s)}},e.prototype.setProperties=function(t,o){for(var r in t)this.set(r,t[r],o)},e.prototype.applyProperties=function(t){!t.values_||De(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,o){if(this.values_&&t in this.values_){var r=this.values_[t];delete this.values_[t],ds(this.values_)&&(this.values_=null),o||this.notify(t,r)}},e}(ev),gn=pC,_r=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",bC=_r.indexOf("firefox")!==-1,gC=_r.indexOf("safari")!==-1&&_r.indexOf("chrom")==-1;gC&&(_r.indexOf("version/15.4")>=0||_r.match(/cpu (os|iphone os) 15_4 like mac os x/));var mC=_r.indexOf("webkit")!==-1&&_r.indexOf("edge")==-1,vC=_r.indexOf("macintosh")!==-1,nv=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Xf=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,xC=typeof Image!="undefined"&&Image.prototype.decode,rv=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function hn(){return[1,0,0,1,0,0]}function wC(n,e,t,o,r,i,s){return n[0]=e,n[1]=t,n[2]=o,n[3]=r,n[4]=i,n[5]=s,n}function yC(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Se(n,e){var t=e[0],o=e[1];return e[0]=n[0]*t+n[2]*o+n[4],e[1]=n[1]*t+n[3]*o+n[5],e}function _C(n,e,t){return wC(n,e,0,0,t,0,0)}function Un(n,e,t,o,r,i,s,f){var c=Math.sin(i),d=Math.cos(i);return n[0]=o*d,n[1]=r*c,n[2]=-o*c,n[3]=r*d,n[4]=s*o*d-f*o*c+e,n[5]=s*r*c+f*r*d+t,n}function ah(n,e){var t=kC(e);Kt(t!==0,32);var o=e[0],r=e[1],i=e[2],s=e[3],f=e[4],c=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-i/t,n[3]=o/t,n[4]=(i*c-s*f)/t,n[5]=-(o*c-r*f)/t,n}function kC(n){return n[0]*n[3]-n[1]*n[2]}var $g;function iv(n){var e="matrix("+n.join(", ")+")";if(Xf)return e;var t=$g||($g=document.createElement("div"));return t.style.transform=e,t.style.transform}function ii(n,e,t,o,r,i){for(var s=i||[],f=0,c=e;c<t;c+=o){var d=n[c],h=n[c+1];s[f++]=r[0]*d+r[2]*h+r[4],s[f++]=r[1]*d+r[3]*h+r[5]}return i&&s.length!=f&&(s.length=f),s}function sh(n,e,t,o,r,i,s){for(var f=s||[],c=Math.cos(r),d=Math.sin(r),h=i[0],g=i[1],p=0,m=e;m<t;m+=o){var x=n[m]-h,_=n[m+1]-g;f[p++]=h+x*c-_*d,f[p++]=g+x*d+_*c;for(var k=m+2;k<m+o;++k)f[p++]=n[k]}return s&&f.length!=p&&(f.length=p),f}function EC(n,e,t,o,r,i,s,f){for(var c=f||[],d=s[0],h=s[1],g=0,p=e;p<t;p+=o){var m=n[p]-d,x=n[p+1]-h;c[g++]=d+r*m,c[g++]=h+i*x;for(var _=p+2;_<p+o;++_)c[g++]=n[_]}return f&&c.length!=g&&(c.length=g),c}function av(n,e,t,o,r,i,s){for(var f=s||[],c=0,d=e;d<t;d+=o){f[c++]=n[d]+r,f[c++]=n[d+1]+i;for(var h=d+2;h<d+o;++h)f[c++]=n[h]}return s&&f.length!=c&&(f.length=c),f}var CC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Zg=hn(),TC=function(n){CC(e,n);function e(){var t=n.call(this)||this;return t.extent_=No(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=fC(function(o,r,i){if(!i)return this.getSimplifiedGeometry(r);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(r)}),t}return e.prototype.simplifyTransformed=function(t,o){return this.simplifyTransformedInternal(this.getRevision(),t,o)},e.prototype.clone=function(){return qt()},e.prototype.closestPointXY=function(t,o,r,i){return qt()},e.prototype.containsXY=function(t,o){var r=this.getClosestPoint([t,o]);return r[0]===t&&r[1]===o},e.prototype.getClosestPoint=function(t,o){var r=o||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return qt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var o=this.computeExtent(this.extent_);(isNaN(o[0])||isNaN(o[1]))&&Yf(o),this.extentRevision_=this.getRevision()}return NE(this.extent_,t)},e.prototype.rotate=function(t,o){qt()},e.prototype.scale=function(t,o,r){qt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return qt()},e.prototype.getType=function(){return qt()},e.prototype.applyTransform=function(t){qt()},e.prototype.intersectsExtent=function(t){return qt()},e.prototype.translate=function(t,o){qt()},e.prototype.transform=function(t,o){var r=fo(t),i=r.getUnits()==xo.TILE_PIXELS?function(s,f,c){var d=r.getExtent(),h=r.getWorldExtent(),g=on(h)/on(d);return Un(Zg,h[0],h[3],g,-g,0,0,0),ii(s,0,s.length,c,Zg,f),hs(r,o)(s,f,c)}:hs(r,o);return this.applyTransform(i),this},e}(gn),RC=TC,Ie={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},AC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),IC=function(n){AC(e,n);function e(){var t=n.call(this)||this;return t.layout=Ie.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Z0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return qt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=this.getSimplifiedGeometryInternal(t),r=o.getFlatCoordinates();return r.length<this.flatCoordinates.length?o:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,o){this.stride=Jg(t),this.layout=t,this.flatCoordinates=o},e.prototype.setCoordinates=function(t,o){qt()},e.prototype.setLayout=function(t,o,r){var i;if(t)i=Jg(t);else{for(var s=0;s<r;++s)if(o.length===0){this.layout=Ie.XY,this.stride=2;return}else o=o[0];i=o.length,t=OC(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,o){var r=this.getFlatCoordinates();if(r){var i=this.getStride();sh(r,0,r.length,i,t,o,r),this.changed()}},e.prototype.scale=function(t,o,r){var i=o;i===void 0&&(i=t);var s=r;s||(s=ea(this.getExtent()));var f=this.getFlatCoordinates();if(f){var c=this.getStride();EC(f,0,f.length,c,t,i,s,f),this.changed()}},e.prototype.translate=function(t,o){var r=this.getFlatCoordinates();if(r){var i=this.getStride();av(r,0,r.length,i,t,o,r),this.changed()}},e}(RC);function OC(n){var e;return n==2?e=Ie.XY:n==3?e=Ie.XYZ:n==4&&(e=Ie.XYZM),e}function Jg(n){var e;return n==Ie.XY?e=2:n==Ie.XYZ||n==Ie.XYM?e=3:n==Ie.XYZM&&(e=4),e}function SC(n,e,t){var o=n.getFlatCoordinates();if(o){var r=n.getStride();return ii(o,0,o.length,r,e,t)}else return null}var Er=IC;function sv(n,e,t,o){for(var r=0,i=t.length;r<i;++r)n[e++]=t[r];return e}function Vf(n,e,t,o){for(var r=0,i=t.length;r<i;++r)for(var s=t[r],f=0;f<o;++f)n[e++]=s[f];return e}function lh(n,e,t,o,r){for(var i=r||[],s=0,f=0,c=t.length;f<c;++f){var d=Vf(n,e,t[f],o);i[s++]=d,e=d}return i.length=s,i}function PC(n,e,t,o,r){for(var i=r||[],s=0,f=0,c=t.length;f<c;++f){var d=lh(n,e,t[f],o,i[s]);i[s++]=d,e=d[d.length-1]}return i.length=s,i}var LC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),lv=function(n){LC(e,n);function e(t,o,r){var i=n.call(this)||this;if(r!==void 0&&o===void 0)i.setFlatCoordinates(r,t);else{var s=o||0;i.setCenterAndRadius(t,s,r)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){var s=this.flatCoordinates,f=t-s[0],c=o-s[1],d=f*f+c*c;if(d<i){if(d===0)for(var h=0;h<this.stride;++h)r[h]=s[h];else{var g=this.getRadius()/Math.sqrt(d);r[0]=s[0]+g*f,r[1]=s[1]+g*c;for(var h=2;h<this.stride;++h)r[h]=s[h]}return r.length=this.stride,d}else return i},e.prototype.containsXY=function(t,o){var r=this.flatCoordinates,i=t-r[0],s=o-r[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var o=this.flatCoordinates,r=o[this.stride]-o[0];return en(o[0]-r,o[1]-r,o[0]+r,o[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+o*o},e.prototype.getType=function(){return ft.CIRCLE},e.prototype.intersectsExtent=function(t){var o=this.getExtent();if(Qe(t,o)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||t[1]<=r[1]&&t[3]>=r[1]?!0:Zu(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var o=this.stride,r=this.flatCoordinates[o]-this.flatCoordinates[0],i=t.slice();i[o]=i[0]+r;for(var s=1;s<o;++s)i[o+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,o,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=sv(i,0,t,this.stride);i[s++]=i[0]+o;for(var f=1,c=this.stride;f<c;++f)i[s++]=i[f];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,o){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,o){var r=this.getCenter(),i=this.getStride();this.setCenter(sh(r,0,r.length,i,t,o,r)),this.changed()},e.prototype.translate=function(t,o){var r=this.getCenter(),i=this.getStride();this.setCenter(av(r,0,r.length,i,t,o,r)),this.changed()},e}(Er);lv.prototype.transform;var fv=lv;function Qg(n,e,t,o,r,i,s){var f=n[e],c=n[e+1],d=n[t]-f,h=n[t+1]-c,g;if(d===0&&h===0)g=e;else{var p=((r-f)*d+(i-c)*h)/(d*d+h*h);if(p>1)g=t;else if(p>0){for(var m=0;m<o;++m)s[m]=Ln(n[e+m],n[t+m],p);s.length=o;return}else g=e}for(var m=0;m<o;++m)s[m]=n[g+m];s.length=o}function fh(n,e,t,o,r){var i=n[e],s=n[e+1];for(e+=o;e<t;e+=o){var f=n[e],c=n[e+1],d=ni(i,s,f,c);d>r&&(r=d),i=f,s=c}return r}function ch(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];r=fh(n,e,f,o,r),e=f}return r}function FC(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];r=ch(n,e,f,o,r),e=f[f.length-1]}return r}function dh(n,e,t,o,r,i,s,f,c,d,h){if(e==t)return d;var g,p;if(r===0)if(p=ni(s,f,n[e],n[e+1]),p<d){for(g=0;g<o;++g)c[g]=n[e+g];return c.length=o,p}else return d;for(var m=h||[NaN,NaN],x=e+o;x<t;)if(Qg(n,x-o,x,o,s,f,m),p=ni(s,f,m[0],m[1]),p<d){for(d=p,g=0;g<o;++g)c[g]=m[g];c.length=o,x+=o}else x+=o*Math.max((Math.sqrt(p)-Math.sqrt(d))/r|0,1);if(i&&(Qg(n,t-o,e,o,s,f,m),p=ni(s,f,m[0],m[1]),p<d)){for(d=p,g=0;g<o;++g)c[g]=m[g];c.length=o}return d}function uh(n,e,t,o,r,i,s,f,c,d,h){for(var g=h||[NaN,NaN],p=0,m=t.length;p<m;++p){var x=t[p];d=dh(n,e,x,o,r,i,s,f,c,d,g),e=x}return d}function MC(n,e,t,o,r,i,s,f,c,d,h){for(var g=h||[NaN,NaN],p=0,m=t.length;p<m;++p){var x=t[p];d=uh(n,e,x,o,r,i,s,f,c,d,g),e=x[x.length-1]}return d}function hh(n,e,t,o,r,i,s){var f=(t-e)/o;if(f<3){for(;e<t;e+=o)i[s++]=n[e],i[s++]=n[e+1];return s}var c=new Array(f);c[0]=1,c[f-1]=1;for(var d=[e,t-o],h=0;d.length>0;){for(var g=d.pop(),p=d.pop(),m=0,x=n[p],_=n[p+1],k=n[g],T=n[g+1],A=p+o;A<g;A+=o){var O=n[A],P=n[A+1],z=gE(O,P,x,_,k,T);z>m&&(h=A,m=z)}m>r&&(c[(h-e)/o]=1,p+o<h&&d.push(p,h),h+o<g&&d.push(h,g))}for(var A=0;A<f;++A)c[A]&&(i[s++]=n[e+A*o],i[s++]=n[e+A*o+1]);return s}function zC(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c];s=hh(n,e,h,o,r,i,s),f.push(s),e=h}return s}function Wr(n,e){return e*Math.round(n/e)}function DC(n,e,t,o,r,i,s){if(e==t)return s;var f=Wr(n[e],r),c=Wr(n[e+1],r);e+=o,i[s++]=f,i[s++]=c;var d,h;do if(d=Wr(n[e],r),h=Wr(n[e+1],r),e+=o,e==t)return i[s++]=d,i[s++]=h,s;while(d==f&&h==c);for(;e<t;){var g=Wr(n[e],r),p=Wr(n[e+1],r);if(e+=o,!(g==d&&p==h)){var m=d-f,x=h-c,_=g-f,k=p-c;if(m*k==x*_&&(m<0&&_<m||m==_||m>0&&_>m)&&(x<0&&k<x||x==k||x>0&&k>x)){d=g,h=p;continue}i[s++]=d,i[s++]=h,f=d,c=h,d=g,h=p}}return i[s++]=d,i[s++]=h,s}function cv(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c];s=DC(n,e,h,o,r,i,s),f.push(s),e=h}return s}function NC(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c],g=[];s=cv(n,e,h,o,r,i,s,g),f.push(g),e=h[h.length-1]}return s}function ur(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=e;f<t;f+=o)i[s++]=n.slice(f,f+o);return i.length=s,i}function ps(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=0,c=t.length;f<c;++f){var d=t[f];i[s++]=ur(n,e,d,o,i[s]),e=d}return i.length=s,i}function uu(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=0,c=t.length;f<c;++f){var d=t[f];i[s++]=ps(n,e,d,o,i[s]),e=d[d.length-1]}return i.length=s,i}function dv(n,e,t,o){for(var r=0,i=n[t-o],s=n[t-o+1];e<t;e+=o){var f=n[e],c=n[e+1];r+=s*f-i*c,i=f,s=c}return r/2}function uv(n,e,t,o){for(var r=0,i=0,s=t.length;i<s;++i){var f=t[i];r+=dv(n,e,f,o),e=f}return r}function GC(n,e,t,o){for(var r=0,i=0,s=t.length;i<s;++i){var f=t[i];r+=uv(n,e,f,o),e=f[f.length-1]}return r}var UC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),BC=function(n){UC(e,n);function e(t,o){var r=n.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,o,r,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.getArea=function(){return dv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return ur(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ie.XY)},e.prototype.getType=function(){return ft.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Vf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Er),tm=BC;function hv(n,e,t,o,r){var i;for(e+=o;e<t;e+=o)if(i=r(n.slice(e-o,e),n.slice(e,e+o)),i)return i;return!1}function pv(n,e,t,o,r,i,s){var f,c,d=(t-e)/o;if(d===1)f=e;else if(d===2)f=e,c=r;else if(d!==0){for(var h=n[e],g=n[e+1],p=0,m=[0],x=e+o;x<t;x+=o){var _=n[x],k=n[x+1];p+=Math.sqrt((_-h)*(_-h)+(k-g)*(k-g)),m.push(p),h=_,g=k}var T=r*p,A=aC(m,T);A<0?(c=(T-m[-A-2])/(m[-A-1]-m[-A-2]),f=e+(-A-2)*o):f=e+A*o}for(var O=s>1?s:2,P=i||new Array(O),x=0;x<O;++x)P[x]=f===void 0?NaN:c===void 0?n[f+x]:Ln(n[f+x],n[f+o+x],c);return P}function hu(n,e,t,o,r,i){if(t==e)return null;var s;if(r<n[e+o-1])return i?(s=n.slice(e,e+o),s[o-1]=r,s):null;if(n[t-1]<r)return i?(s=n.slice(t-o,t),s[o-1]=r,s):null;if(r==n[e+o-1])return n.slice(e,e+o);for(var f=e/o,c=t/o;f<c;){var d=f+c>>1;r<n[(d+1)*o-1]?c=d:f=d+1}var h=n[f*o-1];if(r==h)return n.slice((f-1)*o,(f-1)*o+o);var g=n[(f+1)*o-1],p=(r-h)/(g-h);s=[];for(var m=0;m<o-1;++m)s.push(Ln(n[(f-1)*o+m],n[f*o+m],p));return s.push(r),s}function jC(n,e,t,o,r,i,s){if(s)return hu(n,e,t[t.length-1],o,r,i);var f;if(r<n[o-1])return i?(f=n.slice(0,o),f[o-1]=r,f):null;if(n[n.length-1]<r)return i?(f=n.slice(n.length-o),f[o-1]=r,f):null;for(var c=0,d=t.length;c<d;++c){var h=t[c];if(e!=h){if(r<n[e+o-1])return null;if(r<=n[h-1])return hu(n,e,h,o,r,!1);e=h}}return null}function YC(n,e,t,o,r){var i=Zu(r,function(s){return!Zr(n,e,t,o,s[0],s[1])});return!i}function Zr(n,e,t,o,r,i){for(var s=0,f=n[t-o],c=n[t-o+1];e<t;e+=o){var d=n[e],h=n[e+1];c<=i?h>i&&(d-f)*(i-c)-(r-f)*(h-c)>0&&s++:h<=i&&(d-f)*(i-c)-(r-f)*(h-c)<0&&s--,f=d,c=h}return s!==0}function ph(n,e,t,o,r,i){if(t.length===0||!Zr(n,e,t[0],o,r,i))return!1;for(var s=1,f=t.length;s<f;++s)if(Zr(n,t[s-1],t[s],o,r,i))return!1;return!0}function WC(n,e,t,o,r,i){if(t.length===0)return!1;for(var s=0,f=t.length;s<f;++s){var c=t[s];if(ph(n,e,c,o,r,i))return!0;e=c[c.length-1]}return!1}function Hf(n,e,t,o,r){var i=J0(No(),n,e,t,o);return Qe(r,i)?Yi(r,i)||i[0]>=r[0]&&i[2]<=r[2]||i[1]>=r[1]&&i[3]<=r[3]?!0:hv(n,e,t,o,function(s,f){return GE(r,s,f)}):!1}function XC(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){if(Hf(n,e,t[i],o,r))return!0;e=t[i]}return!1}function VC(n,e,t,o,r){return!!(Hf(n,e,t,o,r)||Zr(n,e,t,o,r[0],r[1])||Zr(n,e,t,o,r[0],r[3])||Zr(n,e,t,o,r[2],r[1])||Zr(n,e,t,o,r[2],r[3]))}function bv(n,e,t,o,r){if(!VC(n,e,t[0],o,r))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(YC(n,t[i-1],t[i],o,r)&&!Hf(n,t[i-1],t[i],o,r))return!1;return!0}function HC(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];if(bv(n,e,f,o,r))return!0;e=f[f.length-1]}return!1}function gv(n,e,t,o){for(var r=n[e],i=n[e+1],s=0,f=e+o;f<t;f+=o){var c=n[f],d=n[f+1];s+=Math.sqrt((c-r)*(c-r)+(d-i)*(d-i)),r=c,i=d}return s}var qC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),KC=function(n){qC(e,n);function e(t,o){var r=n.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?Dn(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,o,r,i))},e.prototype.forEachSegment=function(t){return hv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,o){if(this.layout!=Ie.XYM&&this.layout!=Ie.XYZM)return null;var r=o!==void 0?o:!1;return hu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return ur(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,o){return pv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,this.stride)},e.prototype.getLength=function(){return gv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ie.XY)},e.prototype.getType=function(){return ft.LINE_STRING},e.prototype.intersectsExtent=function(t){return Hf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Vf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Er),vr=KC,$C=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ZC=function(n){$C(e,n);function e(t,o,r){var i=n.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,o);else if(o!==void 0&&r)i.setFlatCoordinates(o,t),i.ends_=r;else{for(var s=i.getLayout(),f=t,c=[],d=[],h=0,g=f.length;h<g;++h){var p=f[h];h===0&&(s=p.getLayout()),Dn(c,p.getFlatCoordinates()),d.push(c.length)}i.setFlatCoordinates(s,c),i.ends_=d}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?Dn(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ch(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,o,r,i))},e.prototype.getCoordinateAtM=function(t,o,r){if(this.layout!=Ie.XYM&&this.layout!=Ie.XYZM||this.flatCoordinates.length===0)return null;var i=o!==void 0?o:!1,s=r!==void 0?r:!1;return jC(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return ps(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new vr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,o=this.ends_,r=this.layout,i=[],s=0,f=0,c=o.length;f<c;++f){var d=o[f],h=new vr(t.slice(s,d),r);i.push(h),s=d}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],o=this.flatCoordinates,r=0,i=this.ends_,s=this.stride,f=0,c=i.length;f<c;++f){var d=i[f],h=pv(o,r,d,s,.5);Dn(t,h),r=d}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=zC(this.flatCoordinates,0,this.ends_,this.stride,t,o,0,r),new e(o,Ie.XY,r)},e.prototype.getType=function(){return ft.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return XC(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=lh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Er),JC=ZC,QC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),tT=function(n){QC(e,n);function e(t,o){var r=n.call(this)||this;return r.setCoordinates(t,o),r}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){var s=this.flatCoordinates,f=ni(t,o,s[0],s[1]);if(f<i){for(var c=this.stride,d=0;d<c;++d)r[d]=s[d];return r.length=c,f}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return FE(this.flatCoordinates,t)},e.prototype.getType=function(){return ft.POINT},e.prototype.intersectsExtent=function(t){return $u(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=sv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Er),ai=tT,eT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),oT=function(n){eT(e,n);function e(t,o){var r=n.call(this)||this;return o&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.appendPoint=function(t){this.flatCoordinates?Dn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){if(i<ca(this.getExtent(),t,o))return i;for(var s=this.flatCoordinates,f=this.stride,c=0,d=s.length;c<d;c+=f){var h=ni(t,o,s[c],s[c+1]);if(h<i){i=h;for(var g=0;g<f;++g)r[g]=s[c+g];r.length=f}}return i},e.prototype.getCoordinates=function(){return ur(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var o=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||o<=t?null:new ai(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,o=this.layout,r=this.stride,i=[],s=0,f=t.length;s<f;s+=r){var c=new ai(t.slice(s,s+r),o);i.push(c)}return i},e.prototype.getType=function(){return ft.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var o=this.flatCoordinates,r=this.stride,i=0,s=o.length;i<s;i+=r){var f=o[i],c=o[i+1];if($u(t,f,c))return!0}return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Vf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Er),mv=oT;function vv(n,e,t,o,r,i,s){for(var f,c,d,h,g,p,m,x=r[i+1],_=[],k=0,T=t.length;k<T;++k){var A=t[k];for(h=n[A-o],p=n[A-o+1],f=e;f<A;f+=o)g=n[f],m=n[f+1],(x<=p&&m<=x||p<=x&&x<=m)&&(d=(x-p)/(m-p)*(g-h)+h,_.push(d)),h=g,p=m}var O=NaN,P=-1/0;for(_.sort(si),h=_[0],f=1,c=_.length;f<c;++f){g=_[f];var z=Math.abs(g-h);z>P&&(d=(h+g)/2,ph(n,e,t,o,d,x)&&(O=d,P=z)),h=g}return isNaN(O)&&(O=r[i]),s?(s.push(O,x,P),s):[O,x,P]}function nT(n,e,t,o,r){for(var i=[],s=0,f=t.length;s<f;++s){var c=t[s];i=vv(n,e,c,o,r,2*s,i),e=c[c.length-1]}return i}function rT(n,e,t,o){for(;e<t-o;){for(var r=0;r<o;++r){var i=n[e+r];n[e+r]=n[t-o+r],n[t-o+r]=i}e+=o,t-=o}}function xv(n,e,t,o){for(var r=0,i=n[t-o],s=n[t-o+1];e<t;e+=o){var f=n[e],c=n[e+1];r+=(f-i)*(c+s),i=f,s=c}return r===0?void 0:r>0}function wv(n,e,t,o,r){for(var i=r!==void 0?r:!1,s=0,f=t.length;s<f;++s){var c=t[s],d=xv(n,e,c,o);if(s===0){if(i&&d||!i&&!d)return!1}else if(i&&!d||!i&&d)return!1;e=c}return!0}function iT(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];if(!wv(n,e,f,o,r))return!1;f.length&&(e=f[f.length-1])}return!0}function pu(n,e,t,o,r){for(var i=r!==void 0?r:!1,s=0,f=t.length;s<f;++s){var c=t[s],d=xv(n,e,c,o),h=s===0?i&&d||!i&&!d:i&&!d||!i&&d;h&&rT(n,e,c,o),e=c}return e}function em(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i)e=pu(n,e,t[i],o,r);return e}var aT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yv=function(n){aT(e,n);function e(t,o,r){var i=n.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,o!==void 0&&r?(i.setFlatCoordinates(o,t),i.ends_=r):i.setCoordinates(t,o),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Dn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ch(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.containsXY=function(t,o){return ph(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,o)},e.prototype.getArea=function(){return uv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),pu(o,0,this.ends_,this.stride,t)):o=this.flatCoordinates,ps(o,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ea(this.getExtent());this.flatInteriorPoint_=vv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new ai(this.getFlatInteriorPoint(),Ie.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new tm(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,o=this.flatCoordinates,r=this.ends_,i=[],s=0,f=0,c=r.length;f<c;++f){var d=r[f],h=new tm(o.slice(s,d),t);i.push(h),s=d}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;wv(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=pu(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=cv(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),o,0,r),new e(o,Ie.XY,r)},e.prototype.getType=function(){return ft.POLYGON},e.prototype.intersectsExtent=function(t){return bv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=lh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Er),bs=yv;function om(n){var e=n[0],t=n[1],o=n[2],r=n[3],i=[e,t,e,r,o,r,o,t,e,t];return new yv(i,Ie.XY,[i.length])}function sT(n,e,t,o){for(var r=[],i=No(),s=0,f=t.length;s<f;++s){var c=t[s];i=Z0(n,e,c[0],o),r.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=c[c.length-1]}return r}var lT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fT=function(n){lT(e,n);function e(t,o,r){var i=n.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){for(var s=i.getLayout(),f=t,c=[],d=[],h=0,g=f.length;h<g;++h){var p=f[h];h===0&&(s=p.getLayout());for(var m=c.length,x=p.getEnds(),_=0,k=x.length;_<k;++_)x[_]+=m;Dn(c,p.getFlatCoordinates()),d.push(x)}o=s,t=c,r=d}return o!==void 0&&r?(i.setFlatCoordinates(o,t),i.endss_=r):i.setCoordinates(t,o),i}return e.prototype.appendPolygon=function(t){var o;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),o=t.getEnds().slice(),this.endss_.push();else{var r=this.flatCoordinates.length;Dn(this.flatCoordinates,t.getFlatCoordinates()),o=t.getEnds().slice();for(var i=0,s=o.length;i<s;++i)o[i]+=r}this.endss_.push(o),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,o=new Array(t),r=0;r<t;++r)o[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,o);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,o,r,i){return i<ca(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(FC(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),MC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.containsXY=function(t,o){return WC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,o)},e.prototype.getArea=function(){return GC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),em(o,0,this.endss_,this.stride,t)):o=this.flatCoordinates,uu(o,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=sT(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=nT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new mv(this.getFlatInteriorPoints().slice(),Ie.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;iT(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=em(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=NC(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),o,0,r),new e(o,Ie.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var o;if(t===0)o=0;else{var r=this.endss_[t-1];o=r[r.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(o!==0)for(var f=0,c=i.length;f<c;++f)i[f]-=o;return new bs(this.flatCoordinates.slice(o,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,o=this.flatCoordinates,r=this.endss_,i=[],s=0,f=0,c=r.length;f<c;++f){var d=r[f].slice(),h=d[d.length-1];if(s!==0)for(var g=0,p=d.length;g<p;++g)d[g]-=s;var m=new bs(o.slice(s,h),t,d);i.push(m),s=h}return i},e.prototype.getType=function(){return ft.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return HC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=PC(this.flatCoordinates,0,t,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(Er),cT=fT;class ts{constructor(e,t){Tn(this,"x");Tn(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new ts(-this.y,this.x)}}const dT=new jf({code:"EPSG:4326"}),uT=new jf({code:"EPSG:900913"});function bu(n){return new ai(n).transform(dT,uT).getExtent()}function of(n,e){return new vr([bu(n),bu(e)]).getLength()}function nm(n){return new vr(n.map(bu)).getLength()}function Si(n,e,t){const o=Math.ceil(of(n,e)/t),r=cs.exports.range(0,o).map(i=>[n[0]+i/o*(e[0]-n[0]),n[1]+i/o*(e[1]-n[1])]);return r.push(e),r}function hT(n,e,t,o){let r,i;if(o===0){const f=new ts(n.path[0],n.path[3]);r=Si(n.path[0],n.path[1],e),i=r.map(c=>n.intersectOtherSide(c,f))}else if(o===90){const f=new ts(n.path[0],n.path[1]);r=Si(n.path[0],n.path[3],e),i=r.map(c=>n.intersectOtherSide(c,f))}else{const f=o/180*Math.PI,c=new ts(Math.sin(f),Math.cos(f)),d=e/Math.cos(f),h=Si(n.path[0],n.path[1],d),g=h.map(_=>n.intersectOtherSide(_,c)),p=e/Math.sin(f),m=cs.exports.chain(Si(n.path[0],n.path[3],p)).drop(1).reverse().value(),x=m.map(_=>n.intersectOtherSide(_,c));r=[...m,...h],i=[...x,...g]}const s=[];for(let f=0;f<r.length;f++){let c;f%2===0?c=Si(r[f],i[f],t):c=Si(i[f],r[f],t),c.forEach(d=>s.push(d))}return s}var pT=qf("colinear"),bT=qf("parallel"),gT=qf("none");function mT(n,e,t,o,r,i,s,f){var c=(f-i)*(t-n)-(s-r)*(o-e),d=(s-r)*(e-i)-(f-i)*(n-r),h=(t-n)*(e-i)-(o-e)*(n-r);if(c==0)return d==0&&h==0?pT:bT;var g=d/c,p=h/c;return g>=0&&g<=1&&p>=0&&p<=1?vT({x:n+g*(t-n),y:e+g*(o-e)}):gT}function vT(n){var e=qf("intersecting");return e.point=n,e}function qf(n){return{type:n}}class xT{constructor(e){Tn(this,"path");this.path=[...e]}width(){return of(this.path[0],this.path[1])}height(){return of(this.path[0],this.path[3])}diagonalLength(){return of(this.path[0],this.path[2])}intersectOtherSide(e,t){const o=Math.sqrt(t.x*t.x+t.y*t.y),r=t.x/o,i=t.y/o,s=this.diagonalLength()*1.1,f=[[e[0]-s*r,e[1]-s*i],[e[0]+s*r,e[1]+s*i]],c=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],d=cs.exports.chain(c).map(h=>mT(f[0][0],f[0][1],f[1][0],f[1][1],h[0][0],h[0][1],h[1][0],h[1][1])).filter(h=>h.type==="intersecting").map("point").maxBy(h=>(h.x-e[0])*(h.x-e[0])+(h.y-e[1])*(h.y-e[1])).value();return[d.x,d.y]}}var He={ANIMATING:0,INTERACTING:1},Vo={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},wT=42,bh=256;function rm(n,e,t){return function(o,r,i,s,f){if(!!o){if(!r&&!e)return o;var c=e?0:i[0]*r,d=e?0:i[1]*r,h=f?f[0]:0,g=f?f[1]:0,p=n[0]+c/2+h,m=n[2]-c/2+h,x=n[1]+d/2+g,_=n[3]-d/2+g;p>m&&(p=(m+p)/2,m=p),x>_&&(x=(_+x)/2,_=x);var k=Pe(o[0],p,m),T=Pe(o[1],x,_);if(s&&t&&r){var A=30*r;k+=-A*Math.log(1+Math.max(0,p-o[0])/A)+A*Math.log(1+Math.max(0,o[0]-m)/A),T+=-A*Math.log(1+Math.max(0,x-o[1])/A)+A*Math.log(1+Math.max(0,o[1]-_)/A)}return[k,T]}}}function yT(n){return n}function gh(n,e,t,o){var r=ke(e)/t[0],i=on(e)/t[1];return o?Math.min(n,Math.max(r,i)):Math.min(n,Math.min(r,i))}function mh(n,e,t){var o=Math.min(n,e),r=50;return o*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(o=Math.max(o,t),o/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Pe(o,t/2,e*2)}function _T(n,e,t,o){return function(r,i,s,f){if(r!==void 0){var c=n[0],d=n[n.length-1],h=t?gh(c,t,s,o):c;if(f){var g=e!==void 0?e:!0;return g?mh(r,h,d):Pe(r,d,h)}var p=Math.min(h,r),m=Math.floor(ih(n,p,i));return n[m]>h&&m<n.length-1?n[m+1]:n[m]}else return}}function kT(n,e,t,o,r,i){return function(s,f,c,d){if(s!==void 0){var h=r?gh(e,r,c,i):e,g=t!==void 0?t:0;if(d){var p=o!==void 0?o:!0;return p?mh(s,h,g):Pe(s,g,h)}var m=1e-9,x=Math.ceil(Math.log(e/h)/Math.log(n)-m),_=-f*(.5-m)+.5,k=Math.min(h,s),T=Math.floor(Math.log(e/k)/Math.log(n)+_),A=Math.max(x,T),O=e/Math.pow(n,A);return Pe(O,g,h)}else return}}function im(n,e,t,o,r){return function(i,s,f,c){if(i!==void 0){var d=o?gh(n,o,f,r):n,h=t!==void 0?t:!0;return!h||!c?Pe(i,e,d):mh(i,d,e)}else return}}function vh(n){if(n!==void 0)return 0}function am(n){if(n!==void 0)return n}function ET(n){var e=2*Math.PI/n;return function(t,o){if(o)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function CT(n){var e=n||ef(5);return function(t,o){if(o)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function _v(n){return Math.pow(n,3)}function ua(n){return 1-_v(1-n)}function TT(n){return 3*n*n-2*n*n*n}function RT(n){return n}var AT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),wd=0,IT=function(n){AT(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=De({},t);return o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=oh(r.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,r.projection&&$E(),r.center&&(r.center=So(r.center,o.projection_)),r.extent&&(r.extent=$r(r.extent,o.projection_)),o.applyOptions_(r),o}return e.prototype.applyOptions_=function(t){var o=De({},t);for(var r in Vo)delete o[r];this.setProperties(o,!0);var i=ST(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=OT(t),f=i.constraint,c=PT(t);this.constraints_={center:s,resolution:f,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var o=this.padding_;this.padding_=t;var r=this.getCenter();if(r){var i=t||[0,0,0,0];o=o||[0,0,0,0];var s=this.getResolution(),f=s/2*(i[3]-o[3]+o[1]-i[1]),c=s/2*(i[0]-o[0]+o[2]-i[2]);this.setCenterInternal([r[0]+f,r[1]-c])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var o=this.getProperties();return o.resolution!==void 0?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),De({},o,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),r=0;r<o.length;++r){var i=arguments[r];i.center&&(i=De({},i),i.center=So(i.center,this.getProjection())),i.anchor&&(i=De({},i),i.anchor=So(i.anchor,this.getProjection())),o[r]=i}this.animateInternal.apply(this,o)},e.prototype.animateInternal=function(t){var o=arguments.length,r;o>1&&typeof arguments[o-1]=="function"&&(r=arguments[o-1],--o);for(var i=0;i<o&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===o){r&&Gl(r,!0);return}for(var f=Date.now(),c=this.targetCenter_.slice(),d=this.targetResolution_,h=this.targetRotation_,g=[];i<o;++i){var p=arguments[i],m={start:f,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||TT,callback:r};if(p.center&&(m.sourceCenter=c,m.targetCenter=p.center.slice(),c=m.targetCenter),p.zoom!==void 0?(m.sourceResolution=d,m.targetResolution=this.getResolutionForZoom(p.zoom),d=m.targetResolution):p.resolution&&(m.sourceResolution=d,m.targetResolution=p.resolution,d=m.targetResolution),p.rotation!==void 0){m.sourceRotation=h;var x=Hi(p.rotation-h+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=h+x,h=m.targetRotation}LT(m)?m.complete=!0:f+=m.duration,g.push(m)}this.animations_.push(g),this.setHint(He.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[He.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[He.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(He.ANIMATING,-this.hints_[He.ANIMATING]);for(var t,o=0,r=this.animations_.length;o<r;++o){var i=this.animations_[o];if(i[0].callback&&Gl(i[0].callback,!1),!t)for(var s=0,f=i.length;s<f;++s){var c=i[s];if(!c.complete){t=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),o=!1,r=this.animations_.length-1;r>=0;--r){for(var i=this.animations_[r],s=!0,f=0,c=i.length;f<c;++f){var d=i[f];if(!d.complete){var h=t-d.start,g=d.duration>0?h/d.duration:1;g>=1?(d.complete=!0,g=1):s=!1;var p=d.easing(g);if(d.sourceCenter){var m=d.sourceCenter[0],x=d.sourceCenter[1],_=d.targetCenter[0],k=d.targetCenter[1];this.nextCenter_=d.targetCenter;var T=m+p*(_-m),A=x+p*(k-x);this.targetCenter_=[T,A]}if(d.sourceResolution&&d.targetResolution){var O=p===1?d.targetResolution:d.sourceResolution+p*(d.targetResolution-d.sourceResolution);if(d.anchor){var P=this.getViewportSize_(this.getRotation()),z=this.constraints_.resolution(O,0,P,!0);this.targetCenter_=this.calculateCenterZoom(z,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){var X=p===1?Hi(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+p*(d.targetRotation-d.sourceRotation);if(d.anchor){var U=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(U,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),o=!0,!d.complete)break}}if(s){this.animations_[r]=null,this.setHint(He.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var M=i[0].callback;M&&Gl(M,!0)}}this.animations_=this.animations_.filter(Boolean),o&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,o){var r,i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-o[0],i[1]-o[1]],Qu(r,t-this.getRotation()),jE(r,o)),r},e.prototype.calculateCenterZoom=function(t,o){var r,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var f=o[0]-t*(o[0]-i[0])/s,c=o[1]-t*(o[1]-i[1])/s;r=[f,c]}return r},e.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var r=o[0],i=o[1];return[Math.abs(r*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return o},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&cu(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Vo.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return du(o,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();Kt(r,1);var i=this.getResolution();Kt(i!==void 0,2);var s=this.getRotation();return Kt(s!==void 0,3),lu(r,i,s,o)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Vo.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal($r(t,this.getProjection()),o)},e.prototype.getResolutionForExtentInternal=function(t,o){var r=o||this.getViewportSizeMinusPadding_(),i=ke(t)/r[0],s=on(t)/r[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var o=t||2,r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/Math.log(o);return function(f){var c=r/Math.pow(o,f*s);return c}},e.prototype.getRotation=function(){return this.get(Vo.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/o;return function(f){var c=Math.log(r/f)/o/s;return c}},e.prototype.getViewportSizeMinusPadding_=function(t){var o=this.getViewportSize_(t),r=this.padding_;return r&&(o=[o[0]-r[1]-r[3],o[1]-r[0]-r[2]]),o},e.prototype.getState=function(){var t=this.getProjection(),o=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var f=this.getViewportSizeMinusPadding_();i=yd(i,this.getViewportSize_(),[f[0]/2+s[3],f[1]/2+s[0]],o,r)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,o=this.getResolution();return o!==void 0&&(t=this.getZoomForResolution(o)),t},e.prototype.getZoomForResolution=function(t){var o=this.minZoom_||0,r,i;if(this.resolutions_){var s=ih(this.resolutions_,t,1);o=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(r/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=Pe(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(r,Pe(t-o,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,o){var r;if(Kt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Kt(!Ju(t),25);var i=$r(t,this.getProjection());r=om(i)}else if(t.getType()===ft.CIRCLE){var i=$r(t.getExtent(),this.getProjection());r=om(i),r.rotate(this.getRotation(),ea(i))}else{var s=Os();s?r=t.clone().transform(s,this.getProjection()):r=t}this.fitInternal(r,o)},e.prototype.rotatedExtentForGeometry=function(t){for(var o=this.getRotation(),r=Math.cos(o),i=Math.sin(-o),s=t.getFlatCoordinates(),f=t.getStride(),c=1/0,d=1/0,h=-1/0,g=-1/0,p=0,m=s.length;p<m;p+=f){var x=s[p]*r-s[p+1]*i,_=s[p]*i+s[p+1]*r;c=Math.min(c,x),d=Math.min(d,_),h=Math.max(h,x),g=Math.max(g,_)}return[c,d,h,g]},e.prototype.fitInternal=function(t,o){var r=o||{},i=r.size;i||(i=this.getViewportSizeMinusPadding_());var s=r.padding!==void 0?r.padding:[0,0,0,0],f=r.nearest!==void 0?r.nearest:!1,c;r.minResolution!==void 0?c=r.minResolution:r.maxZoom!==void 0?c=this.getResolutionForZoom(r.maxZoom):c=0;var d=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(d,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);h=isNaN(h)?c:Math.max(h,c),h=this.getConstrainedResolution(h,f?0:1);var g=this.getRotation(),p=Math.sin(g),m=Math.cos(g),x=ea(d);x[0]+=(s[1]-s[3])/2*h,x[1]+=(s[0]-s[2])/2*h;var _=x[0]*m-x[1]*p,k=x[1]*m+x[0]*p,T=this.getConstrainedCenter([_,k],h),A=r.callback?r.callback:li;r.duration!==void 0?this.animateInternal({resolution:h,center:T,duration:r.duration,easing:r.easing},A):(this.targetResolution_=h,this.targetCenter_=T,this.applyTargetState_(!1,!0),Gl(A,!0))},e.prototype.centerOn=function(t,o,r){this.centerOnInternal(So(t,this.getProjection()),o,r)},e.prototype.centerOnInternal=function(t,o,r){this.setCenterInternal(yd(t,o,r,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,o,r,i){var s,f=this.padding_;if(f&&t){var c=this.getViewportSizeMinusPadding_(-r),d=yd(t,i,[c[0]/2+f[3],c[1]/2+f[0]],o,r);s=[t[0]-d[0],t[1]-d[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var o=cu(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustResolution=function(t,o){var r=o&&So(o,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,o){var r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,r);o&&(this.targetCenter_=this.calculateCenterZoom(s,o)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},e.prototype.adjustRotation=function(t,o){o&&(o=So(o,this.getProjection())),this.adjustRotationInternal(t,o)},e.prototype.adjustRotationInternal=function(t,o){var r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,r);o&&(this.targetCenter_=this.calculateCenterRotate(i,o)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&So(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,o){var r=this.getAnimating()||this.getInteracting()||o,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),f=this.constraints_.resolution(this.targetResolution_,0,s,r),c=this.constraints_.center(this.targetCenter_,f,s,r,this.calculateCenterShift(this.targetCenter_,f,i,s));this.get(Vo.ROTATION)!==i&&this.set(Vo.ROTATION,i),this.get(Vo.RESOLUTION)!==f&&(this.set(Vo.RESOLUTION,f),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(Vo.CENTER)||!pf(this.get(Vo.CENTER),c))&&this.set(Vo.CENTER,c),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,o,r){var i=t!==void 0?t:200,s=o||0,f=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(f),d=this.constraints_.resolution(this.targetResolution_,s,c),h=this.constraints_.center(this.targetCenter_,d,c,!1,this.calculateCenterShift(this.targetCenter_,d,f,c));if(i===0&&!this.cancelAnchor_){this.targetResolution_=d,this.targetRotation_=f,this.targetCenter_=h,this.applyTargetState_();return}var g=r||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==d||this.getRotation()!==f||!this.getCenterInternal()||!pf(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:f,center:h,resolution:d,duration:i,easing:ua,anchor:g}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(He.INTERACTING,1)},e.prototype.endInteraction=function(t,o,r){var i=r&&So(r,this.getProjection());this.endInteractionInternal(t,o,i)},e.prototype.endInteractionInternal=function(t,o,r){this.setHint(He.INTERACTING,-1),this.resolveConstraints(t,o,r)},e.prototype.getConstrainedCenter=function(t,o){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,o){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,o))},e.prototype.getConstrainedResolution=function(t,o){var r=o||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,i)},e}(gn);function Gl(n,e){setTimeout(function(){n(e)},0)}function OT(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return rm(n.extent,n.constrainOnlyCenter,e)}var t=oh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var o=t.getExtent().slice();return o[0]=-1/0,o[2]=1/0,rm(o,!1,!1)}return yT}function ST(n){var e,t,o,r=28,i=2,s=n.minZoom!==void 0?n.minZoom:wd,f=n.maxZoom!==void 0?n.maxZoom:r,c=n.zoomFactor!==void 0?n.zoomFactor:i,d=n.multiWorld!==void 0?n.multiWorld:!1,h=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,g=n.showFullExtent!==void 0?n.showFullExtent:!1,p=oh(n.projection,"EPSG:3857"),m=p.getExtent(),x=n.constrainOnlyCenter,_=n.extent;if(!d&&!_&&p.isGlobal()&&(x=!1,_=m),n.resolutions!==void 0){var k=n.resolutions;t=k[s],o=k[f]!==void 0?k[f]:k[k.length-1],n.constrainResolution?e=_T(k,h,!x&&_,g):e=im(t,o,h,!x&&_,g)}else{var T=m?Math.max(ke(m),on(m)):360*Do[xo.DEGREES]/p.getMetersPerUnit(),A=T/bh/Math.pow(i,wd),O=A/Math.pow(i,r-wd);t=n.maxResolution,t!==void 0?s=0:t=A/Math.pow(c,s),o=n.minResolution,o===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?o=t/Math.pow(c,f):o=A/Math.pow(c,f):o=O),f=s+Math.floor(Math.log(t/o)/Math.log(c)),o=t/Math.pow(c,f-s),n.constrainResolution?e=kT(c,t,o,h,!x&&_,g):e=im(t,o,h,!x&&_,g)}return{constraint:e,maxResolution:t,minResolution:o,minZoom:s,zoomFactor:c}}function PT(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?CT():t===!1?am:typeof t=="number"?ET(t):am}else return vh}function LT(n){return!(n.sourceCenter&&n.targetCenter&&!pf(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function yd(n,e,t,o,r){var i=Math.cos(-r),s=Math.sin(-r),f=n[0]*i-n[1]*s,c=n[1]*i+n[0]*s;f+=(e[0]/2-t[0])*o,c+=(t[1]-e[1]/2)*o,s=-s;var d=f*i-c*s,h=c*i+f*s;return[d,h]}var dr=IT,FT=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,MT=/^([a-z]*)$|^hsla?\(.*\)$/i;function kv(n){return typeof n=="string"?n:Ev(n)}function zT(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var DT=function(){var n=1024,e={},t=0;return function(o){var r;if(e.hasOwnProperty(o))r=e[o];else{if(t>=n){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}r=NT(o),e[o]=r,++t}return r}}();function gf(n){return Array.isArray(n)?n:DT(n)}function NT(n){var e,t,o,r,i;if(MT.exec(n)&&(n=zT(n)),FT.exec(n)){var s=n.length-1,f=void 0;s<=4?f=1:f=2;var c=s===4||s===8;e=parseInt(n.substr(1+0*f,f),16),t=parseInt(n.substr(1+1*f,f),16),o=parseInt(n.substr(1+2*f,f),16),c?r=parseInt(n.substr(1+3*f,f),16):r=255,f==1&&(e=(e<<4)+e,t=(t<<4)+t,o=(o<<4)+o,c&&(r=(r<<4)+r)),i=[e,t,o,r/255]}else n.indexOf("rgba(")==0?(i=n.slice(5,-1).split(",").map(Number),sm(i)):n.indexOf("rgb(")==0?(i=n.slice(4,-1).split(",").map(Number),i.push(1),sm(i)):Kt(!1,14);return i}function sm(n){return n[0]=Pe(n[0]+.5|0,0,255),n[1]=Pe(n[1]+.5|0,0,255),n[2]=Pe(n[2]+.5|0,0,255),n[3]=Pe(n[3],0,1),n}function Ev(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var o=n[2];o!=(o|0)&&(o=o+.5|0);var r=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+o+","+r+")"}var GT=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var o=this.cache_[t];(e++&3)===0&&!o.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,o){var r=lm(e,t,o);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(e,t,o,r){var i=lm(e,t,o);this.cache_[i]=r,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function lm(n,e,t){var o=t?kv(t):"null";return e+":"+n+":"+o}var mf=new GT,le={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},UT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),BT=function(n){UT(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un,o.background_=t.background;var r=De({},t);return typeof t.properties=="object"&&(delete r.properties,De(r,t.properties)),r[le.OPACITY]=t.opacity!==void 0?t.opacity:1,Kt(typeof r[le.OPACITY]=="number",64),r[le.VISIBLE]=t.visible!==void 0?t.visible:!0,r[le.Z_INDEX]=t.zIndex,r[le.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,r[le.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,r[le.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,r[le.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,o.className_=r.className!==void 0?r.className:"ol-layer",delete r.className,o.setProperties(r),o.state_=null,o}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var o=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return o.opacity=Pe(Math.round(this.getOpacity()*100)/100,0,1),o.visible=this.getVisible(),o.extent=this.getExtent(),o.zIndex=r===void 0&&!o.managed?1/0:r,o.maxResolution=this.getMaxResolution(),o.minResolution=Math.max(this.getMinResolution(),0),o.minZoom=this.getMinZoom(),o.maxZoom=this.getMaxZoom(),this.state_=o,o},e.prototype.getLayersArray=function(t){return qt()},e.prototype.getLayerStatesArray=function(t){return qt()},e.prototype.getExtent=function(){return this.get(le.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(le.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(le.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(le.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(le.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(le.OPACITY)},e.prototype.getSourceState=function(){return qt()},e.prototype.getVisible=function(){return this.get(le.VISIBLE)},e.prototype.getZIndex=function(){return this.get(le.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(le.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(le.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(le.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(le.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(le.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Kt(typeof t=="number",64),this.set(le.OPACITY,t)},e.prototype.setVisible=function(t){this.set(le.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(le.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(gn),Cv=BT,xr={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},fi={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},jT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YT=function(n){jT(e,n);function e(t){var o=this,r=De({},t);delete r.source,o=n.call(this,r)||this,o.on,o.once,o.un,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,o.rendered=!1,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),o.addChangeListener(le.SOURCE,o.handleSourcePropertyChange_);var i=t.source?t.source:null;return o.setSource(i),o}return e.prototype.getLayersArray=function(t){var o=t||[];return o.push(this),o},e.prototype.getLayerStatesArray=function(t){var o=t||[];return o.push(this.getLayerState()),o},e.prototype.getSource=function(){return this.get(le.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():fi.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(xe(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Qt(t,Nt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(o){return o([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,o){var r=this.getRenderer();if(r.prepareFrame(t))return this.rendered=!0,r.renderFrame(t,o)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(le.MAP,t)},e.prototype.getMapInternal=function(){return this.get(le.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(xe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(xe(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Qt(t,xr.PRECOMPOSE,function(o){var r=o,i=r.frameState.layerStatesArray,s=this.getLayerState(!1);Kt(!i.some(function(f){return f.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=Qt(this,Nt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(le.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(Cv);function vf(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var o=e.zoom;return o>n.minZoom&&o<=n.maxZoom}var Kf=YT,WT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),XT=function(n){WT(e,n);function e(t){var o=n.call(this)||this;return o.map_=t,o}return e.prototype.dispatchRenderEvent=function(t,o){qt()},e.prototype.calculateMatrices2D=function(t){var o=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Un(r,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),ah(i,r)},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s,f,c,d){var h,g=o.viewState;function p(it,ht,et,ct){return s.call(f,ht,it?et:null,ct)}var m=g.projection,x=Q0(t.slice(),m),_=[[0,0]];if(m.canWrapX()&&i){var k=m.getExtent(),T=ke(k);_.push([-T,0],[T,0])}for(var A=o.layerStatesArray,O=A.length,P=[],z=[],X=0;X<_.length;X++)for(var U=O-1;U>=0;--U){var M=A[U],q=M.layer;if(q.hasRenderer()&&vf(M,g)&&c.call(d,q)){var ot=q.getRenderer(),st=q.getSource();if(ot&&st){var dt=st.getWrapX()?x:t,ut=p.bind(null,M.managed);z[0]=dt[0]+_[X][0],z[1]=dt[1]+_[X][1],h=ot.forEachFeatureAtCoordinate(z,o,r,ut,P)}if(h)return h}}if(P.length!==0){var vt=1/P.length;return P.forEach(function(it,ht){return it.distanceSq+=ht*vt}),P.sort(function(it,ht){return it.distanceSq-ht.distanceSq}),P.some(function(it){return h=it.callback(it.feature,it.layer,it.geometry)}),h}},e.prototype.forEachLayerAtPixel=function(t,o,r,i,s){return qt()},e.prototype.hasFeatureAtCoordinate=function(t,o,r,i,s,f){var c=this.forEachFeatureAtCoordinate(t,o,r,i,ri,this,s,f);return c!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){qt()},e.prototype.scheduleExpireIconCache=function(t){mf.canExpireCache()&&t.postRenderFunctions.push(VT)},e}(rh);function VT(n,e){mf.expire()}var HT=XT,qT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),KT=function(n){qT(e,n);function e(t,o,r,i){var s=n.call(this,t)||this;return s.inversePixelTransform=o,s.frameState=r,s.context=i,s}return e}(bn),Tv=KT,Ul="ol-hidden",$f="ol-unselectable",xh="ol-control",fm="ol-collapsed",$T=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),cm=["style","variant","weight","size","lineHeight","family"],Rv=function(n){var e=n.match($T);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,r=cm.length;o<r;++o){var i=e[o+1];i!==void 0&&(t[cm[o]]=i)}return t.families=t.family.split(/,\s?/),t};function Av(n){return n===1?"":String(Math.round(n*100)/100)}function Uo(n,e,t,o){var r;return t&&t.length?r=t.shift():Xf?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",o)}function dm(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function gu(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function ZT(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function JT(n,e){for(var t=n.childNodes,o=0;;++o){var r=t[o],i=e[o];if(!r&&!i)break;if(r!==i){if(!r){n.appendChild(i);continue}if(!i){n.removeChild(r),--o;continue}n.insertBefore(i,r)}}}var Iv="10px sans-serif",Nn="#000",xf="round",gs=[],ms=0,ra="round",vs=10,xs="#000",ws="center",wf="middle",Jr=[0,0,0,0],ys=1,On=new gn,QT=new da;QT.setSize=function(){console.warn("labelCache is deprecated.")};var Gi=null,mu,vu={},t7=function(){var n=100,e="32px ",t=["monospace","serif"],o=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function f(d,h,g){for(var p=!0,m=0;m<o;++m){var x=t[m];if(s=yf(d+" "+h+" "+e+x,r),g!=x){var _=yf(d+" "+h+" "+e+g+","+x,r);p=p&&_!=s}}return!!p}function c(){for(var d=!0,h=On.getKeys(),g=0,p=h.length;g<p;++g){var m=h[g];On.get(m)<n&&(f.apply(this,m.split(`
`))?(Ts(vu),Gi=null,mu=void 0,On.set(m,n)):(On.set(m,On.get(m)+1,!0),d=!1))}d&&(clearInterval(i),i=void 0)}return function(d){var h=Rv(d);if(!!h)for(var g=h.families,p=0,m=g.length;p<m;++p){var x=g[p],_=h.style+`
`+h.weight+`
`+x;On.get(_)===void 0&&(On.set(_,n,!0),f(h.style,h.weight,x)||(On.set(_,0,!0),i===void 0&&(i=setInterval(c,32))))}}}(),e7=function(){var n;return function(e){var t=vu[e];if(t==null){if(Xf){var o=Rv(e),r=Ov(e,"\u017Dg"),i=isNaN(Number(o.lineHeight))?1.2:Number(o.lineHeight);t=i*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);vu[e]=t}return t}}();function Ov(n,e){return Gi||(Gi=Uo(1,1)),n!=mu&&(Gi.font=n,mu=Gi.font),Gi.measureText(e)}function yf(n,e){return Ov(n,e).width}function um(n,e,t){if(e in t)return t[e];var o=yf(n,e);return t[e]=o,o}function o7(n,e){for(var t=[],o=[],r=[],i=0,s=0,f=0,c=0,d=0,h=e.length;d<=h;d+=2){var g=e[d];if(g===`
`||d===h){i=Math.max(i,s),r.push(s),s=0,f+=c;continue}var p=e[d+1]||n.font,m=yf(p,g);t.push(m),s+=m;var x=e7(p);o.push(x),c=Math.max(c,x)}return{width:i,height:f,widths:t,heights:o,lineWidths:r}}function n7(n,e,t,o,r,i,s,f,c,d,h){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),o.contextInstructions?(n.translate(c,d),n.scale(h[0],h[1]),r7(o,n)):h[0]<0||h[1]<0?(n.translate(c,d),n.scale(h[0],h[1]),n.drawImage(o,r,i,s,f,0,0,s,f)):n.drawImage(o,r,i,s,f,c,d,s*h[0],f*h[1]),n.restore()}function r7(n,e){for(var t=n.contextInstructions,o=0,r=t.length;o<r;o+=2)Array.isArray(t[o+1])?e[t[o]].apply(e,t[o+1]):e[t[o]]=t[o+1]}var i7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),a7=function(n){i7(e,n);function e(t){var o=n.call(this,t)||this;o.fontChangeListenerKey_=Qt(On,na.PROPERTYCHANGE,t.redrawText.bind(t)),o.element_=document.createElement("div");var r=o.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",o.element_.className=$f+" ol-layers";var i=t.getViewport();return i.insertBefore(o.element_,i.firstChild||null),o.children_=[],o.renderedVisible_=!0,o}return e.prototype.dispatchRenderEvent=function(t,o){var r=this.getMap();if(r.hasListener(t)){var i=new Tv(t,void 0,o);r.dispatchEvent(i)}},e.prototype.disposeInternal=function(){xe(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(xr.PRECOMPOSE,t);var o=t.layerStatesArray.sort(function(m,x){return m.zIndex-x.zIndex}),r=t.viewState;this.children_.length=0;for(var i=[],s=null,f=0,c=o.length;f<c;++f){var d=o[f];t.layerIndex=f;var h=d.layer,g=h.getSourceState();if(!vf(d,r)||g!=fi.READY&&g!=fi.UNDEFINED){h.unrender();continue}var p=h.render(t,s);!p||(p!==s&&(this.children_.push(p),s=p),"getDeclutter"in h&&i.push(h))}for(var f=i.length-1;f>=0;--f)i[f].renderDeclutter(t);JT(this.element_,this.children_),this.dispatchRenderEvent(xr.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,o,r,i,s){for(var f=o.viewState,c=o.layerStatesArray,d=c.length,h=d-1;h>=0;--h){var g=c[h],p=g.layer;if(p.hasRenderer()&&vf(g,f)&&s(p)){var m=p.getRenderer(),x=m.getDataAtPixel(t,o,r);if(x){var _=i(p,x);if(_)return _}}}},e}(HT),s7=a7,so={ADD:"add",REMOVE:"remove"},Sv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),hm={LENGTH:"length"},Bl=function(n){Sv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.element=o,i.index=r,i}return e}(bn),l7=function(n){Sv(e,n);function e(t,o){var r=n.call(this)||this;r.on,r.once,r.un;var i=o||{};if(r.unique_=!!i.unique,r.array_=t||[],r.unique_)for(var s=0,f=r.array_.length;s<f;++s)r.assertUnique_(r.array_[s],s);return r.updateLength_(),r}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var o=0,r=t.length;o<r;++o)this.push(t[o]);return this},e.prototype.forEach=function(t){for(var o=this.array_,r=0,i=o.length;r<i;++r)t(o[r],r,o)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(hm.LENGTH)},e.prototype.insertAt=function(t,o){this.unique_&&this.assertUnique_(o),this.array_.splice(t,0,o),this.updateLength_(),this.dispatchEvent(new Bl(so.ADD,o,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var o=this.getLength();return this.insertAt(o,t),this.getLength()},e.prototype.remove=function(t){for(var o=this.array_,r=0,i=o.length;r<i;++r)if(o[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var o=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Bl(so.REMOVE,o,t)),o},e.prototype.setAt=function(t,o){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(o,t);var i=this.array_[t];this.array_[t]=o,this.dispatchEvent(new Bl(so.REMOVE,i,t)),this.dispatchEvent(new Bl(so.ADD,o,t))}else{for(var s=r;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,o)}},e.prototype.updateLength_=function(){this.set(hm.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,o){for(var r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===t&&r!==o)throw new K0(58)},e}(gn),Fo=l7,Pv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fr=function(n){Pv(e,n);function e(t,o){var r=n.call(this,t)||this;return r.layer=o,r}return e}(bn),_d={LAYERS:"layers"},f7=function(n){Pv(e,n);function e(t){var o=this,r=t||{},i=De({},r);delete i.layers;var s=r.layers;return o=n.call(this,i)||this,o.on,o.once,o.un,o.layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener(_d.LAYERS,o.handleLayersChanged_),s?Array.isArray(s)?s=new Fo(s.slice(),{unique:!0}):Kt(typeof s.getArray=="function",43):s=new Fo(void 0,{unique:!0}),o.setLayers(s),o}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(xe),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Qt(t,so.ADD,this.handleLayersAdd_,this),Qt(t,so.REMOVE,this.handleLayersRemove_,this));for(var o in this.listenerKeys_)this.listenerKeys_[o].forEach(xe);Ts(this.listenerKeys_);for(var r=t.getArray(),i=0,s=r.length;i<s;i++){var f=r[i];this.registerLayerListeners_(f),this.dispatchEvent(new fr("addlayer",f))}this.changed()},e.prototype.registerLayerListeners_=function(t){var o=[Qt(t,na.PROPERTYCHANGE,this.handleLayerChange_,this),Qt(t,Nt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&o.push(Qt(t,"addlayer",this.handleLayerGroupAdd_,this),Qt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ie(t)]=o},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new fr("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new fr("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var o=t.element;this.registerLayerListeners_(o),this.dispatchEvent(new fr("addlayer",o)),this.changed()},e.prototype.handleLayersRemove_=function(t){var o=t.element,r=ie(o);this.listenerKeys_[r].forEach(xe),delete this.listenerKeys_[r],this.dispatchEvent(new fr("removelayer",o)),this.changed()},e.prototype.getLayers=function(){return this.get(_d.LAYERS)},e.prototype.setLayers=function(t){var o=this.getLayers();if(o)for(var r=o.getArray(),i=0,s=r.length;i<s;++i)this.dispatchEvent(new fr("removelayer",r[i]));this.set(_d.LAYERS,t)},e.prototype.getLayersArray=function(t){var o=t!==void 0?t:[];return this.getLayers().forEach(function(r){r.getLayersArray(o)}),o},e.prototype.getLayerStatesArray=function(t){var o=t!==void 0?t:[],r=o.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(o)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var f=r,c=o.length;f<c;f++){var d=o[f];d.opacity*=i.opacity,d.visible=d.visible&&i.visible,d.maxResolution=Math.min(d.maxResolution,i.maxResolution),d.minResolution=Math.max(d.minResolution,i.minResolution),d.minZoom=Math.max(d.minZoom,i.minZoom),d.maxZoom=Math.min(d.maxZoom,i.maxZoom),i.extent!==void 0&&(d.extent!==void 0?d.extent=Qa(d.extent,i.extent):d.extent=i.extent),d.zIndex===void 0&&(d.zIndex=s)}return o},e.prototype.getSourceState=function(){return fi.READY},e}(Cv),Zf=f7,c7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),d7=function(n){c7(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.map=o,i.frameState=r!==void 0?r:null,i}return e}(bn),Ui=d7,u7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),h7=function(n){u7(e,n);function e(t,o,r,i,s){var f=n.call(this,t,o,s)||this;return f.originalEvent=r,f.pixel_=null,f.coordinate_=null,f.dragging=i!==void 0?i:!1,f}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Ui),Pn=h7,oe={SINGLECLICK:"singleclick",CLICK:Nt.CLICK,DBLCLICK:Nt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},_s={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},p7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),b7=function(n){p7(e,n);function e(t,o){var r=n.call(this,t)||this;r.map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=o===void 0?1:o,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=Qt(i,_s.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=Qt(i,_s.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(Nt.TOUCHMOVE,r.boundHandleTouchMove_,rv?{passive:!1}:!1),r}return e.prototype.emulateClick_=function(t){var o=new Pn(oe.CLICK,this.map_,t);this.dispatchEvent(o),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,o=new Pn(oe.DBLCLICK,this.map_,t),this.dispatchEvent(o)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var r=new Pn(oe.SINGLECLICK,this.map_,t);this.dispatchEvent(r)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var o=t;o.type==oe.POINTERUP||o.type==oe.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==oe.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var o=new Pn(oe.POINTERUP,this.map_,t);this.dispatchEvent(o),this.emulateClicks_&&!o.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(xe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var o=new Pn(oe.POINTERDOWN,this.map_,t);this.dispatchEvent(o),this.down_={};for(var r in t){var i=t[r];this.down_[r]=typeof i=="function"?li:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Qt(s,oe.POINTERMOVE,this.handlePointerMove_,this),Qt(s,oe.POINTERUP,this.handlePointerUp_,this),Qt(this.element_,oe.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Qt(this.element_.getRootNode(),oe.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var o=new Pn(oe.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(o)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var o=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Pn(t.type,this.map_,t,o))},e.prototype.handleTouchMove_=function(t){var o=this.originalPointerMoveEvent_;(!o||o.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(xe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Nt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(xe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(xe),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(da),g7=b7,ar={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ve={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},_f=1/0,m7=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Ts(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(o);return delete this.queuedElements_[r],o},n.prototype.enqueue=function(e){Kt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=_f?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,r=t.length,i=t[e],s=o[e],f=e;e<r>>1;){var c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<r&&o[d]<o[c]?d:c;t[e]=t[h],o[e]=o[h],e=h}t[e]=i,o[e]=s,this.siftDown_(f,e)},n.prototype.siftDown_=function(e,t){for(var o=this.elements_,r=this.priorities_,i=o[t],s=r[t];t>e;){var f=this.getParentIndex_(t);if(r[f]>s)o[t]=o[f],r[t]=r[f],t=f;else break}o[t]=i,r[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,o=this.priorities_,r=0,i=t.length,s,f,c;for(f=0;f<i;++f)s=t[f],c=e(s),c==_f?delete this.queuedElements_[this.keyFunction_(s)]:(o[r]=c,t[r++]=s);t.length=r,o.length=r,this.heapify_()},n}(),v7=m7,At={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},x7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),w7=function(n){x7(e,n);function e(t,o){var r=n.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=o,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return e.prototype.enqueue=function(t){var o=n.prototype.enqueue.call(this,t);if(o){var r=t[0];r.addEventListener(Nt.CHANGE,this.boundHandleTileChange_)}return o},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var o=t.target,r=o.getState();if(r===At.LOADED||r===At.ERROR||r===At.EMPTY){o.removeEventListener(Nt.CHANGE,this.boundHandleTileChange_);var i=o.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,o){for(var r=0,i,s,f;this.tilesLoading_<t&&r<o&&this.getCount()>0;)s=this.dequeue()[0],f=s.getKey(),i=s.getState(),i===At.IDLE&&!(f in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[f]=!0,++this.tilesLoading_,++r,s.load())},e}(v7),y7=w7;function _7(n,e,t,o,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return _f;var i=n.viewState.center,s=o[0]-i[0],f=o[1]-i[1];return 65536*Math.log(r)+Math.sqrt(s*s+f*f)/r}function pm(n){return n[0]>0&&n[1]>0}function k7(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Zo(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var E7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();function Lv(n){if(n instanceof Kf){n.setMapInternal(null);return}n instanceof Zf&&n.getLayers().forEach(Lv)}function Fv(n,e){if(n instanceof Kf){n.setMapInternal(e);return}if(n instanceof Zf)for(var t=n.getLayers().getArray(),o=0,r=t.length;o<r;++o)Fv(t[o],e)}var C7=function(n){E7(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=T7(t);o.renderComplete_,o.loaded_=!0,o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(o),o.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,o.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:nv,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(o),o.coordinateToPixelTransform_=hn(),o.pixelToCoordinateTransform_=hn(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=t.moveTolerance,o.keyboardEventTarget_=r.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.controls=r.controls||new Fo,o.interactions=r.interactions||new Fo,o.overlays_=r.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new y7(o.getTilePriority.bind(o),o.handleTileChange_.bind(o)),o.addChangeListener(Ve.LAYERGROUP,o.handleLayerGroupChanged_),o.addChangeListener(Ve.VIEW,o.handleViewChanged_),o.addChangeListener(Ve.SIZE,o.handleSizeChanged_),o.addChangeListener(Ve.TARGET,o.handleTargetChanged_),o.setProperties(r.values);var i=o;return t.view&&!(t.view instanceof dr)&&t.view.then(function(s){i.setView(new dr(s))}),o.controls.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.controls.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.interactions.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.interactions.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.overlays_.addEventListener(so.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(o)),o.overlays_.addEventListener(so.REMOVE,function(s){var f=s.element,c=f.getId();c!==void 0&&delete this.overlayIdIndex_[c.toString()],s.element.setMap(null)}.bind(o)),o.controls.forEach(function(s){s.setMap(this)}.bind(o)),o.interactions.forEach(function(s){s.setMap(this)}.bind(o)),o.overlays_.forEach(o.addOverlayInternal_.bind(o)),o}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var o=this.getLayerGroup().getLayers();o.push(t)},e.prototype.handleLayerAdd_=function(t){Fv(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var o=t.getId();o!==void 0&&(this.overlayIdIndex_[o.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,o,r){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var s=r.hitTolerance!==void 0?r.hitTolerance:0,f=r.layerFilter!==void 0?r.layerFilter:ri,c=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,c,o,null,f,null)}},e.prototype.getFeaturesAtPixel=function(t,o){var r=[];return this.forEachFeatureAtPixel(t,function(i){r.push(i)},o),r},e.prototype.getAllLayers=function(){var t=[];function o(r){r.forEach(function(i){i instanceof Zf?o(i.getLayers()):t.push(i)})}return o(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,o,r){if(!(!this.frameState_||!this.renderer_)){var i=r||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,f=i.layerFilter||ri;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,o,f)}},e.prototype.hasFeatureAtPixel=function(t,o){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var i=o.layerFilter!==void 0?o.layerFilter:ri,s=o.hitTolerance!==void 0?o.hitTolerance:0,f=o.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,f,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var o=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-o.left,r.clientY-o.top]},e.prototype.getTarget=function(){return this.get(Ve.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return cu(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var o=this.frameState_;return o?Se(o.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var o=this.overlayIdIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ve.LAYERGROUP)},e.prototype.setLayers=function(t){var o=this.getLayerGroup();if(t instanceof Fo){o.setLayers(t);return}var r=o.getLayers();r.clear(),r.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,r=t.length;o<r;++o){var i=t[o];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var f=i.layer.getSource();if(f&&f.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var o=So(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(o)},e.prototype.getPixelFromCoordinateInternal=function(t){var o=this.frameState_;return o?Se(o.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ve.SIZE)},e.prototype.getView=function(){return this.get(Ve.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,o,r,i){return _7(this.frameState_,t,o,r,i)},e.prototype.handleBrowserEvent=function(t,o){var r=o||t.type,i=new Pn(r,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var o=t.originalEvent,r=o.type;if(r===_s.POINTERDOWN||r===Nt.WHEEL||r===Nt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,f=o.target;if(this.overlayContainerStopEvent_.contains(f)||!(s===i?i.documentElement:s).contains(f))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var c=this.getInteractions().getArray().slice(),d=c.length-1;d>=0;d--){var h=c[d];if(!(h.getMap()!==this||!h.getActive()||!this.getTargetElement())){var g=h.handleEvent(t);if(!g||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var r=this.maxTilesLoading_,i=r;if(t){var s=t.viewHints;if(s[He.ANIMATING]||s[He.INTERACTING]){var f=Date.now()-t.time>8;r=f?0:8,i=f?0:2}}o.getTilesLoading()<r&&(o.reprioritize(),o.loadMoreTiles(r,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(xr.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(xr.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ui(ar.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ui(ar.LOADSTART,this,t))));for(var c=this.postRenderFunctions_,d=0,h=c.length;d<h;++d)c[d](this,t);c.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,o=this.targetChangeHandlerKeys_.length;t<o;++t)xe(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Nt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Nt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,gu(this.viewport_)}var r=this.getTargetElement();if(!r)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new g7(this,this.moveTolerance_);for(var i in oe)this.mapBrowserEventHandler_.addEventListener(oe[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Nt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Nt.WHEEL,this.boundHandleBrowserEvent_,rv?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,f=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Qt(f,Nt.KEYDOWN,this.handleBrowserEvent,this),Qt(f,Nt.KEYPRESS,this.handleBrowserEvent,this),Qt(s,Nt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(xe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(xe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Qt(t,na.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Qt(t,Nt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(xe),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new fr("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Qt(t,na.PROPERTYCHANGE,this.render,this),Qt(t,Nt.CHANGE,this.render,this),Qt(t,"addlayer",this.handleLayerAdd_,this),Qt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,r=t.length;o<r;++o){var i=t[o].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var o=this.getLayerGroup().getLayers();return o.remove(t)},e.prototype.handleLayerRemove_=function(t){Lv(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var o=this,r=this.getSize(),i=this.getView(),s=this.frameState_,f=null;if(r!==void 0&&pm(r)&&i&&i.isDef()){var c=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=i.getState();if(f={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:lu(d.center,d.resolution,d.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:d,viewHints:c,wantedTiles:{},mapId:ie(this),renderTargets:{}},d.nextCenter&&d.nextResolution){var h=isNaN(d.nextRotation)?d.rotation:d.nextRotation;f.nextExtent=lu(d.nextCenter,d.nextResolution,h,r)}}if(this.frameState_=f,this.renderer_.renderFrame(f),f){if(f.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,f.postRenderFunctions),s){var g=!this.previousExtent_||!Ju(this.previousExtent_)&&!us(f.extent,this.previousExtent_);g&&(this.dispatchEvent(new Ui(ar.MOVESTART,this,s)),this.previousExtent_=Yf(this.previousExtent_))}var p=this.previousExtent_&&!f.viewHints[He.ANIMATING]&&!f.viewHints[He.INTERACTING]&&!us(f.extent,this.previousExtent_);p&&(this.dispatchEvent(new Ui(ar.MOVEEND,this,f)),$0(f.extent,this.previousExtent_))}this.dispatchEvent(new Ui(ar.POSTRENDER,this,f)),this.renderComplete_=this.hasListener(ar.LOADSTART)||this.hasListener(ar.LOADEND)||this.hasListener(xr.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){o.postRenderTimeoutHandle_=void 0,o.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var o=this.getLayerGroup();o&&this.handleLayerRemove_(new fr("removelayer",o)),this.set(Ve.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ve.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ve.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof dr){this.set(Ve.VIEW,t);return}this.set(Ve.VIEW,new dr);var o=this;t.then(function(r){o.setView(new dr(r))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),o=void 0;if(t){var r=getComputedStyle(t),i=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(o=[i,s],!pm(o)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(o),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var o=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(o=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(o)}},e}(gn);function T7(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},o=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Zf({layers:n.layers});t[Ve.LAYERGROUP]=o,t[Ve.TARGET]=n.target,t[Ve.VIEW]=n.view instanceof dr?n.view:new dr;var r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Fo(n.controls.slice()):(Kt(typeof n.controls.getArray=="function",47),r=n.controls));var i;n.interactions!==void 0&&(Array.isArray(n.interactions)?i=new Fo(n.interactions.slice()):(Kt(typeof n.interactions.getArray=="function",48),i=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Fo(n.overlays.slice()):(Kt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Fo,{controls:r,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var R7=C7,A7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),I7=function(n){A7(e,n);function e(t){var o=n.call(this)||this,r=t.element;return r&&!t.target&&!r.style.pointerEvents&&(r.style.pointerEvents="auto"),o.element=r||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return e.prototype.disposeInternal=function(){gu(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&gu(this.element);for(var o=0,r=this.listenerKeys.length;o<r;++o)xe(this.listenerKeys[o]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==li&&this.listenerKeys.push(Qt(t,ar.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(gn),Jf=I7,O7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),S7=function(n){O7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,o.ulElement_=document.createElement("ul"),o.collapsed_=r.collapsed!==void 0?r.collapsed:!0,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=r.collapsible!==void 0,o.collapsible_=r.collapsible!==void 0?r.collapsible:!0,o.collapsible_||(o.collapsed_=!1);var i=r.className!==void 0?r.className:"ol-attribution",s=r.tipLabel!==void 0?r.tipLabel:"Attributions",f=r.expandClassName!==void 0?r.expandClassName:i+"-expand",c=r.collapseLabel!==void 0?r.collapseLabel:"\u203A",d=r.collapseClassName!==void 0?r.collapseClassName:i+"-collapse";typeof c=="string"?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=c,o.collapseLabel_.className=d):o.collapseLabel_=c;var h=r.label!==void 0?r.label:"i";typeof h=="string"?(o.label_=document.createElement("span"),o.label_.textContent=h,o.label_.className=f):o.label_=h;var g=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=s,o.toggleButton_.appendChild(g),o.toggleButton_.addEventListener(Nt.CLICK,o.handleClick_.bind(o),!1);var p=i+" "+$f+" "+xh+(o.collapsed_&&o.collapsible_?" "+fm:"")+(o.collapsible_?"":" ol-uncollapsible"),m=o.element;return m.className=p,m.appendChild(o.toggleButton_),m.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return e.prototype.collectSourceAttributions_=function(t){for(var o={},r=[],i=!0,s=t.layerStatesArray,f=0,c=s.length;f<c;++f){var d=s[f];if(!!vf(d,t.viewState)){var h=d.layer.getSource();if(!!h){var g=h.getAttributions();if(!!g){var p=g(t);if(!!p)if(i=i&&h.getAttributionsCollapsible()!==!1,Array.isArray(p))for(var m=0,x=p.length;m<x;++m)p[m]in o||(r.push(p[m]),o[p[m]]=!0);else p in o||(r.push(p),o[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),r},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var o=this.collectSourceAttributions_(t),r=o.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!ci(o,this.renderedAttributions_)){ZT(this.ulElement_);for(var i=0,s=o.length;i<s;++i){var f=document.createElement("li");f.innerHTML=o[i],this.ulElement_.appendChild(f)}this.renderedAttributions_=o}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(fm),this.collapsed_?dm(this.collapseLabel_,this.label_):dm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Jf),P7=S7,L7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),F7=function(n){L7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=r.className!==void 0?r.className:"ol-rotate",s=r.label!==void 0?r.label:"\u21E7",f=r.compassClassName!==void 0?r.compassClassName:"ol-compass";o.label_=null,typeof s=="string"?(o.label_=document.createElement("span"),o.label_.className=f,o.label_.textContent=s):(o.label_=s,o.label_.classList.add(f));var c=r.tipLabel?r.tipLabel:"Reset rotation",d=document.createElement("button");d.className=i+"-reset",d.setAttribute("type","button"),d.title=c,d.appendChild(o.label_),d.addEventListener(Nt.CLICK,o.handleClick_.bind(o),!1);var h=i+" "+$f+" "+xh,g=o.element;return g.className=h,g.appendChild(d),o.callResetNorth_=r.resetNorth?r.resetNorth:void 0,o.duration_=r.duration!==void 0?r.duration:250,o.autoHide_=r.autoHide!==void 0?r.autoHide:!0,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(Ul),o}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),o=t.getView();if(!!o){var r=o.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?o.animate({rotation:0,duration:this.duration_,easing:ua}):o.setRotation(0))}},e.prototype.render=function(t){var o=t.frameState;if(!!o){var r=o.viewState.rotation;if(r!=this.rotation_){var i="rotate("+r+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Ul);!s&&r===0?this.element.classList.add(Ul):s&&r!==0&&this.element.classList.remove(Ul)}this.label_.style.transform=i}this.rotation_=r}},e}(Jf),M7=F7,z7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),D7=function(n){z7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),target:r.target})||this;var i=r.className!==void 0?r.className:"ol-zoom",s=r.delta!==void 0?r.delta:1,f=r.zoomInClassName!==void 0?r.zoomInClassName:i+"-in",c=r.zoomOutClassName!==void 0?r.zoomOutClassName:i+"-out",d=r.zoomInLabel!==void 0?r.zoomInLabel:"+",h=r.zoomOutLabel!==void 0?r.zoomOutLabel:"\u2013",g=r.zoomInTipLabel!==void 0?r.zoomInTipLabel:"Zoom in",p=r.zoomOutTipLabel!==void 0?r.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=f,m.setAttribute("type","button"),m.title=g,m.appendChild(typeof d=="string"?document.createTextNode(d):d),m.addEventListener(Nt.CLICK,o.handleClick_.bind(o,s),!1);var x=document.createElement("button");x.className=c,x.setAttribute("type","button"),x.title=p,x.appendChild(typeof h=="string"?document.createTextNode(h):h),x.addEventListener(Nt.CLICK,o.handleClick_.bind(o,-s),!1);var _=i+" "+$f+" "+xh,k=o.element;return k.className=_,k.appendChild(m),k.appendChild(x),o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleClick_=function(t,o){o.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var o=this.getMap(),r=o.getView();if(!!r){var i=r.getZoom();if(i!==void 0){var s=r.getConstrainedZoom(i+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:ua})):r.setZoom(s)}}},e}(Jf),N7=D7,G7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kd="projection",bm="coordinateFormat",U7=function(n){G7(e,n);function e(t){var o=this,r=t||{},i=document.createElement("div");i.className=r.className!==void 0?r.className:"ol-mouse-position",o=n.call(this,{element:i,render:r.render,target:r.target})||this,o.on,o.once,o.un,o.addChangeListener(kd,o.handleProjectionChanged_),r.coordinateFormat&&o.setCoordinateFormat(r.coordinateFormat),r.projection&&o.setProjection(r.projection);var s=!0,f="&#160;";return"undefinedHTML"in r?(r.undefinedHTML!==void 0&&(f=r.undefinedHTML),s=!!f):"placeholder"in r&&(r.placeholder===!1?s=!1:f=String(r.placeholder)),o.placeholder_=f,o.renderOnMouseOut_=s,o.renderedHTML_=i.innerHTML,o.mapProjection_=null,o.transform_=null,o}return e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(bm)},e.prototype.getProjection=function(){return this.get(kd)},e.prototype.handleMouseMove=function(t){var o=this.getMap();this.updateHTML_(o.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var o=t.getViewport();this.listenerKeys.push(Qt(o,_s.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Qt(o,_s.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(bm,t)},e.prototype.setProjection=function(t){this.set(kd,fo(t))},e.prototype.updateHTML_=function(t){var o=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();r?this.transform_=oa(this.mapProjection_,r):this.transform_=eh}var i=this.getMap(),s=i.getCoordinateFromPixelInternal(t);if(s){var f=Os();f&&(this.transform_=oa(this.mapProjection_,f)),this.transform_(s,s);var c=this.getCoordinateFormat();c?o=c(s):o=s.toString()}}(!this.renderedHTML_||o!==this.renderedHTML_)&&(this.element.innerHTML=o,this.renderedHTML_=o)},e.prototype.render=function(t){var o=t.frameState;o?this.mapProjection_!=o.viewState.projection&&(this.mapProjection_=o.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Jf),B7=U7;function Mv(n){var e=n||{},t=new Fo,o=e.zoom!==void 0?e.zoom:!0;o&&t.push(new N7(e.zoomOptions));var r=e.rotate!==void 0?e.rotate:!0;r&&t.push(new M7(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new P7(e.attributionOptions)),t}var xu={ACTIVE:"active"},j7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Y7=function(n){j7(e,n);function e(t){var o=n.call(this)||this;return o.on,o.once,o.un,t&&t.handleEvent&&(o.handleEvent=t.handleEvent),o.map_=null,o.setActive(!0),o}return e.prototype.getActive=function(){return this.get(xu.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(xu.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(gn);function W7(n,e,t){var o=n.getCenterInternal();if(o){var r=[o[0]+e[0],o[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:RT,center:n.getConstrainedCenter(r)})}}function wh(n,e,t,o){var r=n.getZoom();if(r!==void 0){var i=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(i);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:o!==void 0?o:250,easing:ua})}}var Ps=Y7,X7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),V7=function(n){X7(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.delta_=r.delta?r.delta:1,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==oe.DBLCLICK){var r=t.originalEvent,i=t.map,s=t.coordinate,f=r.shiftKey?-this.delta_:this.delta_,c=i.getView();wh(c,f,s,this.duration_),r.preventDefault(),o=!0}return!o},e}(Ps),H7=V7,q7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),K7=function(n){q7(e,n);function e(t){var o=this,r=t||{};return o=n.call(this,r)||this,r.handleDownEvent&&(o.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(o.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(o.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(o.handleUpEvent=r.handleUpEvent),r.stopDown&&(o.stopDown=r.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var o=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==oe.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==oe.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==oe.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,o=this.stopDown(i)}else t.type==oe.POINTERMOVE&&this.handleMoveEvent(t);return!o},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if($7(t)){var o=t.originalEvent,r=o.pointerId.toString();t.type==oe.POINTERUP?delete this.trackedPointers_[r]:t.type==oe.POINTERDOWN?this.trackedPointers_[r]=o:r in this.trackedPointers_&&(this.trackedPointers_[r]=o),this.targetPointers=q0(this.trackedPointers_)}},e}(Ps);function yh(n){for(var e=n.length,t=0,o=0,r=0;r<e;r++)t+=n[r].clientX,o+=n[r].clientY;return[t/e,o/e]}function $7(n){var e=n.type;return e===oe.POINTERDOWN||e===oe.POINTERDRAG||e===oe.POINTERUP}var ha=K7;function wu(n){var e=arguments;return function(t){for(var o=!0,r=0,i=e.length;r<i&&(o=o&&e[r](t),!!o);++r);return o}}var Z7=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},J7=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},zv=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?J7(n):!0},Dv=ri,Nv=function(n){var e=n.originalEvent;return e.button==0&&!(mC&&vC&&e.ctrlKey)},_h=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Gv=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Uv=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Ed=function(n){var e=n.originalEvent;return Kt(e!==void 0,56),e.pointerType=="mouse"},Q7=function(n){var e=n.originalEvent;return Kt(e!==void 0,56),e.isPrimary&&e.button===0},tR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),eR=function(n){tR(e,n);function e(t){var o=n.call(this,{stopDown:Ss})||this,r=t||{};o.kinetic_=r.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1;var i=r.condition?r.condition:wu(_h,Q7);return o.condition_=r.onFocusOnly?wu(zv,i):i,o.noKinetic_=!1,o}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var o=this.targetPointers,r=yh(o);if(o.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var i=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],s=t.map,f=s.getView();XE(i,f.getResolution()),Qu(i,f.getRotation()),f.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=o.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var o=t.map,r=o.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),f=r.getCenterInternal(),c=o.getPixelFromCoordinateInternal(f),d=o.getCoordinateFromPixelInternal([c[0]-i*Math.cos(s),c[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(d),duration:500,easing:ua})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var o=t.map,r=o.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(ha),oR=eR,nR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),rR=function(n){nR(e,n);function e(t){var o=this,r=t||{};return o=n.call(this,{stopDown:Ss})||this,o.condition_=r.condition?r.condition:Z7,o.lastAngle_=void 0,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleDragEvent=function(t){if(!!Ed(t)){var o=t.map,r=o.getView();if(r.getConstraints().rotation!==vh){var i=o.getSize(),s=t.pixel,f=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var c=f-this.lastAngle_;r.adjustRotationInternal(-c)}this.lastAngle_=f}}},e.prototype.handleUpEvent=function(t){if(!Ed(t))return!0;var o=t.map,r=o.getView();return r.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Ed(t))return!1;if(Nv(t)&&this.condition_(t)){var o=t.map;return o.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(ha),iR=rR,aR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),sR=function(n){aR(e,n);function e(t){var o=n.call(this)||this;return o.geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+t,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,o=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(t[0],o[0])+r,i.top=Math.min(t[1],o[1])+r,i.width=Math.abs(o[0]-t[0])+r,i.height=Math.abs(o[1]-t[1])+r},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var o=this.element_.style;o.left="inherit",o.top="inherit",o.width="inherit",o.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,o){this.startPixel_=t,this.endPixel_=o,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,o=this.endPixel_,r=[t,[t[0],o[1]],o,[o[0],t[1]]],i=r.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new bs([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(rh),lR=sR,Bv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),jl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Cd=function(n){Bv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.coordinate=o,i.mapBrowserEvent=r,i}return e}(bn),fR=function(n){Bv(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=t||{};return o.box_=new lR(r.className||"ol-dragbox"),o.minArea_=r.minArea!==void 0?r.minArea:64,r.onBoxEnd&&(o.onBoxEnd=r.onBoxEnd),o.startPixel_=null,o.condition_=r.condition?r.condition:Nv,o.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:o.defaultBoxEndCondition,o}return e.prototype.defaultBoxEndCondition=function(t,o,r){var i=r[0]-o[0],s=r[1]-o[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Cd(jl.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var o=this.boxEndCondition_(t,this.startPixel_,t.pixel);return o&&this.onBoxEnd(t),this.dispatchEvent(new Cd(o?jl.BOXEND:jl.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Cd(jl.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(ha),cR=fR,dR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uR=function(n){dR(e,n);function e(t){var o=this,r=t||{},i=r.condition?r.condition:Gv;return o=n.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea})||this,o.duration_=r.duration!==void 0?r.duration:200,o.out_=r.out!==void 0?r.out:!1,o}return e.prototype.onBoxEnd=function(t){var o=this.getMap(),r=o.getView(),i=this.getGeometry();if(this.out_){var s=r.rotatedExtentForGeometry(i),f=r.getResolutionForExtentInternal(s),c=r.getResolution()/f;i=i.clone(),i.scale(c*c)}r.fitInternal(i,{duration:this.duration_,easing:ua})},e}(cR),hR=uR,jr={LEFT:37,UP:38,RIGHT:39,DOWN:40},pR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),bR=function(n){pR(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.defaultCondition_=function(i){return _h(i)&&Uv(i)},o.condition_=r.condition!==void 0?r.condition:o.defaultCondition_,o.duration_=r.duration!==void 0?r.duration:100,o.pixelDelta_=r.pixelDelta!==void 0?r.pixelDelta:128,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==Nt.KEYDOWN){var r=t.originalEvent,i=r.keyCode;if(this.condition_(t)&&(i==jr.DOWN||i==jr.LEFT||i==jr.RIGHT||i==jr.UP)){var s=t.map,f=s.getView(),c=f.getResolution()*this.pixelDelta_,d=0,h=0;i==jr.DOWN?h=-c:i==jr.LEFT?d=-c:i==jr.RIGHT?d=c:h=c;var g=[d,h];Qu(g,f.getRotation()),W7(f,g,this.duration_),r.preventDefault(),o=!0}}return!o},e}(Ps),gR=bR,mR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),vR=function(n){mR(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.condition_=r.condition?r.condition:Uv,o.delta_=r.delta?r.delta:1,o.duration_=r.duration!==void 0?r.duration:100,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==Nt.KEYDOWN||t.type==Nt.KEYPRESS){var r=t.originalEvent,i=r.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,f=i=="+".charCodeAt(0)?this.delta_:-this.delta_,c=s.getView();wh(c,f,void 0,this.duration_),r.preventDefault(),o=!0}}return!o},e}(Ps),xR=vR,wR=function(){function n(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;o>0&&this.points_[o+2]>e;)o-=3;var r=this.points_[t+2]-this.points_[o+2];if(r<1e3/60)return!1;var i=this.points_[t]-this.points_[o],s=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/r,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),yR=wR,_R=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Td={TRACKPAD:"trackpad",WHEEL:"wheel"},kR=function(n){_R(e,n);function e(t){var o=this,r=t||{};o=n.call(this,r)||this,o.totalDelta_=0,o.lastDelta_=0,o.maxDelta_=r.maxDelta!==void 0?r.maxDelta:1,o.duration_=r.duration!==void 0?r.duration:250,o.timeout_=r.timeout!==void 0?r.timeout:80,o.useAnchor_=r.useAnchor!==void 0?r.useAnchor:!0,o.constrainResolution_=r.constrainResolution!==void 0?r.constrainResolution:!1;var i=r.condition?r.condition:Dv;return o.condition_=r.onFocusOnly?wu(zv,i):i,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.deltaPerZoom_=300,o}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var o=t.type;if(o!==Nt.WHEEL)return!0;var r=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Nt.WHEEL&&(s=i.deltaY,bC&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=nv),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var f=Date.now();this.startTime_===void 0&&(this.startTime_=f),(!this.mode_||f-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Td.TRACKPAD:Td.WHEEL);var c=r.getView();if(this.mode_===Td.TRACKPAD&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=f,!1;this.totalDelta_+=s;var d=Math.max(this.timeout_-(f-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),d),!1},e.prototype.handleWheelZoom_=function(t){var o=t.getView();o.getAnimating()&&o.cancelAnimations();var r=-Pe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(o.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),wh(o,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ps),ER=kR,CR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),TR=function(n){CR(e,n);function e(t){var o=this,r=t||{},i=r;return i.stopDown||(i.stopDown=Ss),o=n.call(this,i)||this,o.anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=r.threshold!==void 0?r.threshold:.3,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleDragEvent=function(t){var o=0,r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){var f=s-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=f}this.lastAngle_=s;var c=t.map,d=c.getView();if(d.getConstraints().rotation!==vh){var h=c.getViewport().getBoundingClientRect(),g=yh(this.targetPointers);g[0]-=h.left,g[1]-=h.top,this.anchor_=c.getCoordinateFromPixelInternal(g),this.rotating_&&(c.render(),d.adjustRotationInternal(o,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,r=o.getView();return r.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(ha),RR=TR,AR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),IR=function(n){AR(e,n);function e(t){var o=this,r=t||{},i=r;return i.stopDown||(i.stopDown=Ss),o=n.call(this,i)||this,o.anchor_=null,o.duration_=r.duration!==void 0?r.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return e.prototype.handleDragEvent=function(t){var o=1,r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,f=r.clientY-i.clientY,c=Math.sqrt(s*s+f*f);this.lastDistance_!==void 0&&(o=this.lastDistance_/c),this.lastDistance_=c;var d=t.map,h=d.getView();o!=1&&(this.lastScaleDelta_=o);var g=d.getViewport().getBoundingClientRect(),p=yh(this.targetPointers);p[0]-=g.left,p[1]-=g.top,this.anchor_=d.getCoordinateFromPixelInternal(p),d.render(),h.adjustResolutionInternal(o,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,r=o.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(ha),OR=IR,Da={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},SR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),PR=function(n){SR(e,n);function e(t){var o=n.call(this)||this;if(o.on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var r=t;o.setGeometry(r)}else{var i=t;o.setProperties(i)}return o}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&t.setGeometry(o.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(xe(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Qt(t,Nt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?LR(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(gn);function LR(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{Kt(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var qr=PR;function FR(n,e,t,o,r){jv(n,e,t||0,o||n.length-1,r||MR)}function jv(n,e,t,o,r){for(;o>t;){if(o-t>600){var i=o-t+1,s=e-t+1,f=Math.log(i),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(i-c)/i)*(s-i/2<0?-1:1),h=Math.max(t,Math.floor(e-s*c/i+d)),g=Math.min(o,Math.floor(e+(i-s)*c/i+d));jv(n,e,h,g,r)}var p=n[e],m=t,x=o;for(Na(n,t,e),r(n[o],p)>0&&Na(n,t,o);m<x;){for(Na(n,m,x),m++,x--;r(n[m],p)<0;)m++;for(;r(n[x],p)>0;)x--}r(n[t],p)===0?Na(n,t,x):(x++,Na(n,x,o)),x<=e&&(t=x+1),e<=x&&(o=x-1)}}function Na(n,e,t){var o=n[e];n[e]=n[t],n[t]=o}function MR(n,e){return n<e?-1:n>e?1:0}class Yv{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const o=[];if(!Wl(e,t))return o;const r=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const f=t.children[s],c=t.leaf?r(f):f;Wl(e,c)&&(t.leaf?o.push(f):Ad(e,c)?this._all(f,o):i.push(f))}t=i.pop()}return o}collides(e){let t=this.data;if(!Wl(e,t))return!1;const o=[];for(;t;){for(let r=0;r<t.children.length;r++){const i=t.children[r],s=t.leaf?this.toBBox(i):i;if(Wl(e,s)){if(t.leaf||Ad(e,s))return!0;o.push(i)}}t=o.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let o=0;o<e.length;o++)this.insert(e[o]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Bi([]),this}remove(e,t){if(!e)return this;let o=this.data;const r=this.toBBox(e),i=[],s=[];let f,c,d;for(;o||i.length;){if(o||(o=i.pop(),c=i[i.length-1],f=s.pop(),d=!0),o.leaf){const h=zR(e,o.children,t);if(h!==-1)return o.children.splice(h,1),i.push(o),this._condense(i),this}!d&&!o.leaf&&Ad(o,r)?(i.push(o),s.push(f),f=0,c=o,o=o.children[0]):c?(f++,o=c.children[f],d=!1):o=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const o=[];for(;e;)e.leaf?t.push(...e.children):o.push(...e.children),e=o.pop();return t}_build(e,t,o,r){const i=o-t+1;let s=this._maxEntries,f;if(i<=s)return f=Bi(e.slice(t,o+1)),Pi(f,this.toBBox),f;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),f=Bi([]),f.leaf=!1,f.height=r;const c=Math.ceil(i/s),d=c*Math.ceil(Math.sqrt(s));gm(e,t,o,d,this.compareMinX);for(let h=t;h<=o;h+=d){const g=Math.min(h+d-1,o);gm(e,h,g,c,this.compareMinY);for(let p=h;p<=g;p+=c){const m=Math.min(p+c-1,g);f.children.push(this._build(e,p,m,r-1))}}return Pi(f,this.toBBox),f}_chooseSubtree(e,t,o,r){for(;r.push(t),!(t.leaf||r.length-1===o);){let i=1/0,s=1/0,f;for(let c=0;c<t.children.length;c++){const d=t.children[c],h=Rd(d),g=GR(e,d)-h;g<s?(s=g,i=h<i?h:i,f=d):g===s&&h<i&&(i=h,f=d)}t=f||t.children[0]}return t}_insert(e,t,o){const r=o?e:this.toBBox(e),i=[],s=this._chooseSubtree(r,this.data,t,i);for(s.children.push(e),Wa(s,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){const o=e[t],r=o.children.length,i=this._minEntries;this._chooseSplitAxis(o,i,r);const s=this._chooseSplitIndex(o,i,r),f=Bi(o.children.splice(s,o.children.length-s));f.height=o.height,f.leaf=o.leaf,Pi(o,this.toBBox),Pi(f,this.toBBox),t?e[t-1].children.push(f):this._splitRoot(o,f)}_splitRoot(e,t){this.data=Bi([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Pi(this.data,this.toBBox)}_chooseSplitIndex(e,t,o){let r,i=1/0,s=1/0;for(let f=t;f<=o-t;f++){const c=Ya(e,0,f,this.toBBox),d=Ya(e,f,o,this.toBBox),h=UR(c,d),g=Rd(c)+Rd(d);h<i?(i=h,r=f,s=g<s?g:s):h===i&&g<s&&(s=g,r=f)}return r||o-t}_chooseSplitAxis(e,t,o){const r=e.leaf?this.compareMinX:DR,i=e.leaf?this.compareMinY:NR,s=this._allDistMargin(e,t,o,r),f=this._allDistMargin(e,t,o,i);s<f&&e.children.sort(r)}_allDistMargin(e,t,o,r){e.children.sort(r);const i=this.toBBox,s=Ya(e,0,t,i),f=Ya(e,o-t,o,i);let c=Yl(s)+Yl(f);for(let d=t;d<o-t;d++){const h=e.children[d];Wa(s,e.leaf?i(h):h),c+=Yl(s)}for(let d=o-t-1;d>=t;d--){const h=e.children[d];Wa(f,e.leaf?i(h):h),c+=Yl(f)}return c}_adjustParentBBoxes(e,t,o){for(let r=o;r>=0;r--)Wa(t[r],e)}_condense(e){for(let t=e.length-1,o;t>=0;t--)e[t].children.length===0?t>0?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():Pi(e[t],this.toBBox)}}function zR(n,e,t){if(!t)return e.indexOf(n);for(let o=0;o<e.length;o++)if(t(n,e[o]))return o;return-1}function Pi(n,e){Ya(n,0,n.children.length,e,n)}function Ya(n,e,t,o,r){r||(r=Bi(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let i=e;i<t;i++){const s=n.children[i];Wa(r,n.leaf?o(s):s)}return r}function Wa(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function DR(n,e){return n.minX-e.minX}function NR(n,e){return n.minY-e.minY}function Rd(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Yl(n){return n.maxX-n.minX+(n.maxY-n.minY)}function GR(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function UR(n,e){const t=Math.max(n.minX,e.minX),o=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,i-o)}function Ad(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Wl(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Bi(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gm(n,e,t,o,r){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=o)continue;const s=e+Math.ceil((t-e)/o/2)*o;FR(n,s,e,t,r),i.push(e,s,s,t)}}var pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},BR=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Zo(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return qt()},n.prototype.getImage=function(e){return qt()},n.prototype.getHitDetectionImage=function(){return qt()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return qt()},n.prototype.getImageSize=function(){return qt()},n.prototype.getOrigin=function(){return qt()},n.prototype.getSize=function(){return qt()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Zo(e)},n.prototype.listenImageChange=function(e){qt()},n.prototype.load=function(){qt()},n.prototype.unlistenImageChange=function(e){qt()},n}(),Wv=BR;function un(n){return Array.isArray(n)?Ev(n):n}var jR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YR=function(n){jR(e,n);function e(t){var o=this,r=t.rotateWithView!==void 0?t.rotateWithView:!1;return o=n.call(this,{opacity:1,rotateWithView:r,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,o.canvas_=void 0,o.hitDetectionCanvas_=null,o.fill_=t.fill!==void 0?t.fill:null,o.origin_=[0,0],o.points_=t.points,o.radius_=t.radius!==void 0?t.radius:t.radius1,o.radius2_=t.radius2,o.angle_=t.angle!==void 0?t.angle:0,o.stroke_=t.stroke!==void 0?t.stroke:null,o.size_=null,o.renderOptions_=null,o.render(),o}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var o=this.getDisplacement();return[t[0]/2-o[0],t[1]/2+o[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var o=this.canvas_[t];if(!o){var r=this.renderOptions_,i=Uo(r.size*t,r.size*t);this.draw_(r,i,t),o=i.canvas,this.canvas_[t]=o}return o},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return pe.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,o,r){if(o===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return o;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var f=i;i=s,s=f}var c=this.radius2_===void 0?this.points_:this.points_*2,d=2*Math.PI/c,h=s*Math.sin(d),g=Math.sqrt(s*s-h*h),p=i-g,m=Math.sqrt(h*h+p*p),x=m/h;if(t==="miter"&&x<=r)return x*o;var _=o/2/x,k=o/2*(p/m),T=Math.sqrt((i+_)*(i+_)+k*k),A=T-i;if(this.radius2_===void 0||t==="bevel")return A*2;var O=i*Math.sin(d),P=Math.sqrt(i*i-O*O),z=s-P,X=Math.sqrt(O*O+z*z),U=X/O;if(U<=r){var M=U*o/2-s-i;return 2*Math.max(A,M)}return A*2},e.prototype.createRenderOptions=function(){var t=ra,o=0,r=null,i=0,s,f=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=xs),s=un(s),f=this.stroke_.getWidth(),f===void 0&&(f=ys),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=ra),o=this.stroke_.getMiterLimit(),o===void 0&&(o=vs));var c=this.calculateLineJoinSize_(t,f,o),d=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*d+c);return{strokeStyle:s,strokeWidth:f,size:h,lineDash:r,lineDashOffset:i,lineJoin:t,miterLimit:o}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,o,r){if(o.scale(r,r),o.translate(t.size/2,t.size/2),this.createPath_(o),this.fill_){var i=this.fill_.getColor();i===null&&(i=Nn),o.fillStyle=un(i),o.fill()}this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,o.setLineDash&&t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var o=this.fill_.getColor(),r=0;if(typeof o=="string"&&(o=gf(o)),o===null?r=1:Array.isArray(o)&&(r=o.length===4?o[3]:1),r===0){var i=Uo(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var o=this.points_,r=this.radius_;if(o===1/0)t.arc(0,0,r,0,2*Math.PI);else{var i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(o*=2);for(var s=this.angle_-Math.PI/2,f=2*Math.PI/o,c=0;c<o;c++){var d=s+c*f,h=c%2===0?r:i;t.lineTo(h*Math.cos(d),h*Math.sin(d))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,o){o.translate(t.size/2,t.size/2),this.createPath_(o),o.fillStyle=Nn,o.fill(),this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e}(Wv),WR=YR,XR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),VR=function(n){XR(e,n);function e(t){var o=t||{};return n.call(this,{points:1/0,fill:o.fill,radius:o.radius,stroke:o.stroke,scale:o.scale!==void 0?o.scale:1,rotation:o.rotation!==void 0?o.rotation:0,rotateWithView:o.rotateWithView!==void 0?o.rotateWithView:!1,displacement:o.displacement!==void 0?o.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(WR),Xv=VR,HR=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),kf=HR,qR=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),es=qR,Wi=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=mm,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=mm,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function KR(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{Kt(typeof n.getZIndex=="function",41);var o=n;t=[o]}e=function(){return t}}return e}var Id=null;function $R(n,e){if(!Id){var t=new kf({color:"rgba(255,255,255,0.4)"}),o=new es({color:"#3399CC",width:1.25});Id=[new Wi({image:new Xv({fill:t,stroke:o,radius:5}),fill:t,stroke:o})]}return Id}function ZR(){var n={},e=[255,255,255,1],t=[0,153,255,1],o=3;return n[ft.POLYGON]=[new Wi({fill:new kf({color:[255,255,255,.5]})})],n[ft.MULTI_POLYGON]=n[ft.POLYGON],n[ft.LINE_STRING]=[new Wi({stroke:new es({color:e,width:o+2})}),new Wi({stroke:new es({color:t,width:o})})],n[ft.MULTI_LINE_STRING]=n[ft.LINE_STRING],n[ft.CIRCLE]=n[ft.POLYGON].concat(n[ft.LINE_STRING]),n[ft.POINT]=[new Wi({image:new Xv({radius:o*2,fill:new kf({color:t}),stroke:new es({color:e,width:o/2})}),zIndex:1/0})],n[ft.MULTI_POINT]=n[ft.POINT],n[ft.GEOMETRY_COLLECTION]=n[ft.POLYGON].concat(n[ft.LINE_STRING],n[ft.POINT]),n}function mm(n){return n.getGeometry()}var JR=Wi,QR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),vm={RENDER_ORDER:"renderOrder"},t8=function(n){QR(e,n);function e(t){var o=this,r=t||{},i=De({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,o=n.call(this,i)||this,o.declutter_=r.declutter!==void 0?r.declutter:!1,o.renderBuffer_=r.renderBuffer!==void 0?r.renderBuffer:100,o.style_=null,o.styleFunction_=void 0,o.setStyle(r.style),o.updateWhileAnimating_=r.updateWhileAnimating!==void 0?r.updateWhileAnimating:!1,o.updateWhileInteracting_=r.updateWhileInteracting!==void 0?r.updateWhileInteracting:!1,o}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(vm.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Yv(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(vm.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:$R,this.styleFunction_=t===null?void 0:KR(this.style_),this.changed()},e}(Kf),e8=t8,Ls={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Xl=[Ls.FILL],hr=[Ls.STROKE],Qr=[Ls.BEGIN_PATH],xm=[Ls.CLOSE_PATH],It=Ls,o8=function(){function n(){}return n.prototype.drawCustom=function(e,t,o,r){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),Vv=o8,n8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),r8=function(n){n8(e,n);function e(t,o,r,i){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=o,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=r,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var o=this.pixelRatio;return o==1?t:t.map(function(r){return r*o})},e.prototype.appendFlatPointCoordinates=function(t,o){for(var r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,f=s.length,c=0,d=t.length;c<d;c+=o)i[0]=t[c],i[1]=t[c+1],Rs(r,i)&&(s[f++]=i[0],s[f++]=i[1]);return f},e.prototype.appendFlatLineCoordinates=function(t,o,r,i,s,f){var c=this.coordinates,d=c.length,h=this.getBufferedMaxExtent();f&&(o+=i);var g=t[o],p=t[o+1],m=this.tmpCoordinate_,x=!0,_,k,T;for(_=o+i;_<r;_+=i)m[0]=t[_],m[1]=t[_+1],T=au(h,m),T!==k?(x&&(c[d++]=g,c[d++]=p,x=!1),c[d++]=m[0],c[d++]=m[1]):T===ze.INTERSECTING?(c[d++]=m[0],c[d++]=m[1],x=!1):x=!0,g=m[0],p=m[1],k=T;return(s&&x||_===o+i)&&(c[d++]=g,c[d++]=p),d},e.prototype.drawCustomCoordinates_=function(t,o,r,i,s){for(var f=0,c=r.length;f<c;++f){var d=r[f],h=this.appendFlatLineCoordinates(t,o,d,i,!1,!1);s.push(h),o=d}return o},e.prototype.drawCustom=function(t,o,r,i){this.beginGeometry(t,o);var s=t.getType(),f=t.getStride(),c=this.coordinates.length,d,h,g,p,m;switch(s){case ft.MULTI_POLYGON:d=t.getOrientedFlatCoordinates(),p=[];var x=t.getEndss();m=0;for(var _=0,k=x.length;_<k;++_){var T=[];m=this.drawCustomCoordinates_(d,m,x[_],f,T),p.push(T)}this.instructions.push([It.CUSTOM,c,p,t,r,uu]),this.hitDetectionInstructions.push([It.CUSTOM,c,p,t,i||r,uu]);break;case ft.POLYGON:case ft.MULTI_LINE_STRING:g=[],d=s==ft.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),m=this.drawCustomCoordinates_(d,0,t.getEnds(),f,g),this.instructions.push([It.CUSTOM,c,g,t,r,ps]),this.hitDetectionInstructions.push([It.CUSTOM,c,g,t,i||r,ps]);break;case ft.LINE_STRING:case ft.CIRCLE:d=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(d,0,d.length,f,!1,!1),this.instructions.push([It.CUSTOM,c,h,t,r,ur]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r,ur]);break;case ft.MULTI_POINT:d=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(d,f),h>c&&(this.instructions.push([It.CUSTOM,c,h,t,r,ur]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r,ur]));break;case ft.POINT:d=t.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),h=this.coordinates.length,this.instructions.push([It.CUSTOM,c,h,t,r]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r]);break}this.endGeometry(o)},e.prototype.beginGeometry=function(t,o){this.beginGeometryInstruction1_=[It.BEGIN_GEOMETRY,o,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[It.BEGIN_GEOMETRY,o,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var o,r=t.length,i,s,f=-1;for(o=0;o<r;++o)i=t[o],s=i[0],s==It.END_GEOMETRY?f=o:s==It.BEGIN_GEOMETRY&&(i[2]=o,sC(this.hitDetectionInstructions,f,o),f=-1)},e.prototype.setFillStrokeStyle=function(t,o){var r=this.state;if(t){var i=t.getColor();r.fillStyle=un(i||Nn)}else r.fillStyle=void 0;if(o){var s=o.getColor();r.strokeStyle=un(s||xs);var f=o.getLineCap();r.lineCap=f!==void 0?f:xf;var c=o.getLineDash();r.lineDash=c?c.slice():gs;var d=o.getLineDashOffset();r.lineDashOffset=d||ms;var h=o.getLineJoin();r.lineJoin=h!==void 0?h:ra;var g=o.getWidth();r.lineWidth=g!==void 0?g:ys;var p=o.getMiterLimit();r.miterLimit=p!==void 0?p:vs,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var o=t.fillStyle,r=[It.SET_FILL_STYLE,o];return typeof o!="string"&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[It.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,o){var r=t.fillStyle;(typeof r!="string"||t.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(o.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,o){var r=t.strokeStyle,i=t.lineCap,s=t.lineDash,f=t.lineDashOffset,c=t.lineJoin,d=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||s!=t.currentLineDash&&!ci(t.currentLineDash,s)||t.currentLineDashOffset!=f||t.currentLineJoin!=c||t.currentLineWidth!=d||t.currentMiterLimit!=h)&&(r!==void 0&&o.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=f,t.currentLineJoin=c,t.currentLineWidth=d,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var o=[It.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=$0(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ku(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Vv),Fs=r8,i8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),a8=function(n){i8(e,n);function e(t,o,r,i){var s=n.call(this,t,o,r,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var r=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,f=this.appendFlatPointCoordinates(r,i);this.instructions.push([It.DRAW_IMAGE,s,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,s,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.drawMultiPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var r=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,f=this.appendFlatPointCoordinates(r,i);this.instructions.push([It.DRAW_IMAGE,s,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,s,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,o){var r=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),f=t.getImage(this.pixelRatio),c=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=s,this.image_=f,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=c[0]*this.imagePixelRatio_,this.originY_=c[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=o},e}(Fs),s8=a8,l8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),f8=function(n){l8(e,n);function e(t,o,r,i){return n.call(this,t,o,r,i)||this}return e.prototype.drawFlatCoordinates_=function(t,o,r,i){var s=this.coordinates.length,f=this.appendFlatLineCoordinates(t,o,r,i,!1,!1),c=[It.MOVE_TO_LINE_TO,s,f];return this.instructions.push(c),this.hitDetectionInstructions.push(c),r},e.prototype.drawLineString=function(t,o){var r=this.state,i=r.strokeStyle,s=r.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,gs,ms],Qr);var f=t.getFlatCoordinates(),c=t.getStride();this.drawFlatCoordinates_(f,0,f.length,c),this.hitDetectionInstructions.push(hr),this.endGeometry(o)}},e.prototype.drawMultiLineString=function(t,o){var r=this.state,i=r.strokeStyle,s=r.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],Qr);for(var f=t.getEnds(),c=t.getFlatCoordinates(),d=t.getStride(),h=0,g=0,p=f.length;g<p;++g)h=this.drawFlatCoordinates_(c,h,f[g],d);this.hitDetectionInstructions.push(hr),this.endGeometry(o)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(hr),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(hr),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Qr)},e}(Fs),c8=f8,d8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),u8=function(n){d8(e,n);function e(t,o,r,i){return n.call(this,t,o,r,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,o,r,i){var s=this.state,f=s.fillStyle!==void 0,c=s.strokeStyle!==void 0,d=r.length;this.instructions.push(Qr),this.hitDetectionInstructions.push(Qr);for(var h=0;h<d;++h){var g=r[h],p=this.coordinates.length,m=this.appendFlatLineCoordinates(t,o,g,i,!0,!c),x=[It.MOVE_TO_LINE_TO,p,m];this.instructions.push(x),this.hitDetectionInstructions.push(x),c&&(this.instructions.push(xm),this.hitDetectionInstructions.push(xm)),o=g}return f&&(this.instructions.push(Xl),this.hitDetectionInstructions.push(Xl)),c&&(this.instructions.push(hr),this.hitDetectionInstructions.push(hr)),o},e.prototype.drawCircle=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var f=t.getFlatCoordinates(),c=t.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1);var h=[It.CIRCLE,d];this.instructions.push(Qr,h),this.hitDetectionInstructions.push(Qr,h),r.fillStyle!==void 0&&(this.instructions.push(Xl),this.hitDetectionInstructions.push(Xl)),r.strokeStyle!==void 0&&(this.instructions.push(hr),this.hitDetectionInstructions.push(hr)),this.endGeometry(o)}},e.prototype.drawPolygon=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var f=t.getEnds(),c=t.getOrientedFlatCoordinates(),d=t.getStride();this.drawFlatCoordinatess_(c,0,f,d),this.endGeometry(o)}},e.prototype.drawMultiPolygon=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var f=t.getEndss(),c=t.getOrientedFlatCoordinates(),d=t.getStride(),h=0,g=0,p=f.length;g<p;++g)h=this.drawFlatCoordinatess_(c,h,f[g],d);this.endGeometry(o)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var o=this.coordinates,r=0,i=o.length;r<i;++r)o[r]=Wr(o[r],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,o=t.fillStyle;o!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(Fs),wm=u8,h8={POINT:"point",LINE:"line"};function p8(n,e,t,o,r){var i=t,s=t,f=0,c=0,d=t,h,g,p,m,x,_,k,T,A,O;for(g=t;g<o;g+=r){var P=e[g],z=e[g+1];x!==void 0&&(A=P-x,O=z-_,m=Math.sqrt(A*A+O*O),k!==void 0&&(c+=p,h=Math.acos((k*A+T*O)/(p*m)),h>n&&(c>f&&(f=c,i=d,s=g),c=0,d=g-r)),p=m,k=A,T=O),x=P,_=z}return c+=m,c>f?[d,g]:[i,s]}var b8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ef={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g8=function(n){b8(e,n);function e(t,o,r,i){var s=n.call(this,t,o,r,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,o){var r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!r&&!i)){var f=this.coordinates,c=f.length,d=t.getType(),h=null,g=t.getStride();if(s.placement===h8.LINE&&(d==ft.LINE_STRING||d==ft.MULTI_LINE_STRING||d==ft.POLYGON||d==ft.MULTI_POLYGON)){if(!Qe(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(h=t.getFlatCoordinates(),d==ft.LINE_STRING)p=[h.length];else if(d==ft.MULTI_LINE_STRING)p=t.getEnds();else if(d==ft.POLYGON)p=t.getEnds().slice(0,1);else if(d==ft.MULTI_POLYGON){var m=t.getEndss();p=[];for(var x=0,_=m.length;x<_;++x)p.push(m[x][0])}this.beginGeometry(t,o);for(var k=s.textAlign,T=0,A=void 0,O=0,P=p.length;O<P;++O){if(k==null){var z=p8(s.maxAngle,h,T,p[O],g);T=z[0],A=z[1]}else A=p[O];for(var x=T;x<A;x+=g)f.push(h[x],h[x+1]);var X=f.length;T=p[O],this.drawChars_(c,X),c=X}this.endGeometry(o)}else{var U=s.overflow?null:[];switch(d){case ft.POINT:case ft.MULTI_POINT:h=t.getFlatCoordinates();break;case ft.LINE_STRING:h=t.getFlatMidpoint();break;case ft.CIRCLE:h=t.getCenter();break;case ft.MULTI_LINE_STRING:h=t.getFlatMidpoints(),g=2;break;case ft.POLYGON:h=t.getFlatInteriorPoint(),s.overflow||U.push(h[2]/this.resolution),g=3;break;case ft.MULTI_POLYGON:var M=t.getFlatInteriorPoints();h=[];for(var x=0,_=M.length;x<_;x+=3)s.overflow||U.push(M[x+2]/this.resolution),h.push(M[x],M[x+1]);if(h.length===0)return;g=2;break}var X=this.appendFlatPointCoordinates(h,g);if(X===c)return;if(U&&(X-c)/2!==h.length/g){var q=c/2;U=U.filter(function(ct,wt){var Pt=f[(q+wt)*2]===h[wt*g]&&f[(q+wt)*2+1]===h[wt*g+1];return Pt||--q,Pt})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,o);var ot=s.padding;if(ot!=Jr&&(s.scale[0]<0||s.scale[1]<0)){var st=s.padding[0],dt=s.padding[1],ut=s.padding[2],vt=s.padding[3];s.scale[0]<0&&(dt=-dt,vt=-vt),s.scale[1]<0&&(st=-st,ut=-ut),ot=[st,dt,ut,vt]}var it=this.pixelRatio;this.instructions.push([It.DRAW_IMAGE,c,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,ot==Jr?Jr:ot.map(function(ct){return ct*it}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]);var ht=1/it;this.hitDetectionInstructions.push([It.DRAW_IMAGE,c,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ht,ht],NaN,this.declutterImageWithText_,ot,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]),this.endGeometry(o)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,o=this.textState_,r=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:o.font,textAlign:o.textAlign||ws,textBaseline:o.textBaseline||wf,scale:o.scale});var f=this.fillKey_;r&&(f in this.fillStates||(this.fillStates[f]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,o){var r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,f=this.textKey_,c=this.fillKey_;this.saveTextStates_();var d=this.pixelRatio,h=Ef[i.textBaseline],g=this.textOffsetY_*d,p=this.text_,m=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([It.DRAW_CHARS,t,o,h,i.overflow,c,i.maxAngle,d,g,s,m*d,p,f,1]),this.hitDetectionInstructions.push([It.DRAW_CHARS,t,o,h,i.overflow,c,i.maxAngle,1,g,s,m,p,f,1/d])},e.prototype.setTextStyle=function(t,o){var r,i,s;if(!t)this.text_="";else{var f=t.getFill();f?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=un(f.getColor()||Nn)):(i=null,this.textFillState_=i);var c=t.getStroke();if(!c)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var d=c.getLineDash(),h=c.getLineDashOffset(),g=c.getWidth(),p=c.getMiterLimit();s.lineCap=c.getLineCap()||xf,s.lineDash=d?d.slice():gs,s.lineDashOffset=h===void 0?ms:h,s.lineJoin=c.getLineJoin()||ra,s.lineWidth=g===void 0?ys:g,s.miterLimit=p===void 0?vs:p,s.strokeStyle=un(c.getColor()||xs)}r=this.textState_;var m=t.getFont()||Iv;t7(m);var x=t.getScaleArray();r.overflow=t.getOverflow(),r.font=m,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||wf,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||Jr,r.scale=x===void 0?[1,1]:x;var _=t.getOffsetX(),k=t.getOffsetY(),T=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=k===void 0?0:k,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=A===void 0?0:A,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:ie(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+ie(i.fillStyle):""}this.declutterImageWithText_=o},e}(Fs),m8=g8,v8={Circle:wm,Default:Fs,Image:s8,LineString:c8,Polygon:wm,Text:m8},x8=function(){function n(e,t,o,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=o,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var o=this.buildersByZIndex_[t];for(var r in o){var i=o[r].finish();e[t][r]=i}}return e},n.prototype.getBuilder=function(e,t){var o=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[o];r===void 0&&(r={},this.buildersByZIndex_[o]=r);var i=r[t];if(i===void 0){var s=v8[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=i}return i},n}(),ym=x8,w8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),y8=function(n){w8(e,n);function e(t){var o=n.call(this)||this;return o.ready=!0,o.boundHandleImageChange_=o.handleImageChange_.bind(o),o.layer_=t,o.declutterExecutorGroup=null,o}return e.prototype.getFeatures=function(t){return qt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return qt()},e.prototype.renderFrame=function(t,o){return qt()},e.prototype.loadedTileCallback=function(t,o,r){t[o]||(t[o]={}),t[o][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,o,r){return function(i,s){var f=this.loadedTileCallback.bind(this,r,i);return t.forEachLoadedTile(o,i,s,f)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s){},e.prototype.getDataAtPixel=function(t,o,r){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var o=t.target;o.getState()===pe.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var o=t.getState();return o!=pe.LOADED&&o!=pe.ERROR&&t.addEventListener(Nt.CHANGE,this.boundHandleImageChange_),o==pe.IDLE&&(t.load(),o=t.getState()),o==pe.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==fi.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(ev),_8=y8,k8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xa=null;function E8(){var n=document.createElement("canvas");n.width=1,n.height=1,Xa=n.getContext("2d")}var C8=function(n){k8(e,n);function e(t){var o=n.call(this,t)||this;return o.container=null,o.renderedResolution,o.tempTransform=hn(),o.pixelTransform=hn(),o.inversePixelTransform=hn(),o.context=null,o.containerReused=!1,o.pixelContext_=null,o.frameState=null,o}return e.prototype.getImageData=function(t,o,r){Xa||E8(),Xa.clearRect(0,0,1,1);var i;try{Xa.drawImage(t,o,r,1,1,0,0,1,1),i=Xa.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var o=this.getLayer(),r=o.getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0},e.prototype.useContainer=function(t,o,r,i){var s=this.getLayer().getClassName(),f,c;if(t&&t.className===s&&t.style.opacity===""&&r===1&&(!i||t.style.backgroundColor&&ci(gf(t.style.backgroundColor),gf(i)))){var d=t.firstElementChild;d instanceof HTMLCanvasElement&&(c=d.getContext("2d"))}if(c&&c.canvas.style.transform===o?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){f=document.createElement("div"),f.className=s;var h=f.style;h.position="absolute",h.width="100%",h.height="100%",i&&(h.backgroundColor=i),c=Uo();var d=c.canvas;f.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=f,this.context=c}},e.prototype.clipUnrotated=function(t,o,r){var i=kr(r),s=Is(r),f=As(r),c=ta(r);Se(o.coordinateToPixelTransform,i),Se(o.coordinateToPixelTransform,s),Se(o.coordinateToPixelTransform,f),Se(o.coordinateToPixelTransform,c);var d=this.inversePixelTransform;Se(d,i),Se(d,s),Se(d,f),Se(d,c),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,o,r){var i=this.getLayer();if(i.hasListener(t)){var s=new Tv(t,this.inversePixelTransform,r,o);i.dispatchEvent(s)}},e.prototype.preRender=function(t,o){this.frameState=o,this.dispatchRenderEvent_(xr.PRERENDER,t,o)},e.prototype.postRender=function(t,o){this.dispatchRenderEvent_(xr.POSTRENDER,t,o)},e.prototype.getRenderTransform=function(t,o,r,i,s,f,c){var d=s/2,h=f/2,g=i/o,p=-g,m=-t[0]+c,x=-t[1];return Un(this.tempTransform,d,h,g,p,-r,m,x)},e.prototype.getDataAtPixel=function(t,o,r){var i=Se(this.inversePixelTransform,t.slice()),s=this.context,f=this.getLayer(),c=f.getExtent();if(c){var d=Se(o.pixelToCoordinateTransform,t.slice());if(!Rs(c,d))return null}var h=Math.round(i[0]),g=Math.round(i[1]),p=this.pixelContext_;if(!p){var m=document.createElement("canvas");m.width=1,m.height=1,p=m.getContext("2d"),this.pixelContext_=p}p.clearRect(0,0,1,1);var x;try{p.drawImage(s.canvas,h,g,1,1,0,0,1,1),x=p.getImageData(0,0,1,1).data}catch(_){return _.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):x}return x[3]===0?null:x},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(_8),Hv=C8,ye={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function T8(n,e,t,o,r,i,s,f,c,d,h,g){var p=n[e],m=n[e+1],x=0,_=0,k=0,T=0;function A(){x=p,_=m,e+=o,p=n[e],m=n[e+1],T+=k,k=Math.sqrt((p-x)*(p-x)+(m-_)*(m-_))}do A();while(e<t-o&&T+k<i);for(var O=k===0?0:(i-T)/k,P=Ln(x,p,O),z=Ln(_,m,O),X=e-o,U=T,M=i+f*c(d,r,h);e<t-o&&T+k<M;)A();O=k===0?0:(M-T)/k;var q=Ln(x,p,O),ot=Ln(_,m,O),st;if(g){var dt=[P,z,q,ot];sh(dt,0,4,2,g,dt,dt),st=dt[0]>dt[2]}else st=P>q;var ut=Math.PI,vt=[],it=X+o===e;e=X,k=0,T=U,p=n[e],m=n[e+1];var ht;if(it){A(),ht=Math.atan2(m-_,p-x),st&&(ht+=ht>0?-ut:ut);var et=(q+P)/2,ct=(ot+z)/2;return vt[0]=[et,ct,(M-i)/2,ht,r],vt}for(var wt=0,Pt=r.length;wt<Pt;){A();var Lt=Math.atan2(m-_,p-x);if(st&&(Lt+=Lt>0?-ut:ut),ht!==void 0){var $=Lt-ht;if($+=$>ut?-2*ut:$<-ut?2*ut:0,Math.abs($)>s)return null}ht=Lt;for(var Wt=wt,Et=0;wt<Pt;++wt){var N=st?Pt-wt-1:wt,nt=f*c(d,r[N],h);if(e+o<t&&T+k<i+Et+nt/2)break;Et+=nt}if(wt!==Wt){var Q=st?r.substring(Pt-Wt,Pt-wt):r.substring(Wt,wt);O=k===0?0:(i+Et/2-T)/k;var et=Ln(x,p,O),ct=Ln(_,m,O);vt.push([et,ct,Et/2,Lt,Q]),i+=Et}}return vt}var Li=No(),er=[],Rn=[],An=[],or=[];function _m(n){return n[3].declutterBox}var R8=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function km(n,e){return(e==="start"||e==="end")&&!R8.test(n)&&(e=e==="start"?"left":"right"),Ef[e]}function A8(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var I8=function(){function n(e,t,o,r){this.overlaps=o,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=hn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,o,r){var i=e+t+o+r;if(this.labels_[i])return this.labels_[i];var s=r?this.strokeStates[r]:null,f=o?this.fillStates[o]:null,c=this.textStates[t],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],g=Array.isArray(e),p=km(g?e[0]:e,c.textAlign||ws),m=r&&s.lineWidth?s.lineWidth:0,x=g?e:e.split(`
`).reduce(A8,[]),_=o7(c,x),k=_.width,T=_.height,A=_.widths,O=_.heights,P=_.lineWidths,z=k+m,X=[],U=(z+2)*h[0],M=(T+m)*h[1],q={width:U<0?Math.floor(U):Math.ceil(U),height:M<0?Math.floor(M):Math.ceil(M),contextInstructions:X};if((h[0]!=1||h[1]!=1)&&X.push("scale",h),r){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",m),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var ot=Xf?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;ot.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}o&&X.push("fillStyle",f.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var st=.5-p,dt=p*z+st*m,ut=[],vt=[],it=0,ht=0,et=0,ct=0,wt,Pt=0,Lt=x.length;Pt<Lt;Pt+=2){var $=x[Pt];if($===`
`){ht+=it,it=0,dt=p*z+st*m,++ct;continue}var Wt=x[Pt+1]||c.font;Wt!==wt&&(r&&ut.push("font",Wt),o&&vt.push("font",Wt),wt=Wt),it=Math.max(it,O[et]);var Et=[$,dt+st*A[et]+p*(A[et]-P[ct]),.5*(m+it)+ht];dt+=A[et],r&&ut.push("strokeText",Et),o&&vt.push("fillText",Et),++et}return Array.prototype.push.apply(X,ut),Array.prototype.push.apply(X,vt),this.labels_[i]=q,q},n.prototype.replayTextBackground_=function(e,t,o,r,i,s,f){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),f&&(this.setStrokeStyle_(e,f),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,o,r,i,s,f,c,d,h,g,p,m,x,_,k){f*=p[0],c*=p[1];var T=o-f,A=r-c,O=i+d>e?e-d:i,P=s+h>t?t-h:s,z=x[3]+O*p[0]+x[1],X=x[0]+P*p[1]+x[2],U=T-x[3],M=A-x[0];(_||g!==0)&&(er[0]=U,or[0]=U,er[1]=M,Rn[1]=M,Rn[0]=U+z,An[0]=Rn[0],An[1]=M+X,or[1]=An[1]);var q;return g!==0?(q=Un(hn(),o,r,1,1,g,-o,-r),Se(q,er),Se(q,Rn),Se(q,An),Se(q,or),en(Math.min(er[0],Rn[0],An[0],or[0]),Math.min(er[1],Rn[1],An[1],or[1]),Math.max(er[0],Rn[0],An[0],or[0]),Math.max(er[1],Rn[1],An[1],or[1]),Li)):en(Math.min(U,U+z),Math.min(M,M+X),Math.max(U,U+z),Math.max(M,M+X),Li),m&&(T=Math.round(T),A=Math.round(A)),{drawImageX:T,drawImageY:A,drawImageW:O,drawImageH:P,originX:d,originY:h,declutterBox:{minX:Li[0],minY:Li[1],maxX:Li[2],maxY:Li[3],value:k},canvasTransform:q,scale:p}},n.prototype.replayImageOrLabel_=function(e,t,o,r,i,s,f){var c=!!(s||f),d=r.declutterBox,h=e.canvas,g=f?f[2]*r.scale[0]/2:0,p=d.minX-g<=h.width/t&&d.maxX+g>=0&&d.minY-g<=h.height/t&&d.maxY+g>=0;return p&&(c&&this.replayTextBackground_(e,er,Rn,An,or,s,f),n7(e,r.canvasTransform,i,o,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Se(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(t[0]%o,t[1]%o),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,o,r){var i=this.textStates[t],s=this.createLabel(e,t,r,o),f=this.strokeStates[o],c=this.pixelRatio,d=km(Array.isArray(e)?e[0]:e,i.textAlign||ws),h=Ef[i.textBaseline||wf],g=f&&f.lineWidth?f.lineWidth:0,p=s.width/c-2*i.scale[0],m=d*p+2*(.5-d)*g,x=h*s.height/c+2*(.5-h)*g;return{label:s,anchorX:m,anchorY:x}},n.prototype.execute_=function(e,t,o,r,i,s,f,c){var d;this.pixelCoordinates_&&ci(o,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=ii(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),yC(this.renderedTransform_,o));for(var h=0,g=r.length,p=0,m,x,_,k,T,A,O,P,z,X,U,M,q=0,ot=0,st=null,dt=null,ut=this.coordinateCache_,vt=this.viewRotation_,it=Math.round(Math.atan2(-o[1],o[0])*1e12)/1e12,ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:vt},et=this.instructions!=r||this.overlaps?0:200,ct,wt,Pt,Lt;h<g;){var $=r[h],Wt=$[0];switch(Wt){case It.BEGIN_GEOMETRY:ct=$[1],Lt=$[3],ct.getGeometry()?f!==void 0&&!Qe(f,Lt.getExtent())?h=$[2]+1:++h:h=$[2];break;case It.BEGIN_PATH:q>et&&(this.fill_(e),q=0),ot>et&&(e.stroke(),ot=0),!q&&!ot&&(e.beginPath(),k=NaN,T=NaN),++h;break;case It.CIRCLE:p=$[1];var Et=d[p],N=d[p+1],nt=d[p+2],Q=d[p+3],at=nt-Et,St=Q-N,$t=Math.sqrt(at*at+St*St);e.moveTo(Et+$t,N),e.arc(Et,N,$t,0,2*Math.PI,!0),++h;break;case It.CLOSE_PATH:e.closePath(),++h;break;case It.CUSTOM:p=$[1],m=$[2];var yt=$[3],Ct=$[4],E=$.length==6?$[5]:void 0;ht.geometry=yt,ht.feature=ct,h in ut||(ut[h]=[]);var I=ut[h];E?E(d,p,m,2,I):(I[0]=d[p],I[1]=d[p+1],I.length=2),Ct(I,ht),++h;break;case It.DRAW_IMAGE:p=$[1],m=$[2],P=$[3],x=$[4],_=$[5];var F=$[6],V=$[7],j=$[8],tt=$[9],rt=$[10],Z=$[11],J=$[12],H=$[13],bt=$[14];if(!P&&$.length>=19){z=$[18],X=$[19],U=$[20],M=$[21];var pt=this.drawLabelWithPointPlacement_(z,X,U,M);P=pt.label,$[3]=P;var mt=$[22];x=(pt.anchorX-mt)*this.pixelRatio,$[4]=x;var _t=$[23];_=(pt.anchorY-_t)*this.pixelRatio,$[5]=_,F=P.height,$[6]=F,H=P.width,$[13]=H}var Ft=void 0;$.length>24&&(Ft=$[24]);var Mt=void 0,Gt=void 0,Xt=void 0;$.length>16?(Mt=$[15],Gt=$[16],Xt=$[17]):(Mt=Jr,Gt=!1,Xt=!1),rt&&it?Z+=vt:!rt&&!it&&(Z-=vt);for(var Ce=0;p<m;p+=2)if(!(Ft&&Ft[Ce++]<H/this.pixelRatio)){var be=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],H,F,x,_,j,tt,Z,J,i,Mt,Gt||Xt,ct),Bo=[e,t,P,be,V,Gt?st:null,Xt?dt:null],fe=void 0,co=void 0;if(c&&bt){var ge=m-p;if(!bt[ge]){bt[ge]=Bo;continue}if(fe=bt[ge],delete bt[ge],co=_m(fe),c.collides(co))continue}c&&c.collides(be.declutterBox)||(fe&&(c&&c.insert(co),this.replayImageOrLabel_.apply(this,fe)),c&&c.insert(be.declutterBox),this.replayImageOrLabel_.apply(this,Bo))}++h;break;case It.DRAW_CHARS:var Ge=$[1],Cr=$[2],pa=$[3],ec=$[4];M=$[5];var Ds=$[6],ba=$[7],Ns=$[8];U=$[9];var ga=$[10];z=$[11],X=$[12];var Gs=[$[13],$[13]],ma=this.textStates[X],jn=ma.font,Tr=[ma.scale[0]*ba,ma.scale[1]*ba],Rr=void 0;jn in this.widths_?Rr=this.widths_[jn]:(Rr={},this.widths_[jn]=Rr);var Us=gv(d,Ge,Cr,2),di=Math.abs(Tr[0])*um(jn,z,Rr);if(ec||di<=Us){var oc=this.textStates[X].textAlign,va=(Us-di)*Ef[oc],Ar=T8(d,Ge,Cr,2,z,va,Ds,Math.abs(Tr[0]),um,jn,Rr,it?0:this.viewRotation_);t:if(Ar){var Ir=[],nn=void 0,ui=void 0,hi=void 0,Ye=void 0,to=void 0;if(U)for(nn=0,ui=Ar.length;nn<ui;++nn){to=Ar[nn],hi=to[4],Ye=this.createLabel(hi,X,"",U),x=to[2]+(Tr[0]<0?-ga:ga),_=pa*Ye.height+(.5-pa)*2*ga*Tr[1]/Tr[0]-Ns;var be=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,to[0],to[1],Ye.width,Ye.height,x,_,0,0,to[3],Gs,!1,Jr,!1,ct);if(c&&c.collides(be.declutterBox))break t;Ir.push([e,t,Ye,be,1,null,null])}if(M)for(nn=0,ui=Ar.length;nn<ui;++nn){to=Ar[nn],hi=to[4],Ye=this.createLabel(hi,X,M,""),x=to[2],_=pa*Ye.height-Ns;var be=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,to[0],to[1],Ye.width,Ye.height,x,_,0,0,to[3],Gs,!1,Jr,!1,ct);if(c&&c.collides(be.declutterBox))break t;Ir.push([e,t,Ye,be,1,null,null])}c&&c.load(Ir.map(_m));for(var xa=0,Bs=Ir.length;xa<Bs;++xa)this.replayImageOrLabel_.apply(this,Ir[xa])}}++h;break;case It.END_GEOMETRY:if(s!==void 0){ct=$[1];var js=s(ct,Lt);if(js)return js}++h;break;case It.FILL:et?q++:this.fill_(e),++h;break;case It.MOVE_TO_LINE_TO:for(p=$[1],m=$[2],wt=d[p],Pt=d[p+1],A=wt+.5|0,O=Pt+.5|0,(A!==k||O!==T)&&(e.moveTo(wt,Pt),k=A,T=O),p+=2;p<m;p+=2)wt=d[p],Pt=d[p+1],A=wt+.5|0,O=Pt+.5|0,(p==m-2||A!==k||O!==T)&&(e.lineTo(wt,Pt),k=A,T=O);++h;break;case It.SET_FILL_STYLE:st=$,this.alignFill_=$[2],q&&(this.fill_(e),q=0,ot&&(e.stroke(),ot=0)),e.fillStyle=$[1],++h;break;case It.SET_STROKE_STYLE:dt=$,ot&&(e.stroke(),ot=0),this.setStrokeStyle_(e,$),++h;break;case It.STROKE:et?ot++:e.stroke(),++h;break;default:++h;break}}q&&this.fill_(e),ot&&e.stroke()},n.prototype.execute=function(e,t,o,r,i,s){this.viewRotation_=r,this.execute_(e,t,o,this.instructions,i,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,o,r,i){return this.viewRotation_=o,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,i)},n}(),O8=I8,Od=[ye.POLYGON,ye.CIRCLE,ye.LINE_STRING,ye.IMAGE,ye.TEXT,ye.DEFAULT],S8=function(){function n(e,t,o,r,i,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=o,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=hn(),this.createExecutors_(i)}return n.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var o=this.executorsByZIndex_[t];o===void 0&&(o={},this.executorsByZIndex_[t]=o);var r=e[t];for(var i in r){var s=r[i];o[i]=new O8(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var o=this.executorsByZIndex_[t],r=0,i=e.length;r<i;++r)if(e[r]in o)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,s){r=Math.round(r);var f=r*2+1,c=Un(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Uo(f,f));var h=this.hitDetectionContext_;h.canvas.width!==f||h.canvas.height!==f?(h.canvas.width=f,h.canvas.height=f):d||h.clearRect(0,0,f,f);var g;this.renderBuffer_!==void 0&&(g=No(),Ja(g,e),Ku(g,t*(this.renderBuffer_+r),g));var p=P8(r),m;function x(X,U){for(var M=h.getImageData(0,0,f,f).data,q=0,ot=p.length;q<ot;q++)if(M[p[q]]>0){if(!s||m!==ye.IMAGE&&m!==ye.TEXT||s.indexOf(X)!==-1){var st=(p[q]-3)/4,dt=r-st%f,ut=r-(st/f|0),vt=i(X,U,dt*dt+ut*ut);if(vt)return vt}h.clearRect(0,0,f,f);break}}var _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(si);var k,T,A,O,P;for(k=_.length-1;k>=0;--k){var z=_[k].toString();for(A=this.executorsByZIndex_[z],T=Od.length-1;T>=0;--T)if(m=Od[T],O=A[m],O!==void 0&&(P=O.executeHitDetection(h,c,o,x,g),P))return P}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var o=t[0],r=t[1],i=t[2],s=t[3],f=[o,r,o,s,i,s,i,r];return ii(f,0,8,2,e,f),f},n.prototype.isEmpty=function(){return ds(this.executorsByZIndex_)},n.prototype.execute=function(e,t,o,r,i,s,f){var c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(si),this.maxExtent_&&(e.save(),this.clip(e,o));var d=s||Od,h,g,p,m,x,_;for(f&&c.reverse(),h=0,g=c.length;h<g;++h){var k=c[h].toString();for(x=this.executorsByZIndex_[k],p=0,m=d.length;p<m;++p){var T=d[p];_=x[T],_!==void 0&&_.execute(e,t,o,r,i,f)}}this.maxExtent_&&e.restore()},n}(),Sd={};function P8(n){if(Sd[n]!==void 0)return Sd[n];for(var e=n*2+1,t=n*n,o=new Array(t+1),r=0;r<=n;++r)for(var i=0;i<=n;++i){var s=r*r+i*i;if(s>t)break;var f=o[s];f||(f=[],o[s]=f),f.push(((n+r)*e+(n+i))*4+3),r>0&&f.push(((n-r)*e+(n+i))*4+3),i>0&&(f.push(((n+r)*e+(n-i))*4+3),r>0&&f.push(((n-r)*e+(n-i))*4+3))}for(var c=[],r=0,d=o.length;r<d;++r)o[r]&&c.push.apply(c,o[r]);return Sd[n]=c,c}var Em=S8,L8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),F8=function(n){L8(e,n);function e(t,o,r,i,s,f,c){var d=n.call(this)||this;return d.context_=t,d.pixelRatio_=o,d.extent_=r,d.transform_=i,d.viewRotation_=s,d.squaredTolerance_=f,d.userTransform_=c,d.contextFillState_=null,d.contextStrokeState_=null,d.contextTextState_=null,d.fillState_=null,d.strokeState_=null,d.image_=null,d.imageAnchorX_=0,d.imageAnchorY_=0,d.imageHeight_=0,d.imageOpacity_=0,d.imageOriginX_=0,d.imageOriginY_=0,d.imageRotateWithView_=!1,d.imageRotation_=0,d.imageScale_=[0,0],d.imageWidth_=0,d.text_="",d.textOffsetX_=0,d.textOffsetY_=0,d.textRotateWithView_=!1,d.textRotation_=0,d.textScale_=[0,0],d.textFillState_=null,d.textStrokeState_=null,d.textState_=null,d.pixelCoordinates_=[],d.tmpLocalTransform_=hn(),d}return e.prototype.drawImages_=function(t,o,r,i){if(!!this.image_){var s=ii(t,o,r,i,this.transform_,this.pixelCoordinates_),f=this.context_,c=this.tmpLocalTransform_,d=f.globalAlpha;this.imageOpacity_!=1&&(f.globalAlpha=d*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var g=0,p=s.length;g<p;g+=2){var m=s[g]-this.imageAnchorX_,x=s[g+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var _=m+this.imageAnchorX_,k=x+this.imageAnchorY_;Un(c,_,k,1,1,h,-_,-k),f.setTransform.apply(f,c),f.translate(_,k),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.setTransform(1,0,0,1,0,0)}else f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,m,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(f.globalAlpha=d)}},e.prototype.drawText_=function(t,o,r,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=ii(t,o,r,i,this.transform_,this.pixelCoordinates_),f=this.context_,c=this.textRotation_;for(this.textRotateWithView_&&(c+=this.viewRotation_);o<r;o+=i){var d=s[o]+this.textOffsetX_,h=s[o+1]+this.textOffsetY_;if(c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var g=Un(this.tmpLocalTransform_,d,h,1,1,c,-d,-h);f.setTransform.apply(f,g),f.translate(d,h),f.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&f.strokeText(this.text_,0,0),this.textFillState_&&f.fillText(this.text_,0,0),f.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&f.strokeText(this.text_,d,h),this.textFillState_&&f.fillText(this.text_,d,h)}}},e.prototype.moveToLineTo_=function(t,o,r,i,s){var f=this.context_,c=ii(t,o,r,i,this.transform_,this.pixelCoordinates_);f.moveTo(c[0],c[1]);var d=c.length;s&&(d-=2);for(var h=2;h<d;h+=2)f.lineTo(c[h],c[h+1]);return s&&f.closePath(),r},e.prototype.drawRings_=function(t,o,r,i){for(var s=0,f=r.length;s<f;++s)o=this.moveToLineTo_(t,o,r[s],i,!0);return o},e.prototype.drawCircle=function(t){if(!!Qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=SC(t,this.transform_,this.pixelCoordinates_),r=o[2]-o[0],i=o[3]-o[1],s=Math.sqrt(r*r+i*i),f=this.context_;f.beginPath(),f.arc(o[0],o[1],s,0,2*Math.PI),this.fillState_&&f.fill(),this.strokeState_&&f.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var o=t.getType();switch(o){case ft.POINT:this.drawPoint(t);break;case ft.LINE_STRING:this.drawLineString(t);break;case ft.POLYGON:this.drawPolygon(t);break;case ft.MULTI_POINT:this.drawMultiPoint(t);break;case ft.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case ft.MULTI_POLYGON:this.drawMultiPolygon(t);break;case ft.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case ft.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,o){var r=o.getGeometryFunction()(t);!r||!Qe(this.extent_,r.getExtent())||(this.setStyle(o),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var o=t.getGeometriesArray(),r=0,i=o.length;r<i;++r)this.drawGeometry(o[r])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(o,0,o.length,r),this.text_!==""&&this.drawText_(o,0,o.length,r)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(o,0,o.length,r),this.text_!==""&&this.drawText_(o,0,o.length,r)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,r=t.getFlatCoordinates();o.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),o.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getExtent();if(!!Qe(this.extent_,o)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates(),s=0,f=t.getEnds(),c=t.getStride();r.beginPath();for(var d=0,h=f.length;d<h;++d)s=this.moveToLineTo_(i,s,f[d],c,!1);r.stroke()}if(this.text_!==""){var g=t.getFlatMidpoints();this.drawText_(g,0,g.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_;o.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_,r=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),f=t.getStride();o.beginPath();for(var c=0,d=s.length;c<d;++c){var h=s[c];i=this.drawRings_(r,i,h,f)}this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var g=t.getFlatInteriorPoints();this.drawText_(g,0,g.length,2)}}},e.prototype.setContextFillState_=function(t){var o=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,o.fillStyle=t.fillStyle):(o.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var o=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,o.lineCap=t.lineCap),o.setLineDash&&(ci(r.lineDash,t.lineDash)||o.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,o.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,o.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,o.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,o.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,o.strokeStyle=t.strokeStyle)):(o.lineCap=t.lineCap,o.setLineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.lineWidth=t.lineWidth,o.miterLimit=t.miterLimit,o.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var o=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:ws;r?(r.font!=t.font&&(r.font=t.font,o.font=t.font),r.textAlign!=i&&(r.textAlign=i,o.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,o.textBaseline=t.textBaseline)):(o.font=t.font,o.textAlign=i,o.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,o){var r=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:un(i||Nn)}}if(!o)this.strokeState_=null;else{var s=o.getColor(),f=o.getLineCap(),c=o.getLineDash(),d=o.getLineDashOffset(),h=o.getLineJoin(),g=o.getWidth(),p=o.getMiterLimit(),m=c||gs;this.strokeState_={lineCap:f!==void 0?f:xf,lineDash:this.pixelRatio_===1?m:m.map(function(x){return x*r.pixelRatio_}),lineDashOffset:(d||ms)*this.pixelRatio_,lineJoin:h!==void 0?h:ra,lineWidth:(g!==void 0?g:ys)*this.pixelRatio_,miterLimit:p!==void 0?p:vs,strokeStyle:un(s||xs)}}},e.prototype.setImageStyle=function(t){var o;if(!t||!(o=t.getSize())){this.image_=null;return}var r=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*this.pixelRatio_,this.imageAnchorY_=r[1]*this.pixelRatio_,this.imageHeight_=o[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=o[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var o=t.getFill();if(!o)this.textFillState_=null;else{var r=o.getColor();this.textFillState_={fillStyle:un(r||Nn)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),f=i.getLineCap(),c=i.getLineDash(),d=i.getLineDashOffset(),h=i.getLineJoin(),g=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:xf,lineDash:c||gs,lineDashOffset:d||ms,lineJoin:h!==void 0?h:ra,lineWidth:g!==void 0?g:ys,miterLimit:p!==void 0?p:vs,strokeStyle:un(s||xs)}}var m=t.getFont(),x=t.getOffsetX(),_=t.getOffsetY(),k=t.getRotateWithView(),T=t.getRotation(),A=t.getScaleArray(),O=t.getText(),P=t.getTextAlign(),z=t.getTextBaseline();this.textState_={font:m!==void 0?m:Iv,textAlign:P!==void 0?P:ws,textBaseline:z!==void 0?z:wf},this.text_=O!==void 0?Array.isArray(O)?O.reduce(function(X,U,M){return X+=M%2?" ":U},""):O:"",this.textOffsetX_=x!==void 0?this.pixelRatio_*x:0,this.textOffsetY_=_!==void 0?this.pixelRatio_*_:0,this.textRotateWithView_=k!==void 0?k:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}(Vv),M8=F8,cr={FRACTION:"fraction",PIXELS:"pixels"},Oo={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},z8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),D8=function(n){z8(e,n);function e(t,o,r,i){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=r,s.resolution=o,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return qt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){qt()},e}(da),N8=D8,G8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();(function(n){G8(e,n);function e(t,o,r,i,s,f){var c=n.call(this,t,o,r,pe.IDLE)||this;return c.src_=i,c.image_=new Image,s!==null&&(c.image_.crossOrigin=s),c.unlisten_=null,c.state=pe.IDLE,c.imageLoadFunction_=f,c}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=pe.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=on(this.extent)/this.image_.height),this.state=pe.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==pe.IDLE||this.state==pe.ERROR)&&(this.state=pe.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=on(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(N8);function kh(n,e,t){var o=n,r=!0,i=!1,s=!1,f=[bf(o,Nt.LOAD,function(){s=!0,i||e()})];return o.src&&xC?(i=!0,o.decode().then(function(){r&&e()}).catch(function(c){r&&(s?e():t())})):f.push(bf(o,Nt.ERROR,t)),function(){r=!1,f.forEach(xe)}}var U8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ga=null,B8=function(n){U8(e,n);function e(t,o,r,i,s,f){var c=n.call(this)||this;return c.hitDetectionImage_=null,c.image_=t||new Image,i!==null&&(c.image_.crossOrigin=i),c.canvas_={},c.color_=f,c.unlisten_=null,c.imageState_=s,c.size_=r,c.src_=o,c.tainted_,c}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===pe.LOADED){Ga||(Ga=Uo(1,1)),Ga.drawImage(this.image_,0,0);try{Ga.getImageData(0,0,1,1),this.tainted_=!1}catch{Ga=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=pe.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=pe.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],o=this.size_[1],r=Uo(t,o);r.fillRect(0,0,t,o),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==pe.IDLE){this.imageState_=pe.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==pe.LOADED)){var o=document.createElement("canvas");this.canvas_[t]=o,o.width=Math.ceil(this.image_.width*t),o.height=Math.ceil(this.image_.height*t);var r=o.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply",r.globalCompositeOperation==="multiply"||this.isTainted_())r.fillStyle=kv(this.color_),r.fillRect(0,0,o.width/t,o.height/t),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var i=r.getImageData(0,0,o.width,o.height),s=i.data,f=this.color_[0]/255,c=this.color_[1]/255,d=this.color_[2]/255,h=this.color_[3],g=0,p=s.length;g<p;g+=4)s[g]*=f,s[g+1]*=c,s[g+2]*=d,s[g+3]*=h;r.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(da);function j8(n,e,t,o,r,i){var s=mf.get(e,o,i);return s||(s=new B8(n,e,t,o,r,i),mf.set(e,o,i,s)),s}var Y8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),W8=function(n){Y8(e,n);function e(t){var o=this,r=t||{},i=r.opacity!==void 0?r.opacity:1,s=r.rotation!==void 0?r.rotation:0,f=r.scale!==void 0?r.scale:1,c=r.rotateWithView!==void 0?r.rotateWithView:!1;o=n.call(this,{opacity:i,rotation:s,scale:f,displacement:r.displacement!==void 0?r.displacement:[0,0],rotateWithView:c})||this,o.anchor_=r.anchor!==void 0?r.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=r.anchorOrigin!==void 0?r.anchorOrigin:Oo.TOP_LEFT,o.anchorXUnits_=r.anchorXUnits!==void 0?r.anchorXUnits:cr.FRACTION,o.anchorYUnits_=r.anchorYUnits!==void 0?r.anchorYUnits:cr.FRACTION,o.crossOrigin_=r.crossOrigin!==void 0?r.crossOrigin:null;var d=r.img!==void 0?r.img:null;o.imgSize_=r.imgSize;var h=r.src;Kt(!(h!==void 0&&d),4),Kt(!d||d&&o.imgSize_,5),(h===void 0||h.length===0)&&d&&(h=d.src||ie(d)),Kt(h!==void 0&&h.length>0,6);var g=r.src!==void 0?pe.IDLE:pe.LOADED;return o.color_=r.color!==void 0?gf(r.color):null,o.iconImage_=j8(d,h,o.imgSize_!==void 0?o.imgSize_:null,o.crossOrigin_,g,o.color_),o.offset_=r.offset!==void 0?r.offset:[0,0],o.offsetOrigin_=r.offsetOrigin!==void 0?r.offsetOrigin:Oo.TOP_LEFT,o.origin_=null,o.size_=r.size!==void 0?r.size:null,o}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var o=this.getSize();if(this.anchorXUnits_==cr.FRACTION||this.anchorYUnits_==cr.FRACTION){if(!o)return null;t=this.anchor_.slice(),this.anchorXUnits_==cr.FRACTION&&(t[0]*=o[0]),this.anchorYUnits_==cr.FRACTION&&(t[1]*=o[1])}if(this.anchorOrigin_!=Oo.TOP_LEFT){if(!o)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Oo.TOP_RIGHT||this.anchorOrigin_==Oo.BOTTOM_RIGHT)&&(t[0]=-t[0]+o[0]),(this.anchorOrigin_==Oo.BOTTOM_LEFT||this.anchorOrigin_==Oo.BOTTOM_RIGHT)&&(t[1]=-t[1]+o[1])}this.normalizedAnchor_=t}var r=this.getDisplacement();return[t[0]-r[0],t[1]+r[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Oo.TOP_LEFT){var o=this.getSize(),r=this.iconImage_.getSize();if(!o||!r)return null;t=t.slice(),(this.offsetOrigin_==Oo.TOP_RIGHT||this.offsetOrigin_==Oo.BOTTOM_RIGHT)&&(t[0]=r[0]-o[0]-t[0]),(this.offsetOrigin_==Oo.BOTTOM_LEFT||this.offsetOrigin_==Oo.BOTTOM_RIGHT)&&(t[1]=r[1]-o[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Nt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Nt.CHANGE,t)},e}(Wv),X8=W8,dn=.5;function V8(n,e,t,o,r,i,s){var f=n[0]*dn,c=n[1]*dn,d=Uo(f,c);d.imageSmoothingEnabled=!1;for(var h=d.canvas,g=new M8(d,dn,r,null,s),p=t.length,m=Math.floor((256*256*256-1)/p),x={},_=1;_<=p;++_){var k=t[_-1],T=k.getStyleFunction()||o;if(!!o){var A=T(k,i);if(!!A){Array.isArray(A)||(A=[A]);for(var O=_*m,P="#"+("000000"+O.toString(16)).slice(-6),z=0,X=A.length;z<X;++z){var U=A[z],M=U.getGeometryFunction()(k);if(!(!M||!Qe(r,M.getExtent()))){var q=U.clone(),ot=q.getFill();ot&&ot.setColor(P);var st=q.getStroke();st&&(st.setColor(P),st.setLineDash(null)),q.setText(void 0);var dt=U.getImage();if(dt&&dt.getOpacity()!==0){var ut=dt.getImageSize();if(!ut)continue;var vt=Uo(ut[0],ut[1],void 0,{alpha:!1}),it=vt.canvas;vt.fillStyle=P,vt.fillRect(0,0,it.width,it.height),q.setImage(new X8({img:it,imgSize:ut,anchor:dt.getAnchor(),anchorXUnits:cr.PIXELS,anchorYUnits:cr.PIXELS,offset:dt.getOrigin(),opacity:1,size:dt.getSize(),scale:dt.getScale(),rotation:dt.getRotation(),rotateWithView:dt.getRotateWithView()}))}var ht=q.getZIndex()||0,et=x[ht];et||(et={},x[ht]=et,et[ft.POLYGON]=[],et[ft.CIRCLE]=[],et[ft.LINE_STRING]=[],et[ft.POINT]=[]),et[M.getType().replace("Multi","")].push(M,q)}}}}}for(var ct=Object.keys(x).map(Number).sort(si),_=0,wt=ct.length;_<wt;++_){var et=x[ct[_]];for(var Pt in et)for(var Lt=et[Pt],z=0,X=Lt.length;z<X;z+=2){g.setStyle(Lt[z+1]);for(var $=0,Wt=e.length;$<Wt;++$)g.setTransform(e[$]),g.drawGeometry(Lt[z])}}return d.getImageData(0,0,h.width,h.height)}function H8(n,e,t){var o=[];if(t){var r=Math.floor(Math.round(n[0])*dn),i=Math.floor(Math.round(n[1])*dn),s=(Pe(r,0,t.width-1)+Pe(i,0,t.height-1)*t.width)*4,f=t.data[s],c=t.data[s+1],d=t.data[s+2],h=d+256*(c+256*f),g=Math.floor((256*256*256-1)/e.length);h&&h%g===0&&o.push(e[h/g-1])}return o}var q8=.5,qv={Point:nA,LineString:tA,Polygon:iA,MultiPoint:rA,MultiLineString:eA,MultiPolygon:oA,GeometryCollection:Q8,Circle:Z8};function K8(n,e){return parseInt(ie(n),10)-parseInt(ie(e),10)}function $8(n,e){var t=yu(n,e);return t*t}function yu(n,e){return q8*n/e}function Z8(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(i||s){var f=n.getBuilder(t.getZIndex(),ye.CIRCLE);f.setFillStrokeStyle(i,s),f.drawCircle(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}function Cm(n,e,t,o,r,i,s){var f=!1,c=t.getImage();if(c){var d=c.getImageState();d==pe.LOADED||d==pe.ERROR?c.unlistenImageChange(r):(d==pe.IDLE&&c.load(),d=c.getImageState(),c.listenImageChange(r),f=!0)}return J8(n,e,t,o,i,s),f}function J8(n,e,t,o,r,i){var s=t.getGeometryFunction()(e);if(!!s){var f=s.simplifyTransformed(o,r),c=t.getRenderer();if(c)Kv(n,f,t,e);else{var d=qv[f.getType()];d(n,f,t,e,i)}}}function Kv(n,e,t,o){if(e.getType()==ft.GEOMETRY_COLLECTION){for(var r=e.getGeometries(),i=0,s=r.length;i<s;++i)Kv(n,r[i],t,o);return}var f=n.getBuilder(t.getZIndex(),ye.DEFAULT);f.drawCustom(e,o,t.getRenderer(),t.getHitDetectionRenderer())}function Q8(n,e,t,o,r){var i=e.getGeometriesArray(),s,f;for(s=0,f=i.length;s<f;++s){var c=qv[i[s].getType()];c(n,i[s],t,o,r)}}function tA(n,e,t,o,r){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),ye.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,o)}var f=t.getText();if(f&&f.getText()){var c=(r||n).getBuilder(t.getZIndex(),ye.TEXT);c.setTextStyle(f),c.drawText(e,o)}}function eA(n,e,t,o,r){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),ye.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,o)}var f=t.getText();if(f&&f.getText()){var c=(r||n).getBuilder(t.getZIndex(),ye.TEXT);c.setTextStyle(f),c.drawText(e,o)}}function oA(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(s||i){var f=n.getBuilder(t.getZIndex(),ye.POLYGON);f.setFillStrokeStyle(i,s),f.drawMultiPolygon(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}function nA(n,e,t,o,r){var i=t.getImage(),s=t.getText(),f;if(r&&(n=r,f=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var c=n.getBuilder(t.getZIndex(),ye.IMAGE);c.setImageStyle(i,f),c.drawPoint(e,o)}if(s&&s.getText()){var d=n.getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(s,f),d.drawText(e,o)}}function rA(n,e,t,o,r){var i=t.getImage(),s=t.getText(),f;if(r&&(n=r,f=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var c=n.getBuilder(t.getZIndex(),ye.IMAGE);c.setImageStyle(i,f),c.drawMultiPoint(e,o)}if(s&&s.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(s,f),d.drawText(e,o)}}function iA(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(i||s){var f=n.getBuilder(t.getZIndex(),ye.POLYGON);f.setFillStrokeStyle(i,s),f.drawPolygon(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}var aA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),sA=function(n){aA(e,n);function e(t){var o=n.call(this,t)||this;return o.boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(o),o.animatingOrInteracting_,o.dirty_=!1,o.hitDetectionImageData_=null,o.renderedFeatures_=null,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=No(),o.wrappedRenderedExtent_=No(),o.renderedRotation_,o.renderedCenter_=null,o.renderedProjection_=null,o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o.declutterExecutorGroup=null,o.clipping=!0,o}return e.prototype.renderWorlds=function(t,o,r){var i=o.extent,s=o.viewState,f=s.center,c=s.resolution,d=s.projection,h=s.rotation,g=d.getExtent(),p=this.getLayer().getSource(),m=o.pixelRatio,x=o.viewHints,_=!(x[He.ANIMATING]||x[He.INTERACTING]),k=this.context,T=Math.round(o.size[0]*m),A=Math.round(o.size[1]*m),O=p.getWrapX()&&d.canWrapX(),P=O?ke(g):null,z=O?Math.ceil((i[2]-g[2])/P)+1:1,X=O?Math.floor((i[0]-g[0])/P):0;do{var U=this.getRenderTransform(f,c,h,m,T,A,X*P);t.execute(k,1,U,h,_,void 0,r)}while(++X<z)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,o){var r=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];_C(this.pixelTransform,1/r,1/r),ah(this.inversePixelTransform,this.pixelTransform);var s=iv(this.pixelTransform);this.useContainer(o,s,i.opacity,this.getBackground(t));var f=this.context,c=f.canvas,d=this.replayGroup_,h=this.declutterExecutorGroup;if((!d||d.isEmpty())&&(!h||h.isEmpty()))return null;var g=Math.round(t.size[0]*r),p=Math.round(t.size[1]*r);c.width!=g||c.height!=p?(c.width=g,c.height=p,c.style.transform!==s&&(c.style.transform=s)):this.containerReused||f.clearRect(0,0,g,p),this.preRender(f,t);var m=t.viewState,x=m.projection,_=!1,k=!0;if(i.extent&&this.clipping){var T=$r(i.extent,x);k=Qe(T,t.extent),_=k&&!Yi(T,t.extent),_&&this.clipUnrotated(f,t,T)}k&&this.renderWorlds(d,t),_&&f.restore(),this.postRender(f,t);var A=Av(i.opacity),O=this.container;return A!==O.style.opacity&&(O.style.opacity=A),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(o){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Se(this.pixelTransform,r);var i=this.renderedCenter_,s=this.renderedResolution_,f=this.renderedRotation_,c=this.renderedProjection_,d=this.wrappedRenderedExtent_,h=this.getLayer(),g=[],p=r[0]*dn,m=r[1]*dn;g.push(this.getRenderTransform(i,s,f,dn,p,m,0).slice());var x=h.getSource(),_=c.getExtent();if(x.getWrapX()&&c.canWrapX()&&!Yi(_,d)){for(var k=d[0],T=ke(_),A=0,O=void 0;k<_[0];)--A,O=T*A,g.push(this.getRenderTransform(i,s,f,dn,p,m,O).slice()),k+=T;for(A=0,k=d[2];k>_[2];)++A,O=T*A,g.push(this.getRenderTransform(i,s,f,dn,p,m,O).slice()),k-=T}this.hitDetectionImageData_=V8(r,g,this.renderedFeatures_,h.getStyleFunction(),d,s,f)}o(H8(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s){var f=this;if(!!this.replayGroup_){var c=o.viewState.resolution,d=o.viewState.rotation,h=this.getLayer(),g={},p=function(_,k,T){var A=ie(_),O=g[A];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return g[A]=!0,s.splice(s.lastIndexOf(O),1),i(_,h,k);O.geometry=k,O.distanceSq=T}}else{if(T===0)return g[A]=!0,i(_,h,k);s.push(g[A]={feature:_,layer:h,geometry:k,distanceSq:T,callback:i})}},m,x=[this.replayGroup_];return this.declutterExecutorGroup&&x.push(this.declutterExecutorGroup),x.some(function(_){return m=_.forEachFeatureAtCoordinate(t,c,d,r,p,_===f.declutterExecutorGroup&&o.declutterTree?o.declutterTree.all().map(function(k){return k.value}):null)}),m}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var o=this.getLayer(),r=o.getSource();if(!r)return!1;var i=t.viewHints[He.ANIMATING],s=t.viewHints[He.INTERACTING],f=o.getUpdateWhileAnimating(),c=o.getUpdateWhileInteracting();if(!this.dirty_&&!f&&i||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,h=t.viewState,g=h.projection,p=h.resolution,m=t.pixelRatio,x=o.getRevision(),_=o.getRenderBuffer(),k=o.getRenderOrder();k===void 0&&(k=K8);var T=h.center.slice(),A=Ku(d,_*p),O=A.slice(),P=[A.slice()],z=g.getExtent();if(r.getWrapX()&&g.canWrapX()&&!Yi(z,t.extent)){var X=ke(z),U=Math.max(ke(A)/2,X);A[0]=z[0]-U,A[2]=z[2]+U,Q0(T,g);var M=BE(P[0],g);M[0]<z[0]&&M[2]<z[2]?P.push([M[0]+X,M[1],M[2]+X,M[3]]):M[0]>z[0]&&M[2]>z[2]&&P.push([M[0]-X,M[1],M[2]-X,M[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==x&&this.renderedRenderOrder_==k&&Yi(this.wrappedRenderedExtent_,A))return ci(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var q=new ym(yu(p,m),A,p,m),ot;this.getLayer().getDeclutter()&&(ot=new ym(yu(p,m),A,p,m));var st=Os(),dt;if(st){for(var ut=0,vt=P.length;ut<vt;++ut){var it=P[ut],ht=du(it,g);r.loadFeatures(ht,oC(p,g),st)}dt=oa(st,g)}else for(var ut=0,vt=P.length;ut<vt;++ut)r.loadFeatures(P[ut],p,g);var et=$8(p,m),ct=function(Wt){var Et,N=Wt.getStyleFunction()||o.getStyleFunction();if(N&&(Et=N(Wt,p)),Et){var nt=this.renderFeature(Wt,et,Et,q,dt,ot);this.dirty_=this.dirty_||nt}}.bind(this),wt=du(A,g),Pt=r.getFeaturesInExtent(wt);k&&Pt.sort(k);for(var ut=0,vt=Pt.length;ut<vt;++ut)ct(Pt[ut]);this.renderedFeatures_=Pt;var Lt=q.finish(),$=new Em(A,p,m,r.getOverlaps(),Lt,o.getRenderBuffer());return ot&&(this.declutterExecutorGroup=new Em(A,p,m,r.getOverlaps(),ot.finish(),o.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=x,this.renderedRenderOrder_=k,this.renderedExtent_=O,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=g,this.replayGroup_=$,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,o,r,i,s,f){if(!r)return!1;var c=!1;if(Array.isArray(r))for(var d=0,h=r.length;d<h;++d)c=Cm(i,t,r[d],o,this.boundHandleStyleImageChange_,s,f)||c;else c=Cm(i,t,r,o,this.boundHandleStyleImageChange_,s,f);return c},e}(Hv),lA=sA,fA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),cA=function(n){fA(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new lA(this)},e}(e8),_u=cA,dA=function(){function n(e){this.rbush_=new Yv(e),this.items_={}}return n.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[ie(t)]=o},n.prototype.load=function(e,t){for(var o=new Array(t.length),r=0,i=t.length;r<i;r++){var s=e[r],f=t[r],c={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:f};o[r]=c,this.items_[ie(f)]=c}this.rbush_.load(o)},n.prototype.remove=function(e){var t=ie(e),o=this.items_[t];return delete this.items_[t],this.rbush_.remove(o)!==null},n.prototype.update=function(e,t){var o=this.items_[ie(t)],r=[o.minX,o.minY,o.maxX,o.maxY];us(r,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(r){return r.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var o,r=0,i=e.length;r<i;r++)if(o=t(e[r]),o)return o;return o},n.prototype.isEmpty=function(){return ds(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return en(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),Tm=dA,uA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),hA=function(n){uA(e,n);function e(t){var o=n.call(this)||this;o.projection=fo(t.projection),o.attributions_=Rm(t.attributions),o.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,o.loading=!1,o.state_=t.state!==void 0?t.state:fi.READY,o.wrapX_=t.wrapX!==void 0?t.wrapX:!1,o.interpolate_=!!t.interpolate,o.viewResolver=null,o.viewRejector=null;var r=o;return o.viewPromise_=new Promise(function(i,s){r.viewResolver=i,r.viewRejector=s}),o}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return qt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Rm(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(gn);function Rm(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var $v=hA,Ho={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function pA(n,e){return[[-1/0,-1/0,1/0,1/0]]}var bA=!1;function gA(n,e,t,o,r,i,s){var f=new XMLHttpRequest;f.open("GET",typeof n=="function"?n(t,o,r):n,!0),e.getType()==Da.ARRAY_BUFFER&&(f.responseType="arraybuffer"),f.withCredentials=bA,f.onload=function(c){if(!f.status||f.status>=200&&f.status<300){var d=e.getType(),h=void 0;d==Da.JSON||d==Da.TEXT?h=f.responseText:d==Da.XML?(h=f.responseXML,h||(h=new DOMParser().parseFromString(f.responseText,"application/xml"))):d==Da.ARRAY_BUFFER&&(h=f.response),h?i(e.readFeatures(h,{extent:t,featureProjection:r}),e.readProjection(h)):s()}else s()},f.onerror=s,f.send()}function Am(n,e){return function(t,o,r,i,s){var f=this;gA(n,e,t,o,r,function(c,d){f.addFeatures(c),i!==void 0&&i(c)},s||li)}}var Zv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),nr=function(n){Zv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.feature=o,i.features=r,i}return e}(bn),mA=function(n){Zv(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:fi.READY,wrapX:r.wrapX!==void 0?r.wrapX:!0})||this,o.on,o.once,o.un,o.loader_=li,o.format_=r.format,o.overlaps_=r.overlaps===void 0?!0:r.overlaps,o.url_=r.url,r.loader!==void 0?o.loader_=r.loader:o.url_!==void 0&&(Kt(o.format_,7),o.loader_=Am(o.url_,o.format_)),o.strategy_=r.strategy!==void 0?r.strategy:pA;var i=r.useSpatialIndex!==void 0?r.useSpatialIndex:!0;o.featuresRtree_=i?new Tm:null,o.loadedExtentsRtree_=new Tm,o.loadingExtentsCount_=0,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null;var s,f;return Array.isArray(r.features)?f=r.features:r.features&&(s=r.features,f=s.getArray()),!i&&s===void 0&&(s=new Fo(f)),f!==void 0&&o.addFeaturesInternal(f),s!==void 0&&o.bindFeaturesCollection_(s),o}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var o=ie(t);if(!this.addToIndex_(o,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(o,t);var r=t.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[o]=t;this.dispatchEvent(new nr(Ho.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,o){this.featureChangeKeys_[t]=[Qt(o,Nt.CHANGE,this.handleFeatureChange_,this),Qt(o,na.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,o){var r=!0,i=o.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=o),r&&(Kt(!(t in this.uidIndex_),30),this.uidIndex_[t]=o),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var o=[],r=[],i=[],s=0,f=t.length;s<f;s++){var c=t[s],d=ie(c);this.addToIndex_(d,c)&&r.push(c)}for(var s=0,h=r.length;s<h;s++){var c=r[s],d=ie(c);this.setupChangeEvents_(d,c);var g=c.getGeometry();if(g){var p=g.getExtent();o.push(p),i.push(c)}else this.nullGeometryFeatures_[d]=c}if(this.featuresRtree_&&this.featuresRtree_.load(o,i),this.hasListener(Ho.ADDFEATURE))for(var s=0,m=r.length;s<m;s++)this.dispatchEvent(new nr(Ho.ADDFEATURE,r[s]))},e.prototype.bindFeaturesCollection_=function(t){var o=!1;this.addEventListener(Ho.ADDFEATURE,function(r){o||(o=!0,t.push(r.feature),o=!1)}),this.addEventListener(Ho.REMOVEFEATURE,function(r){o||(o=!0,t.remove(r.feature),o=!1)}),t.addEventListener(so.ADD,function(r){o||(o=!0,this.addFeature(r.element),o=!1)}.bind(this)),t.addEventListener(so.REMOVE,function(r){o||(o=!0,this.removeFeature(r.element),o=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var o in this.featureChangeKeys_){var r=this.featureChangeKeys_[o];r.forEach(xe)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(c){this.removeFeatureInternal(c)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var f=new nr(Ho.CLEAR);this.dispatchEvent(f),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,o){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return o(i)})},e.prototype.forEachFeatureInExtent=function(t,o){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,o);this.featuresCollection_&&this.featuresCollection_.forEach(o)},e.prototype.forEachFeatureIntersectingExtent=function(t,o){return this.forEachFeatureInExtent(t,function(r){var i=r.getGeometry();if(i.intersectsExtent(t)){var s=o(r);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ds(this.nullGeometryFeatures_)||Dn(t,q0(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var o=[];return this.forEachFeatureAtCoordinateDirect(t,function(r){o.push(r)}),o},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,o){var r=t[0],i=t[1],s=null,f=[NaN,NaN],c=1/0,d=[-1/0,-1/0,1/0,1/0],h=o||ri;return this.featuresRtree_.forEachInExtent(d,function(g){if(h(g)){var p=g.getGeometry(),m=c;if(c=p.closestPointXY(r,i,f,c),c<m){s=g;var x=Math.sqrt(c);d[0]=r-x,d[1]=i-x,d[2]=r+x,d[3]=i+x}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var o=this.idIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getFeatureByUid=function(t){var o=this.uidIndex_[t];return o!==void 0?o:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var o=t.target,r=ie(o),i=o.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(o),this.nullGeometryFeatures_[r]=o);else{var s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,o)):this.featuresRtree_&&this.featuresRtree_.update(s,o)}var f=o.getId();if(f!==void 0){var c=f.toString();this.idIndex_[c]!==o&&(this.removeFromIdIndex_(o),this.idIndex_[c]=o)}else this.removeFromIdIndex_(o),this.uidIndex_[r]=o;this.changed(),this.dispatchEvent(new nr(Ho.CHANGEFEATURE,o))},e.prototype.hasFeature=function(t){var o=t.getId();return o!==void 0?o in this.idIndex_:ie(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ds(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,o,r){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,o,r),f=function(g,p){var m=s[g],x=i.forEachInExtent(m,function(_){return Yi(_.extent,m)});x||(++c.loadingExtentsCount_,c.dispatchEvent(new nr(Ho.FEATURESLOADSTART)),c.loader_.call(c,m,o,r,function(_){--this.loadingExtentsCount_,this.dispatchEvent(new nr(Ho.FEATURESLOADEND,void 0,_))}.bind(c),function(){--this.loadingExtentsCount_,this.dispatchEvent(new nr(Ho.FEATURESLOADERROR))}.bind(c)),i.insert(m,{extent:m.slice()}))},c=this,d=0,h=s.length;d<h;++d)f(d);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var o=this.loadedExtentsRtree_,r;o.forEachInExtent(t,function(i){if(us(i.extent,t))return r=i,!0}),r&&o.remove(r)},e.prototype.removeFeature=function(t){if(!!t){var o=ie(t);o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:this.featuresRtree_&&this.featuresRtree_.remove(t);var r=this.removeFeatureInternal(t);r&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var o=ie(t),r=this.featureChangeKeys_[o];if(!!r){r.forEach(xe),delete this.featureChangeKeys_[o];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[o],this.dispatchEvent(new nr(Ho.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var o=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],o=!0;break}return o},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Kt(this.format_,7),this.url_=t,this.setLoader(Am(t,this.format_))},e}($v),ku=mA,Jv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ee={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Vl={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Hl=function(n){Jv(e,n);function e(t,o){var r=n.call(this,t)||this;return r.feature=o,r}return e}(bn),vA=function(n){Jv(e,n);function e(t){var o=this,r=t;r.stopDown||(r.stopDown=Ss),o=n.call(this,r)||this,o.on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=t.source?t.source:null,o.features_=t.features?t.features:null,o.snapTolerance_=t.snapTolerance?t.snapTolerance:12,o.type_=t.type,o.mode_=yA(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints?t.minPoints:o.mode_===ee.POLYGON?3:2,o.maxPoints_=o.mode_===ee.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,o.finishCondition_=t.finishCondition?t.finishCondition:ri;var i=t.geometryFunction;if(!i){var s=o.mode_;if(s===ee.CIRCLE)i=function(c,d,h){var g=d||new fv([NaN,NaN]),p=So(c[0],h),m=VE(p,So(c[c.length-1],h));g.setCenterAndRadius(p,Math.sqrt(m));var x=Os();return x&&g.transform(h,x),g};else{var f;s===ee.POINT?f=ai:s===ee.LINE_STRING?f=vr:s===ee.POLYGON&&(f=bs),i=function(c,d,h){return d?s===ee.POLYGON?c[0].length?d.setCoordinates([c[0].concat([c[0][0]])]):d.setCoordinates([]):d.setCoordinates(c):d=new f(c),d}}}return o.geometryFunction_=i,o.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new _u({source:new ku({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:xA(),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition?t.condition:_h,o.freehandCondition_,t.freehand?o.freehandCondition_=Dv:o.freehandCondition_=t.freehandCondition?t.freehandCondition:Gv,o.addChangeListener(xu.ACTIVE,o.updateState_),o}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===Nt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==ee.POINT&&this.freehandCondition_(t);var o=t.type===oe.POINTERMOVE,r=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===oe.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===oe.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),r=!1):this.freehand_&&t.type===oe.POINTERDOWN?r=!1:o&&this.getPointerCount()<2?(r=t.type===oe.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===oe.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===oe.DBLCLICK&&(r=!1),n.prototype.handleEvent.call(this,t)&&r},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Pn(oe.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var o=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var r=!this.finishCoordinate_;r&&this.startDrawing_(t.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||this.mode_===ee.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),o=!1}else this.freehand_&&this.abortDrawing();return!o&&this.stopClick_&&t.preventDefault(),o},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var o=this.downPx_,r=t.pixel,i=o[0]-r[0],s=o[1]-r[1],f=i*i+s*s;if(this.shouldHandle_=this.freehand_?f>this.squaredClickTolerance_:f<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var o=!1;if(this.sketchFeature_){var r=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===ee.POINT)o=!0;else if(s===ee.CIRCLE)o=this.sketchCoords_.length===2;else if(s===ee.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(s===ee.POLYGON){var f=this.sketchCoords_;r=f[0].length>this.minPoints_,i=[f[0][0],f[0][f[0].length-2]]}if(r)for(var c=this.getMap(),d=0,h=i.length;d<h;d++){var g=i[d],p=c.getPixelFromCoordinate(g),m=t[0]-p[0],x=t[1]-p[1],_=this.freehand_?1:this.snapTolerance_;if(o=Math.sqrt(m*m+x*x)<=_,o){this.finishCoordinate_=g;break}}}return o},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new qr(new ai(t)),this.updateSketchFeatures_();else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new qr);var o=t.getLinearRing(0),r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(o.getLayout(),o.getFlatCoordinates()),r.changed()):(r=new vr(o.getFlatCoordinates(),o.getLayout()),this.sketchLine_.setGeometry(r))},e.prototype.startDrawing_=function(t){var o=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===ee.POINT?this.sketchCoords_=t.slice():this.mode_===ee.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new qr(new vr(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,o);this.sketchFeature_=new qr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new Hl(Vl.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var o=this.getMap(),r=this.sketchFeature_.getGeometry(),i=o.getView().getProjection(),s,f;if(this.mode_===ee.POINT?f=this.sketchCoords_:this.mode_===ee.POLYGON?(s=this.sketchCoords_[0],f=s[s.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,f=s[s.length-1]),f[0]=t[0],f[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_){var c=this.sketchPoint_.getGeometry();c.setCoordinates(t)}if(r.getType()===ft.POLYGON&&this.mode_!==ee.POLYGON)this.createOrUpdateCustomSketchLine_(r);else if(this.sketchLineCoords_){var d=this.sketchLine_.getGeometry();d.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var o=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i,s,f=this.mode_;f===ee.LINE_STRING||f===ee.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,o,r)):f===ee.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,o,r)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),r,i=this.mode_;if(i===ee.LINE_STRING||i===ee.CIRCLE){if(r=this.sketchCoords_,r.splice(-2,1),r.length>=2){this.finishCoordinate_=r[r.length-2].slice();var s=this.finishCoordinate_.slice();r[r.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(r,t,o),t.getType()===ft.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===ee.POLYGON){r=this.sketchCoords_[0],r.splice(-2,1);var f=this.sketchLine_.getGeometry();if(r.length>=2){var s=r[r.length-2].slice();r[r.length-1]=s,this.createOrUpdateSketchPoint_(s)}f.setCoordinates(r),this.geometryFunction_(this.sketchCoords_,t,o)}r.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var o=this.sketchCoords_,r=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===ee.LINE_STRING?(o.pop(),this.geometryFunction_(o,r,i)):this.mode_===ee.POLYGON&&(o[0].pop(),this.geometryFunction_(o,r,i),o=r.getCoordinates()),this.type_===ft.MULTI_POINT?t.setGeometry(new mv([o])):this.type_===ft.MULTI_LINE_STRING?t.setGeometry(new JC([o])):this.type_===ft.MULTI_POLYGON&&t.setGeometry(new cT([o])),this.dispatchEvent(new Hl(Vl.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Hl(Vl.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var o=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(t[0]);var i;if(o===ee.LINE_STRING||o===ee.CIRCLE)i=this.sketchCoords_;else if(o===ee.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var f=t[t.length-1];this.addToDrawing_(f),this.modifyDrawing_(f)},e.prototype.extend=function(t){var o=t.getGeometry(),r=o;this.sketchFeature_=t,this.sketchCoords_=r.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new qr(new ai(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Hl(Vl.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),o=this.getActive();(!t||!o)&&this.abortDrawing(),this.overlay_.setMap(o?t:null)},e}(ha);function xA(){var n=ZR();return function(e,t){return n[e.getGeometry().getType()]}}function wA(){return function(n,e,t){var o=iu([n[0],n[n.length-1]].map(function(f){return So(f,t)})),r=[[ta(o),As(o),Is(o),kr(o),ta(o)]],i=e;i?i.setCoordinates(r):i=new bs(r);var s=Os();return s&&i.transform(t,s),i}}function yA(n){switch(n){case ft.POINT:case ft.MULTI_POINT:return ee.POINT;case ft.LINE_STRING:case ft.MULTI_LINE_STRING:return ee.LINE_STRING;case ft.POLYGON:case ft.MULTI_POLYGON:return ee.POLYGON;case ft.CIRCLE:return ee.CIRCLE;default:throw new Error("Invalid type: "+n)}}var _A=vA;function kA(n){var e=n||{},t=new Fo,o=new yR(-.005,.05,100),r=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;r&&t.push(new iR);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new H7({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new oR({onFocusOnly:e.onFocusOnly,kinetic:o}));var f=e.pinchRotate!==void 0?e.pinchRotate:!0;f&&t.push(new RR);var c=e.pinchZoom!==void 0?e.pinchZoom:!0;c&&t.push(new OR({duration:e.zoomDuration}));var d=e.keyboard!==void 0?e.keyboard:!0;d&&(t.push(new gR),t.push(new xR({delta:e.zoomDelta,duration:e.zoomDuration})));var h=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;h&&t.push(new ER({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var g=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return g&&t.push(new hR({duration:e.zoomDuration})),t}var EA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),CA=function(n){EA(e,n);function e(t){return t=De({},t),t.controls||(t.controls=Mv()),t.interactions||(t.interactions=kA({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new s7(this)},e}(R7),TA=CA,RA=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var o=this.entries_[e];return Kt(o!==void 0,15),o===this.newest_||(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o),o.value_},n.prototype.remove=function(e){var t=this.entries_[e];return Kt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){Kt(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),AA=RA,IA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),OA=function(n){IA(e,n);function e(t,o,r){var i=n.call(this)||this,s=r||{};return i.tileCoord=t,i.state=o,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==At.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,o=this;do{if(t.getState()==At.LOADED){t.interimTile=null;break}else t.getState()==At.LOADING?o=t:t.getState()==At.IDLE?o.interimTile=t.interimTile:o=t;t=o.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==At.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){qt()},e.prototype.getAlpha=function(t,o){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(!r)r=o,this.transitionStarts_[t]=r;else if(r===-1)return 1;var i=o-r+1e3/60;return i>=this.transition_?1:_v(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(da),Qv=OA,SA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),PA=function(n){SA(e,n);function e(t,o,r,i,s,f){var c=n.call(this,t,o,f)||this;return c.crossOrigin_=i,c.src_=r,c.key=r,c.image_=new Image,i!==null&&(c.image_.crossOrigin=i),c.unlisten_=null,c.tileLoadFunction_=s,c}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=At.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=At.ERROR,this.unlistenImage_(),this.image_=LA(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=At.LOADED:this.state=At.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==At.ERROR&&(this.state=At.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==At.IDLE&&(this.state=At.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Qv);function LA(){var n=Uo(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var tx=PA,FA=.5,In=!0,MA=10,Im=.25,zA=function(){function n(e,t,o,r,i,s){this.sourceProj_=e,this.targetProj_=t;var f={},c=hs(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){var P=O[0]+"/"+O[1];return f[P]||(f[P]=c(O)),f[P]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ke(r)==ke(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ke(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ke(this.targetProj_.getExtent()):null;var d=kr(o),h=Is(o),g=As(o),p=ta(o),m=this.transformInv_(d),x=this.transformInv_(h),_=this.transformInv_(g),k=this.transformInv_(p),T=MA+(s?Math.max(0,Math.ceil(bE(su(o)/(s*s*256*256)))):0);if(this.addQuad_(d,h,g,p,m,x,_,k,T),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(O,P,z){A=Math.min(A,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(function(O){if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-A>this.sourceWorldWidth_/2){var P=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];P[0][0]-A>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-A>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-A>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);var z=Math.min(P[0][0],P[1][0],P[2][0]),X=Math.max(P[0][0],P[1][0],P[2][0]);X-z<this.sourceWorldWidth_/2&&(O.source=P)}}.bind(this))}f={}}return n.prototype.addTriangle_=function(e,t,o,r,i,s){this.triangles_.push({source:[r,i,s],target:[e,t,o]})},n.prototype.addQuad_=function(e,t,o,r,i,s,f,c,d){var h=iu([i,s,f,c]),g=this.sourceWorldWidth_?ke(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&g>.5&&g<1,x=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=iu([e,t,o,r]),k=ke(_)/this.targetWorldWidth_;x=k>Im||x}!m&&this.sourceProj_.isGlobal()&&g&&(x=g>Im||x)}if(!(!x&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!Qe(h,this.maxSourceExtent_))){var T=0;if(!x&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)x=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(f[0])||!isFinite(f[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(d>0){if(!x){var A=[(e[0]+o[0])/2,(e[1]+o[1])/2],O=this.transformInv_(A),P=void 0;if(m){var z=(Hi(i[0],p)+Hi(f[0],p))/2;P=z-Hi(O[0],p)}else P=(i[0]+f[0])/2-O[0];var X=(i[1]+f[1])/2-O[1],U=P*P+X*X;x=U>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var M=[(t[0]+o[0])/2,(t[1]+o[1])/2],q=this.transformInv_(M),ot=[(r[0]+e[0])/2,(r[1]+e[1])/2],st=this.transformInv_(ot);this.addQuad_(e,t,M,ot,i,s,q,st,d-1),this.addQuad_(ot,M,o,r,st,q,f,c,d-1)}else{var dt=[(e[0]+t[0])/2,(e[1]+t[1])/2],ut=this.transformInv_(dt),vt=[(o[0]+r[0])/2,(o[1]+r[1])/2],it=this.transformInv_(vt);this.addQuad_(e,dt,vt,r,i,ut,it,c,d-1),this.addQuad_(dt,t,o,vt,ut,s,f,it,d-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,o,r,i,f,c),(T&14)==0&&this.addTriangle_(e,o,t,i,f,s),T&&((T&13)==0&&this.addTriangle_(t,r,e,s,c,i),(T&7)==0&&this.addTriangle_(t,r,o,s,c,f))}},n.prototype.calculateSourceExtent=function(){var e=No();return this.triangles_.forEach(function(t,o,r){var i=t.source;Ja(e,i[0]),Ja(e,i[1]),Ja(e,i[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),DA=zA,Eu={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},NA={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Pd;function Om(n,e,t,o,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(o,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,o)+1,Math.max(t,r)),n.restore()}function Ld(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function GA(){if(Pd===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Om(n,4,5,4,0),Om(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;Pd=Ld(e,0)||Ld(e,4)||Ld(e,8)}return Pd}function Sm(n,e,t,o){var r=nh(t,e,n),i=Hg(e,o,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var f=n.getMetersPerUnit();f!==void 0&&(i/=f);var c=n.getExtent();if(!c||Rs(c,r)){var d=Hg(n,i,r)/i;isFinite(d)&&d>0&&(i/=d)}return i}function UA(n,e,t,o){var r=ea(t),i=Sm(n,e,r,o);return(!isFinite(i)||i<=0)&&Zu(t,function(s){return i=Sm(n,e,s,o),isFinite(i)&&i>0}),i}function BA(n,e,t,o,r,i,s,f,c,d,h,g){var p=Uo(Math.round(t*n),Math.round(t*e));if(g||De(p,Eu),c.length===0)return p.canvas;p.scale(t,t);function m(P){return Math.round(P*t)/t}p.globalCompositeOperation="lighter";var x=No();c.forEach(function(P,z,X){ME(x,P.extent)});var _=ke(x),k=on(x),T=Uo(Math.round(t*_/o),Math.round(t*k/o));g||De(T,Eu);var A=t/o;c.forEach(function(P,z,X){var U=P.extent[0]-x[0],M=-(P.extent[3]-x[3]),q=ke(P.extent),ot=on(P.extent);P.image.width>0&&P.image.height>0&&T.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,U*A,M*A,q*A,ot*A)});var O=kr(s);return f.getTriangles().forEach(function(P,z,X){var U=P.source,M=P.target,q=U[0][0],ot=U[0][1],st=U[1][0],dt=U[1][1],ut=U[2][0],vt=U[2][1],it=m((M[0][0]-O[0])/i),ht=m(-(M[0][1]-O[1])/i),et=m((M[1][0]-O[0])/i),ct=m(-(M[1][1]-O[1])/i),wt=m((M[2][0]-O[0])/i),Pt=m(-(M[2][1]-O[1])/i),Lt=q,$=ot;q=0,ot=0,st-=Lt,dt-=$,ut-=Lt,vt-=$;var Wt=[[st,dt,0,0,et-it],[ut,vt,0,0,wt-it],[0,0,st,dt,ct-ht],[0,0,ut,vt,Pt-ht]],Et=mE(Wt);if(!!Et){if(p.save(),p.beginPath(),GA()||!g){p.moveTo(et,ct);for(var N=4,nt=it-et,Q=ht-ct,at=0;at<N;at++)p.lineTo(et+m((at+1)*nt/N),ct+m(at*Q/(N-1))),at!=N-1&&p.lineTo(et+m((at+1)*nt/N),ct+m((at+1)*Q/(N-1)));p.lineTo(wt,Pt)}else p.moveTo(et,ct),p.lineTo(it,ht),p.lineTo(wt,Pt);p.clip(),p.transform(Et[0],Et[2],Et[1],Et[3],it,ht),p.translate(x[0]-Lt,x[3]-$),p.scale(o/t,-o/t),p.drawImage(T.canvas,0,0),p.restore()}}),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,f.getTriangles().forEach(function(P,z,X){var U=P.target,M=(U[0][0]-O[0])/i,q=-(U[0][1]-O[1])/i,ot=(U[1][0]-O[0])/i,st=-(U[1][1]-O[1])/i,dt=(U[2][0]-O[0])/i,ut=-(U[2][1]-O[1])/i;p.beginPath(),p.moveTo(ot,st),p.lineTo(M,q),p.lineTo(dt,ut),p.closePath(),p.stroke()}),p.restore()),p.canvas}var jA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YA=function(n){jA(e,n);function e(t,o,r,i,s,f,c,d,h,g,p,m){var x=n.call(this,s,At.IDLE,{interpolate:!!m})||this;x.renderEdges_=p!==void 0?p:!1,x.pixelRatio_=c,x.gutter_=d,x.canvas_=null,x.sourceTileGrid_=o,x.targetTileGrid_=i,x.wrappedTileCoord_=f||s,x.sourceTiles_=[],x.sourcesListenerKeys_=null,x.sourceZ_=0;var _=i.getTileCoordExtent(x.wrappedTileCoord_),k=x.targetTileGrid_.getExtent(),T=x.sourceTileGrid_.getExtent(),A=k?Qa(_,k):_;if(su(A)===0)return x.state=At.EMPTY,x;var O=t.getExtent();O&&(T?T=Qa(T,O):T=O);var P=i.getResolution(x.wrappedTileCoord_[0]),z=UA(t,r,A,P);if(!isFinite(z)||z<=0)return x.state=At.EMPTY,x;var X=g!==void 0?g:FA;if(x.triangulation_=new DA(t,r,A,T,z*X,P),x.triangulation_.getTriangles().length===0)return x.state=At.EMPTY,x;x.sourceZ_=o.getZForResolution(z);var U=x.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(U[1]=Pe(U[1],T[1],T[3]),U[3]=Pe(U[3],T[1],T[3])):U=Qa(U,T)),!su(U))x.state=At.EMPTY;else{for(var M=o.getTileRangeForExtentAndZ(U,x.sourceZ_),q=M.minX;q<=M.maxX;q++)for(var ot=M.minY;ot<=M.maxY;ot++){var st=h(x.sourceZ_,q,ot,c);st&&x.sourceTiles_.push(st)}x.sourceTiles_.length===0&&(x.state=At.EMPTY)}return x}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(h,g,p){h&&h.getState()==At.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(h.tileCoord),image:h.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=At.ERROR;else{var o=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(o),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],f=this.targetTileGrid_.getResolution(o),c=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=BA(i,s,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),f,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=At.LOADED}this.changed()},e.prototype.load=function(){if(this.state==At.IDLE){this.state=At.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(o,r,i){var s=o.getState();if(s==At.IDLE||s==At.LOADING){t++;var f=Qt(o,Nt.CHANGE,function(c){var d=o.getState();(d==At.LOADED||d==At.ERROR||d==At.EMPTY)&&(xe(f),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(f)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(o,r,i){var s=o.getState();s==At.IDLE&&o.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(xe),this.sourcesListenerKeys_=null},e}(Qv),ex=YA;function Pm(n,e,t,o){return o!==void 0?(o[0]=n,o[1]=e,o[2]=t,o):[n,e,t]}function Qf(n,e,t){return n+"/"+e+"/"+t}function ox(n){return Qf(n[0],n[1],n[2])}function WA(n){return n.split("/").map(Number)}function XA(n){return(n[1]<<n[0])+n[2]}function VA(n,e){var t=n[0],o=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(o,r):!0}var HA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),qA=function(n){HA(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var o=this.peekLast();if(o.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),o=WA(t),r=o[0];this.forEach(function(i){i.tileCoord[0]!==r&&(this.remove(ox(i.tileCoord)),i.release())}.bind(this))}},e}(AA),nx=qA,Fd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},rx=function(){function n(e,t,o,r){this.minX=e,this.maxX=t,this.minY=o,this.maxY=r}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function Fi(n,e,t,o,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=o,r):new rx(n,e,t,o)}var ix=rx,KA=[0,0,0],rr=5,$A=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Kt(lC(this.resolutions_,function(s,f){return f-s},!0),17);var t;if(!e.origins){for(var o=0,r=this.resolutions_.length-1;o<r;++o)if(!t)t=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Kt(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=kr(i)),Kt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Kt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:bh,Kt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,f){var c=new ix(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var d=this.getTileRangeForExtentAndZ(i,f);c.minX=Math.max(d.minX,c.minX),c.maxX=Math.min(d.maxX,c.maxX),c.minY=Math.max(d.minY,c.minY),c.maxY=Math.min(d.maxY,c.maxY)}return c},this):i&&this.calculateTileRanges_(i)}return n.prototype.forEachTileCoord=function(e,t,o){for(var r=this.getTileRangeForExtentAndZ(e,t),i=r.minX,s=r.maxX;i<=s;++i)for(var f=r.minY,c=r.maxY;f<=c;++f)o([t,i,f])},n.prototype.forEachTileCoordParentTileRange=function(e,t,o,r){var i,s,f,c=null,d=e[0]-1;for(this.zoomFactor_===2?(s=e[1],f=e[2]):c=this.getTileCoordExtent(e,r);d>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),f=Math.floor(f/2),i=Fi(s,s,f,f,o)):i=this.getTileRangeForExtentAndZ(c,d,o),t(d,i))return!0;--d}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var r=e[1]*2,i=e[2]*2;return Fi(r,r+1,i,i+1,t)}var s=this.getTileCoordExtent(e,o||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,o){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],i=e[1],s=e[2];if(t===r)return Fi(i,s,i,s,o);if(this.zoomFactor_){var f=Math.pow(this.zoomFactor_,t-r),c=Math.floor(i*f),d=Math.floor(s*f);if(t<r)return Fi(c,c,d,d,o);var h=Math.floor(f*(i+1))-1,g=Math.floor(f*(s+1))-1;return Fi(c,h,d,g,o)}var p=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,t,o)},n.prototype.getTileRangeExtent=function(e,t,o){var r=this.getOrigin(e),i=this.getResolution(e),s=Zo(this.getTileSize(e),this.tmpSize_),f=r[0]+t.minX*s[0]*i,c=r[0]+(t.maxX+1)*s[0]*i,d=r[1]+t.minY*s[1]*i,h=r[1]+(t.maxY+1)*s[1]*i;return en(f,d,c,h,o)},n.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=KA;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var i=r[1],s=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),Fi(i,r[1],s,r[2],o)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),r=Zo(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*o,t[1]-(e[2]+.5)*r[1]*o]},n.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Zo(this.getTileSize(e[0]),this.tmpSize_),s=o[0]+e[1]*i[0]*r,f=o[1]-(e[2]+1)*i[1]*r,c=s+i[0]*r,d=f+i[1]*r;return en(s,f,c,d,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,o,r,i){var s=this.getZForResolution(o),f=o/this.getResolution(s),c=this.getOrigin(s),d=Zo(this.getTileSize(s),this.tmpSize_),h=f*(e-c[0])/o/d[0],g=f*(c[1]-t)/o/d[1];return r?(h=Dl(h,rr)-1,g=Dl(g,rr)-1):(h=zl(h,rr),g=zl(g,rr)),Pm(s,h,g,i)},n.prototype.getTileCoordForXYAndZ_=function(e,t,o,r,i){var s=this.getOrigin(o),f=this.getResolution(o),c=Zo(this.getTileSize(o),this.tmpSize_),d=(e-s[0])/f/c[0],h=(s[1]-t)/f/c[1];return r?(d=Dl(d,rr)-1,h=Dl(h,rr)-1):(d=zl(d,rr),h=zl(h,rr)),Pm(o,d,h,i)},n.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var o=ih(this.resolutions_,e,t||0);return Pe(o,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=new Array(t),r=this.minZoom;r<t;++r)o[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=o},n}(),ax=$A;function sx(n){var e=n.getDefaultTileGrid();return e||(e=tI(n),n.setDefaultTileGrid(e)),e}function ZA(n,e,t){var o=e[0],r=n.getTileCoordCenter(e),i=Eh(t);if(Rs(i,r))return e;var s=ke(i),f=Math.ceil((i[0]-r[0])/s);return r[0]+=s*f,n.getTileCoordForCoordAndZ(r,o)}function JA(n,e,t,o){var r=o!==void 0?o:ja.TOP_LEFT,i=lx(n,e,t);return new ax({extent:n,origin:DE(n,r),resolutions:i,tileSize:t})}function QA(n){var e=n||{},t=e.extent||fo("EPSG:3857").getExtent(),o={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:lx(t,e.maxZoom,e.tileSize,e.maxResolution)};return new ax(o)}function lx(n,e,t,o){for(var r=e!==void 0?e:wT,i=on(n),s=ke(n),f=Zo(t!==void 0?t:bh),c=o>0?o:Math.max(s/f[0],i/f[1]),d=r+1,h=new Array(d),g=0;g<d;++g)h[g]=c/Math.pow(2,g);return h}function tI(n,e,t,o){var r=Eh(n);return JA(r,e,t,o)}function Eh(n){n=fo(n);var e=n.getExtent();if(!e){var t=180*Do[xo.DEGREES]/n.getMetersPerUnit();e=en(-t,-t,t,t)}return e}var fx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),eI=function(n){fx(e,n);function e(t){var o=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;o.on,o.once,o.un,o.opaque_=t.opaque!==void 0?t.opaque:!1,o.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,o.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var r=[256,256];return o.tileGrid&&Zo(o.tileGrid.getTileSize(o.tileGrid.getMinZoom()),r),o.tileCache=new nx(t.cacheSize||0),o.tmpSize=[0,0],o.key_=t.key||"",o.tileOptions={transition:t.transition,interpolate:t.interpolate},o.zDirection=t.zDirection?t.zDirection:0,o}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,o){var r=this.getTileCacheForProjection(t);r&&r.expireCache(o)},e.prototype.forEachLoadedTile=function(t,o,r,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var f=!0,c,d,h,g=r.minX;g<=r.maxX;++g)for(var p=r.minY;p<=r.maxY;++p)d=Qf(o,g,p),h=!1,s.containsKey(d)&&(c=s.get(d),h=c.getState()===At.LOADED,h&&(h=i(c)!==!1)),h||(f=!1);return f},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,o,r,i,s){return qt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:sx(t)},e.prototype.getTileCacheForProjection=function(t){return Kt(Ni(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,o,r){var i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(o),f=Zo(i.getTileSize(t),this.tmpSize);return s==1?f:k7(f,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,o){var r=o!==void 0?o:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=ZA(i,t,r)),VA(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,o){var r=this.getTileCacheForProjection(o);t>r.highWaterMark&&(r.highWaterMark=t)},e.prototype.useTile=function(t,o,r,i){},e}($v),oI=function(n){fx(e,n);function e(t,o){var r=n.call(this,t)||this;return r.tile=o,r}return e}(bn),nI=eI;function rI(n,e){var t=/\{z\}/g,o=/\{x\}/g,r=/\{y\}/g,i=/\{-y\}/g;return function(s,f,c){if(s)return n.replace(t,s[0].toString()).replace(o,s[1].toString()).replace(r,s[2].toString()).replace(i,function(){var d=s[0],h=e.getFullTileRange(d);Kt(h,55);var g=h.getHeight()-s[2]-1;return g.toString()})}}function iI(n,e){for(var t=n.length,o=new Array(t),r=0;r<t;++r)o[r]=rI(n[r],e);return aI(o)}function aI(n){return n.length===1?n[0]:function(e,t,o){if(e){var r=XA(e),i=Hi(r,n.length);return n[i](e,t,o)}else return}}function sI(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var o=t[1].charCodeAt(0),r=t[2].charCodeAt(0),i=void 0;for(i=o;i<=r;++i)e.push(n.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),f=parseInt(t[1],10);f<=s;f++)e.push(n.replace(t[0],f.toString()));return e}return e.push(n),e}var lI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fI=function(n){lI(e,n);function e(t){var o=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return o.generateTileUrlFunction_=o.tileUrlFunction===e.prototype.tileUrlFunction,o.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(o.tileUrlFunction=t.tileUrlFunction),o.urls=null,t.urls?o.setUrls(t.urls):t.url&&o.setUrl(t.url),o.tileLoadingKeys_={},o}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var o=t.target,r=ie(o),i=o.getState(),s;i==At.LOADING?(this.tileLoadingKeys_[r]=!0,s=Fd.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==At.ERROR?Fd.TILELOADERROR:i==At.LOADED?Fd.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new oI(s,o))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,o){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof o!="undefined"?this.setKey(o):this.changed()},e.prototype.setUrl=function(t){var o=sI(t);this.urls=o,this.setUrls(o)},e.prototype.setUrls=function(t){this.urls=t;var o=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(iI(t,this.tileGrid),o):this.setKey(o)},e.prototype.tileUrlFunction=function(t,o,r){},e.prototype.useTile=function(t,o,r){var i=Qf(t,o,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(nI),cI=fI,dI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uI=function(n){dI(e,n);function e(t){var o=this,r=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(r=t.interpolate),o=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:hI,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:r,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,o.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,o.tileClass=t.tileClass!==void 0?t.tileClass:tx,o.tileCacheForProjection={},o.tileGridForProjection={},o.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,o.renderReprojectionEdges_=!1,o}return e.prototype.canExpireCache=function(){if(!In)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,o){if(!In){n.prototype.expireCache.call(this,t,o);return}var r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?o:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==r?o:{})}},e.prototype.getGutterForProjection=function(t){return In&&this.getProjection()&&t&&!Ni(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return In&&this.getProjection()&&t&&!Ni(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!In)return n.prototype.getTileGridForProjection.call(this,t);var o=this.getProjection();if(this.tileGrid&&(!o||Ni(o,t)))return this.tileGrid;var r=ie(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=sx(t)),this.tileGridForProjection[r]},e.prototype.getTileCacheForProjection=function(t){if(!In)return n.prototype.getTileCacheForProjection.call(this,t);var o=this.getProjection();if(!o||Ni(o,t))return this.tileCache;var r=ie(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new nx(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,o,r,i,s,f){var c=[t,o,r],d=this.getTileCoordForTileUrlFunction(c,s),h=d?this.tileUrlFunction(d,i,s):void 0,g=new this.tileClass(c,h!==void 0?At.IDLE:At.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return g.key=f,g.addEventListener(Nt.CHANGE,this.handleTileChange.bind(this)),g},e.prototype.getTile=function(t,o,r,i,s){var f=this.getProjection();if(!In||!f||!s||Ni(f,s))return this.getTileInternal(t,o,r,i,f||s);var c=this.getTileCacheForProjection(s),d=[t,o,r],h=void 0,g=ox(d);c.containsKey(g)&&(h=c.get(g));var p=this.getKey();if(h&&h.key==p)return h;var m=this.getTileGridForProjection(f),x=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(d,s),k=new ex(f,m,s,x,d,_,this.getTilePixelRatio(i),this.getGutter(),function(T,A,O,P){return this.getTileInternal(T,A,O,P,f)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=p,h?(k.interimTile=h,k.refreshInterimChain(),c.replace(g,k)):c.set(g,k),k},e.prototype.getTileInternal=function(t,o,r,i,s){var f=null,c=Qf(t,o,r),d=this.getKey();if(!this.tileCache.containsKey(c))f=this.createTile_(t,o,r,i,s,d),this.tileCache.set(c,f);else if(f=this.tileCache.get(c),f.key!=d){var h=f;f=this.createTile_(t,o,r,i,s,d),h.getState()==At.IDLE?f.interimTile=h.interimTile:f.interimTile=h,f.refreshInterimChain(),this.tileCache.replace(c,f)}return f},e.prototype.setRenderReprojectionEdges=function(t){if(!(!In||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var o in this.tileCacheForProjection)this.tileCacheForProjection[o].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,o){if(In){var r=fo(t);if(r){var i=ie(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=o)}}},e}(cI);function hI(n,e){n.getImage().src=e}var pI=uI,bI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gI=function(n){bI(e,n);function e(t){var o=t||{},r=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(r=o.interpolate);var i=o.projection!==void 0?o.projection:"EPSG:3857",s=o.tileGrid!==void 0?o.tileGrid:QA({extent:Eh(i),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return n.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:r,opaque:o.opaque,projection:i,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this}return e}(pI),mI=gI,vI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),xI='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',wI=function(n){vI(e,n);function e(t){var o=t||{},r=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(r=o.interpolate);var i;o.attributions!==void 0?i=o.attributions:i=[xI];var s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",f=o.url!==void 0?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:s,interpolate:r,maxZoom:o.maxZoom!==void 0?o.maxZoom:19,opaque:o.opaque!==void 0?o.opaque:!0,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:f,wrapX:o.wrapX,zDirection:o.zDirection})||this}return e}(mI),yI=wI,ql={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},_I=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kI=function(n){_I(e,n);function e(t){var o=this,r=t||{},i=De({},r);return delete i.preload,delete i.useInterimTilesOnError,o=n.call(this,i)||this,o.on,o.once,o.un,o.setPreload(r.preload!==void 0?r.preload:0),o.setUseInterimTilesOnError(r.useInterimTilesOnError!==void 0?r.useInterimTilesOnError:!0),o}return e.prototype.getPreload=function(){return this.get(ql.PRELOAD)},e.prototype.setPreload=function(t){this.set(ql.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ql.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ql.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Kf),EI=kI,CI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),TI=function(n){CI(e,n);function e(t){var o=n.call(this,t)||this;return o.extentChanged=!0,o.renderedExtent_=null,o.renderedPixelRatio,o.renderedProjection=null,o.renderedRevision,o.renderedTiles=[],o.newTiles_=!1,o.tmpExtent=No(),o.tmpTileRange_=new ix(0,0,0,0),o}return e.prototype.isDrawableTile=function(t){var o=this.getLayer(),r=t.getState(),i=o.getUseInterimTilesOnError();return r==At.LOADED||r==At.EMPTY||r==At.ERROR&&!i},e.prototype.getTile=function(t,o,r,i){var s=i.pixelRatio,f=i.viewState.projection,c=this.getLayer(),d=c.getSource(),h=d.getTile(t,o,r,s,f);return h.getState()==At.ERROR&&(c.getUseInterimTilesOnError()?c.getPreload()>0&&(this.newTiles_=!0):h.setState(At.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h},e.prototype.getData=function(t){var o=this.frameState;if(!o)return null;var r=this.getLayer(),i=Se(o.pixelToCoordinateTransform,t.slice()),s=r.getExtent();if(s&&!Rs(s,i))return null;for(var f=o.pixelRatio,c=o.viewState.projection,d=o.viewState,h=r.getRenderSource(),g=h.getTileGridForProjection(d.projection),p=h.getTilePixelRatio(o.pixelRatio),m=g.getZForResolution(d.resolution);m>=g.getMinZoom();--m){var x=g.getTileCoordForCoordAndZ(i,m),_=h.getTile(m,x[1],x[2],f,c);if(!(_ instanceof tx||_ instanceof ex))return null;if(_.getState()===At.LOADED){var k=g.getOrigin(m),T=Zo(g.getTileSize(m)),A=g.getResolution(m),O=Math.floor(p*((i[0]-k[0])/A-x[1]*T[0])),P=Math.floor(p*((k[1]-i[1])/A-x[2]*T[1]));return this.getImageData(_.getImage(),O,P)}}return null},e.prototype.loadedTileCallback=function(t,o,r){return this.isDrawableTile(r)?n.prototype.loadedTileCallback.call(this,t,o,r):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,o){var r=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,f=i.resolution,c=i.center,d=i.rotation,h=t.pixelRatio,g=this.getLayer(),p=g.getSource(),m=p.getRevision(),x=p.getTileGridForProjection(s),_=x.getZForResolution(f,p.zDirection),k=x.getResolution(_),T=t.extent,A=r.extent&&$r(r.extent,s);A&&(T=Qa(T,$r(r.extent,s)));var O=p.getTilePixelRatio(h),P=Math.round(t.size[0]*O),z=Math.round(t.size[1]*O);if(d){var X=Math.round(Math.sqrt(P*P+z*z));P=X,z=X}var U=k*P/2/O,M=k*z/2/O,q=[c[0]-U,c[1]-M,c[0]+U,c[1]+M],ot=x.getTileRangeForExtentAndZ(T,_),st={};st[_]={};var dt=this.createLoadedTileFinder(p,s,st),ut=this.tmpExtent,vt=this.tmpTileRange_;this.newTiles_=!1;for(var it=ot.minX;it<=ot.maxX;++it)for(var ht=ot.minY;ht<=ot.maxY;++ht){var et=this.getTile(_,it,ht,t);if(this.isDrawableTile(et)){var ct=ie(this);if(et.getState()==At.LOADED){st[_][et.tileCoord.toString()]=et;var wt=et.inTransition(ct);!this.newTiles_&&(wt||this.renderedTiles.indexOf(et)===-1)&&(this.newTiles_=!0)}if(et.getAlpha(ct,t.time)===1)continue}var Pt=x.getTileCoordChildTileRange(et.tileCoord,vt,ut),Lt=!1;Pt&&(Lt=dt(_+1,Pt)),Lt||x.forEachTileCoordParentTileRange(et.tileCoord,dt,vt,ut)}var $=k/f;Un(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/O,1/O,d,-P/2,-z/2);var Wt=iv(this.pixelTransform);this.useContainer(o,Wt,r.opacity,this.getBackground(t));var Et=this.context,N=Et.canvas;ah(this.inversePixelTransform,this.pixelTransform),Un(this.tempTransform,P/2,z/2,$,$,0,-P/2,-z/2),N.width!=P||N.height!=z?(N.width=P,N.height=z):this.containerReused||Et.clearRect(0,0,P,z),A&&this.clipUnrotated(Et,t,A),p.getInterpolate()||De(Et,Eu),this.preRender(Et,t),this.renderedTiles.length=0;var nt=Object.keys(st).map(Number);nt.sort(si);var Q,at,St;r.opacity===1&&(!this.containerReused||p.getOpaque(t.viewState.projection))?nt=nt.reverse():(Q=[],at=[]);for(var $t=nt.length-1;$t>=0;--$t){var yt=nt[$t],Ct=p.getTilePixelSize(yt,h,s),E=x.getResolution(yt),I=E/k,F=Ct[0]*I*$,V=Ct[1]*I*$,j=x.getTileCoordForCoordAndZ(kr(q),yt),tt=x.getTileCoordExtent(j),rt=Se(this.tempTransform,[O*(tt[0]-q[0])/k,O*(q[3]-tt[3])/k]),Z=O*p.getGutterForProjection(s),J=st[yt];for(var H in J){var et=J[H],bt=et.tileCoord,pt=j[1]-bt[1],mt=Math.round(rt[0]-(pt-1)*F),_t=j[2]-bt[2],Ft=Math.round(rt[1]-(_t-1)*V),it=Math.round(rt[0]-pt*F),ht=Math.round(rt[1]-_t*V),Mt=mt-it,Gt=Ft-ht,Xt=_===yt,wt=Xt&&et.getAlpha(ie(this),t.time)!==1,Ce=!1;if(!wt)if(Q){St=[it,ht,it+Mt,ht,it+Mt,ht+Gt,it,ht+Gt];for(var be=0,Bo=Q.length;be<Bo;++be)if(_!==yt&&yt<at[be]){var fe=Q[be];Qe([it,ht,it+Mt,ht+Gt],[fe[0],fe[3],fe[4],fe[7]])&&(Ce||(Et.save(),Ce=!0),Et.beginPath(),Et.moveTo(St[0],St[1]),Et.lineTo(St[2],St[3]),Et.lineTo(St[4],St[5]),Et.lineTo(St[6],St[7]),Et.moveTo(fe[6],fe[7]),Et.lineTo(fe[4],fe[5]),Et.lineTo(fe[2],fe[3]),Et.lineTo(fe[0],fe[1]),Et.clip())}Q.push(St),at.push(yt)}else Et.clearRect(it,ht,Mt,Gt);this.drawTileImage(et,t,it,ht,Mt,Gt,Z,Xt),Q&&!wt?(Ce&&Et.restore(),this.renderedTiles.unshift(et)):this.renderedTiles.push(et),this.updateUsedTiles(t.usedTiles,p,et)}}this.renderedRevision=m,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!us(this.renderedExtent_,q),this.renderedExtent_=q,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(t,p,x,h,s,T,_,g.getPreload()),this.scheduleExpireCache(t,p),this.postRender(Et,t),r.extent&&Et.restore(),De(Et,NA),Wt!==N.style.transform&&(N.style.transform=Wt);var co=Av(r.opacity),ge=this.container;return co!==ge.style.opacity&&(ge.style.opacity=co),this.container},e.prototype.drawTileImage=function(t,o,r,i,s,f,c,d){var h=this.getTileImage(t);if(!!h){var g=ie(this),p=d?t.getAlpha(g,o.time):1,m=p!==this.context.globalAlpha;m&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(h,c,c,h.width-2*c,h.height-2*c,r,i,s,f),m&&this.context.restore(),p!==1?o.animate=!0:d&&t.endTransition(g)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,o){if(o.canExpireCache()){var r=function(i,s,f){var c=ie(i);c in f.usedTiles&&i.expireCache(f.viewState.projection,f.usedTiles[c])}.bind(null,o);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,o,r){var i=ie(o);i in t||(t[i]={}),t[i][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,o,r,i,s,f,c,d,h){var g=ie(o);g in t.wantedTiles||(t.wantedTiles[g]={});var p=t.wantedTiles[g],m=t.tileQueue,x=r.getMinZoom(),_=0,k,T,A,O,P,z;for(z=x;z<=c;++z)for(T=r.getTileRangeForExtentAndZ(f,z,T),A=r.getResolution(z),O=T.minX;O<=T.maxX;++O)for(P=T.minY;P<=T.maxY;++P)c-z<=d?(++_,k=o.getTile(z,O,P,i,s),k.getState()==At.IDLE&&(p[k.getKey()]=!0,m.isKeyQueued(k.getKey())||m.enqueue([k,g,r.getTileCoordCenter(k.tileCoord),A])),h!==void 0&&h(k)):o.useTile(z,O,P,s);o.updateCacheSize(_,s)},e}(Hv),RI=TI,AI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),II=function(n){AI(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new RI(this)},e}(EI),OI=II;class SI{constructor(e){Tn(this,"name");Tn(this,"horizFov");Tn(this,"vertFov");this.name=e.name,this.horizFov=e.horizFov,this.vertFov=e.vertFov}projectedArea(e){return{height:this.projectedLength(this.vertFov,e),width:this.projectedLength(this.horizFov,e)}}projectedLength(e,t){return Math.tan(e/2/180*Math.PI)*t*2}}class PI{constructor(e){Tn(this,"name");Tn(this,"viewModes");this.name=e.name,this.viewModes=e.viewModes.map(t=>new SI(t))}}const LI=[{name:"Go Pro Hero 8",viewModes:[{name:"Narrow 4:3 landscape",vertFov:53.7,horizFov:68},{name:"Linear (zoom=1.0x) 4:3 landscape",vertFov:70,horizFov:86},{name:"Wide 4:3 landscape",vertFov:94.4,horizFov:122.6}]}];function FI(){return LI.map(n=>new PI(n))}const Md=FI(),ks=Xu({id:"acquisition",state:()=>({cameraLibrary:Md,selectedCamera:Md[0],selectedViewMode:Md[0].viewModes[0],distanceToGround:2.5,frontOverlapPercent:80,sideOverlapPercent:70,shotTimeInterval:1}),getters:{frontShotDistance:n=>n.selectedViewMode.projectedArea(n.distanceToGround).height*(1-n.frontOverlapPercent/100),sideShotDistance:n=>n.selectedViewMode.projectedArea(n.distanceToGround).width*(1-n.sideOverlapPercent/100),swimmingSpeed:n=>n.selectedViewMode.projectedArea(n.distanceToGround).height*(1-n.frontOverlapPercent/100)/n.shotTimeInterval},actions:{setCamera(n){this.selectedCamera=n,this.selectedViewMode=n.viewModes[0]}}}),Ms=Xu({id:"mappingTrajectory",state:()=>({trajectory:[],pointLeap:5,angle:0,pointPrefix:"P "}),getters:{distance:n=>nm(n.trajectory),duration:n=>{const e=ks();return nm(n.trajectory)/e.swimmingSpeed},routeFilename:n=>"swimming_route-"+new Date().toISOString()+"-"+n.angle+"_deg.csv"},actions:{updateTrajectory(){const n=qu(),e=ks();if(n.perimeter===null){this.trajectory=[];return}this.trajectory=hT(n.perimeter,e.sideShotDistance,this.pointLeap,this.angle)}}});var cx=(n,e)=>{const t=n.__vccOpts||n;for(const[o,r]of e)t[o]=r;return t};const MI={class:"icon"},zI=pn({__name:"SectionNumber",props:{i:{type:String,required:!0}},setup(n){const e=n;return(t,o)=>(Po(),Lo("div",null,[G("span",MI,[G("i",{class:Cf("fas fa-"+e.i)},null,2)])]))}});var tc=cx(zI,[["__scopeId","data-v-7706490e"]]);const zs=n=>(A3("data-v-caff341a"),n=n(),I3(),n),DI={class:"section"},NI=lo(" Navigation "),GI={class:"field is-horizontal"},UI=zs(()=>G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Point leaps "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"Distance between 2 points on the GPS swimming track"},"(*)")])],-1)),BI={class:"field-body"},jI={class:"field has-addons"},YI={class:"control"},WI=zs(()=>G("p",{class:"control"},[G("a",{class:"button is-static"}," m ")],-1)),XI={class:"field is-horizontal"},VI=zs(()=>G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Angle "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"angle for the route, in degrees"},"(*)")])],-1)),HI={class:"field-body"},qI={class:"field has-addons"},KI={class:"control"},$I=zs(()=>G("p",{class:"control"},[G("a",{class:"button is-static"}," \xB0 ")],-1)),ZI={class:"field is-horizontal"},JI=zs(()=>G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Point name prefix "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"Points will be name with prefix + index"},"(*)")])],-1)),QI={class:"field-body"},tO={class:"field"},eO={class:"control"},oO=pn({__name:"TrajectoryParams",setup(n){const e=Ms();return zo(()=>e.pointLeap,()=>e.updateTrajectory()),zo(()=>e.angle,()=>e.updateTrajectory()),(t,o)=>(Po(),Lo("section",DI,[G("h1",null,[Ee(tc,{i:"4"}),NI]),G("div",GI,[UI,G("div",BI,[G("div",jI,[G("p",YI,[mr(G("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>Jt(e).pointLeap=r),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[oi,Jt(e).pointLeap]])]),WI])])]),G("div",XI,[VI,G("div",HI,[G("div",qI,[G("p",KI,[mr(G("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>Jt(e).angle=r),type:"number",min:"0",max:"90",class:"input is-primary"},null,512),[[oi,Jt(e).angle]])]),$I])])]),G("div",ZI,[JI,G("div",QI,[G("div",tO,[G("p",eO,[mr(G("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>Jt(e).pointPrefix=r),type:"string",class:"input is-primary point-prefix"},null,512),[[oi,Jt(e).pointPrefix]])])])])])]))}});var nO=cx(oO,[["__scopeId","data-v-caff341a"]]);const rO={class:"section"},iO=lo(" Camera "),aO={class:"field is-horizontal"},sO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"}," Model ")],-1),lO={class:"field-body"},fO={class:"field has-addons"},cO={class:"control"},dO=["value"],uO=["value"],hO={class:"field is-horizontal"},pO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"}," View mode ")],-1),bO={class:"field-body"},gO={class:"field has-addons"},mO={class:"control"},vO=["value"],xO={class:"field is-horizontal"},wO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"}," Shot time interval ")],-1),yO={class:"field-body"},_O={class:"field has-addons"},kO={class:"control"},EO=G("p",{class:"control"},[G("a",{class:"button is-static"}," s ")],-1),CO=pn({__name:"CameraSelection",setup(n){const e=ks(),t=Ms();zo(()=>e.selectedViewMode,()=>t.updateTrajectory());function o(r){e.setCamera(r.target.value)}return(r,i)=>(Po(),Lo("section",rO,[G("h1",null,[Ee(tc,{i:"2"}),iO]),G("div",aO,[sO,G("div",lO,[G("div",fO,[G("p",cO,[G("select",{value:Jt(e).selectedCamera,onChange:o,class:"input is-primary"},[(Po(!0),Lo(ao,null,fg(Jt(e).cameraLibrary,s=>(Po(),Lo("option",{value:s},qo(s.name),9,uO))),256))],40,dO)])])])]),G("div",hO,[pO,G("div",bO,[G("div",gO,[G("p",mO,[mr(G("select",{"onUpdate:modelValue":i[0]||(i[0]=s=>Jt(e).selectedViewMode=s),class:"input is-primary"},[(Po(!0),Lo(ao,null,fg(Jt(e).selectedCamera.viewModes,s=>(Po(),Lo("option",{value:s},qo(s.name),9,vO))),256))],512),[[$6,Jt(e).selectedViewMode]])])])])]),G("div",xO,[wO,G("div",yO,[G("div",_O,[G("p",kO,[mr(G("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>Jt(e).shotTimeInterval=s),type:"number",min:"1",max:"10",class:"input is-primary"},null,512),[[oi,Jt(e).shotTimeInterval]])]),EO])])])]))}}),TO={class:"section"},RO=lo(" Acquistion "),AO={class:"field is-horizontal"},IO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Min dist to ground "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"The closer ground fixes the overall capture speed"}," (*) ")])],-1),OO={class:"field-body"},SO={class:"field has-addons"},PO={class:"control"},LO=G("p",{class:"control"},[G("a",{class:"button is-static"}," m ")],-1),FO={class:"field is-horizontal"},MO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Front overlap "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover going front"},"(*)")])],-1),zO={class:"field-body"},DO={class:"field has-addons"},NO={class:"control"},GO=G("p",{class:"control"},[G("a",{class:"button is-static"}," % ")],-1),UO={class:"field is-horizontal"},BO=G("div",{class:"field-label is-normal"},[G("label",{class:"label"},[lo(" Side overlap "),G("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover side by side"}," (*) ")])],-1),jO={class:"field-body"},YO={class:"field has-addons"},WO={class:"control"},XO=G("p",{class:"control"},[G("a",{class:"button is-static"}," % ")],-1),VO=pn({__name:"AcquisitionParams",setup(n){const e=ks(),t=Ms();return zo(()=>e.distanceToGround,()=>t.updateTrajectory()),zo(()=>e.sideOverlapPercent,()=>t.updateTrajectory()),(o,r)=>(Po(),Lo("div",null,[Ee(CO),G("section",TO,[G("h1",null,[Ee(tc,{i:"3"}),RO]),G("div",AO,[IO,G("div",OO,[G("div",SO,[G("p",PO,[mr(G("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>Jt(e).distanceToGround=i),type:"number",min:"0.2",max:"10",class:"input is-primary"},null,512),[[oi,Jt(e).distanceToGround]])]),LO])])]),G("div",FO,[MO,G("div",zO,[G("div",DO,[G("p",NO,[mr(G("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>Jt(e).frontOverlapPercent=i),type:"number",min:"10",max:"1000",class:"input is-primary"},null,512),[[oi,Jt(e).frontOverlapPercent]])]),GO])])]),G("div",UO,[BO,G("div",jO,[G("div",YO,[G("p",WO,[mr(G("input",{"onUpdate:modelValue":r[2]||(r[2]=i=>Jt(e).sideOverlapPercent=i),type:"number",min:"10",max:"100",class:"input is-primary"},null,512),[[oi,Jt(e).sideOverlapPercent]])]),XO])])])])]))}});function HO(n){return Math.floor(Math.log(n)/Math.log(10))+1}function qO(n,e){const t=(n+1).toString();return"0".repeat(HO(e)-t.length)+t}function KO(n,e){let t=`name,longitude,latitude,elevation
`;const o=e.length;return e.forEach((r,i)=>t+=`${n}${qO(i,o)},${r[0]},${r[1]},0
`),t}const $O={class:"section"},ZO=G("h1",null,"Planned route",-1),JO={class:"table is-striped is-fullwidth"},QO=G("td",null,"Area",-1),tS=G("sup",null,"2",-1),eS=G("td",null,"Band width",-1),oS=G("td",null,"Distance",-1),nS=G("td",null,"Moving speed",-1),rS=G("td",null,"Duration",-1),iS=G("td",null,"Nb photos",-1),aS=G("td",null,null,-1),sS=pn({__name:"Route",setup(n){const e=ks(),t=qu(),o=Ms();function r(){const i=KO(o.pointPrefix,o.trajectory),s=o.routeFilename,f=document.createElement("a");f.setAttribute("href","data:application/CSV;charset=utf-8,"+encodeURIComponent(i)),f.setAttribute("download",s),f.click(),f.remove()}return(i,s)=>(Po(),Lo("div",null,[G("section",$O,[ZO,G("table",JO,[G("tbody",null,[G("tr",null,[QO,G("td",null,[lo(qo(Jt(t).width.toFixed(0))+" x "+qo(Jt(t).height.toFixed(0))+" = "+qo(Jt(t).area.toFixed(0))+" m",1),tS])]),G("tr",null,[eS,G("td",null,qo(Jt(e).sideShotDistance.toFixed(2)),1)]),G("tr",null,[oS,G("td",null,qo(Jt(o).distance.toFixed(0))+" m ",1)]),G("tr",null,[nS,G("td",null,qo(Jt(e).swimmingSpeed.toFixed(1))+" m/s, "+qo((Jt(e).swimmingSpeed*3.6).toFixed(1))+" km/h ",1)]),G("tr",null,[rS,G("td",null,qo(Jt(o).duration.toFixed(0))+" s ",1)]),G("tr",null,[iS,G("td",null,qo(Math.round(Jt(o).duration/Jt(e).shotTimeInterval)),1)]),G("tr",null,[G("td",null,[G("button",{class:"button is-primary",onClick:s[0]||(s[0]=f=>r())},"Download")]),aS])])])])]))}});const lS=x6('<section class="hero"><div class="hero-body"><p class="title"> Swimming photogrammetry lawnmowner trajectory capture </p><p class="subtitle"> Capturing a swimming trajectory in shallow water and exporting for Emlid Reach RS. </p><p> Tools exist to draw trajectories for drones in order to upload trajectories and send them to collect aerial images for photogrammetry. However, these tools are not suited to compute such trajectory at low altitudes, typically when surveying shallow water (it&#39;s mainly a matter of parameter ranges). </p><div> We propose here a tool to: <ol><li>capture the surveying area</li><li>Selecting a camera, the view mode, and shot time intervals;</li><li>The distance to the ground, and picture overlaps;</li><li>The distance between the reported point on the map (swimming to one to the next), the angle of the route (take two in order to limit bowing effects), and the point naming;</li></ol> You will then be able to export the route and import it in an Emlid ReachView project. </div></div></section><div><div id="mapViewport" class="mapViewport map-viewport"></div></div>',2),fS={class:"columns"},cS={class:"column"},dS={class:"section"},uS={class:"column"},hS=G("div",{id:"mouse-position"},null,-1),pS=G("footer",{class:"footer"},[G("div",{class:"content has-text-centered"},[G("p",null,[lo(" By "),G("a",{href:"https://www.linkedin.com/in/alexmass/"},"Alexandre Masselot"),lo(", with Terra Submersa at University of Geneva. The source code is licensed "),G("a",{href:"http://opensource.org/licenses/mit-license.php"},"MIT"),lo(". ")])])],-1),bS=pn({__name:"MapLayer",setup(n){const e=qu(),t=Ms();zo(()=>e.perimeter,()=>t.updateTrajectory()),zo(()=>t.trajectory,g),Sf("mapViewport"),eC();const o=new OI({source:new yI}),r=new ku({wrapX:!1}),i=new _u({source:r}),s=new ku({wrapX:!1}),f=new _u({source:s,style:[new JR({stroke:new es({color:"orangered",width:2}),fill:new kf({color:"orangered"})})]}),c=new B7({coordinateFormat:YE(6),projection:"EPSG:3857"});let d;Gu(()=>{d=new TA({layers:[o,i,f],controls:Mv().extend([c]),target:"mapViewport",view:new dr({center:[23.1319788,37.4283254],zoom:17})})});function h(){r.clear(),s.clear();const p=new _A({source:r,type:"Circle",geometryFunction:wA()});d.addInteraction(p),p.on("drawend",function(m){d.removeInteraction(p);const x=m.feature.getGeometry().getCoordinates()[0];x.pop();const _=new xT(x.map(k=>[...k]));e.perimeter=_,g()})}function g(){s.clear();const p=t.trajectory;if(!p)return;const m=new vr(p),x=new qr(m);s.addFeature(x),p.forEach(_=>s.addFeature(new qr(new fv(_,2e-6))))}return(p,m)=>(Po(),Lo(ao,null,[lS,G("div",fS,[G("div",cS,[G("section",dS,[Ee(tc,{i:"1"}),G("button",{class:"button is-primary",onClick:h}," Draw perimeter ")]),Ee(VO),Ee(nO)]),G("div",uS,[Ee(sS)]),hS]),pS],64))}}),gS=pn({__name:"HomeView",setup(n){return(e,t)=>(Po(),Lo("main",null,[Ee(bS)]))}}),mS=lE({history:C4("/lawnmower/"),routes:[{path:"/",name:"home",component:gS}]});const Ch=Q6(uE);Ch.use(o4());Ch.use(mS);Ch.mount("#app");
