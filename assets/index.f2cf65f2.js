var T2=Object.defineProperty;var R2=(n,e,t)=>e in n?T2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var An=(n,e,t)=>(R2(n,typeof e!="symbol"?e+"":e,t),t);const A2=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};A2();function Tu(n,e){const t=Object.create(null),o=n.split(",");for(let r=0;r<o.length;r++)t[o[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const I2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",O2=Tu(I2);function Lm(n){return!!n||n===""}function Ru(n){if(Ot(n)){const e={};for(let t=0;t<n.length;t++){const o=n[t],r=Ne(o)?L2(o):Ru(o);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Ne(n))return n;if(Oe(n))return n}}const S2=/;(?![^(]*\))/g,P2=/:(.+)/;function L2(n){const e={};return n.split(S2).forEach(t=>{if(t){const o=t.split(P2);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Tf(n){let e="";if(Ne(n))e=n;else if(Ot(n))for(let t=0;t<n.length;t++){const o=Tf(n[t]);o&&(e+=o+" ")}else if(Oe(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function F2(n,e){if(n.length!==e.length)return!1;let t=!0;for(let o=0;t&&o<n.length;o++)t=Rf(n[o],e[o]);return t}function Rf(n,e){if(n===e)return!0;let t=Zb(n),o=Zb(e);if(t||o)return t&&o?n.getTime()===e.getTime():!1;if(t=rs(n),o=rs(e),t||o)return n===e;if(t=Ot(n),o=Ot(e),t||o)return t&&o?F2(n,e):!1;if(t=Oe(n),o=Oe(e),t||o){if(!t||!o)return!1;const r=Object.keys(n).length,i=Object.keys(e).length;if(r!==i)return!1;for(const s in n){const f=n.hasOwnProperty(s),c=e.hasOwnProperty(s);if(f&&!c||!f&&c||!Rf(n[s],e[s]))return!1}}return String(n)===String(e)}function M2(n,e){return n.findIndex(t=>Rf(t,e))}const qo=n=>Ne(n)?n:n==null?"":Ot(n)||Oe(n)&&(n.toString===zm||!jt(n.toString))?JSON.stringify(n,Fm,2):String(n),Fm=(n,e)=>e&&e.__v_isRef?Fm(n,e.value):$i(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,r])=>(t[`${o} =>`]=r,t),{})}:If(e)?{[`Set(${e.size})`]:[...e.values()]}:Oe(e)&&!Ot(e)&&!Dm(e)?String(e):e,ue={},Hi=[],on=()=>{},z2=()=>!1,D2=/^on[^a-z]/,Af=n=>D2.test(n),Au=n=>n.startsWith("onUpdate:"),$e=Object.assign,Iu=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},N2=Object.prototype.hasOwnProperty,te=(n,e)=>N2.call(n,e),Ot=Array.isArray,$i=n=>Cs(n)==="[object Map]",If=n=>Cs(n)==="[object Set]",Zb=n=>Cs(n)==="[object Date]",jt=n=>typeof n=="function",Ne=n=>typeof n=="string",rs=n=>typeof n=="symbol",Oe=n=>n!==null&&typeof n=="object",Mm=n=>Oe(n)&&jt(n.then)&&jt(n.catch),zm=Object.prototype.toString,Cs=n=>zm.call(n),G2=n=>Cs(n).slice(8,-1),Dm=n=>Cs(n)==="[object Object]",Ou=n=>Ne(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Kl=Tu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Of=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},U2=/-(\w)/g,Zi=Of(n=>n.replace(U2,(e,t)=>t?t.toUpperCase():"")),B2=/\B([A-Z])/g,sa=Of(n=>n.replace(B2,"-$1").toLowerCase()),Nm=Of(n=>n.charAt(0).toUpperCase()+n.slice(1)),pd=Of(n=>n?`on${Nm(n)}`:""),is=(n,e)=>!Object.is(n,e),Zl=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},rf=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},af=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Jb;const j2=()=>Jb||(Jb=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let un;class Gm{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&un&&(this.parent=un,this.index=(un.scopes||(un.scopes=[])).push(this)-1)}run(e){if(this.active){const t=un;try{return un=this,e()}finally{un=t}}}on(){un=this}off(){un=this.parent}stop(e){if(this.active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Um(n){return new Gm(n)}function Y2(n,e=un){e&&e.active&&e.effects.push(n)}const Su=n=>{const e=new Set(n);return e.w=0,e.n=0,e},Bm=n=>(n.w&kr)>0,jm=n=>(n.n&kr)>0,W2=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=kr},X2=n=>{const{deps:e}=n;if(e.length){let t=0;for(let o=0;o<e.length;o++){const r=e[o];Bm(r)&&!jm(r)?r.delete(n):e[t++]=r,r.w&=~kr,r.n&=~kr}e.length=t}},Dd=new WeakMap;let ja=0,kr=1;const Nd=30;let Ko;const ni=Symbol(""),Gd=Symbol("");class Pu{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Y2(this,o)}run(){if(!this.active)return this.fn();let e=Ko,t=vr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ko,Ko=this,vr=!0,kr=1<<++ja,ja<=Nd?W2(this):Qb(this),this.fn()}finally{ja<=Nd&&X2(this),kr=1<<--ja,Ko=this.parent,vr=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ko===this?this.deferStop=!0:this.active&&(Qb(this),this.onStop&&this.onStop(),this.active=!1)}}function Qb(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let vr=!0;const Ym=[];function la(){Ym.push(vr),vr=!1}function fa(){const n=Ym.pop();vr=n===void 0?!0:n}function _o(n,e,t){if(vr&&Ko){let o=Dd.get(n);o||Dd.set(n,o=new Map);let r=o.get(t);r||o.set(t,r=Su()),Wm(r)}}function Wm(n,e){let t=!1;ja<=Nd?jm(n)||(n.n|=kr,t=!Bm(n)):t=!n.has(Ko),t&&(n.add(Ko),Ko.deps.push(n))}function jn(n,e,t,o,r,i){const s=Dd.get(n);if(!s)return;let f=[];if(e==="clear")f=[...s.values()];else if(t==="length"&&Ot(n))s.forEach((c,d)=>{(d==="length"||d>=o)&&f.push(c)});else switch(t!==void 0&&f.push(s.get(t)),e){case"add":Ot(n)?Ou(t)&&f.push(s.get("length")):(f.push(s.get(ni)),$i(n)&&f.push(s.get(Gd)));break;case"delete":Ot(n)||(f.push(s.get(ni)),$i(n)&&f.push(s.get(Gd)));break;case"set":$i(n)&&f.push(s.get(ni));break}if(f.length===1)f[0]&&Ud(f[0]);else{const c=[];for(const d of f)d&&c.push(...d);Ud(Su(c))}}function Ud(n,e){const t=Ot(n)?n:[...n];for(const o of t)o.computed&&tg(o);for(const o of t)o.computed||tg(o)}function tg(n,e){(n!==Ko||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const V2=Tu("__proto__,__v_isRef,__isVue"),Xm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(rs)),H2=Lu(),$2=Lu(!1,!0),q2=Lu(!0),eg=K2();function K2(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const o=ne(this);for(let i=0,s=this.length;i<s;i++)_o(o,"get",i+"");const r=o[e](...t);return r===-1||r===!1?o[e](...t.map(ne)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){la();const o=ne(this)[e].apply(this,t);return fa(),o}}),n}function Lu(n=!1,e=!1){return function(o,r,i){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(n?e?u3:Km:e?qm:$m).get(o))return o;const s=Ot(o);if(!n&&s&&te(eg,r))return Reflect.get(eg,r,i);const f=Reflect.get(o,r,i);return(rs(r)?Xm.has(r):V2(r))||(n||_o(o,"get",r),e)?f:Ae(f)?s&&Ou(r)?f:f.value:Oe(f)?n?Zm(f):ca(f):f}}const Z2=Vm(),J2=Vm(!0);function Vm(n=!1){return function(t,o,r,i){let s=t[o];if(as(s)&&Ae(s)&&!Ae(r))return!1;if(!n&&!as(r)&&(Bd(r)||(r=ne(r),s=ne(s)),!Ot(t)&&Ae(s)&&!Ae(r)))return s.value=r,!0;const f=Ot(t)&&Ou(o)?Number(o)<t.length:te(t,o),c=Reflect.set(t,o,r,i);return t===ne(i)&&(f?is(r,s)&&jn(t,"set",o,r):jn(t,"add",o,r)),c}}function Q2(n,e){const t=te(n,e);n[e];const o=Reflect.deleteProperty(n,e);return o&&t&&jn(n,"delete",e,void 0),o}function t3(n,e){const t=Reflect.has(n,e);return(!rs(e)||!Xm.has(e))&&_o(n,"has",e),t}function e3(n){return _o(n,"iterate",Ot(n)?"length":ni),Reflect.ownKeys(n)}const Hm={get:H2,set:Z2,deleteProperty:Q2,has:t3,ownKeys:e3},o3={get:q2,set(n,e){return!0},deleteProperty(n,e){return!0}},n3=$e({},Hm,{get:$2,set:J2}),Fu=n=>n,Sf=n=>Reflect.getPrototypeOf(n);function Pl(n,e,t=!1,o=!1){n=n.__v_raw;const r=ne(n),i=ne(e);t||(e!==i&&_o(r,"get",e),_o(r,"get",i));const{has:s}=Sf(r),f=o?Fu:t?Du:ss;if(s.call(r,e))return f(n.get(e));if(s.call(r,i))return f(n.get(i));n!==r&&n.get(e)}function Ll(n,e=!1){const t=this.__v_raw,o=ne(t),r=ne(n);return e||(n!==r&&_o(o,"has",n),_o(o,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function Fl(n,e=!1){return n=n.__v_raw,!e&&_o(ne(n),"iterate",ni),Reflect.get(n,"size",n)}function og(n){n=ne(n);const e=ne(this);return Sf(e).has.call(e,n)||(e.add(n),jn(e,"add",n,n)),this}function ng(n,e){e=ne(e);const t=ne(this),{has:o,get:r}=Sf(t);let i=o.call(t,n);i||(n=ne(n),i=o.call(t,n));const s=r.call(t,n);return t.set(n,e),i?is(e,s)&&jn(t,"set",n,e):jn(t,"add",n,e),this}function rg(n){const e=ne(this),{has:t,get:o}=Sf(e);let r=t.call(e,n);r||(n=ne(n),r=t.call(e,n)),o&&o.call(e,n);const i=e.delete(n);return r&&jn(e,"delete",n,void 0),i}function ig(){const n=ne(this),e=n.size!==0,t=n.clear();return e&&jn(n,"clear",void 0,void 0),t}function Ml(n,e){return function(o,r){const i=this,s=i.__v_raw,f=ne(s),c=e?Fu:n?Du:ss;return!n&&_o(f,"iterate",ni),s.forEach((d,h)=>o.call(r,c(d),c(h),i))}}function zl(n,e,t){return function(...o){const r=this.__v_raw,i=ne(r),s=$i(i),f=n==="entries"||n===Symbol.iterator&&s,c=n==="keys"&&s,d=r[n](...o),h=t?Fu:e?Du:ss;return!e&&_o(i,"iterate",c?Gd:ni),{next(){const{value:b,done:p}=d.next();return p?{value:b,done:p}:{value:f?[h(b[0]),h(b[1])]:h(b),done:p}},[Symbol.iterator](){return this}}}}function er(n){return function(...e){return n==="delete"?!1:this}}function r3(){const n={get(i){return Pl(this,i)},get size(){return Fl(this)},has:Ll,add:og,set:ng,delete:rg,clear:ig,forEach:Ml(!1,!1)},e={get(i){return Pl(this,i,!1,!0)},get size(){return Fl(this)},has:Ll,add:og,set:ng,delete:rg,clear:ig,forEach:Ml(!1,!0)},t={get(i){return Pl(this,i,!0)},get size(){return Fl(this,!0)},has(i){return Ll.call(this,i,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Ml(!0,!1)},o={get(i){return Pl(this,i,!0,!0)},get size(){return Fl(this,!0)},has(i){return Ll.call(this,i,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Ml(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=zl(i,!1,!1),t[i]=zl(i,!0,!1),e[i]=zl(i,!1,!0),o[i]=zl(i,!0,!0)}),[n,t,e,o]}const[i3,a3,s3,l3]=r3();function Mu(n,e){const t=e?n?l3:s3:n?a3:i3;return(o,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?o:Reflect.get(te(t,r)&&r in o?t:o,r,i)}const f3={get:Mu(!1,!1)},c3={get:Mu(!1,!0)},d3={get:Mu(!0,!1)},$m=new WeakMap,qm=new WeakMap,Km=new WeakMap,u3=new WeakMap;function h3(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p3(n){return n.__v_skip||!Object.isExtensible(n)?0:h3(G2(n))}function ca(n){return as(n)?n:zu(n,!1,Hm,f3,$m)}function b3(n){return zu(n,!1,n3,c3,qm)}function Zm(n){return zu(n,!0,o3,d3,Km)}function zu(n,e,t,o,r){if(!Oe(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=r.get(n);if(i)return i;const s=p3(n);if(s===0)return n;const f=new Proxy(n,s===2?o:t);return r.set(n,f),f}function xr(n){return as(n)?xr(n.__v_raw):!!(n&&n.__v_isReactive)}function as(n){return!!(n&&n.__v_isReadonly)}function Bd(n){return!!(n&&n.__v_isShallow)}function Jm(n){return xr(n)||as(n)}function ne(n){const e=n&&n.__v_raw;return e?ne(e):n}function Ji(n){return rf(n,"__v_skip",!0),n}const ss=n=>Oe(n)?ca(n):n,Du=n=>Oe(n)?Zm(n):n;function Qm(n){vr&&Ko&&(n=ne(n),Wm(n.dep||(n.dep=Su())))}function t0(n,e){n=ne(n),n.dep&&Ud(n.dep)}function Ae(n){return!!(n&&n.__v_isRef===!0)}function br(n){return e0(n,!1)}function g3(n){return e0(n,!0)}function e0(n,e){return Ae(n)?n:new m3(n,e)}class m3{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ne(e),this._value=t?e:ss(e)}get value(){return Qm(this),this._value}set value(e){e=this.__v_isShallow?e:ne(e),is(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:ss(e),t0(this))}}function Jt(n){return Ae(n)?n.value:n}const v3={get:(n,e,t)=>Jt(Reflect.get(n,e,t)),set:(n,e,t,o)=>{const r=n[e];return Ae(r)&&!Ae(t)?(r.value=t,!0):Reflect.set(n,e,t,o)}};function o0(n){return xr(n)?n:new Proxy(n,v3)}function x3(n){const e=Ot(n)?new Array(n.length):{};for(const t in n)e[t]=y3(n,t);return e}class w3{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function y3(n,e,t){const o=n[e];return Ae(o)?o:new w3(n,e,t)}class _3{constructor(e,t,o,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Pu(e,()=>{this._dirty||(this._dirty=!0,t0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const e=ne(this);return Qm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function k3(n,e,t=!1){let o,r;const i=jt(n);return i?(o=n,r=on):(o=n.get,r=n.set),new _3(o,r,i||!r,t)}function wr(n,e,t,o){let r;try{r=o?n(...o):n()}catch(i){Pf(i,e,t)}return r}function zo(n,e,t,o){if(jt(n)){const i=wr(n,e,t,o);return i&&Mm(i)&&i.catch(s=>{Pf(s,e,t)}),i}const r=[];for(let i=0;i<n.length;i++)r.push(zo(n[i],e,t,o));return r}function Pf(n,e,t,o=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,f=t;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](n,s,f)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){wr(c,null,10,[n,s,f]);return}}E3(n,t,r,o)}function E3(n,e,t,o=!0){console.error(n)}let sf=!1,jd=!1;const vo=[];let zn=0;const $a=[];let Ya=null,Di=0;const qa=[];let lr=null,Ni=0;const n0=Promise.resolve();let Nu=null,Yd=null;function Gu(n){const e=Nu||n0;return n?e.then(this?n.bind(this):n):e}function C3(n){let e=zn+1,t=vo.length;for(;e<t;){const o=e+t>>>1;ls(vo[o])<n?e=o+1:t=o}return e}function r0(n){(!vo.length||!vo.includes(n,sf&&n.allowRecurse?zn+1:zn))&&n!==Yd&&(n.id==null?vo.push(n):vo.splice(C3(n.id),0,n),i0())}function i0(){!sf&&!jd&&(jd=!0,Nu=n0.then(l0))}function T3(n){const e=vo.indexOf(n);e>zn&&vo.splice(e,1)}function a0(n,e,t,o){Ot(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?o+1:o))&&t.push(n),i0()}function R3(n){a0(n,Ya,$a,Di)}function A3(n){a0(n,lr,qa,Ni)}function Lf(n,e=null){if($a.length){for(Yd=e,Ya=[...new Set($a)],$a.length=0,Di=0;Di<Ya.length;Di++)Ya[Di]();Ya=null,Di=0,Yd=null,Lf(n,e)}}function s0(n){if(Lf(),qa.length){const e=[...new Set(qa)];if(qa.length=0,lr){lr.push(...e);return}for(lr=e,lr.sort((t,o)=>ls(t)-ls(o)),Ni=0;Ni<lr.length;Ni++)lr[Ni]();lr=null,Ni=0}}const ls=n=>n.id==null?1/0:n.id;function l0(n){jd=!1,sf=!0,Lf(n),vo.sort((t,o)=>ls(t)-ls(o));const e=on;try{for(zn=0;zn<vo.length;zn++){const t=vo[zn];t&&t.active!==!1&&wr(t,null,14)}}finally{zn=0,vo.length=0,s0(),sf=!1,Nu=null,(vo.length||$a.length||qa.length)&&l0(n)}}function I3(n,e,...t){if(n.isUnmounted)return;const o=n.vnode.props||ue;let r=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in o){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:b,trim:p}=o[h]||ue;p&&(r=t.map(m=>m.trim())),b&&(r=t.map(af))}let f,c=o[f=pd(e)]||o[f=pd(Zi(e))];!c&&i&&(c=o[f=pd(sa(e))]),c&&zo(c,n,6,r);const d=o[f+"Once"];if(d){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,zo(d,n,6,r)}}function f0(n,e,t=!1){const o=e.emitsCache,r=o.get(n);if(r!==void 0)return r;const i=n.emits;let s={},f=!1;if(!jt(n)){const c=d=>{const h=f0(d,e,!0);h&&(f=!0,$e(s,h))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!f?(o.set(n,null),null):(Ot(i)?i.forEach(c=>s[c]=null):$e(s,i),o.set(n,s),s)}function Ff(n,e){return!n||!Af(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(n,e[0].toLowerCase()+e.slice(1))||te(n,sa(e))||te(n,e))}let Qo=null,Mf=null;function lf(n){const e=Qo;return Qo=n,Mf=n&&n.type.__scopeId||null,e}function O3(n){Mf=n}function S3(){Mf=null}function P3(n,e=Qo,t){if(!e||n._n)return n;const o=(...r)=>{o._d&&gg(-1);const i=lf(e),s=n(...r);return lf(i),o._d&&gg(1),s};return o._n=!0,o._c=!0,o._d=!0,o}function bd(n){const{type:e,vnode:t,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:f,attrs:c,emit:d,render:h,renderCache:b,data:p,setupState:m,ctx:x,inheritAttrs:_}=n;let k,T;const A=lf(n);try{if(t.shapeFlag&4){const P=r||o;k=hn(h.call(P,P,b,i,m,p,x)),T=c}else{const P=e;k=hn(P.length>1?P(i,{attrs:c,slots:f,emit:d}):P(i,null)),T=e.props?c:L3(c)}}catch(P){Ka.length=0,Pf(P,n,1),k=_e(Gn)}let O=k;if(T&&_!==!1){const P=Object.keys(T),{shapeFlag:D}=O;P.length&&D&7&&(s&&P.some(Au)&&(T=F3(T,s)),O=Er(O,T))}return t.dirs&&(O=Er(O),O.dirs=O.dirs?O.dirs.concat(t.dirs):t.dirs),t.transition&&(O.transition=t.transition),k=O,lf(A),k}const L3=n=>{let e;for(const t in n)(t==="class"||t==="style"||Af(t))&&((e||(e={}))[t]=n[t]);return e},F3=(n,e)=>{const t={};for(const o in n)(!Au(o)||!(o.slice(9)in e))&&(t[o]=n[o]);return t};function M3(n,e,t){const{props:o,children:r,component:i}=n,{props:s,children:f,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return o?ag(o,s,d):!!s;if(c&8){const h=e.dynamicProps;for(let b=0;b<h.length;b++){const p=h[b];if(s[p]!==o[p]&&!Ff(d,p))return!0}}}else return(r||f)&&(!f||!f.$stable)?!0:o===s?!1:o?s?ag(o,s,d):!0:!!s;return!1}function ag(n,e,t){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==n[i]&&!Ff(t,i))return!0}return!1}function z3({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const D3=n=>n.__isSuspense;function N3(n,e){e&&e.pendingBranch?Ot(n)?e.effects.push(...n):e.effects.push(n):A3(n)}function Jl(n,e){if(je){let t=je.provides;const o=je.parent&&je.parent.provides;o===t&&(t=je.provides=Object.create(o)),t[n]=e}}function Nn(n,e,t=!1){const o=je||Qo;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&jt(e)?e.call(o.proxy):e}}const sg={};function lo(n,e,t){return c0(n,e,t)}function c0(n,e,{immediate:t,deep:o,flush:r,onTrack:i,onTrigger:s}=ue){const f=je;let c,d=!1,h=!1;if(Ae(n)?(c=()=>n.value,d=Bd(n)):xr(n)?(c=()=>n,o=!0):Ot(n)?(h=!0,d=n.some(T=>xr(T)||Bd(T)),c=()=>n.map(T=>{if(Ae(T))return T.value;if(xr(T))return Jr(T);if(jt(T))return wr(T,f,2)})):jt(n)?e?c=()=>wr(n,f,2):c=()=>{if(!(f&&f.isUnmounted))return b&&b(),zo(n,f,3,[p])}:c=on,e&&o){const T=c;c=()=>Jr(T())}let b,p=T=>{b=k.onStop=()=>{wr(T,f,4)}};if(cs)return p=on,e?t&&zo(e,f,3,[c(),h?[]:void 0,p]):c(),on;let m=h?[]:sg;const x=()=>{if(!!k.active)if(e){const T=k.run();(o||d||(h?T.some((A,O)=>is(A,m[O])):is(T,m)))&&(b&&b(),zo(e,f,3,[T,m===sg?void 0:m,p]),m=T)}else k.run()};x.allowRecurse=!!e;let _;r==="sync"?_=x:r==="post"?_=()=>ao(x,f&&f.suspense):_=()=>R3(x);const k=new Pu(c,_);return e?t?x():m=k.run():r==="post"?ao(k.run.bind(k),f&&f.suspense):k.run(),()=>{k.stop(),f&&f.scope&&Iu(f.scope.effects,k)}}function G3(n,e,t){const o=this.proxy,r=Ne(n)?n.includes(".")?d0(o,n):()=>o[n]:n.bind(o,o);let i;jt(e)?i=e:(i=e.handler,t=e);const s=je;Qi(this);const f=c0(r,i.bind(o),t);return s?Qi(s):ri(),f}function d0(n,e){const t=e.split(".");return()=>{let o=n;for(let r=0;r<t.length&&o;r++)o=o[t[r]];return o}}function Jr(n,e){if(!Oe(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ae(n))Jr(n.value,e);else if(Ot(n))for(let t=0;t<n.length;t++)Jr(n[t],e);else if(If(n)||$i(n))n.forEach(t=>{Jr(t,e)});else if(Dm(n))for(const t in n)Jr(n[t],e);return n}function U3(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Uu(()=>{n.isMounted=!0}),b0(()=>{n.isUnmounting=!0}),n}const So=[Function,Array],B3={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:So,onEnter:So,onAfterEnter:So,onEnterCancelled:So,onBeforeLeave:So,onLeave:So,onAfterLeave:So,onLeaveCancelled:So,onBeforeAppear:So,onAppear:So,onAfterAppear:So,onAppearCancelled:So},setup(n,{slots:e}){const t=Xu(),o=U3();let r;return()=>{const i=e.default&&h0(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const _ of i)if(_.type!==Gn){s=_;break}}const f=ne(n),{mode:c}=f;if(o.isLeaving)return gd(s);const d=lg(s);if(!d)return gd(s);const h=Wd(d,f,o,t);Xd(d,h);const b=t.subTree,p=b&&lg(b);let m=!1;const{getTransitionKey:x}=d.type;if(x){const _=x();r===void 0?r=_:_!==r&&(r=_,m=!0)}if(p&&p.type!==Gn&&(!$r(d,p)||m)){const _=Wd(p,f,o,t);if(Xd(p,_),c==="out-in")return o.isLeaving=!0,_.afterLeave=()=>{o.isLeaving=!1,t.update()},gd(s);c==="in-out"&&d.type!==Gn&&(_.delayLeave=(k,T,A)=>{const O=u0(o,p);O[String(p.key)]=p,k._leaveCb=()=>{T(),k._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=A})}return s}}},j3=B3;function u0(n,e){const{leavingVNodes:t}=n;let o=t.get(e.type);return o||(o=Object.create(null),t.set(e.type,o)),o}function Wd(n,e,t,o){const{appear:r,mode:i,persisted:s=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:b,onLeave:p,onAfterLeave:m,onLeaveCancelled:x,onBeforeAppear:_,onAppear:k,onAfterAppear:T,onAppearCancelled:A}=e,O=String(n.key),P=u0(t,n),D=(z,$)=>{z&&zo(z,o,9,$)},X=(z,$)=>{const ot=$[1];D(z,$),Ot(z)?z.every(st=>st.length<=1)&&ot():z.length<=1&&ot()},U={mode:i,persisted:s,beforeEnter(z){let $=f;if(!t.isMounted)if(r)$=_||f;else return;z._leaveCb&&z._leaveCb(!0);const ot=P[O];ot&&$r(n,ot)&&ot.el._leaveCb&&ot.el._leaveCb(),D($,[z])},enter(z){let $=c,ot=d,st=h;if(!t.isMounted)if(r)$=k||c,ot=T||d,st=A||h;else return;let dt=!1;const ut=z._enterCb=vt=>{dt||(dt=!0,vt?D(st,[z]):D(ot,[z]),U.delayedLeave&&U.delayedLeave(),z._enterCb=void 0)};$?X($,[z,ut]):ut()},leave(z,$){const ot=String(n.key);if(z._enterCb&&z._enterCb(!0),t.isUnmounting)return $();D(b,[z]);let st=!1;const dt=z._leaveCb=ut=>{st||(st=!0,$(),ut?D(x,[z]):D(m,[z]),z._leaveCb=void 0,P[ot]===n&&delete P[ot])};P[ot]=n,p?X(p,[z,dt]):dt()},clone(z){return Wd(z,e,t,o)}};return U}function gd(n){if(zf(n))return n=Er(n),n.children=null,n}function lg(n){return zf(n)?n.children?n.children[0]:void 0:n}function Xd(n,e){n.shapeFlag&6&&n.component?Xd(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function h0(n,e=!1,t){let o=[],r=0;for(let i=0;i<n.length;i++){let s=n[i];const f=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===Qe?(s.patchFlag&128&&r++,o=o.concat(h0(s.children,e,f))):(e||s.type!==Gn)&&o.push(f!=null?Er(s,{key:f}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function an(n){return jt(n)?{setup:n,name:n.name}:n}const Ql=n=>!!n.type.__asyncLoader,zf=n=>n.type.__isKeepAlive;function Y3(n,e){p0(n,"a",e)}function W3(n,e){p0(n,"da",e)}function p0(n,e,t=je){const o=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Df(e,o,t),t){let r=t.parent;for(;r&&r.parent;)zf(r.parent.vnode)&&X3(o,e,t,r),r=r.parent}}function X3(n,e,t,o){const r=Df(e,n,o,!0);Bu(()=>{Iu(o[e],r)},t)}function Df(n,e,t=je,o=!1){if(t){const r=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;la(),Qi(t);const f=zo(e,t,n,s);return ri(),fa(),f});return o?r.unshift(i):r.push(i),i}}const Wn=n=>(e,t=je)=>(!cs||n==="sp")&&Df(n,e,t),V3=Wn("bm"),Uu=Wn("m"),H3=Wn("bu"),$3=Wn("u"),b0=Wn("bum"),Bu=Wn("um"),q3=Wn("sp"),K3=Wn("rtg"),Z3=Wn("rtc");function J3(n,e=je){Df("ec",n,e)}function Fo(n,e){const t=Qo;if(t===null)return n;const o=Gf(t)||t.proxy,r=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,f,c,d=ue]=e[i];jt(s)&&(s={mounted:s,updated:s}),s.deep&&Jr(f),r.push({dir:s,instance:o,value:f,oldValue:void 0,arg:c,modifiers:d})}return n}function jr(n,e,t,o){const r=n.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const f=r[s];i&&(f.oldValue=i[s].value);let c=f.dir[o];c&&(la(),zo(c,t,8,[n.el,f,n,e]),fa())}}const Q3=Symbol();function fg(n,e,t,o){let r;const i=t&&t[o];if(Ot(n)||Ne(n)){r=new Array(n.length);for(let s=0,f=n.length;s<f;s++)r[s]=e(n[s],s,void 0,i&&i[s])}else if(typeof n=="number"){r=new Array(n);for(let s=0;s<n;s++)r[s]=e(s+1,s,void 0,i&&i[s])}else if(Oe(n))if(n[Symbol.iterator])r=Array.from(n,(s,f)=>e(s,f,void 0,i&&i[f]));else{const s=Object.keys(n);r=new Array(s.length);for(let f=0,c=s.length;f<c;f++){const d=s[f];r[f]=e(n[d],d,f,i&&i[f])}}else r=[];return t&&(t[o]=r),r}const Vd=n=>n?R0(n)?Gf(n)||n.proxy:Vd(n.parent):null,ff=$e(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Vd(n.parent),$root:n=>Vd(n.root),$emit:n=>n.emit,$options:n=>m0(n),$forceUpdate:n=>n.f||(n.f=()=>r0(n.update)),$nextTick:n=>n.n||(n.n=Gu.bind(n.proxy)),$watch:n=>G3.bind(n)}),t6={get({_:n},e){const{ctx:t,setupState:o,data:r,props:i,accessCache:s,type:f,appContext:c}=n;let d;if(e[0]!=="$"){const m=s[e];if(m!==void 0)switch(m){case 1:return o[e];case 2:return r[e];case 4:return t[e];case 3:return i[e]}else{if(o!==ue&&te(o,e))return s[e]=1,o[e];if(r!==ue&&te(r,e))return s[e]=2,r[e];if((d=n.propsOptions[0])&&te(d,e))return s[e]=3,i[e];if(t!==ue&&te(t,e))return s[e]=4,t[e];Hd&&(s[e]=0)}}const h=ff[e];let b,p;if(h)return e==="$attrs"&&_o(n,"get",e),h(n);if((b=f.__cssModules)&&(b=b[e]))return b;if(t!==ue&&te(t,e))return s[e]=4,t[e];if(p=c.config.globalProperties,te(p,e))return p[e]},set({_:n},e,t){const{data:o,setupState:r,ctx:i}=n;return r!==ue&&te(r,e)?(r[e]=t,!0):o!==ue&&te(o,e)?(o[e]=t,!0):te(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:o,appContext:r,propsOptions:i}},s){let f;return!!t[s]||n!==ue&&te(n,s)||e!==ue&&te(e,s)||(f=i[0])&&te(f,s)||te(o,s)||te(ff,s)||te(r.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:te(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let Hd=!0;function e6(n){const e=m0(n),t=n.proxy,o=n.ctx;Hd=!1,e.beforeCreate&&cg(e.beforeCreate,n,"bc");const{data:r,computed:i,methods:s,watch:f,provide:c,inject:d,created:h,beforeMount:b,mounted:p,beforeUpdate:m,updated:x,activated:_,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:O,unmounted:P,render:D,renderTracked:X,renderTriggered:U,errorCaptured:z,serverPrefetch:$,expose:ot,inheritAttrs:st,components:dt,directives:ut,filters:vt}=e;if(d&&o6(d,o,null,n.appContext.config.unwrapInjectedRef),s)for(const et in s){const ct=s[et];jt(ct)&&(o[et]=ct.bind(t))}if(r){const et=r.call(t,t);Oe(et)&&(n.data=ca(et))}if(Hd=!0,i)for(const et in i){const ct=i[et],wt=jt(ct)?ct.bind(t,t):jt(ct.get)?ct.get.bind(t,t):on,Pt=!jt(ct)&&jt(ct.set)?ct.set.bind(t):on,Lt=Zo({get:wt,set:Pt});Object.defineProperty(o,et,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:K=>Lt.value=K})}if(f)for(const et in f)g0(f[et],o,t,et);if(c){const et=jt(c)?c.call(t):c;Reflect.ownKeys(et).forEach(ct=>{Jl(ct,et[ct])})}h&&cg(h,n,"c");function ht(et,ct){Ot(ct)?ct.forEach(wt=>et(wt.bind(t))):ct&&et(ct.bind(t))}if(ht(V3,b),ht(Uu,p),ht(H3,m),ht($3,x),ht(Y3,_),ht(W3,k),ht(J3,z),ht(Z3,X),ht(K3,U),ht(b0,A),ht(Bu,P),ht(q3,$),Ot(ot))if(ot.length){const et=n.exposed||(n.exposed={});ot.forEach(ct=>{Object.defineProperty(et,ct,{get:()=>t[ct],set:wt=>t[ct]=wt})})}else n.exposed||(n.exposed={});D&&n.render===on&&(n.render=D),st!=null&&(n.inheritAttrs=st),dt&&(n.components=dt),ut&&(n.directives=ut)}function o6(n,e,t=on,o=!1){Ot(n)&&(n=$d(n));for(const r in n){const i=n[r];let s;Oe(i)?"default"in i?s=Nn(i.from||r,i.default,!0):s=Nn(i.from||r):s=Nn(i),Ae(s)&&o?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:f=>s.value=f}):e[r]=s}}function cg(n,e,t){zo(Ot(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,t)}function g0(n,e,t,o){const r=o.includes(".")?d0(t,o):()=>t[o];if(Ne(n)){const i=e[n];jt(i)&&lo(r,i)}else if(jt(n))lo(r,n.bind(t));else if(Oe(n))if(Ot(n))n.forEach(i=>g0(i,e,t,o));else{const i=jt(n.handler)?n.handler.bind(t):e[n.handler];jt(i)&&lo(r,i,n)}}function m0(n){const e=n.type,{mixins:t,extends:o}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,f=i.get(e);let c;return f?c=f:!r.length&&!t&&!o?c=e:(c={},r.length&&r.forEach(d=>cf(c,d,s,!0)),cf(c,e,s)),i.set(e,c),c}function cf(n,e,t,o=!1){const{mixins:r,extends:i}=e;i&&cf(n,i,t,!0),r&&r.forEach(s=>cf(n,s,t,!0));for(const s in e)if(!(o&&s==="expose")){const f=n6[s]||t&&t[s];n[s]=f?f(n[s],e[s]):e[s]}return n}const n6={data:dg,props:Vr,emits:Vr,methods:Vr,computed:Vr,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Vr,directives:Vr,watch:i6,provide:dg,inject:r6};function dg(n,e){return e?n?function(){return $e(jt(n)?n.call(this,this):n,jt(e)?e.call(this,this):e)}:e:n}function r6(n,e){return Vr($d(n),$d(e))}function $d(n){if(Ot(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Je(n,e){return n?[...new Set([].concat(n,e))]:e}function Vr(n,e){return n?$e($e(Object.create(null),n),e):e}function i6(n,e){if(!n)return e;if(!e)return n;const t=$e(Object.create(null),n);for(const o in e)t[o]=Je(n[o],e[o]);return t}function a6(n,e,t,o=!1){const r={},i={};rf(i,Nf,1),n.propsDefaults=Object.create(null),v0(n,e,r,i);for(const s in n.propsOptions[0])s in r||(r[s]=void 0);t?n.props=o?r:b3(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function s6(n,e,t,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=n,f=ne(r),[c]=n.propsOptions;let d=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=n.vnode.dynamicProps;for(let b=0;b<h.length;b++){let p=h[b];if(Ff(n.emitsOptions,p))continue;const m=e[p];if(c)if(te(i,p))m!==i[p]&&(i[p]=m,d=!0);else{const x=Zi(p);r[x]=qd(c,f,x,m,n,!1)}else m!==i[p]&&(i[p]=m,d=!0)}}}else{v0(n,e,r,i)&&(d=!0);let h;for(const b in f)(!e||!te(e,b)&&((h=sa(b))===b||!te(e,h)))&&(c?t&&(t[b]!==void 0||t[h]!==void 0)&&(r[b]=qd(c,f,b,void 0,n,!0)):delete r[b]);if(i!==f)for(const b in i)(!e||!te(e,b)&&!0)&&(delete i[b],d=!0)}d&&jn(n,"set","$attrs")}function v0(n,e,t,o){const[r,i]=n.propsOptions;let s=!1,f;if(e)for(let c in e){if(Kl(c))continue;const d=e[c];let h;r&&te(r,h=Zi(c))?!i||!i.includes(h)?t[h]=d:(f||(f={}))[h]=d:Ff(n.emitsOptions,c)||(!(c in o)||d!==o[c])&&(o[c]=d,s=!0)}if(i){const c=ne(t),d=f||ue;for(let h=0;h<i.length;h++){const b=i[h];t[b]=qd(r,c,b,d[b],n,!te(d,b))}}return s}function qd(n,e,t,o,r,i){const s=n[t];if(s!=null){const f=te(s,"default");if(f&&o===void 0){const c=s.default;if(s.type!==Function&&jt(c)){const{propsDefaults:d}=r;t in d?o=d[t]:(Qi(r),o=d[t]=c.call(null,e),ri())}else o=c}s[0]&&(i&&!f?o=!1:s[1]&&(o===""||o===sa(t))&&(o=!0))}return o}function x0(n,e,t=!1){const o=e.propsCache,r=o.get(n);if(r)return r;const i=n.props,s={},f=[];let c=!1;if(!jt(n)){const h=b=>{c=!0;const[p,m]=x0(b,e,!0);$e(s,p),m&&f.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!i&&!c)return o.set(n,Hi),Hi;if(Ot(i))for(let h=0;h<i.length;h++){const b=Zi(i[h]);ug(b)&&(s[b]=ue)}else if(i)for(const h in i){const b=Zi(h);if(ug(b)){const p=i[h],m=s[b]=Ot(p)||jt(p)?{type:p}:p;if(m){const x=bg(Boolean,m.type),_=bg(String,m.type);m[0]=x>-1,m[1]=_<0||x<_,(x>-1||te(m,"default"))&&f.push(b)}}}const d=[s,f];return o.set(n,d),d}function ug(n){return n[0]!=="$"}function hg(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function pg(n,e){return hg(n)===hg(e)}function bg(n,e){return Ot(e)?e.findIndex(t=>pg(t,n)):jt(e)&&pg(e,n)?0:-1}const w0=n=>n[0]==="_"||n==="$stable",ju=n=>Ot(n)?n.map(hn):[hn(n)],l6=(n,e,t)=>{if(e._n)return e;const o=P3((...r)=>ju(e(...r)),t);return o._c=!1,o},y0=(n,e,t)=>{const o=n._ctx;for(const r in n){if(w0(r))continue;const i=n[r];if(jt(i))e[r]=l6(r,i,o);else if(i!=null){const s=ju(i);e[r]=()=>s}}},_0=(n,e)=>{const t=ju(e);n.slots.default=()=>t},f6=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ne(e),rf(e,"_",t)):y0(e,n.slots={})}else n.slots={},e&&_0(n,e);rf(n.slots,Nf,1)},c6=(n,e,t)=>{const{vnode:o,slots:r}=n;let i=!0,s=ue;if(o.shapeFlag&32){const f=e._;f?t&&f===1?i=!1:($e(r,e),!t&&f===1&&delete r._):(i=!e.$stable,y0(e,r)),s=e}else e&&(_0(n,e),s={default:1});if(i)for(const f in r)!w0(f)&&!(f in s)&&delete r[f]};function k0(){return{app:null,config:{isNativeTag:z2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d6=0;function u6(n,e){return function(o,r=null){jt(o)||(o=Object.assign({},o)),r!=null&&!Oe(r)&&(r=null);const i=k0(),s=new Set;let f=!1;const c=i.app={_uid:d6++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:O6,get config(){return i.config},set config(d){},use(d,...h){return s.has(d)||(d&&jt(d.install)?(s.add(d),d.install(c,...h)):jt(d)&&(s.add(d),d(c,...h))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,h){return h?(i.components[d]=h,c):i.components[d]},directive(d,h){return h?(i.directives[d]=h,c):i.directives[d]},mount(d,h,b){if(!f){const p=_e(o,r);return p.appContext=i,h&&e?e(p,d):n(p,d,b),f=!0,c._container=d,d.__vue_app__=c,Gf(p.component)||p.component.proxy}},unmount(){f&&(n(null,c._container),delete c._container.__vue_app__)},provide(d,h){return i.provides[d]=h,c}};return c}}function Kd(n,e,t,o,r=!1){if(Ot(n)){n.forEach((p,m)=>Kd(p,e&&(Ot(e)?e[m]:e),t,o,r));return}if(Ql(o)&&!r)return;const i=o.shapeFlag&4?Gf(o.component)||o.component.proxy:o.el,s=r?null:i,{i:f,r:c}=n,d=e&&e.r,h=f.refs===ue?f.refs={}:f.refs,b=f.setupState;if(d!=null&&d!==c&&(Ne(d)?(h[d]=null,te(b,d)&&(b[d]=null)):Ae(d)&&(d.value=null)),jt(c))wr(c,f,12,[s,h]);else{const p=Ne(c),m=Ae(c);if(p||m){const x=()=>{if(n.f){const _=p?h[c]:c.value;r?Ot(_)&&Iu(_,i):Ot(_)?_.includes(i)||_.push(i):p?(h[c]=[i],te(b,c)&&(b[c]=h[c])):(c.value=[i],n.k&&(h[n.k]=c.value))}else p?(h[c]=s,te(b,c)&&(b[c]=s)):m&&(c.value=s,n.k&&(h[n.k]=s))};s?(x.id=-1,ao(x,t)):x()}}}const ao=N3;function h6(n){return p6(n)}function p6(n,e){const t=j2();t.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:f,createComment:c,setText:d,setElementText:h,parentNode:b,nextSibling:p,setScopeId:m=on,cloneNode:x,insertStaticContent:_}=n,k=(E,I,M,V=null,j=null,tt=null,rt=!1,Z=null,J=!!I.dynamicChildren)=>{if(E===I)return;E&&!$r(E,I)&&(V=at(E),Wt(E,j,tt,!0),E=null),I.patchFlag===-2&&(J=!1,I.dynamicChildren=null);const{type:H,ref:bt,shapeFlag:pt}=I;switch(H){case Yu:T(E,I,M,V);break;case Gn:A(E,I,M,V);break;case tf:E==null&&O(I,M,V,rt);break;case Qe:ut(E,I,M,V,j,tt,rt,Z,J);break;default:pt&1?X(E,I,M,V,j,tt,rt,Z,J):pt&6?vt(E,I,M,V,j,tt,rt,Z,J):(pt&64||pt&128)&&H.process(E,I,M,V,j,tt,rt,Z,J,Kt)}bt!=null&&j&&Kd(bt,E&&E.ref,tt,I||E,!I)},T=(E,I,M,V)=>{if(E==null)o(I.el=f(I.children),M,V);else{const j=I.el=E.el;I.children!==E.children&&d(j,I.children)}},A=(E,I,M,V)=>{E==null?o(I.el=c(I.children||""),M,V):I.el=E.el},O=(E,I,M,V)=>{[E.el,E.anchor]=_(E.children,I,M,V,E.el,E.anchor)},P=({el:E,anchor:I},M,V)=>{let j;for(;E&&E!==I;)j=p(E),o(E,M,V),E=j;o(I,M,V)},D=({el:E,anchor:I})=>{let M;for(;E&&E!==I;)M=p(E),r(E),E=M;r(I)},X=(E,I,M,V,j,tt,rt,Z,J)=>{rt=rt||I.type==="svg",E==null?U(I,M,V,j,tt,rt,Z,J):ot(E,I,j,tt,rt,Z,J)},U=(E,I,M,V,j,tt,rt,Z)=>{let J,H;const{type:bt,props:pt,shapeFlag:mt,transition:_t,patchFlag:Ft,dirs:Mt}=E;if(E.el&&x!==void 0&&Ft===-1)J=E.el=x(E.el);else{if(J=E.el=s(E.type,tt,pt&&pt.is,pt),mt&8?h(J,E.children):mt&16&&$(E.children,J,null,V,j,tt&&bt!=="foreignObject",rt,Z),Mt&&jr(E,null,V,"created"),pt){for(const Xt in pt)Xt!=="value"&&!Kl(Xt)&&i(J,Xt,null,pt[Xt],tt,E.children,V,j,Q);"value"in pt&&i(J,"value",null,pt.value),(H=pt.onVnodeBeforeMount)&&dn(H,V,E)}z(J,E,E.scopeId,rt,V)}Mt&&jr(E,null,V,"beforeMount");const Gt=(!j||j&&!j.pendingBranch)&&_t&&!_t.persisted;Gt&&_t.beforeEnter(J),o(J,I,M),((H=pt&&pt.onVnodeMounted)||Gt||Mt)&&ao(()=>{H&&dn(H,V,E),Gt&&_t.enter(J),Mt&&jr(E,null,V,"mounted")},j)},z=(E,I,M,V,j)=>{if(M&&m(E,M),V)for(let tt=0;tt<V.length;tt++)m(E,V[tt]);if(j){let tt=j.subTree;if(I===tt){const rt=j.vnode;z(E,rt,rt.scopeId,rt.slotScopeIds,j.parent)}}},$=(E,I,M,V,j,tt,rt,Z,J=0)=>{for(let H=J;H<E.length;H++){const bt=E[H]=Z?cr(E[H]):hn(E[H]);k(null,bt,I,M,V,j,tt,rt,Z)}},ot=(E,I,M,V,j,tt,rt)=>{const Z=I.el=E.el;let{patchFlag:J,dynamicChildren:H,dirs:bt}=I;J|=E.patchFlag&16;const pt=E.props||ue,mt=I.props||ue;let _t;M&&Yr(M,!1),(_t=mt.onVnodeBeforeUpdate)&&dn(_t,M,I,E),bt&&jr(I,E,M,"beforeUpdate"),M&&Yr(M,!0);const Ft=j&&I.type!=="foreignObject";if(H?st(E.dynamicChildren,H,Z,M,V,Ft,tt):rt||wt(E,I,Z,null,M,V,Ft,tt,!1),J>0){if(J&16)dt(Z,I,pt,mt,M,V,j);else if(J&2&&pt.class!==mt.class&&i(Z,"class",null,mt.class,j),J&4&&i(Z,"style",pt.style,mt.style,j),J&8){const Mt=I.dynamicProps;for(let Gt=0;Gt<Mt.length;Gt++){const Xt=Mt[Gt],Ce=pt[Xt],be=mt[Xt];(be!==Ce||Xt==="value")&&i(Z,Xt,Ce,be,j,E.children,M,V,Q)}}J&1&&E.children!==I.children&&h(Z,I.children)}else!rt&&H==null&&dt(Z,I,pt,mt,M,V,j);((_t=mt.onVnodeUpdated)||bt)&&ao(()=>{_t&&dn(_t,M,I,E),bt&&jr(I,E,M,"updated")},V)},st=(E,I,M,V,j,tt,rt)=>{for(let Z=0;Z<I.length;Z++){const J=E[Z],H=I[Z],bt=J.el&&(J.type===Qe||!$r(J,H)||J.shapeFlag&70)?b(J.el):M;k(J,H,bt,null,V,j,tt,rt,!0)}},dt=(E,I,M,V,j,tt,rt)=>{if(M!==V){for(const Z in V){if(Kl(Z))continue;const J=V[Z],H=M[Z];J!==H&&Z!=="value"&&i(E,Z,H,J,rt,I.children,j,tt,Q)}if(M!==ue)for(const Z in M)!Kl(Z)&&!(Z in V)&&i(E,Z,M[Z],null,rt,I.children,j,tt,Q);"value"in V&&i(E,"value",M.value,V.value)}},ut=(E,I,M,V,j,tt,rt,Z,J)=>{const H=I.el=E?E.el:f(""),bt=I.anchor=E?E.anchor:f("");let{patchFlag:pt,dynamicChildren:mt,slotScopeIds:_t}=I;_t&&(Z=Z?Z.concat(_t):_t),E==null?(o(H,M,V),o(bt,M,V),$(I.children,M,bt,j,tt,rt,Z,J)):pt>0&&pt&64&&mt&&E.dynamicChildren?(st(E.dynamicChildren,mt,M,j,tt,rt,Z),(I.key!=null||j&&I===j.subTree)&&E0(E,I,!0)):wt(E,I,M,bt,j,tt,rt,Z,J)},vt=(E,I,M,V,j,tt,rt,Z,J)=>{I.slotScopeIds=Z,E==null?I.shapeFlag&512?j.ctx.activate(I,M,V,rt,J):it(I,M,V,j,tt,rt,J):ht(E,I,J)},it=(E,I,M,V,j,tt,rt)=>{const Z=E.component=E6(E,V,j);if(zf(E)&&(Z.ctx.renderer=Kt),C6(Z),Z.asyncDep){if(j&&j.registerDep(Z,et),!E.el){const J=Z.subTree=_e(Gn);A(null,J,I,M)}return}et(Z,E,I,M,j,tt,rt)},ht=(E,I,M)=>{const V=I.component=E.component;if(M3(E,I,M))if(V.asyncDep&&!V.asyncResolved){ct(V,I,M);return}else V.next=I,T3(V.update),V.update();else I.el=E.el,V.vnode=I},et=(E,I,M,V,j,tt,rt)=>{const Z=()=>{if(E.isMounted){let{next:bt,bu:pt,u:mt,parent:_t,vnode:Ft}=E,Mt=bt,Gt;Yr(E,!1),bt?(bt.el=Ft.el,ct(E,bt,rt)):bt=Ft,pt&&Zl(pt),(Gt=bt.props&&bt.props.onVnodeBeforeUpdate)&&dn(Gt,_t,bt,Ft),Yr(E,!0);const Xt=bd(E),Ce=E.subTree;E.subTree=Xt,k(Ce,Xt,b(Ce.el),at(Ce),E,j,tt),bt.el=Xt.el,Mt===null&&z3(E,Xt.el),mt&&ao(mt,j),(Gt=bt.props&&bt.props.onVnodeUpdated)&&ao(()=>dn(Gt,_t,bt,Ft),j)}else{let bt;const{el:pt,props:mt}=I,{bm:_t,m:Ft,parent:Mt}=E,Gt=Ql(I);if(Yr(E,!1),_t&&Zl(_t),!Gt&&(bt=mt&&mt.onVnodeBeforeMount)&&dn(bt,Mt,I),Yr(E,!0),pt&&Ct){const Xt=()=>{E.subTree=bd(E),Ct(pt,E.subTree,E,j,null)};Gt?I.type.__asyncLoader().then(()=>!E.isUnmounted&&Xt()):Xt()}else{const Xt=E.subTree=bd(E);k(null,Xt,M,V,E,j,tt),I.el=Xt.el}if(Ft&&ao(Ft,j),!Gt&&(bt=mt&&mt.onVnodeMounted)){const Xt=I;ao(()=>dn(bt,Mt,Xt),j)}(I.shapeFlag&256||Mt&&Ql(Mt.vnode)&&Mt.vnode.shapeFlag&256)&&E.a&&ao(E.a,j),E.isMounted=!0,I=M=V=null}},J=E.effect=new Pu(Z,()=>r0(H),E.scope),H=E.update=()=>J.run();H.id=E.uid,Yr(E,!0),H()},ct=(E,I,M)=>{I.component=E;const V=E.vnode.props;E.vnode=I,E.next=null,s6(E,I.props,V,M),c6(E,I.children,M),la(),Lf(void 0,E.update),fa()},wt=(E,I,M,V,j,tt,rt,Z,J=!1)=>{const H=E&&E.children,bt=E?E.shapeFlag:0,pt=I.children,{patchFlag:mt,shapeFlag:_t}=I;if(mt>0){if(mt&128){Lt(H,pt,M,V,j,tt,rt,Z,J);return}else if(mt&256){Pt(H,pt,M,V,j,tt,rt,Z,J);return}}_t&8?(bt&16&&Q(H,j,tt),pt!==H&&h(M,pt)):bt&16?_t&16?Lt(H,pt,M,V,j,tt,rt,Z,J):Q(H,j,tt,!0):(bt&8&&h(M,""),_t&16&&$(pt,M,V,j,tt,rt,Z,J))},Pt=(E,I,M,V,j,tt,rt,Z,J)=>{E=E||Hi,I=I||Hi;const H=E.length,bt=I.length,pt=Math.min(H,bt);let mt;for(mt=0;mt<pt;mt++){const _t=I[mt]=J?cr(I[mt]):hn(I[mt]);k(E[mt],_t,M,null,j,tt,rt,Z,J)}H>bt?Q(E,j,tt,!0,!1,pt):$(I,M,V,j,tt,rt,Z,J,pt)},Lt=(E,I,M,V,j,tt,rt,Z,J)=>{let H=0;const bt=I.length;let pt=E.length-1,mt=bt-1;for(;H<=pt&&H<=mt;){const _t=E[H],Ft=I[H]=J?cr(I[H]):hn(I[H]);if($r(_t,Ft))k(_t,Ft,M,null,j,tt,rt,Z,J);else break;H++}for(;H<=pt&&H<=mt;){const _t=E[pt],Ft=I[mt]=J?cr(I[mt]):hn(I[mt]);if($r(_t,Ft))k(_t,Ft,M,null,j,tt,rt,Z,J);else break;pt--,mt--}if(H>pt){if(H<=mt){const _t=mt+1,Ft=_t<bt?I[_t].el:V;for(;H<=mt;)k(null,I[H]=J?cr(I[H]):hn(I[H]),M,Ft,j,tt,rt,Z,J),H++}}else if(H>mt)for(;H<=pt;)Wt(E[H],j,tt,!0),H++;else{const _t=H,Ft=H,Mt=new Map;for(H=Ft;H<=mt;H++){const ge=I[H]=J?cr(I[H]):hn(I[H]);ge.key!=null&&Mt.set(ge.key,H)}let Gt,Xt=0;const Ce=mt-Ft+1;let be=!1,jo=0;const fe=new Array(Ce);for(H=0;H<Ce;H++)fe[H]=0;for(H=_t;H<=pt;H++){const ge=E[H];if(Xt>=Ce){Wt(ge,j,tt,!0);continue}let Ge;if(ge.key!=null)Ge=Mt.get(ge.key);else for(Gt=Ft;Gt<=mt;Gt++)if(fe[Gt-Ft]===0&&$r(ge,I[Gt])){Ge=Gt;break}Ge===void 0?Wt(ge,j,tt,!0):(fe[Ge-Ft]=H+1,Ge>=jo?jo=Ge:be=!0,k(ge,I[Ge],M,null,j,tt,rt,Z,J),Xt++)}const co=be?b6(fe):Hi;for(Gt=co.length-1,H=Ce-1;H>=0;H--){const ge=Ft+H,Ge=I[ge],Ar=ge+1<bt?I[ge+1].el:V;fe[H]===0?k(null,Ge,M,Ar,j,tt,rt,Z,J):be&&(Gt<0||H!==co[Gt]?K(Ge,M,Ar,2):Gt--)}}},K=(E,I,M,V,j=null)=>{const{el:tt,type:rt,transition:Z,children:J,shapeFlag:H}=E;if(H&6){K(E.component.subTree,I,M,V);return}if(H&128){E.suspense.move(I,M,V);return}if(H&64){rt.move(E,I,M,Kt);return}if(rt===Qe){o(tt,I,M);for(let pt=0;pt<J.length;pt++)K(J[pt],I,M,V);o(E.anchor,I,M);return}if(rt===tf){P(E,I,M);return}if(V!==2&&H&1&&Z)if(V===0)Z.beforeEnter(tt),o(tt,I,M),ao(()=>Z.enter(tt),j);else{const{leave:pt,delayLeave:mt,afterLeave:_t}=Z,Ft=()=>o(tt,I,M),Mt=()=>{pt(tt,()=>{Ft(),_t&&_t()})};mt?mt(tt,Ft,Mt):Mt()}else o(tt,I,M)},Wt=(E,I,M,V=!1,j=!1)=>{const{type:tt,props:rt,ref:Z,children:J,dynamicChildren:H,shapeFlag:bt,patchFlag:pt,dirs:mt}=E;if(Z!=null&&Kd(Z,null,M,E,!0),bt&256){I.ctx.deactivate(E);return}const _t=bt&1&&mt,Ft=!Ql(E);let Mt;if(Ft&&(Mt=rt&&rt.onVnodeBeforeUnmount)&&dn(Mt,I,E),bt&6)nt(E.component,M,V);else{if(bt&128){E.suspense.unmount(M,V);return}_t&&jr(E,null,I,"beforeUnmount"),bt&64?E.type.remove(E,I,M,j,Kt,V):H&&(tt!==Qe||pt>0&&pt&64)?Q(H,I,M,!1,!0):(tt===Qe&&pt&384||!j&&bt&16)&&Q(J,I,M),V&&Et(E)}(Ft&&(Mt=rt&&rt.onVnodeUnmounted)||_t)&&ao(()=>{Mt&&dn(Mt,I,E),_t&&jr(E,null,I,"unmounted")},M)},Et=E=>{const{type:I,el:M,anchor:V,transition:j}=E;if(I===Qe){G(M,V);return}if(I===tf){D(E);return}const tt=()=>{r(M),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(E.shapeFlag&1&&j&&!j.persisted){const{leave:rt,delayLeave:Z}=j,J=()=>rt(M,tt);Z?Z(E.el,tt,J):J()}else tt()},G=(E,I)=>{let M;for(;E!==I;)M=p(E),r(E),E=M;r(I)},nt=(E,I,M)=>{const{bum:V,scope:j,update:tt,subTree:rt,um:Z}=E;V&&Zl(V),j.stop(),tt&&(tt.active=!1,Wt(rt,E,I,M)),Z&&ao(Z,I),ao(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Q=(E,I,M,V=!1,j=!1,tt=0)=>{for(let rt=tt;rt<E.length;rt++)Wt(E[rt],I,M,V,j)},at=E=>E.shapeFlag&6?at(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el),St=(E,I,M)=>{E==null?I._vnode&&Wt(I._vnode,null,null,!0):k(I._vnode||null,E,I,null,null,null,M),s0(),I._vnode=E},Kt={p:k,um:Wt,m:K,r:Et,mt:it,mc:$,pc:wt,pbc:st,n:at,o:n};let yt,Ct;return e&&([yt,Ct]=e(Kt)),{render:St,hydrate:yt,createApp:u6(St,yt)}}function Yr({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function E0(n,e,t=!1){const o=n.children,r=e.children;if(Ot(o)&&Ot(r))for(let i=0;i<o.length;i++){const s=o[i];let f=r[i];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=r[i]=cr(r[i]),f.el=s.el),t||E0(s,f))}}function b6(n){const e=n.slice(),t=[0];let o,r,i,s,f;const c=n.length;for(o=0;o<c;o++){const d=n[o];if(d!==0){if(r=t[t.length-1],n[r]<d){e[o]=r,t.push(o);continue}for(i=0,s=t.length-1;i<s;)f=i+s>>1,n[t[f]]<d?i=f+1:s=f;d<n[t[i]]&&(i>0&&(e[o]=t[i-1]),t[i]=o)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const g6=n=>n.__isTeleport,Qe=Symbol(void 0),Yu=Symbol(void 0),Gn=Symbol(void 0),tf=Symbol(void 0),Ka=[];let tn=null;function xo(n=!1){Ka.push(tn=n?null:[])}function m6(){Ka.pop(),tn=Ka[Ka.length-1]||null}let fs=1;function gg(n){fs+=n}function v6(n){return n.dynamicChildren=fs>0?tn||Hi:null,m6(),fs>0&&tn&&tn.push(n),n}function wo(n,e,t,o,r,i){return v6(F(n,e,t,o,r,i,!0))}function Zd(n){return n?n.__v_isVNode===!0:!1}function $r(n,e){return n.type===e.type&&n.key===e.key}const Nf="__vInternal",C0=({key:n})=>n!=null?n:null,ef=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ne(n)||Ae(n)||jt(n)?{i:Qo,r:n,k:e,f:!!t}:n:null;function F(n,e=null,t=null,o=0,r=null,i=n===Qe?0:1,s=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&C0(e),ref:e&&ef(e),scopeId:Mf,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null};return f?(Wu(c,t),i&128&&n.normalize(c)):t&&(c.shapeFlag|=Ne(t)?8:16),fs>0&&!s&&tn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&tn.push(c),c}const _e=x6;function x6(n,e=null,t=null,o=0,r=null,i=!1){if((!n||n===Q3)&&(n=Gn),Zd(n)){const f=Er(n,e,!0);return t&&Wu(f,t),fs>0&&!i&&tn&&(f.shapeFlag&6?tn[tn.indexOf(n)]=f:tn.push(f)),f.patchFlag|=-2,f}if(I6(n)&&(n=n.__vccOpts),e){e=w6(e);let{class:f,style:c}=e;f&&!Ne(f)&&(e.class=Tf(f)),Oe(c)&&(Jm(c)&&!Ot(c)&&(c=$e({},c)),e.style=Ru(c))}const s=Ne(n)?1:D3(n)?128:g6(n)?64:Oe(n)?4:jt(n)?2:0;return F(n,e,t,o,r,s,i,!0)}function w6(n){return n?Jm(n)||Nf in n?$e({},n):n:null}function Er(n,e,t=!1){const{props:o,ref:r,patchFlag:i,children:s}=n,f=e?y6(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&C0(f),ref:e&&e.ref?t&&r?Ot(r)?r.concat(ef(e)):[r,ef(e)]:ef(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Qe?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Er(n.ssContent),ssFallback:n.ssFallback&&Er(n.ssFallback),el:n.el,anchor:n.anchor}}function Bo(n=" ",e=0){return _e(Yu,null,n,e)}function T0(n,e){const t=_e(tf,null,n);return t.staticCount=e,t}function hn(n){return n==null||typeof n=="boolean"?_e(Gn):Ot(n)?_e(Qe,null,n.slice()):typeof n=="object"?cr(n):_e(Yu,null,String(n))}function cr(n){return n.el===null||n.memo?n:Er(n)}function Wu(n,e){let t=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(Ot(e))t=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),Wu(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Nf in e)?e._ctx=Qo:r===3&&Qo&&(Qo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else jt(e)?(e={default:e,_ctx:Qo},t=32):(e=String(e),o&64?(t=16,e=[Bo(e)]):t=8);n.children=e,n.shapeFlag|=t}function y6(...n){const e={};for(let t=0;t<n.length;t++){const o=n[t];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=Tf([e.class,o.class]));else if(r==="style")e.style=Ru([e.style,o.style]);else if(Af(r)){const i=e[r],s=o[r];s&&i!==s&&!(Ot(i)&&i.includes(s))&&(e[r]=i?[].concat(i,s):s)}else r!==""&&(e[r]=o[r])}return e}function dn(n,e,t,o=null){zo(n,e,7,[t,o])}const _6=k0();let k6=0;function E6(n,e,t){const o=n.type,r=(e?e.appContext:n.appContext)||_6,i={uid:k6++,vnode:n,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:x0(o,r),emitsOptions:f0(o,r),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:o.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=I3.bind(null,i),n.ce&&n.ce(i),i}let je=null;const Xu=()=>je||Qo,Qi=n=>{je=n,n.scope.on()},ri=()=>{je&&je.scope.off(),je=null};function R0(n){return n.vnode.shapeFlag&4}let cs=!1;function C6(n,e=!1){cs=e;const{props:t,children:o}=n.vnode,r=R0(n);a6(n,t,r,e),f6(n,o);const i=r?T6(n,e):void 0;return cs=!1,i}function T6(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Ji(new Proxy(n.ctx,t6));const{setup:o}=t;if(o){const r=n.setupContext=o.length>1?A6(n):null;Qi(n),la();const i=wr(o,n,0,[n.props,r]);if(fa(),ri(),Mm(i)){if(i.then(ri,ri),e)return i.then(s=>{mg(n,s,e)}).catch(s=>{Pf(s,n,0)});n.asyncDep=i}else mg(n,i,e)}else A0(n,e)}function mg(n,e,t){jt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Oe(e)&&(n.setupState=o0(e)),A0(n,t)}let vg;function A0(n,e,t){const o=n.type;if(!n.render){if(!e&&vg&&!o.render){const r=o.template;if(r){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:f,compilerOptions:c}=o,d=$e($e({isCustomElement:i,delimiters:f},s),c);o.render=vg(r,d)}}n.render=o.render||on}Qi(n),la(),e6(n),fa(),ri()}function R6(n){return new Proxy(n.attrs,{get(e,t){return _o(n,"get","$attrs"),e[t]}})}function A6(n){const e=o=>{n.exposed=o||{}};let t;return{get attrs(){return t||(t=R6(n))},slots:n.slots,emit:n.emit,expose:e}}function Gf(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(o0(Ji(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in ff)return ff[t](n)}}))}function I6(n){return jt(n)&&"__vccOpts"in n}const Zo=(n,e)=>k3(n,e,cs);function I0(n,e,t){const o=arguments.length;return o===2?Oe(e)&&!Ot(e)?Zd(e)?_e(n,null,[e]):_e(n,e):_e(n,null,e):(o>3?t=Array.prototype.slice.call(arguments,2):o===3&&Zd(t)&&(t=[t]),_e(n,e,t))}const O6="3.2.37",S6="http://www.w3.org/2000/svg",qr=typeof document!="undefined"?document:null,xg=qr&&qr.createElement("template"),P6={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,o)=>{const r=e?qr.createElementNS(S6,n):qr.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:n=>qr.createTextNode(n),createComment:n=>qr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>qr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,o,r,i){const s=t?t.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===i||!(r=r.nextSibling)););else{xg.innerHTML=o?`<svg>${n}</svg>`:n;const f=xg.content;if(o){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}e.insertBefore(f,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function L6(n,e,t){const o=n._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function F6(n,e,t){const o=n.style,r=Ne(t);if(t&&!r){for(const i in t)Jd(o,i,t[i]);if(e&&!Ne(e))for(const i in e)t[i]==null&&Jd(o,i,"")}else{const i=o.display;r?e!==t&&(o.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(o.display=i)}}const wg=/\s*!important$/;function Jd(n,e,t){if(Ot(t))t.forEach(o=>Jd(n,e,o));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const o=M6(n,e);wg.test(t)?n.setProperty(sa(o),t.replace(wg,""),"important"):n[o]=t}}const yg=["Webkit","Moz","ms"],md={};function M6(n,e){const t=md[e];if(t)return t;let o=Zi(e);if(o!=="filter"&&o in n)return md[e]=o;o=Nm(o);for(let r=0;r<yg.length;r++){const i=yg[r]+o;if(i in n)return md[e]=i}return e}const _g="http://www.w3.org/1999/xlink";function z6(n,e,t,o,r){if(o&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(_g,e.slice(6,e.length)):n.setAttributeNS(_g,e,t);else{const i=O2(e);t==null||i&&!Lm(t)?n.removeAttribute(e):n.setAttribute(e,i?"":t)}}function D6(n,e,t,o,r,i,s){if(e==="innerHTML"||e==="textContent"){o&&s(o,r,i),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const c=t==null?"":t;(n.value!==c||n.tagName==="OPTION")&&(n.value=c),t==null&&n.removeAttribute(e);return}let f=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=Lm(t):t==null&&c==="string"?(t="",f=!0):c==="number"&&(t=0,f=!0)}try{n[e]=t}catch{}f&&n.removeAttribute(e)}const[O0,N6]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Qd=0;const G6=Promise.resolve(),U6=()=>{Qd=0},B6=()=>Qd||(G6.then(U6),Qd=O0());function Kr(n,e,t,o){n.addEventListener(e,t,o)}function j6(n,e,t,o){n.removeEventListener(e,t,o)}function Y6(n,e,t,o,r=null){const i=n._vei||(n._vei={}),s=i[e];if(o&&s)s.value=o;else{const[f,c]=W6(e);if(o){const d=i[e]=X6(o,r);Kr(n,f,d,c)}else s&&(j6(n,f,s,c),i[e]=void 0)}}const kg=/(?:Once|Passive|Capture)$/;function W6(n){let e;if(kg.test(n)){e={};let t;for(;t=n.match(kg);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[sa(n.slice(2)),e]}function X6(n,e){const t=o=>{const r=o.timeStamp||O0();(N6||r>=t.attached-1)&&zo(V6(o,t.value),e,5,[o])};return t.value=n,t.attached=B6(),t}function V6(n,e){if(Ot(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const Eg=/^on[a-z]/,H6=(n,e,t,o,r=!1,i,s,f,c)=>{e==="class"?L6(n,o,r):e==="style"?F6(n,t,o):Af(e)?Au(e)||Y6(n,e,t,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$6(n,e,o,r))?D6(n,e,o,i,s,f,c):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),z6(n,e,o,r))};function $6(n,e,t,o){return o?!!(e==="innerHTML"||e==="textContent"||e in n&&Eg.test(e)&&jt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||Eg.test(e)&&Ne(t)?!1:e in n}const q6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};j3.props;const df=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Ot(e)?t=>Zl(e,t):e};function K6(n){n.target.composing=!0}function Cg(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const en={created(n,{modifiers:{lazy:e,trim:t,number:o}},r){n._assign=df(r);const i=o||r.props&&r.props.type==="number";Kr(n,e?"change":"input",s=>{if(s.target.composing)return;let f=n.value;t&&(f=f.trim()),i&&(f=af(f)),n._assign(f)}),t&&Kr(n,"change",()=>{n.value=n.value.trim()}),e||(Kr(n,"compositionstart",K6),Kr(n,"compositionend",Cg),Kr(n,"change",Cg))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:o,number:r}},i){if(n._assign=df(i),n.composing||document.activeElement===n&&n.type!=="range"&&(t||o&&n.value.trim()===e||(r||n.type==="number")&&af(n.value)===e))return;const s=e==null?"":e;n.value!==s&&(n.value=s)}},Z6={deep:!0,created(n,{value:e,modifiers:{number:t}},o){const r=If(e);Kr(n,"change",()=>{const i=Array.prototype.filter.call(n.options,s=>s.selected).map(s=>t?af(uf(s)):uf(s));n._assign(n.multiple?r?new Set(i):i:i[0])}),n._assign=df(o)},mounted(n,{value:e}){Tg(n,e)},beforeUpdate(n,e,t){n._assign=df(t)},updated(n,{value:e}){Tg(n,e)}};function Tg(n,e){const t=n.multiple;if(!(t&&!Ot(e)&&!If(e))){for(let o=0,r=n.options.length;o<r;o++){const i=n.options[o],s=uf(i);if(t)Ot(e)?i.selected=M2(e,s)>-1:i.selected=e.has(s);else if(Rf(uf(i),e)){n.selectedIndex!==o&&(n.selectedIndex=o);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function uf(n){return"_value"in n?n._value:n.value}const J6=$e({patchProp:H6},P6);let Rg;function Q6(){return Rg||(Rg=h6(J6))}const t4=(...n)=>{const e=Q6().createApp(...n),{mount:t}=e;return e.mount=o=>{const r=e4(o);if(!r)return;const i=e._component;!jt(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const s=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function e4(n){return Ne(n)?document.querySelector(n):n}var o4=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let S0;const Uf=n=>S0=n,P0=Symbol();function tu(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Za;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Za||(Za={}));function n4(){const n=Um(!0),e=n.run(()=>br({}));let t=[],o=[];const r=Ji({install(i){Uf(r),r._a=i,i.provide(P0,r),i.config.globalProperties.$pinia=r,o.forEach(s=>t.push(s)),o=[]},use(i){return!this._a&&!o4?o.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return r}const L0=()=>{};function Ag(n,e,t,o=L0){n.push(e);const r=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),o())};return!t&&Xu()&&Bu(r),r}function Oi(n,...e){n.slice().forEach(t=>{t(...e)})}function eu(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t],r=n[t];tu(r)&&tu(o)&&n.hasOwnProperty(t)&&!Ae(o)&&!xr(o)?n[t]=eu(r,o):n[t]=o}return n}const r4=Symbol();function i4(n){return!tu(n)||!n.hasOwnProperty(r4)}const{assign:Ln}=Object;function a4(n){return!!(Ae(n)&&n.effect)}function s4(n,e,t,o){const{state:r,actions:i,getters:s}=e,f=t.state.value[n];let c;function d(){f||(t.state.value[n]=r?r():{});const h=x3(t.state.value[n]);return Ln(h,i,Object.keys(s||{}).reduce((b,p)=>(b[p]=Ji(Zo(()=>{Uf(t);const m=t._s.get(n);return s[p].call(m,m)})),b),{}))}return c=F0(n,d,e,t,o,!0),c.$reset=function(){const b=r?r():{};this.$patch(p=>{Ln(p,b)})},c}function F0(n,e,t={},o,r,i){let s;const f=Ln({actions:{}},t),c={deep:!0};let d,h,b=Ji([]),p=Ji([]),m;const x=o.state.value[n];!i&&!x&&(o.state.value[n]={}),br({});let _;function k(U){let z;d=h=!1,typeof U=="function"?(U(o.state.value[n]),z={type:Za.patchFunction,storeId:n,events:m}):(eu(o.state.value[n],U),z={type:Za.patchObject,payload:U,storeId:n,events:m});const $=_=Symbol();Gu().then(()=>{_===$&&(d=!0)}),h=!0,Oi(b,z,o.state.value[n])}const T=L0;function A(){s.stop(),b=[],p=[],o._s.delete(n)}function O(U,z){return function(){Uf(o);const $=Array.from(arguments),ot=[],st=[];function dt(it){ot.push(it)}function ut(it){st.push(it)}Oi(p,{args:$,name:U,store:D,after:dt,onError:ut});let vt;try{vt=z.apply(this&&this.$id===n?this:D,$)}catch(it){throw Oi(st,it),it}return vt instanceof Promise?vt.then(it=>(Oi(ot,it),it)).catch(it=>(Oi(st,it),Promise.reject(it))):(Oi(ot,vt),vt)}}const P={_p:o,$id:n,$onAction:Ag.bind(null,p),$patch:k,$reset:T,$subscribe(U,z={}){const $=Ag(b,U,z.detached,()=>ot()),ot=s.run(()=>lo(()=>o.state.value[n],st=>{(z.flush==="sync"?h:d)&&U({storeId:n,type:Za.direct,events:m},st)},Ln({},c,z)));return $},$dispose:A},D=ca(Ln({},P));o._s.set(n,D);const X=o._e.run(()=>(s=Um(),s.run(()=>e())));for(const U in X){const z=X[U];if(Ae(z)&&!a4(z)||xr(z))i||(x&&i4(z)&&(Ae(z)?z.value=x[U]:eu(z,x[U])),o.state.value[n][U]=z);else if(typeof z=="function"){const $=O(U,z);X[U]=$,f.actions[U]=z}}return Ln(D,X),Ln(ne(D),X),Object.defineProperty(D,"$state",{get:()=>o.state.value[n],set:U=>{k(z=>{Ln(z,U)})}}),o._p.forEach(U=>{Ln(D,s.run(()=>U({store:D,app:o._a,pinia:o,options:f})))}),x&&i&&t.hydrate&&t.hydrate(D.$state,x),d=!0,h=!0,D}function Vu(n,e,t){let o,r;const i=typeof e=="function";typeof n=="string"?(o=n,r=i?t:e):(r=n,o=n.id);function s(f,c){const d=Xu();return f=f||d&&Nn(P0),f&&Uf(f),f=S0,f._s.has(o)||(i?F0(o,e,r,f):s4(o,r,f)),f._s.get(o)}return s.$id=o,s}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const M0=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",da=n=>M0?Symbol(n):"_vr_"+n,l4=da("rvlm"),Ig=da("rvd"),Hu=da("r"),z0=da("rl"),ou=da("rvl"),Gi=typeof window!="undefined";function f4(n){return n.__esModule||M0&&n[Symbol.toStringTag]==="Module"}const de=Object.assign;function vd(n,e){const t={};for(const o in e){const r=e[o];t[o]=Array.isArray(r)?r.map(n):n(r)}return t}const Ja=()=>{},c4=/\/$/,d4=n=>n.replace(c4,"");function xd(n,e,t="/"){let o,r={},i="",s="";const f=e.indexOf("?"),c=e.indexOf("#",f>-1?f:0);return f>-1&&(o=e.slice(0,f),i=e.slice(f+1,c>-1?c:e.length),r=n(i)),c>-1&&(o=o||e.slice(0,c),s=e.slice(c,e.length)),o=b4(o!=null?o:e,t),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:s}}function u4(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Og(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function h4(n,e,t){const o=e.matched.length-1,r=t.matched.length-1;return o>-1&&o===r&&ta(e.matched[o],t.matched[r])&&D0(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ta(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function D0(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!p4(n[t],e[t]))return!1;return!0}function p4(n,e){return Array.isArray(n)?Sg(n,e):Array.isArray(e)?Sg(e,n):n===e}function Sg(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,o)=>t===e[o]):n.length===1&&n[0]===e}function b4(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),o=n.split("/");let r=t.length-1,i,s;for(i=0;i<o.length;i++)if(s=o[i],!(r===1||s==="."))if(s==="..")r--;else break;return t.slice(0,r).join("/")+"/"+o.slice(i-(i===o.length?1:0)).join("/")}var ds;(function(n){n.pop="pop",n.push="push"})(ds||(ds={}));var Qa;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Qa||(Qa={}));function g4(n){if(!n)if(Gi){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),d4(n)}const m4=/^[^#]+#/;function v4(n,e){return n.replace(m4,"#")+e}function x4(n,e){const t=document.documentElement.getBoundingClientRect(),o=n.getBoundingClientRect();return{behavior:e.behavior,left:o.left-t.left-(e.left||0),top:o.top-t.top-(e.top||0)}}const Bf=()=>({left:window.pageXOffset,top:window.pageYOffset});function w4(n){let e;if("el"in n){const t=n.el,o=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=x4(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pg(n,e){return(history.state?history.state.position-e:-1)+n}const nu=new Map;function y4(n,e){nu.set(n,e)}function _4(n){const e=nu.get(n);return nu.delete(n),e}let k4=()=>location.protocol+"//"+location.host;function N0(n,e){const{pathname:t,search:o,hash:r}=e,i=n.indexOf("#");if(i>-1){let f=r.includes(n.slice(i))?n.slice(i).length:1,c=r.slice(f);return c[0]!=="/"&&(c="/"+c),Og(c,"")}return Og(t,n)+o+r}function E4(n,e,t,o){let r=[],i=[],s=null;const f=({state:p})=>{const m=N0(n,location),x=t.value,_=e.value;let k=0;if(p){if(t.value=m,e.value=p,s&&s===x){s=null;return}k=_?p.position-_.position:0}else o(m);r.forEach(T=>{T(t.value,x,{delta:k,type:ds.pop,direction:k?k>0?Qa.forward:Qa.back:Qa.unknown})})};function c(){s=t.value}function d(p){r.push(p);const m=()=>{const x=r.indexOf(p);x>-1&&r.splice(x,1)};return i.push(m),m}function h(){const{history:p}=window;!p.state||p.replaceState(de({},p.state,{scroll:Bf()}),"")}function b(){for(const p of i)p();i=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:d,destroy:b}}function Lg(n,e,t,o=!1,r=!1){return{back:n,current:e,forward:t,replaced:o,position:window.history.length,scroll:r?Bf():null}}function C4(n){const{history:e,location:t}=window,o={value:N0(n,t)},r={value:e.state};r.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,d,h){const b=n.indexOf("#"),p=b>-1?(t.host&&document.querySelector("base")?n:n.slice(b))+c:k4()+n+c;try{e[h?"replaceState":"pushState"](d,"",p),r.value=d}catch(m){console.error(m),t[h?"replace":"assign"](p)}}function s(c,d){const h=de({},e.state,Lg(r.value.back,c,r.value.forward,!0),d,{position:r.value.position});i(c,h,!0),o.value=c}function f(c,d){const h=de({},r.value,e.state,{forward:c,scroll:Bf()});i(h.current,h,!0);const b=de({},Lg(o.value,c,null),{position:h.position+1},d);i(c,b,!1),o.value=c}return{location:o,state:r,push:f,replace:s}}function T4(n){n=g4(n);const e=C4(n),t=E4(n,e.state,e.location,e.replace);function o(i,s=!0){s||t.pauseListeners(),history.go(i)}const r=de({location:"",base:n,go:o,createHref:v4.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function R4(n){return typeof n=="string"||n&&typeof n=="object"}function G0(n){return typeof n=="string"||typeof n=="symbol"}const or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},U0=da("nf");var Fg;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Fg||(Fg={}));function ea(n,e){return de(new Error,{type:n,[U0]:!0},e)}function nr(n,e){return n instanceof Error&&U0 in n&&(e==null||!!(n.type&e))}const Mg="[^/]+?",A4={sensitive:!1,strict:!1,start:!0,end:!0},I4=/[.+*?^${}()[\]/\\]/g;function O4(n,e){const t=de({},A4,e),o=[];let r=t.start?"^":"";const i=[];for(const d of n){const h=d.length?[]:[90];t.strict&&!d.length&&(r+="/");for(let b=0;b<d.length;b++){const p=d[b];let m=40+(t.sensitive?.25:0);if(p.type===0)b||(r+="/"),r+=p.value.replace(I4,"\\$&"),m+=40;else if(p.type===1){const{value:x,repeatable:_,optional:k,regexp:T}=p;i.push({name:x,repeatable:_,optional:k});const A=T||Mg;if(A!==Mg){m+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${x}" (${A}): `+P.message)}}let O=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;b||(O=k&&d.length<2?`(?:/${O})`:"/"+O),k&&(O+="?"),r+=O,m+=20,k&&(m+=-8),_&&(m+=-20),A===".*"&&(m+=-50)}h.push(m)}o.push(h)}if(t.strict&&t.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const s=new RegExp(r,t.sensitive?"":"i");function f(d){const h=d.match(s),b={};if(!h)return null;for(let p=1;p<h.length;p++){const m=h[p]||"",x=i[p-1];b[x.name]=m&&x.repeatable?m.split("/"):m}return b}function c(d){let h="",b=!1;for(const p of n){(!b||!h.endsWith("/"))&&(h+="/"),b=!1;for(const m of p)if(m.type===0)h+=m.value;else if(m.type===1){const{value:x,repeatable:_,optional:k}=m,T=x in d?d[x]:"";if(Array.isArray(T)&&!_)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(k)p.length<2&&n.length>1&&(h.endsWith("/")?h=h.slice(0,-1):b=!0);else throw new Error(`Missing required param "${x}"`);h+=A}}return h}return{re:s,score:o,keys:i,parse:f,stringify:c}}function S4(n,e){let t=0;for(;t<n.length&&t<e.length;){const o=e[t]-n[t];if(o)return o;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function P4(n,e){let t=0;const o=n.score,r=e.score;for(;t<o.length&&t<r.length;){const i=S4(o[t],r[t]);if(i)return i;t++}return r.length-o.length}const L4={type:0,value:""},F4=/[a-zA-Z0-9_]/;function M4(n){if(!n)return[[]];if(n==="/")return[[L4]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(m){throw new Error(`ERR (${t})/"${d}": ${m}`)}let t=0,o=t;const r=[];let i;function s(){i&&r.push(i),i=[]}let f=0,c,d="",h="";function b(){!d||(t===0?i.push({type:0,value:d}):t===1||t===2||t===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;f<n.length;){if(c=n[f++],c==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:c==="/"?(d&&b(),s()):c===":"?(b(),t=1):p();break;case 4:p(),t=o;break;case 1:c==="("?t=2:F4.test(c)?p():(b(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:t=3:h+=c;break;case 3:b(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),b(),s(),r}function z4(n,e,t){const o=O4(M4(n.path),t),r=de(o,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function D4(n,e){const t=[],o=new Map;e=Dg({strict:!1,end:!0,sensitive:!1},e);function r(h){return o.get(h)}function i(h,b,p){const m=!p,x=G4(h);x.aliasOf=p&&p.record;const _=Dg(e,h),k=[x];if("alias"in h){const O=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of O)k.push(de({},x,{components:p?p.record.components:x.components,path:P,aliasOf:p?p.record:x}))}let T,A;for(const O of k){const{path:P}=O;if(b&&P[0]!=="/"){const D=b.record.path,X=D[D.length-1]==="/"?"":"/";O.path=b.record.path+(P&&X+P)}if(T=z4(O,b,_),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),m&&h.name&&!zg(T)&&s(h.name)),"children"in x){const D=x.children;for(let X=0;X<D.length;X++)i(D[X],T,p&&p.children[X])}p=p||T,c(T)}return A?()=>{s(A)}:Ja}function s(h){if(G0(h)){const b=o.get(h);b&&(o.delete(h),t.splice(t.indexOf(b),1),b.children.forEach(s),b.alias.forEach(s))}else{const b=t.indexOf(h);b>-1&&(t.splice(b,1),h.record.name&&o.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function f(){return t}function c(h){let b=0;for(;b<t.length&&P4(h,t[b])>=0&&(h.record.path!==t[b].record.path||!B0(h,t[b]));)b++;t.splice(b,0,h),h.record.name&&!zg(h)&&o.set(h.record.name,h)}function d(h,b){let p,m={},x,_;if("name"in h&&h.name){if(p=o.get(h.name),!p)throw ea(1,{location:h});_=p.record.name,m=de(N4(b.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),h.params),x=p.stringify(m)}else if("path"in h)x=h.path,p=t.find(A=>A.re.test(x)),p&&(m=p.parse(x),_=p.record.name);else{if(p=b.name?o.get(b.name):t.find(A=>A.re.test(b.path)),!p)throw ea(1,{location:h,currentLocation:b});_=p.record.name,m=de({},b.params,h.params),x=p.stringify(m)}const k=[];let T=p;for(;T;)k.unshift(T.record),T=T.parent;return{name:_,path:x,params:m,matched:k,meta:B4(k)}}return n.forEach(h=>i(h)),{addRoute:i,resolve:d,removeRoute:s,getRoutes:f,getRecordMatcher:r}}function N4(n,e){const t={};for(const o of e)o in n&&(t[o]=n[o]);return t}function G4(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:U4(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function U4(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const o in n.components)e[o]=typeof t=="boolean"?t:t[o];return e}function zg(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function B4(n){return n.reduce((e,t)=>de(e,t.meta),{})}function Dg(n,e){const t={};for(const o in n)t[o]=o in e?e[o]:n[o];return t}function B0(n,e){return e.children.some(t=>t===n||B0(n,t))}const j0=/#/g,j4=/&/g,Y4=/\//g,W4=/=/g,X4=/\?/g,Y0=/\+/g,V4=/%5B/g,H4=/%5D/g,W0=/%5E/g,$4=/%60/g,X0=/%7B/g,q4=/%7C/g,V0=/%7D/g,K4=/%20/g;function $u(n){return encodeURI(""+n).replace(q4,"|").replace(V4,"[").replace(H4,"]")}function Z4(n){return $u(n).replace(X0,"{").replace(V0,"}").replace(W0,"^")}function ru(n){return $u(n).replace(Y0,"%2B").replace(K4,"+").replace(j0,"%23").replace(j4,"%26").replace($4,"`").replace(X0,"{").replace(V0,"}").replace(W0,"^")}function J4(n){return ru(n).replace(W4,"%3D")}function Q4(n){return $u(n).replace(j0,"%23").replace(X4,"%3F")}function tE(n){return n==null?"":Q4(n).replace(Y4,"%2F")}function hf(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function eE(n){const e={};if(n===""||n==="?")return e;const o=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<o.length;++r){const i=o[r].replace(Y0," "),s=i.indexOf("="),f=hf(s<0?i:i.slice(0,s)),c=s<0?null:hf(i.slice(s+1));if(f in e){let d=e[f];Array.isArray(d)||(d=e[f]=[d]),d.push(c)}else e[f]=c}return e}function Ng(n){let e="";for(let t in n){const o=n[t];if(t=J4(t),o==null){o!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(o)?o.map(i=>i&&ru(i)):[o&&ru(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function oE(n){const e={};for(const t in n){const o=n[t];o!==void 0&&(e[t]=Array.isArray(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return e}function Da(){let n=[];function e(o){return n.push(o),()=>{const r=n.indexOf(o);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function dr(n,e,t,o,r){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((s,f)=>{const c=b=>{b===!1?f(ea(4,{from:t,to:e})):b instanceof Error?f(b):R4(b)?f(ea(2,{from:e,to:b})):(i&&o.enterCallbacks[r]===i&&typeof b=="function"&&i.push(b),s())},d=n.call(o&&o.instances[r],e,t,c);let h=Promise.resolve(d);n.length<3&&(h=h.then(c)),h.catch(b=>f(b))})}function wd(n,e,t,o){const r=[];for(const i of n)for(const s in i.components){let f=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(nE(f)){const d=(f.__vccOpts||f)[e];d&&r.push(dr(d,t,o,i,s))}else{let c=f();r.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const h=f4(d)?d.default:d;i.components[s]=h;const p=(h.__vccOpts||h)[e];return p&&dr(p,t,o,i,s)()}))}}return r}function nE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Gg(n){const e=Nn(Hu),t=Nn(z0),o=Zo(()=>e.resolve(Jt(n.to))),r=Zo(()=>{const{matched:c}=o.value,{length:d}=c,h=c[d-1],b=t.matched;if(!h||!b.length)return-1;const p=b.findIndex(ta.bind(null,h));if(p>-1)return p;const m=Ug(c[d-2]);return d>1&&Ug(h)===m&&b[b.length-1].path!==m?b.findIndex(ta.bind(null,c[d-2])):p}),i=Zo(()=>r.value>-1&&sE(t.params,o.value.params)),s=Zo(()=>r.value>-1&&r.value===t.matched.length-1&&D0(t.params,o.value.params));function f(c={}){return aE(c)?e[Jt(n.replace)?"replace":"push"](Jt(n.to)).catch(Ja):Promise.resolve()}return{route:o,href:Zo(()=>o.value.href),isActive:i,isExactActive:s,navigate:f}}const rE=an({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gg,setup(n,{slots:e}){const t=ca(Gg(n)),{options:o}=Nn(Hu),r=Zo(()=>({[Bg(n.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[Bg(n.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:I0("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},i)}}}),iE=rE;function aE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function sE(n,e){for(const t in e){const o=e[t],r=n[t];if(typeof o=="string"){if(o!==r)return!1}else if(!Array.isArray(r)||r.length!==o.length||o.some((i,s)=>i!==r[s]))return!1}return!0}function Ug(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Bg=(n,e,t)=>n!=null?n:e!=null?e:t,lE=an({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const o=Nn(ou),r=Zo(()=>n.route||o.value),i=Nn(Ig,0),s=Zo(()=>r.value.matched[i]);Jl(Ig,i+1),Jl(l4,s),Jl(ou,r);const f=br();return lo(()=>[f.value,s.value,n.name],([c,d,h],[b,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===b&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!ta(d,p)||!b)&&(d.enterCallbacks[h]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=r.value,d=s.value,h=d&&d.components[n.name],b=n.name;if(!h)return jg(t.default,{Component:h,route:c});const p=d.props[n.name],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=I0(h,de({},m,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(d.instances[b]=null)},ref:f}));return jg(t.default,{Component:_,route:c})||_}}});function jg(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const H0=lE;function fE(n){const e=D4(n.routes,n),t=n.parseQuery||eE,o=n.stringifyQuery||Ng,r=n.history,i=Da(),s=Da(),f=Da(),c=g3(or);let d=or;Gi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=vd.bind(null,G=>""+G),b=vd.bind(null,tE),p=vd.bind(null,hf);function m(G,nt){let Q,at;return G0(G)?(Q=e.getRecordMatcher(G),at=nt):at=G,e.addRoute(at,Q)}function x(G){const nt=e.getRecordMatcher(G);nt&&e.removeRoute(nt)}function _(){return e.getRoutes().map(G=>G.record)}function k(G){return!!e.getRecordMatcher(G)}function T(G,nt){if(nt=de({},nt||c.value),typeof G=="string"){const Ct=xd(t,G,nt.path),E=e.resolve({path:Ct.path},nt),I=r.createHref(Ct.fullPath);return de(Ct,E,{params:p(E.params),hash:hf(Ct.hash),redirectedFrom:void 0,href:I})}let Q;if("path"in G)Q=de({},G,{path:xd(t,G.path,nt.path).path});else{const Ct=de({},G.params);for(const E in Ct)Ct[E]==null&&delete Ct[E];Q=de({},G,{params:b(G.params)}),nt.params=b(nt.params)}const at=e.resolve(Q,nt),St=G.hash||"";at.params=h(p(at.params));const Kt=u4(o,de({},G,{hash:Z4(St),path:at.path})),yt=r.createHref(Kt);return de({fullPath:Kt,hash:St,query:o===Ng?oE(G.query):G.query||{}},at,{redirectedFrom:void 0,href:yt})}function A(G){return typeof G=="string"?xd(t,G,c.value.path):de({},G)}function O(G,nt){if(d!==G)return ea(8,{from:nt,to:G})}function P(G){return U(G)}function D(G){return P(de(A(G),{replace:!0}))}function X(G){const nt=G.matched[G.matched.length-1];if(nt&&nt.redirect){const{redirect:Q}=nt;let at=typeof Q=="function"?Q(G):Q;return typeof at=="string"&&(at=at.includes("?")||at.includes("#")?at=A(at):{path:at},at.params={}),de({query:G.query,hash:G.hash,params:G.params},at)}}function U(G,nt){const Q=d=T(G),at=c.value,St=G.state,Kt=G.force,yt=G.replace===!0,Ct=X(Q);if(Ct)return U(de(A(Ct),{state:St,force:Kt,replace:yt}),nt||Q);const E=Q;E.redirectedFrom=nt;let I;return!Kt&&h4(o,at,Q)&&(I=ea(16,{to:E,from:at}),Pt(at,at,!0,!1)),(I?Promise.resolve(I):$(E,at)).catch(M=>nr(M)?nr(M,2)?M:wt(M):et(M,E,at)).then(M=>{if(M){if(nr(M,2))return U(de(A(M.to),{state:St,force:Kt,replace:yt}),nt||E)}else M=st(E,at,!0,yt,St);return ot(E,at,M),M})}function z(G,nt){const Q=O(G,nt);return Q?Promise.reject(Q):Promise.resolve()}function $(G,nt){let Q;const[at,St,Kt]=cE(G,nt);Q=wd(at.reverse(),"beforeRouteLeave",G,nt);for(const Ct of at)Ct.leaveGuards.forEach(E=>{Q.push(dr(E,G,nt))});const yt=z.bind(null,G,nt);return Q.push(yt),Si(Q).then(()=>{Q=[];for(const Ct of i.list())Q.push(dr(Ct,G,nt));return Q.push(yt),Si(Q)}).then(()=>{Q=wd(St,"beforeRouteUpdate",G,nt);for(const Ct of St)Ct.updateGuards.forEach(E=>{Q.push(dr(E,G,nt))});return Q.push(yt),Si(Q)}).then(()=>{Q=[];for(const Ct of G.matched)if(Ct.beforeEnter&&!nt.matched.includes(Ct))if(Array.isArray(Ct.beforeEnter))for(const E of Ct.beforeEnter)Q.push(dr(E,G,nt));else Q.push(dr(Ct.beforeEnter,G,nt));return Q.push(yt),Si(Q)}).then(()=>(G.matched.forEach(Ct=>Ct.enterCallbacks={}),Q=wd(Kt,"beforeRouteEnter",G,nt),Q.push(yt),Si(Q))).then(()=>{Q=[];for(const Ct of s.list())Q.push(dr(Ct,G,nt));return Q.push(yt),Si(Q)}).catch(Ct=>nr(Ct,8)?Ct:Promise.reject(Ct))}function ot(G,nt,Q){for(const at of f.list())at(G,nt,Q)}function st(G,nt,Q,at,St){const Kt=O(G,nt);if(Kt)return Kt;const yt=nt===or,Ct=Gi?history.state:{};Q&&(at||yt?r.replace(G.fullPath,de({scroll:yt&&Ct&&Ct.scroll},St)):r.push(G.fullPath,St)),c.value=G,Pt(G,nt,Q,yt),wt()}let dt;function ut(){dt||(dt=r.listen((G,nt,Q)=>{const at=T(G),St=X(at);if(St){U(de(St,{replace:!0}),at).catch(Ja);return}d=at;const Kt=c.value;Gi&&y4(Pg(Kt.fullPath,Q.delta),Bf()),$(at,Kt).catch(yt=>nr(yt,12)?yt:nr(yt,2)?(U(yt.to,at).then(Ct=>{nr(Ct,20)&&!Q.delta&&Q.type===ds.pop&&r.go(-1,!1)}).catch(Ja),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),et(yt,at,Kt))).then(yt=>{yt=yt||st(at,Kt,!1),yt&&(Q.delta?r.go(-Q.delta,!1):Q.type===ds.pop&&nr(yt,20)&&r.go(-1,!1)),ot(at,Kt,yt)}).catch(Ja)}))}let vt=Da(),it=Da(),ht;function et(G,nt,Q){wt(G);const at=it.list();return at.length?at.forEach(St=>St(G,nt,Q)):console.error(G),Promise.reject(G)}function ct(){return ht&&c.value!==or?Promise.resolve():new Promise((G,nt)=>{vt.add([G,nt])})}function wt(G){return ht||(ht=!G,ut(),vt.list().forEach(([nt,Q])=>G?Q(G):nt()),vt.reset()),G}function Pt(G,nt,Q,at){const{scrollBehavior:St}=n;if(!Gi||!St)return Promise.resolve();const Kt=!Q&&_4(Pg(G.fullPath,0))||(at||!Q)&&history.state&&history.state.scroll||null;return Gu().then(()=>St(G,nt,Kt)).then(yt=>yt&&w4(yt)).catch(yt=>et(yt,G,nt))}const Lt=G=>r.go(G);let K;const Wt=new Set;return{currentRoute:c,addRoute:m,removeRoute:x,hasRoute:k,getRoutes:_,resolve:T,options:n,push:P,replace:D,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:i.add,beforeResolve:s.add,afterEach:f.add,onError:it.add,isReady:ct,install(G){const nt=this;G.component("RouterLink",iE),G.component("RouterView",H0),G.config.globalProperties.$router=nt,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Jt(c)}),Gi&&!K&&c.value===or&&(K=!0,P(r.location).catch(St=>{}));const Q={};for(const St in or)Q[St]=Zo(()=>c.value[St]);G.provide(Hu,nt),G.provide(z0,ca(Q)),G.provide(ou,c);const at=G.unmount;Wt.add(G),G.unmount=function(){Wt.delete(G),Wt.size<1&&(d=or,dt&&dt(),dt=null,c.value=or,K=!1,ht=!1),at()}}}}function Si(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function cE(n,e){const t=[],o=[],r=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const f=e.matched[s];f&&(n.matched.find(d=>ta(d,f))?o.push(f):t.push(f));const c=n.matched[s];c&&(e.matched.find(d=>ta(d,c))||r.push(c))}return[t,o,r]}const dE=F("header",null,[F("div",{class:"wrapper"})],-1),uE={class:"content"},hE=an({__name:"App",setup(n){return(e,t)=>(xo(),wo(Qe,null,[dE,F("div",uE,[_e(Jt(H0))])],64))}});var Na=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Dn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,o="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",b=1,p=2,m=4,x=1,_=2,k=1,T=2,A=4,O=8,P=16,D=32,X=64,U=128,z=256,$=512,ot=30,st="...",dt=800,ut=16,vt=1,it=2,ht=3,et=1/0,ct=9007199254740991,wt=17976931348623157e292,Pt=0/0,Lt=4294967295,K=Lt-1,Wt=Lt>>>1,Et=[["ary",U],["bind",k],["bindKey",T],["curry",O],["curryRight",P],["flip",$],["partial",D],["partialRight",X],["rearg",z]],G="[object Arguments]",nt="[object Array]",Q="[object AsyncFunction]",at="[object Boolean]",St="[object Date]",Kt="[object DOMException]",yt="[object Error]",Ct="[object Function]",E="[object GeneratorFunction]",I="[object Map]",M="[object Number]",V="[object Null]",j="[object Object]",tt="[object Promise]",rt="[object Proxy]",Z="[object RegExp]",J="[object Set]",H="[object String]",bt="[object Symbol]",pt="[object Undefined]",mt="[object WeakMap]",_t="[object WeakSet]",Ft="[object ArrayBuffer]",Mt="[object DataView]",Gt="[object Float32Array]",Xt="[object Float64Array]",Ce="[object Int8Array]",be="[object Int16Array]",jo="[object Int32Array]",fe="[object Uint8Array]",co="[object Uint8ClampedArray]",ge="[object Uint16Array]",Ge="[object Uint32Array]",Ar=/\b__p \+= '';/g,ga=/\b(__p \+=) '' \+/g,oc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ns=/&(?:amp|lt|gt|quot|#39);/g,ma=/[&<>"']/g,Gs=RegExp(Ns.source),va=RegExp(ma.source),Us=/<%-([\s\S]+?)%>/g,xa=/<%([\s\S]+?)%>/g,Xn=/<%=([\s\S]+?)%>/g,Ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Or=/^\w*$/,Bs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hi=/[\\^$.*+?()[\]{}|]/g,nc=RegExp(hi.source),wa=/^\s+/,Sr=/\s/,Pr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sn=/\{\n\/\* \[wrapped with (.+)\] \*/,pi=/,? & /,bi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,eo=/\\(\\)?/g,ya=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,js=/\w*$/,Ys=/^[-+]0x[0-9a-f]+$/i,hx=/^0b[01]+$/i,px=/^\[object .+?Constructor\]$/,bx=/^0o[0-7]+$/i,gx=/^(?:0|[1-9]\d*)$/,mx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ws=/($^)/,vx=/['\n\r\u2028\u2029\\]/g,Xs="\\ud800-\\udfff",xx="\\u0300-\\u036f",wx="\\ufe20-\\ufe2f",yx="\\u20d0-\\u20ff",Th=xx+wx+yx,Rh="\\u2700-\\u27bf",Ah="a-z\\xdf-\\xf6\\xf8-\\xff",_x="\\xac\\xb1\\xd7\\xf7",kx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ex="\\u2000-\\u206f",Cx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ih="A-Z\\xc0-\\xd6\\xd8-\\xde",Oh="\\ufe0e\\ufe0f",Sh=_x+kx+Ex+Cx,rc="['\u2019]",Tx="["+Xs+"]",Ph="["+Sh+"]",Vs="["+Th+"]",Lh="\\d+",Rx="["+Rh+"]",Fh="["+Ah+"]",Mh="[^"+Xs+Sh+Lh+Rh+Ah+Ih+"]",ic="\\ud83c[\\udffb-\\udfff]",Ax="(?:"+Vs+"|"+ic+")",zh="[^"+Xs+"]",ac="(?:\\ud83c[\\udde6-\\uddff]){2}",sc="[\\ud800-\\udbff][\\udc00-\\udfff]",gi="["+Ih+"]",Dh="\\u200d",Nh="(?:"+Fh+"|"+Mh+")",Ix="(?:"+gi+"|"+Mh+")",Gh="(?:"+rc+"(?:d|ll|m|re|s|t|ve))?",Uh="(?:"+rc+"(?:D|LL|M|RE|S|T|VE))?",Bh=Ax+"?",jh="["+Oh+"]?",Ox="(?:"+Dh+"(?:"+[zh,ac,sc].join("|")+")"+jh+Bh+")*",Sx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Px="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yh=jh+Bh+Ox,Lx="(?:"+[Rx,ac,sc].join("|")+")"+Yh,Fx="(?:"+[zh+Vs+"?",Vs,ac,sc,Tx].join("|")+")",Mx=RegExp(rc,"g"),zx=RegExp(Vs,"g"),lc=RegExp(ic+"(?="+ic+")|"+Fx+Yh,"g"),Dx=RegExp([gi+"?"+Fh+"+"+Gh+"(?="+[Ph,gi,"$"].join("|")+")",Ix+"+"+Uh+"(?="+[Ph,gi+Nh,"$"].join("|")+")",gi+"?"+Nh+"+"+Gh,gi+"+"+Uh,Px,Sx,Lh,Lx].join("|"),"g"),Nx=RegExp("["+Dh+Xs+Th+Oh+"]"),Gx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ux=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bx=-1,me={};me[Gt]=me[Xt]=me[Ce]=me[be]=me[jo]=me[fe]=me[co]=me[ge]=me[Ge]=!0,me[G]=me[nt]=me[Ft]=me[at]=me[Mt]=me[St]=me[yt]=me[Ct]=me[I]=me[M]=me[j]=me[Z]=me[J]=me[H]=me[mt]=!1;var he={};he[G]=he[nt]=he[Ft]=he[Mt]=he[at]=he[St]=he[Gt]=he[Xt]=he[Ce]=he[be]=he[jo]=he[I]=he[M]=he[j]=he[Z]=he[J]=he[H]=he[bt]=he[fe]=he[co]=he[ge]=he[Ge]=!0,he[yt]=he[Ct]=he[mt]=!1;var jx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vx=parseFloat,Hx=parseInt,Wh=typeof Na=="object"&&Na&&Na.Object===Object&&Na,$x=typeof self=="object"&&self&&self.Object===Object&&self,Ue=Wh||$x||Function("return this")(),fc=e&&!e.nodeType&&e,Lr=fc&&!0&&n&&!n.nodeType&&n,Xh=Lr&&Lr.exports===fc,cc=Xh&&Wh.process,ko=function(){try{var S=Lr&&Lr.require&&Lr.require("util").types;return S||cc&&cc.binding&&cc.binding("util")}catch{}}(),Vh=ko&&ko.isArrayBuffer,Hh=ko&&ko.isDate,$h=ko&&ko.isMap,qh=ko&&ko.isRegExp,Kh=ko&&ko.isSet,Zh=ko&&ko.isTypedArray;function uo(S,B,N){switch(N.length){case 0:return S.call(B);case 1:return S.call(B,N[0]);case 2:return S.call(B,N[0],N[1]);case 3:return S.call(B,N[0],N[1],N[2])}return S.apply(B,N)}function qx(S,B,N,gt){for(var zt=-1,re=S==null?0:S.length;++zt<re;){var Le=S[zt];B(gt,Le,N(Le),S)}return gt}function Eo(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt&&B(S[N],N,S)!==!1;);return S}function Kx(S,B){for(var N=S==null?0:S.length;N--&&B(S[N],N,S)!==!1;);return S}function Jh(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(!B(S[N],N,S))return!1;return!0}function Vn(S,B){for(var N=-1,gt=S==null?0:S.length,zt=0,re=[];++N<gt;){var Le=S[N];B(Le,N,S)&&(re[zt++]=Le)}return re}function Hs(S,B){var N=S==null?0:S.length;return!!N&&mi(S,B,0)>-1}function dc(S,B,N){for(var gt=-1,zt=S==null?0:S.length;++gt<zt;)if(N(B,S[gt]))return!0;return!1}function ve(S,B){for(var N=-1,gt=S==null?0:S.length,zt=Array(gt);++N<gt;)zt[N]=B(S[N],N,S);return zt}function Hn(S,B){for(var N=-1,gt=B.length,zt=S.length;++N<gt;)S[zt+N]=B[N];return S}function uc(S,B,N,gt){var zt=-1,re=S==null?0:S.length;for(gt&&re&&(N=S[++zt]);++zt<re;)N=B(N,S[zt],zt,S);return N}function Zx(S,B,N,gt){var zt=S==null?0:S.length;for(gt&&zt&&(N=S[--zt]);zt--;)N=B(N,S[zt],zt,S);return N}function hc(S,B){for(var N=-1,gt=S==null?0:S.length;++N<gt;)if(B(S[N],N,S))return!0;return!1}var Jx=pc("length");function Qx(S){return S.split("")}function tw(S){return S.match(bi)||[]}function Qh(S,B,N){var gt;return N(S,function(zt,re,Le){if(B(zt,re,Le))return gt=re,!1}),gt}function $s(S,B,N,gt){for(var zt=S.length,re=N+(gt?1:-1);gt?re--:++re<zt;)if(B(S[re],re,S))return re;return-1}function mi(S,B,N){return B===B?uw(S,B,N):$s(S,tp,N)}function ew(S,B,N,gt){for(var zt=N-1,re=S.length;++zt<re;)if(gt(S[zt],B))return zt;return-1}function tp(S){return S!==S}function ep(S,B){var N=S==null?0:S.length;return N?gc(S,B)/N:Pt}function pc(S){return function(B){return B==null?t:B[S]}}function bc(S){return function(B){return S==null?t:S[B]}}function op(S,B,N,gt,zt){return zt(S,function(re,Le,ce){N=gt?(gt=!1,re):B(N,re,Le,ce)}),N}function ow(S,B){var N=S.length;for(S.sort(B);N--;)S[N]=S[N].value;return S}function gc(S,B){for(var N,gt=-1,zt=S.length;++gt<zt;){var re=B(S[gt]);re!==t&&(N=N===t?re:N+re)}return N}function mc(S,B){for(var N=-1,gt=Array(S);++N<S;)gt[N]=B(N);return gt}function nw(S,B){return ve(B,function(N){return[N,S[N]]})}function np(S){return S&&S.slice(0,sp(S)+1).replace(wa,"")}function ho(S){return function(B){return S(B)}}function vc(S,B){return ve(B,function(N){return S[N]})}function _a(S,B){return S.has(B)}function rp(S,B){for(var N=-1,gt=S.length;++N<gt&&mi(B,S[N],0)>-1;);return N}function ip(S,B){for(var N=S.length;N--&&mi(B,S[N],0)>-1;);return N}function rw(S,B){for(var N=S.length,gt=0;N--;)S[N]===B&&++gt;return gt}var iw=bc(jx),aw=bc(Yx);function sw(S){return"\\"+Xx[S]}function lw(S,B){return S==null?t:S[B]}function vi(S){return Nx.test(S)}function fw(S){return Gx.test(S)}function cw(S){for(var B,N=[];!(B=S.next()).done;)N.push(B.value);return N}function xc(S){var B=-1,N=Array(S.size);return S.forEach(function(gt,zt){N[++B]=[zt,gt]}),N}function ap(S,B){return function(N){return S(B(N))}}function $n(S,B){for(var N=-1,gt=S.length,zt=0,re=[];++N<gt;){var Le=S[N];(Le===B||Le===h)&&(S[N]=h,re[zt++]=N)}return re}function qs(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=gt}),N}function dw(S){var B=-1,N=Array(S.size);return S.forEach(function(gt){N[++B]=[gt,gt]}),N}function uw(S,B,N){for(var gt=N-1,zt=S.length;++gt<zt;)if(S[gt]===B)return gt;return-1}function hw(S,B,N){for(var gt=N+1;gt--;)if(S[gt]===B)return gt;return gt}function xi(S){return vi(S)?bw(S):Jx(S)}function Yo(S){return vi(S)?gw(S):Qx(S)}function sp(S){for(var B=S.length;B--&&Sr.test(S.charAt(B)););return B}var pw=bc(Wx);function bw(S){for(var B=lc.lastIndex=0;lc.test(S);)++B;return B}function gw(S){return S.match(lc)||[]}function mw(S){return S.match(Dx)||[]}var vw=function S(B){B=B==null?Ue:wi.defaults(Ue.Object(),B,wi.pick(Ue,Ux));var N=B.Array,gt=B.Date,zt=B.Error,re=B.Function,Le=B.Math,ce=B.Object,wc=B.RegExp,xw=B.String,Co=B.TypeError,Ks=N.prototype,ww=re.prototype,yi=ce.prototype,Zs=B["__core-js_shared__"],Js=ww.toString,se=yi.hasOwnProperty,yw=0,lp=function(){var a=/[^.]+$/.exec(Zs&&Zs.keys&&Zs.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Qs=yi.toString,_w=Js.call(ce),kw=Ue._,Ew=wc("^"+Js.call(se).replace(hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tl=Xh?B.Buffer:t,qn=B.Symbol,el=B.Uint8Array,fp=tl?tl.allocUnsafe:t,ol=ap(ce.getPrototypeOf,ce),cp=ce.create,dp=yi.propertyIsEnumerable,nl=Ks.splice,up=qn?qn.isConcatSpreadable:t,ka=qn?qn.iterator:t,Fr=qn?qn.toStringTag:t,rl=function(){try{var a=Gr(ce,"defineProperty");return a({},"",{}),a}catch{}}(),Cw=B.clearTimeout!==Ue.clearTimeout&&B.clearTimeout,Tw=gt&&gt.now!==Ue.Date.now&&gt.now,Rw=B.setTimeout!==Ue.setTimeout&&B.setTimeout,il=Le.ceil,al=Le.floor,yc=ce.getOwnPropertySymbols,Aw=tl?tl.isBuffer:t,hp=B.isFinite,Iw=Ks.join,Ow=ap(ce.keys,ce),Fe=Le.max,We=Le.min,Sw=gt.now,Pw=B.parseInt,pp=Le.random,Lw=Ks.reverse,_c=Gr(B,"DataView"),Ea=Gr(B,"Map"),kc=Gr(B,"Promise"),_i=Gr(B,"Set"),Ca=Gr(B,"WeakMap"),Ta=Gr(ce,"create"),sl=Ca&&new Ca,ki={},Fw=Ur(_c),Mw=Ur(Ea),zw=Ur(kc),Dw=Ur(_i),Nw=Ur(Ca),ll=qn?qn.prototype:t,Ra=ll?ll.valueOf:t,bp=ll?ll.toString:t;function w(a){if(ke(a)&&!Dt(a)&&!(a instanceof Ht)){if(a instanceof To)return a;if(se.call(a,"__wrapped__"))return gb(a)}return new To(a)}var Ei=function(){function a(){}return function(l){if(!we(l))return{};if(cp)return cp(l);a.prototype=l;var u=new a;return a.prototype=t,u}}();function fl(){}function To(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}w.templateSettings={escape:Us,evaluate:xa,interpolate:Xn,variable:"",imports:{_:w}},w.prototype=fl.prototype,w.prototype.constructor=w,To.prototype=Ei(fl.prototype),To.prototype.constructor=To;function Ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function Gw(){var a=new Ht(this.__wrapped__);return a.__actions__=oo(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=oo(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=oo(this.__views__),a}function Uw(){if(this.__filtered__){var a=new Ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Bw(){var a=this.__wrapped__.value(),l=this.__dir__,u=Dt(a),g=l<0,v=u?a.length:0,y=Qy(0,v,this.__views__),C=y.start,R=y.end,L=R-C,Y=g?R:C-1,W=this.__iteratees__,q=W.length,lt=0,xt=We(L,this.__takeCount__);if(!u||!g&&v==L&&xt==L)return Gp(a,this.__actions__);var Tt=[];t:for(;L--&&lt<xt;){Y+=l;for(var Bt=-1,Rt=a[Y];++Bt<q;){var Vt=W[Bt],Zt=Vt.iteratee,go=Vt.type,Ze=Zt(Rt);if(go==it)Rt=Ze;else if(!Ze){if(go==vt)continue t;break t}}Tt[lt++]=Rt}return Tt}Ht.prototype=Ei(fl.prototype),Ht.prototype.constructor=Ht;function Mr(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var g=a[l];this.set(g[0],g[1])}}function jw(){this.__data__=Ta?Ta(null):{},this.size=0}function Yw(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function Ww(a){var l=this.__data__;if(Ta){var u=l[a];return u===c?t:u}return se.call(l,a)?l[a]:t}function Xw(a){var l=this.__data__;return Ta?l[a]!==t:se.call(l,a)}function Vw(a,l){var u=this.__data__;return this.size+=this.has(a)?0:1,u[a]=Ta&&l===t?c:l,this}Mr.prototype.clear=jw,Mr.prototype.delete=Yw,Mr.prototype.get=Ww,Mr.prototype.has=Xw,Mr.prototype.set=Vw;function xn(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var g=a[l];this.set(g[0],g[1])}}function Hw(){this.__data__=[],this.size=0}function $w(a){var l=this.__data__,u=cl(l,a);if(u<0)return!1;var g=l.length-1;return u==g?l.pop():nl.call(l,u,1),--this.size,!0}function qw(a){var l=this.__data__,u=cl(l,a);return u<0?t:l[u][1]}function Kw(a){return cl(this.__data__,a)>-1}function Zw(a,l){var u=this.__data__,g=cl(u,a);return g<0?(++this.size,u.push([a,l])):u[g][1]=l,this}xn.prototype.clear=Hw,xn.prototype.delete=$w,xn.prototype.get=qw,xn.prototype.has=Kw,xn.prototype.set=Zw;function wn(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var g=a[l];this.set(g[0],g[1])}}function Jw(){this.size=0,this.__data__={hash:new Mr,map:new(Ea||xn),string:new Mr}}function Qw(a){var l=_l(this,a).delete(a);return this.size-=l?1:0,l}function ty(a){return _l(this,a).get(a)}function ey(a){return _l(this,a).has(a)}function oy(a,l){var u=_l(this,a),g=u.size;return u.set(a,l),this.size+=u.size==g?0:1,this}wn.prototype.clear=Jw,wn.prototype.delete=Qw,wn.prototype.get=ty,wn.prototype.has=ey,wn.prototype.set=oy;function zr(a){var l=-1,u=a==null?0:a.length;for(this.__data__=new wn;++l<u;)this.add(a[l])}function ny(a){return this.__data__.set(a,c),this}function ry(a){return this.__data__.has(a)}zr.prototype.add=zr.prototype.push=ny,zr.prototype.has=ry;function Wo(a){var l=this.__data__=new xn(a);this.size=l.size}function iy(){this.__data__=new xn,this.size=0}function ay(a){var l=this.__data__,u=l.delete(a);return this.size=l.size,u}function sy(a){return this.__data__.get(a)}function ly(a){return this.__data__.has(a)}function fy(a,l){var u=this.__data__;if(u instanceof xn){var g=u.__data__;if(!Ea||g.length<r-1)return g.push([a,l]),this.size=++u.size,this;u=this.__data__=new wn(g)}return u.set(a,l),this.size=u.size,this}Wo.prototype.clear=iy,Wo.prototype.delete=ay,Wo.prototype.get=sy,Wo.prototype.has=ly,Wo.prototype.set=fy;function gp(a,l){var u=Dt(a),g=!u&&Br(a),v=!u&&!g&&tr(a),y=!u&&!g&&!v&&Ai(a),C=u||g||v||y,R=C?mc(a.length,xw):[],L=R.length;for(var Y in a)(l||se.call(a,Y))&&!(C&&(Y=="length"||v&&(Y=="offset"||Y=="parent")||y&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||En(Y,L)))&&R.push(Y);return R}function mp(a){var l=a.length;return l?a[Fc(0,l-1)]:t}function cy(a,l){return kl(oo(a),Dr(l,0,a.length))}function dy(a){return kl(oo(a))}function Ec(a,l,u){(u!==t&&!Xo(a[l],u)||u===t&&!(l in a))&&yn(a,l,u)}function Aa(a,l,u){var g=a[l];(!(se.call(a,l)&&Xo(g,u))||u===t&&!(l in a))&&yn(a,l,u)}function cl(a,l){for(var u=a.length;u--;)if(Xo(a[u][0],l))return u;return-1}function uy(a,l,u,g){return Kn(a,function(v,y,C){l(g,v,u(v),C)}),g}function vp(a,l){return a&&fn(l,Me(l),a)}function hy(a,l){return a&&fn(l,ro(l),a)}function yn(a,l,u){l=="__proto__"&&rl?rl(a,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):a[l]=u}function Cc(a,l){for(var u=-1,g=l.length,v=N(g),y=a==null;++u<g;)v[u]=y?t:id(a,l[u]);return v}function Dr(a,l,u){return a===a&&(u!==t&&(a=a<=u?a:u),l!==t&&(a=a>=l?a:l)),a}function Ro(a,l,u,g,v,y){var C,R=l&b,L=l&p,Y=l&m;if(u&&(C=v?u(a,g,v,y):u(a)),C!==t)return C;if(!we(a))return a;var W=Dt(a);if(W){if(C=e1(a),!R)return oo(a,C)}else{var q=Xe(a),lt=q==Ct||q==E;if(tr(a))return jp(a,R);if(q==j||q==G||lt&&!v){if(C=L||lt?{}:sb(a),!R)return L?Wy(a,hy(C,a)):Yy(a,vp(C,a))}else{if(!he[q])return v?a:{};C=o1(a,q,R)}}y||(y=new Wo);var xt=y.get(a);if(xt)return xt;y.set(a,C),zb(a)?a.forEach(function(Rt){C.add(Ro(Rt,l,u,Rt,a,y))}):Fb(a)&&a.forEach(function(Rt,Vt){C.set(Vt,Ro(Rt,l,u,Vt,a,y))});var Tt=Y?L?Xc:Wc:L?ro:Me,Bt=W?t:Tt(a);return Eo(Bt||a,function(Rt,Vt){Bt&&(Vt=Rt,Rt=a[Vt]),Aa(C,Vt,Ro(Rt,l,u,Vt,a,y))}),C}function py(a){var l=Me(a);return function(u){return xp(u,a,l)}}function xp(a,l,u){var g=u.length;if(a==null)return!g;for(a=ce(a);g--;){var v=u[g],y=l[v],C=a[v];if(C===t&&!(v in a)||!y(C))return!1}return!0}function wp(a,l,u){if(typeof a!="function")throw new Co(s);return Ma(function(){a.apply(t,u)},l)}function Ia(a,l,u,g){var v=-1,y=Hs,C=!0,R=a.length,L=[],Y=l.length;if(!R)return L;u&&(l=ve(l,ho(u))),g?(y=dc,C=!1):l.length>=r&&(y=_a,C=!1,l=new zr(l));t:for(;++v<R;){var W=a[v],q=u==null?W:u(W);if(W=g||W!==0?W:0,C&&q===q){for(var lt=Y;lt--;)if(l[lt]===q)continue t;L.push(W)}else y(l,q,g)||L.push(W)}return L}var Kn=Hp(ln),yp=Hp(Rc,!0);function by(a,l){var u=!0;return Kn(a,function(g,v,y){return u=!!l(g,v,y),u}),u}function dl(a,l,u){for(var g=-1,v=a.length;++g<v;){var y=a[g],C=l(y);if(C!=null&&(R===t?C===C&&!bo(C):u(C,R)))var R=C,L=y}return L}function gy(a,l,u,g){var v=a.length;for(u=Ut(u),u<0&&(u=-u>v?0:v+u),g=g===t||g>v?v:Ut(g),g<0&&(g+=v),g=u>g?0:Nb(g);u<g;)a[u++]=l;return a}function _p(a,l){var u=[];return Kn(a,function(g,v,y){l(g,v,y)&&u.push(g)}),u}function Be(a,l,u,g,v){var y=-1,C=a.length;for(u||(u=r1),v||(v=[]);++y<C;){var R=a[y];l>0&&u(R)?l>1?Be(R,l-1,u,g,v):Hn(v,R):g||(v[v.length]=R)}return v}var Tc=$p(),kp=$p(!0);function ln(a,l){return a&&Tc(a,l,Me)}function Rc(a,l){return a&&kp(a,l,Me)}function ul(a,l){return Vn(l,function(u){return Cn(a[u])})}function Nr(a,l){l=Jn(l,a);for(var u=0,g=l.length;a!=null&&u<g;)a=a[cn(l[u++])];return u&&u==g?a:t}function Ep(a,l,u){var g=l(a);return Dt(a)?g:Hn(g,u(a))}function qe(a){return a==null?a===t?pt:V:Fr&&Fr in ce(a)?Jy(a):d1(a)}function Ac(a,l){return a>l}function my(a,l){return a!=null&&se.call(a,l)}function vy(a,l){return a!=null&&l in ce(a)}function xy(a,l,u){return a>=We(l,u)&&a<Fe(l,u)}function Ic(a,l,u){for(var g=u?dc:Hs,v=a[0].length,y=a.length,C=y,R=N(y),L=1/0,Y=[];C--;){var W=a[C];C&&l&&(W=ve(W,ho(l))),L=We(W.length,L),R[C]=!u&&(l||v>=120&&W.length>=120)?new zr(C&&W):t}W=a[0];var q=-1,lt=R[0];t:for(;++q<v&&Y.length<L;){var xt=W[q],Tt=l?l(xt):xt;if(xt=u||xt!==0?xt:0,!(lt?_a(lt,Tt):g(Y,Tt,u))){for(C=y;--C;){var Bt=R[C];if(!(Bt?_a(Bt,Tt):g(a[C],Tt,u)))continue t}lt&&lt.push(Tt),Y.push(xt)}}return Y}function wy(a,l,u,g){return ln(a,function(v,y,C){l(g,u(v),y,C)}),g}function Oa(a,l,u){l=Jn(l,a),a=db(a,l);var g=a==null?a:a[cn(Io(l))];return g==null?t:uo(g,a,u)}function Cp(a){return ke(a)&&qe(a)==G}function yy(a){return ke(a)&&qe(a)==Ft}function _y(a){return ke(a)&&qe(a)==St}function Sa(a,l,u,g,v){return a===l?!0:a==null||l==null||!ke(a)&&!ke(l)?a!==a&&l!==l:ky(a,l,u,g,Sa,v)}function ky(a,l,u,g,v,y){var C=Dt(a),R=Dt(l),L=C?nt:Xe(a),Y=R?nt:Xe(l);L=L==G?j:L,Y=Y==G?j:Y;var W=L==j,q=Y==j,lt=L==Y;if(lt&&tr(a)){if(!tr(l))return!1;C=!0,W=!1}if(lt&&!W)return y||(y=new Wo),C||Ai(a)?rb(a,l,u,g,v,y):Ky(a,l,L,u,g,v,y);if(!(u&x)){var xt=W&&se.call(a,"__wrapped__"),Tt=q&&se.call(l,"__wrapped__");if(xt||Tt){var Bt=xt?a.value():a,Rt=Tt?l.value():l;return y||(y=new Wo),v(Bt,Rt,u,g,y)}}return lt?(y||(y=new Wo),Zy(a,l,u,g,v,y)):!1}function Ey(a){return ke(a)&&Xe(a)==I}function Oc(a,l,u,g){var v=u.length,y=v,C=!g;if(a==null)return!y;for(a=ce(a);v--;){var R=u[v];if(C&&R[2]?R[1]!==a[R[0]]:!(R[0]in a))return!1}for(;++v<y;){R=u[v];var L=R[0],Y=a[L],W=R[1];if(C&&R[2]){if(Y===t&&!(L in a))return!1}else{var q=new Wo;if(g)var lt=g(Y,W,L,a,l,q);if(!(lt===t?Sa(W,Y,x|_,g,q):lt))return!1}}return!0}function Tp(a){if(!we(a)||a1(a))return!1;var l=Cn(a)?Ew:px;return l.test(Ur(a))}function Cy(a){return ke(a)&&qe(a)==Z}function Ty(a){return ke(a)&&Xe(a)==J}function Ry(a){return ke(a)&&Il(a.length)&&!!me[qe(a)]}function Rp(a){return typeof a=="function"?a:a==null?io:typeof a=="object"?Dt(a)?Op(a[0],a[1]):Ip(a):qb(a)}function Sc(a){if(!Fa(a))return Ow(a);var l=[];for(var u in ce(a))se.call(a,u)&&u!="constructor"&&l.push(u);return l}function Ay(a){if(!we(a))return c1(a);var l=Fa(a),u=[];for(var g in a)g=="constructor"&&(l||!se.call(a,g))||u.push(g);return u}function Pc(a,l){return a<l}function Ap(a,l){var u=-1,g=no(a)?N(a.length):[];return Kn(a,function(v,y,C){g[++u]=l(v,y,C)}),g}function Ip(a){var l=Hc(a);return l.length==1&&l[0][2]?fb(l[0][0],l[0][1]):function(u){return u===a||Oc(u,a,l)}}function Op(a,l){return qc(a)&&lb(l)?fb(cn(a),l):function(u){var g=id(u,a);return g===t&&g===l?ad(u,a):Sa(l,g,x|_)}}function hl(a,l,u,g,v){a!==l&&Tc(l,function(y,C){if(v||(v=new Wo),we(y))Iy(a,l,C,u,hl,g,v);else{var R=g?g(Zc(a,C),y,C+"",a,l,v):t;R===t&&(R=y),Ec(a,C,R)}},ro)}function Iy(a,l,u,g,v,y,C){var R=Zc(a,u),L=Zc(l,u),Y=C.get(L);if(Y){Ec(a,u,Y);return}var W=y?y(R,L,u+"",a,l,C):t,q=W===t;if(q){var lt=Dt(L),xt=!lt&&tr(L),Tt=!lt&&!xt&&Ai(L);W=L,lt||xt||Tt?Dt(R)?W=R:Te(R)?W=oo(R):xt?(q=!1,W=jp(L,!0)):Tt?(q=!1,W=Yp(L,!0)):W=[]:za(L)||Br(L)?(W=R,Br(R)?W=Gb(R):(!we(R)||Cn(R))&&(W=sb(L))):q=!1}q&&(C.set(L,W),v(W,L,g,y,C),C.delete(L)),Ec(a,u,W)}function Sp(a,l){var u=a.length;if(!!u)return l+=l<0?u:0,En(l,u)?a[l]:t}function Pp(a,l,u){l.length?l=ve(l,function(y){return Dt(y)?function(C){return Nr(C,y.length===1?y[0]:y)}:y}):l=[io];var g=-1;l=ve(l,ho(kt()));var v=Ap(a,function(y,C,R){var L=ve(l,function(Y){return Y(y)});return{criteria:L,index:++g,value:y}});return ow(v,function(y,C){return jy(y,C,u)})}function Oy(a,l){return Lp(a,l,function(u,g){return ad(a,g)})}function Lp(a,l,u){for(var g=-1,v=l.length,y={};++g<v;){var C=l[g],R=Nr(a,C);u(R,C)&&Pa(y,Jn(C,a),R)}return y}function Sy(a){return function(l){return Nr(l,a)}}function Lc(a,l,u,g){var v=g?ew:mi,y=-1,C=l.length,R=a;for(a===l&&(l=oo(l)),u&&(R=ve(a,ho(u)));++y<C;)for(var L=0,Y=l[y],W=u?u(Y):Y;(L=v(R,W,L,g))>-1;)R!==a&&nl.call(R,L,1),nl.call(a,L,1);return a}function Fp(a,l){for(var u=a?l.length:0,g=u-1;u--;){var v=l[u];if(u==g||v!==y){var y=v;En(v)?nl.call(a,v,1):Dc(a,v)}}return a}function Fc(a,l){return a+al(pp()*(l-a+1))}function Py(a,l,u,g){for(var v=-1,y=Fe(il((l-a)/(u||1)),0),C=N(y);y--;)C[g?y:++v]=a,a+=u;return C}function Mc(a,l){var u="";if(!a||l<1||l>ct)return u;do l%2&&(u+=a),l=al(l/2),l&&(a+=a);while(l);return u}function Yt(a,l){return Jc(cb(a,l,io),a+"")}function Ly(a){return mp(Ii(a))}function Fy(a,l){var u=Ii(a);return kl(u,Dr(l,0,u.length))}function Pa(a,l,u,g){if(!we(a))return a;l=Jn(l,a);for(var v=-1,y=l.length,C=y-1,R=a;R!=null&&++v<y;){var L=cn(l[v]),Y=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(v!=C){var W=R[L];Y=g?g(W,L,R):t,Y===t&&(Y=we(W)?W:En(l[v+1])?[]:{})}Aa(R,L,Y),R=R[L]}return a}var Mp=sl?function(a,l){return sl.set(a,l),a}:io,My=rl?function(a,l){return rl(a,"toString",{configurable:!0,enumerable:!1,value:ld(l),writable:!0})}:io;function zy(a){return kl(Ii(a))}function Ao(a,l,u){var g=-1,v=a.length;l<0&&(l=-l>v?0:v+l),u=u>v?v:u,u<0&&(u+=v),v=l>u?0:u-l>>>0,l>>>=0;for(var y=N(v);++g<v;)y[g]=a[g+l];return y}function Dy(a,l){var u;return Kn(a,function(g,v,y){return u=l(g,v,y),!u}),!!u}function pl(a,l,u){var g=0,v=a==null?g:a.length;if(typeof l=="number"&&l===l&&v<=Wt){for(;g<v;){var y=g+v>>>1,C=a[y];C!==null&&!bo(C)&&(u?C<=l:C<l)?g=y+1:v=y}return v}return zc(a,l,io,u)}function zc(a,l,u,g){var v=0,y=a==null?0:a.length;if(y===0)return 0;l=u(l);for(var C=l!==l,R=l===null,L=bo(l),Y=l===t;v<y;){var W=al((v+y)/2),q=u(a[W]),lt=q!==t,xt=q===null,Tt=q===q,Bt=bo(q);if(C)var Rt=g||Tt;else Y?Rt=Tt&&(g||lt):R?Rt=Tt&&lt&&(g||!xt):L?Rt=Tt&&lt&&!xt&&(g||!Bt):xt||Bt?Rt=!1:Rt=g?q<=l:q<l;Rt?v=W+1:y=W}return We(y,K)}function zp(a,l){for(var u=-1,g=a.length,v=0,y=[];++u<g;){var C=a[u],R=l?l(C):C;if(!u||!Xo(R,L)){var L=R;y[v++]=C===0?0:C}}return y}function Dp(a){return typeof a=="number"?a:bo(a)?Pt:+a}function po(a){if(typeof a=="string")return a;if(Dt(a))return ve(a,po)+"";if(bo(a))return bp?bp.call(a):"";var l=a+"";return l=="0"&&1/a==-et?"-0":l}function Zn(a,l,u){var g=-1,v=Hs,y=a.length,C=!0,R=[],L=R;if(u)C=!1,v=dc;else if(y>=r){var Y=l?null:$y(a);if(Y)return qs(Y);C=!1,v=_a,L=new zr}else L=l?[]:R;t:for(;++g<y;){var W=a[g],q=l?l(W):W;if(W=u||W!==0?W:0,C&&q===q){for(var lt=L.length;lt--;)if(L[lt]===q)continue t;l&&L.push(q),R.push(W)}else v(L,q,u)||(L!==R&&L.push(q),R.push(W))}return R}function Dc(a,l){return l=Jn(l,a),a=db(a,l),a==null||delete a[cn(Io(l))]}function Np(a,l,u,g){return Pa(a,l,u(Nr(a,l)),g)}function bl(a,l,u,g){for(var v=a.length,y=g?v:-1;(g?y--:++y<v)&&l(a[y],y,a););return u?Ao(a,g?0:y,g?y+1:v):Ao(a,g?y+1:0,g?v:y)}function Gp(a,l){var u=a;return u instanceof Ht&&(u=u.value()),uc(l,function(g,v){return v.func.apply(v.thisArg,Hn([g],v.args))},u)}function Nc(a,l,u){var g=a.length;if(g<2)return g?Zn(a[0]):[];for(var v=-1,y=N(g);++v<g;)for(var C=a[v],R=-1;++R<g;)R!=v&&(y[v]=Ia(y[v]||C,a[R],l,u));return Zn(Be(y,1),l,u)}function Up(a,l,u){for(var g=-1,v=a.length,y=l.length,C={};++g<v;){var R=g<y?l[g]:t;u(C,a[g],R)}return C}function Gc(a){return Te(a)?a:[]}function Uc(a){return typeof a=="function"?a:io}function Jn(a,l){return Dt(a)?a:qc(a,l)?[a]:bb(ae(a))}var Ny=Yt;function Qn(a,l,u){var g=a.length;return u=u===t?g:u,!l&&u>=g?a:Ao(a,l,u)}var Bp=Cw||function(a){return Ue.clearTimeout(a)};function jp(a,l){if(l)return a.slice();var u=a.length,g=fp?fp(u):new a.constructor(u);return a.copy(g),g}function Bc(a){var l=new a.constructor(a.byteLength);return new el(l).set(new el(a)),l}function Gy(a,l){var u=l?Bc(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.byteLength)}function Uy(a){var l=new a.constructor(a.source,js.exec(a));return l.lastIndex=a.lastIndex,l}function By(a){return Ra?ce(Ra.call(a)):{}}function Yp(a,l){var u=l?Bc(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.length)}function Wp(a,l){if(a!==l){var u=a!==t,g=a===null,v=a===a,y=bo(a),C=l!==t,R=l===null,L=l===l,Y=bo(l);if(!R&&!Y&&!y&&a>l||y&&C&&L&&!R&&!Y||g&&C&&L||!u&&L||!v)return 1;if(!g&&!y&&!Y&&a<l||Y&&u&&v&&!g&&!y||R&&u&&v||!C&&v||!L)return-1}return 0}function jy(a,l,u){for(var g=-1,v=a.criteria,y=l.criteria,C=v.length,R=u.length;++g<C;){var L=Wp(v[g],y[g]);if(L){if(g>=R)return L;var Y=u[g];return L*(Y=="desc"?-1:1)}}return a.index-l.index}function Xp(a,l,u,g){for(var v=-1,y=a.length,C=u.length,R=-1,L=l.length,Y=Fe(y-C,0),W=N(L+Y),q=!g;++R<L;)W[R]=l[R];for(;++v<C;)(q||v<y)&&(W[u[v]]=a[v]);for(;Y--;)W[R++]=a[v++];return W}function Vp(a,l,u,g){for(var v=-1,y=a.length,C=-1,R=u.length,L=-1,Y=l.length,W=Fe(y-R,0),q=N(W+Y),lt=!g;++v<W;)q[v]=a[v];for(var xt=v;++L<Y;)q[xt+L]=l[L];for(;++C<R;)(lt||v<y)&&(q[xt+u[C]]=a[v++]);return q}function oo(a,l){var u=-1,g=a.length;for(l||(l=N(g));++u<g;)l[u]=a[u];return l}function fn(a,l,u,g){var v=!u;u||(u={});for(var y=-1,C=l.length;++y<C;){var R=l[y],L=g?g(u[R],a[R],R,u,a):t;L===t&&(L=a[R]),v?yn(u,R,L):Aa(u,R,L)}return u}function Yy(a,l){return fn(a,$c(a),l)}function Wy(a,l){return fn(a,ib(a),l)}function gl(a,l){return function(u,g){var v=Dt(u)?qx:uy,y=l?l():{};return v(u,a,kt(g,2),y)}}function Ci(a){return Yt(function(l,u){var g=-1,v=u.length,y=v>1?u[v-1]:t,C=v>2?u[2]:t;for(y=a.length>3&&typeof y=="function"?(v--,y):t,C&&Ke(u[0],u[1],C)&&(y=v<3?t:y,v=1),l=ce(l);++g<v;){var R=u[g];R&&a(l,R,g,y)}return l})}function Hp(a,l){return function(u,g){if(u==null)return u;if(!no(u))return a(u,g);for(var v=u.length,y=l?v:-1,C=ce(u);(l?y--:++y<v)&&g(C[y],y,C)!==!1;);return u}}function $p(a){return function(l,u,g){for(var v=-1,y=ce(l),C=g(l),R=C.length;R--;){var L=C[a?R:++v];if(u(y[L],L,y)===!1)break}return l}}function Xy(a,l,u){var g=l&k,v=La(a);function y(){var C=this&&this!==Ue&&this instanceof y?v:a;return C.apply(g?u:this,arguments)}return y}function qp(a){return function(l){l=ae(l);var u=vi(l)?Yo(l):t,g=u?u[0]:l.charAt(0),v=u?Qn(u,1).join(""):l.slice(1);return g[a]()+v}}function Ti(a){return function(l){return uc(Hb(Vb(l).replace(Mx,"")),a,"")}}function La(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var u=Ei(a.prototype),g=a.apply(u,l);return we(g)?g:u}}function Vy(a,l,u){var g=La(a);function v(){for(var y=arguments.length,C=N(y),R=y,L=Ri(v);R--;)C[R]=arguments[R];var Y=y<3&&C[0]!==L&&C[y-1]!==L?[]:$n(C,L);if(y-=Y.length,y<u)return tb(a,l,ml,v.placeholder,t,C,Y,t,t,u-y);var W=this&&this!==Ue&&this instanceof v?g:a;return uo(W,this,C)}return v}function Kp(a){return function(l,u,g){var v=ce(l);if(!no(l)){var y=kt(u,3);l=Me(l),u=function(R){return y(v[R],R,v)}}var C=a(l,u,g);return C>-1?v[y?l[C]:C]:t}}function Zp(a){return kn(function(l){var u=l.length,g=u,v=To.prototype.thru;for(a&&l.reverse();g--;){var y=l[g];if(typeof y!="function")throw new Co(s);if(v&&!C&&yl(y)=="wrapper")var C=new To([],!0)}for(g=C?g:u;++g<u;){y=l[g];var R=yl(y),L=R=="wrapper"?Vc(y):t;L&&Kc(L[0])&&L[1]==(U|O|D|z)&&!L[4].length&&L[9]==1?C=C[yl(L[0])].apply(C,L[3]):C=y.length==1&&Kc(y)?C[R]():C.thru(y)}return function(){var Y=arguments,W=Y[0];if(C&&Y.length==1&&Dt(W))return C.plant(W).value();for(var q=0,lt=u?l[q].apply(this,Y):W;++q<u;)lt=l[q].call(this,lt);return lt}})}function ml(a,l,u,g,v,y,C,R,L,Y){var W=l&U,q=l&k,lt=l&T,xt=l&(O|P),Tt=l&$,Bt=lt?t:La(a);function Rt(){for(var Vt=arguments.length,Zt=N(Vt),go=Vt;go--;)Zt[go]=arguments[go];if(xt)var Ze=Ri(Rt),mo=rw(Zt,Ze);if(g&&(Zt=Xp(Zt,g,v,xt)),y&&(Zt=Vp(Zt,y,C,xt)),Vt-=mo,xt&&Vt<Y){var Re=$n(Zt,Ze);return tb(a,l,ml,Rt.placeholder,u,Zt,Re,R,L,Y-Vt)}var Vo=q?u:this,Rn=lt?Vo[a]:a;return Vt=Zt.length,R?Zt=u1(Zt,R):Tt&&Vt>1&&Zt.reverse(),W&&L<Vt&&(Zt.length=L),this&&this!==Ue&&this instanceof Rt&&(Rn=Bt||La(Rn)),Rn.apply(Vo,Zt)}return Rt}function Jp(a,l){return function(u,g){return wy(u,a,l(g),{})}}function vl(a,l){return function(u,g){var v;if(u===t&&g===t)return l;if(u!==t&&(v=u),g!==t){if(v===t)return g;typeof u=="string"||typeof g=="string"?(u=po(u),g=po(g)):(u=Dp(u),g=Dp(g)),v=a(u,g)}return v}}function jc(a){return kn(function(l){return l=ve(l,ho(kt())),Yt(function(u){var g=this;return a(l,function(v){return uo(v,g,u)})})})}function xl(a,l){l=l===t?" ":po(l);var u=l.length;if(u<2)return u?Mc(l,a):l;var g=Mc(l,il(a/xi(l)));return vi(l)?Qn(Yo(g),0,a).join(""):g.slice(0,a)}function Hy(a,l,u,g){var v=l&k,y=La(a);function C(){for(var R=-1,L=arguments.length,Y=-1,W=g.length,q=N(W+L),lt=this&&this!==Ue&&this instanceof C?y:a;++Y<W;)q[Y]=g[Y];for(;L--;)q[Y++]=arguments[++R];return uo(lt,v?u:this,q)}return C}function Qp(a){return function(l,u,g){return g&&typeof g!="number"&&Ke(l,u,g)&&(u=g=t),l=Tn(l),u===t?(u=l,l=0):u=Tn(u),g=g===t?l<u?1:-1:Tn(g),Py(l,u,g,a)}}function wl(a){return function(l,u){return typeof l=="string"&&typeof u=="string"||(l=Oo(l),u=Oo(u)),a(l,u)}}function tb(a,l,u,g,v,y,C,R,L,Y){var W=l&O,q=W?C:t,lt=W?t:C,xt=W?y:t,Tt=W?t:y;l|=W?D:X,l&=~(W?X:D),l&A||(l&=~(k|T));var Bt=[a,l,v,xt,q,Tt,lt,R,L,Y],Rt=u.apply(t,Bt);return Kc(a)&&ub(Rt,Bt),Rt.placeholder=g,hb(Rt,a,l)}function Yc(a){var l=Le[a];return function(u,g){if(u=Oo(u),g=g==null?0:We(Ut(g),292),g&&hp(u)){var v=(ae(u)+"e").split("e"),y=l(v[0]+"e"+(+v[1]+g));return v=(ae(y)+"e").split("e"),+(v[0]+"e"+(+v[1]-g))}return l(u)}}var $y=_i&&1/qs(new _i([,-0]))[1]==et?function(a){return new _i(a)}:dd;function eb(a){return function(l){var u=Xe(l);return u==I?xc(l):u==J?dw(l):nw(l,a(l))}}function _n(a,l,u,g,v,y,C,R){var L=l&T;if(!L&&typeof a!="function")throw new Co(s);var Y=g?g.length:0;if(Y||(l&=~(D|X),g=v=t),C=C===t?C:Fe(Ut(C),0),R=R===t?R:Ut(R),Y-=v?v.length:0,l&X){var W=g,q=v;g=v=t}var lt=L?t:Vc(a),xt=[a,l,u,g,v,W,q,y,C,R];if(lt&&f1(xt,lt),a=xt[0],l=xt[1],u=xt[2],g=xt[3],v=xt[4],R=xt[9]=xt[9]===t?L?0:a.length:Fe(xt[9]-Y,0),!R&&l&(O|P)&&(l&=~(O|P)),!l||l==k)var Tt=Xy(a,l,u);else l==O||l==P?Tt=Vy(a,l,R):(l==D||l==(k|D))&&!v.length?Tt=Hy(a,l,u,g):Tt=ml.apply(t,xt);var Bt=lt?Mp:ub;return hb(Bt(Tt,xt),a,l)}function ob(a,l,u,g){return a===t||Xo(a,yi[u])&&!se.call(g,u)?l:a}function nb(a,l,u,g,v,y){return we(a)&&we(l)&&(y.set(l,a),hl(a,l,t,nb,y),y.delete(l)),a}function qy(a){return za(a)?t:a}function rb(a,l,u,g,v,y){var C=u&x,R=a.length,L=l.length;if(R!=L&&!(C&&L>R))return!1;var Y=y.get(a),W=y.get(l);if(Y&&W)return Y==l&&W==a;var q=-1,lt=!0,xt=u&_?new zr:t;for(y.set(a,l),y.set(l,a);++q<R;){var Tt=a[q],Bt=l[q];if(g)var Rt=C?g(Bt,Tt,q,l,a,y):g(Tt,Bt,q,a,l,y);if(Rt!==t){if(Rt)continue;lt=!1;break}if(xt){if(!hc(l,function(Vt,Zt){if(!_a(xt,Zt)&&(Tt===Vt||v(Tt,Vt,u,g,y)))return xt.push(Zt)})){lt=!1;break}}else if(!(Tt===Bt||v(Tt,Bt,u,g,y))){lt=!1;break}}return y.delete(a),y.delete(l),lt}function Ky(a,l,u,g,v,y,C){switch(u){case Mt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Ft:return!(a.byteLength!=l.byteLength||!y(new el(a),new el(l)));case at:case St:case M:return Xo(+a,+l);case yt:return a.name==l.name&&a.message==l.message;case Z:case H:return a==l+"";case I:var R=xc;case J:var L=g&x;if(R||(R=qs),a.size!=l.size&&!L)return!1;var Y=C.get(a);if(Y)return Y==l;g|=_,C.set(a,l);var W=rb(R(a),R(l),g,v,y,C);return C.delete(a),W;case bt:if(Ra)return Ra.call(a)==Ra.call(l)}return!1}function Zy(a,l,u,g,v,y){var C=u&x,R=Wc(a),L=R.length,Y=Wc(l),W=Y.length;if(L!=W&&!C)return!1;for(var q=L;q--;){var lt=R[q];if(!(C?lt in l:se.call(l,lt)))return!1}var xt=y.get(a),Tt=y.get(l);if(xt&&Tt)return xt==l&&Tt==a;var Bt=!0;y.set(a,l),y.set(l,a);for(var Rt=C;++q<L;){lt=R[q];var Vt=a[lt],Zt=l[lt];if(g)var go=C?g(Zt,Vt,lt,l,a,y):g(Vt,Zt,lt,a,l,y);if(!(go===t?Vt===Zt||v(Vt,Zt,u,g,y):go)){Bt=!1;break}Rt||(Rt=lt=="constructor")}if(Bt&&!Rt){var Ze=a.constructor,mo=l.constructor;Ze!=mo&&"constructor"in a&&"constructor"in l&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof mo=="function"&&mo instanceof mo)&&(Bt=!1)}return y.delete(a),y.delete(l),Bt}function kn(a){return Jc(cb(a,t,xb),a+"")}function Wc(a){return Ep(a,Me,$c)}function Xc(a){return Ep(a,ro,ib)}var Vc=sl?function(a){return sl.get(a)}:dd;function yl(a){for(var l=a.name+"",u=ki[l],g=se.call(ki,l)?u.length:0;g--;){var v=u[g],y=v.func;if(y==null||y==a)return v.name}return l}function Ri(a){var l=se.call(w,"placeholder")?w:a;return l.placeholder}function kt(){var a=w.iteratee||fd;return a=a===fd?Rp:a,arguments.length?a(arguments[0],arguments[1]):a}function _l(a,l){var u=a.__data__;return i1(l)?u[typeof l=="string"?"string":"hash"]:u.map}function Hc(a){for(var l=Me(a),u=l.length;u--;){var g=l[u],v=a[g];l[u]=[g,v,lb(v)]}return l}function Gr(a,l){var u=lw(a,l);return Tp(u)?u:t}function Jy(a){var l=se.call(a,Fr),u=a[Fr];try{a[Fr]=t;var g=!0}catch{}var v=Qs.call(a);return g&&(l?a[Fr]=u:delete a[Fr]),v}var $c=yc?function(a){return a==null?[]:(a=ce(a),Vn(yc(a),function(l){return dp.call(a,l)}))}:ud,ib=yc?function(a){for(var l=[];a;)Hn(l,$c(a)),a=ol(a);return l}:ud,Xe=qe;(_c&&Xe(new _c(new ArrayBuffer(1)))!=Mt||Ea&&Xe(new Ea)!=I||kc&&Xe(kc.resolve())!=tt||_i&&Xe(new _i)!=J||Ca&&Xe(new Ca)!=mt)&&(Xe=function(a){var l=qe(a),u=l==j?a.constructor:t,g=u?Ur(u):"";if(g)switch(g){case Fw:return Mt;case Mw:return I;case zw:return tt;case Dw:return J;case Nw:return mt}return l});function Qy(a,l,u){for(var g=-1,v=u.length;++g<v;){var y=u[g],C=y.size;switch(y.type){case"drop":a+=C;break;case"dropRight":l-=C;break;case"take":l=We(l,a+C);break;case"takeRight":a=Fe(a,l-C);break}}return{start:a,end:l}}function t1(a){var l=a.match(sn);return l?l[1].split(pi):[]}function ab(a,l,u){l=Jn(l,a);for(var g=-1,v=l.length,y=!1;++g<v;){var C=cn(l[g]);if(!(y=a!=null&&u(a,C)))break;a=a[C]}return y||++g!=v?y:(v=a==null?0:a.length,!!v&&Il(v)&&En(C,v)&&(Dt(a)||Br(a)))}function e1(a){var l=a.length,u=new a.constructor(l);return l&&typeof a[0]=="string"&&se.call(a,"index")&&(u.index=a.index,u.input=a.input),u}function sb(a){return typeof a.constructor=="function"&&!Fa(a)?Ei(ol(a)):{}}function o1(a,l,u){var g=a.constructor;switch(l){case Ft:return Bc(a);case at:case St:return new g(+a);case Mt:return Gy(a,u);case Gt:case Xt:case Ce:case be:case jo:case fe:case co:case ge:case Ge:return Yp(a,u);case I:return new g;case M:case H:return new g(a);case Z:return Uy(a);case J:return new g;case bt:return By(a)}}function n1(a,l){var u=l.length;if(!u)return a;var g=u-1;return l[g]=(u>1?"& ":"")+l[g],l=l.join(u>2?", ":" "),a.replace(Pr,`{
/* [wrapped with `+l+`] */
`)}function r1(a){return Dt(a)||Br(a)||!!(up&&a&&a[up])}function En(a,l){var u=typeof a;return l=l==null?ct:l,!!l&&(u=="number"||u!="symbol"&&gx.test(a))&&a>-1&&a%1==0&&a<l}function Ke(a,l,u){if(!we(u))return!1;var g=typeof l;return(g=="number"?no(u)&&En(l,u.length):g=="string"&&l in u)?Xo(u[l],a):!1}function qc(a,l){if(Dt(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||bo(a)?!0:Or.test(a)||!Ir.test(a)||l!=null&&a in ce(l)}function i1(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Kc(a){var l=yl(a),u=w[l];if(typeof u!="function"||!(l in Ht.prototype))return!1;if(a===u)return!0;var g=Vc(u);return!!g&&a===g[0]}function a1(a){return!!lp&&lp in a}var s1=Zs?Cn:hd;function Fa(a){var l=a&&a.constructor,u=typeof l=="function"&&l.prototype||yi;return a===u}function lb(a){return a===a&&!we(a)}function fb(a,l){return function(u){return u==null?!1:u[a]===l&&(l!==t||a in ce(u))}}function l1(a){var l=Rl(a,function(g){return u.size===d&&u.clear(),g}),u=l.cache;return l}function f1(a,l){var u=a[1],g=l[1],v=u|g,y=v<(k|T|U),C=g==U&&u==O||g==U&&u==z&&a[7].length<=l[8]||g==(U|z)&&l[7].length<=l[8]&&u==O;if(!(y||C))return a;g&k&&(a[2]=l[2],v|=u&k?0:A);var R=l[3];if(R){var L=a[3];a[3]=L?Xp(L,R,l[4]):R,a[4]=L?$n(a[3],h):l[4]}return R=l[5],R&&(L=a[5],a[5]=L?Vp(L,R,l[6]):R,a[6]=L?$n(a[5],h):l[6]),R=l[7],R&&(a[7]=R),g&U&&(a[8]=a[8]==null?l[8]:We(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=v,a}function c1(a){var l=[];if(a!=null)for(var u in ce(a))l.push(u);return l}function d1(a){return Qs.call(a)}function cb(a,l,u){return l=Fe(l===t?a.length-1:l,0),function(){for(var g=arguments,v=-1,y=Fe(g.length-l,0),C=N(y);++v<y;)C[v]=g[l+v];v=-1;for(var R=N(l+1);++v<l;)R[v]=g[v];return R[l]=u(C),uo(a,this,R)}}function db(a,l){return l.length<2?a:Nr(a,Ao(l,0,-1))}function u1(a,l){for(var u=a.length,g=We(l.length,u),v=oo(a);g--;){var y=l[g];a[g]=En(y,u)?v[y]:t}return a}function Zc(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var ub=pb(Mp),Ma=Rw||function(a,l){return Ue.setTimeout(a,l)},Jc=pb(My);function hb(a,l,u){var g=l+"";return Jc(a,n1(g,h1(t1(g),u)))}function pb(a){var l=0,u=0;return function(){var g=Sw(),v=ut-(g-u);if(u=g,v>0){if(++l>=dt)return arguments[0]}else l=0;return a.apply(t,arguments)}}function kl(a,l){var u=-1,g=a.length,v=g-1;for(l=l===t?g:l;++u<l;){var y=Fc(u,v),C=a[y];a[y]=a[u],a[u]=C}return a.length=l,a}var bb=l1(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Bs,function(u,g,v,y){l.push(v?y.replace(eo,"$1"):g||u)}),l});function cn(a){if(typeof a=="string"||bo(a))return a;var l=a+"";return l=="0"&&1/a==-et?"-0":l}function Ur(a){if(a!=null){try{return Js.call(a)}catch{}try{return a+""}catch{}}return""}function h1(a,l){return Eo(Et,function(u){var g="_."+u[0];l&u[1]&&!Hs(a,g)&&a.push(g)}),a.sort()}function gb(a){if(a instanceof Ht)return a.clone();var l=new To(a.__wrapped__,a.__chain__);return l.__actions__=oo(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function p1(a,l,u){(u?Ke(a,l,u):l===t)?l=1:l=Fe(Ut(l),0);var g=a==null?0:a.length;if(!g||l<1)return[];for(var v=0,y=0,C=N(il(g/l));v<g;)C[y++]=Ao(a,v,v+=l);return C}function b1(a){for(var l=-1,u=a==null?0:a.length,g=0,v=[];++l<u;){var y=a[l];y&&(v[g++]=y)}return v}function g1(){var a=arguments.length;if(!a)return[];for(var l=N(a-1),u=arguments[0],g=a;g--;)l[g-1]=arguments[g];return Hn(Dt(u)?oo(u):[u],Be(l,1))}var m1=Yt(function(a,l){return Te(a)?Ia(a,Be(l,1,Te,!0)):[]}),v1=Yt(function(a,l){var u=Io(l);return Te(u)&&(u=t),Te(a)?Ia(a,Be(l,1,Te,!0),kt(u,2)):[]}),x1=Yt(function(a,l){var u=Io(l);return Te(u)&&(u=t),Te(a)?Ia(a,Be(l,1,Te,!0),t,u):[]});function w1(a,l,u){var g=a==null?0:a.length;return g?(l=u||l===t?1:Ut(l),Ao(a,l<0?0:l,g)):[]}function y1(a,l,u){var g=a==null?0:a.length;return g?(l=u||l===t?1:Ut(l),l=g-l,Ao(a,0,l<0?0:l)):[]}function _1(a,l){return a&&a.length?bl(a,kt(l,3),!0,!0):[]}function k1(a,l){return a&&a.length?bl(a,kt(l,3),!0):[]}function E1(a,l,u,g){var v=a==null?0:a.length;return v?(u&&typeof u!="number"&&Ke(a,l,u)&&(u=0,g=v),gy(a,l,u,g)):[]}function mb(a,l,u){var g=a==null?0:a.length;if(!g)return-1;var v=u==null?0:Ut(u);return v<0&&(v=Fe(g+v,0)),$s(a,kt(l,3),v)}function vb(a,l,u){var g=a==null?0:a.length;if(!g)return-1;var v=g-1;return u!==t&&(v=Ut(u),v=u<0?Fe(g+v,0):We(v,g-1)),$s(a,kt(l,3),v,!0)}function xb(a){var l=a==null?0:a.length;return l?Be(a,1):[]}function C1(a){var l=a==null?0:a.length;return l?Be(a,et):[]}function T1(a,l){var u=a==null?0:a.length;return u?(l=l===t?1:Ut(l),Be(a,l)):[]}function R1(a){for(var l=-1,u=a==null?0:a.length,g={};++l<u;){var v=a[l];g[v[0]]=v[1]}return g}function wb(a){return a&&a.length?a[0]:t}function A1(a,l,u){var g=a==null?0:a.length;if(!g)return-1;var v=u==null?0:Ut(u);return v<0&&(v=Fe(g+v,0)),mi(a,l,v)}function I1(a){var l=a==null?0:a.length;return l?Ao(a,0,-1):[]}var O1=Yt(function(a){var l=ve(a,Gc);return l.length&&l[0]===a[0]?Ic(l):[]}),S1=Yt(function(a){var l=Io(a),u=ve(a,Gc);return l===Io(u)?l=t:u.pop(),u.length&&u[0]===a[0]?Ic(u,kt(l,2)):[]}),P1=Yt(function(a){var l=Io(a),u=ve(a,Gc);return l=typeof l=="function"?l:t,l&&u.pop(),u.length&&u[0]===a[0]?Ic(u,t,l):[]});function L1(a,l){return a==null?"":Iw.call(a,l)}function Io(a){var l=a==null?0:a.length;return l?a[l-1]:t}function F1(a,l,u){var g=a==null?0:a.length;if(!g)return-1;var v=g;return u!==t&&(v=Ut(u),v=v<0?Fe(g+v,0):We(v,g-1)),l===l?hw(a,l,v):$s(a,tp,v,!0)}function M1(a,l){return a&&a.length?Sp(a,Ut(l)):t}var z1=Yt(yb);function yb(a,l){return a&&a.length&&l&&l.length?Lc(a,l):a}function D1(a,l,u){return a&&a.length&&l&&l.length?Lc(a,l,kt(u,2)):a}function N1(a,l,u){return a&&a.length&&l&&l.length?Lc(a,l,t,u):a}var G1=kn(function(a,l){var u=a==null?0:a.length,g=Cc(a,l);return Fp(a,ve(l,function(v){return En(v,u)?+v:v}).sort(Wp)),g});function U1(a,l){var u=[];if(!(a&&a.length))return u;var g=-1,v=[],y=a.length;for(l=kt(l,3);++g<y;){var C=a[g];l(C,g,a)&&(u.push(C),v.push(g))}return Fp(a,v),u}function Qc(a){return a==null?a:Lw.call(a)}function B1(a,l,u){var g=a==null?0:a.length;return g?(u&&typeof u!="number"&&Ke(a,l,u)?(l=0,u=g):(l=l==null?0:Ut(l),u=u===t?g:Ut(u)),Ao(a,l,u)):[]}function j1(a,l){return pl(a,l)}function Y1(a,l,u){return zc(a,l,kt(u,2))}function W1(a,l){var u=a==null?0:a.length;if(u){var g=pl(a,l);if(g<u&&Xo(a[g],l))return g}return-1}function X1(a,l){return pl(a,l,!0)}function V1(a,l,u){return zc(a,l,kt(u,2),!0)}function H1(a,l){var u=a==null?0:a.length;if(u){var g=pl(a,l,!0)-1;if(Xo(a[g],l))return g}return-1}function $1(a){return a&&a.length?zp(a):[]}function q1(a,l){return a&&a.length?zp(a,kt(l,2)):[]}function K1(a){var l=a==null?0:a.length;return l?Ao(a,1,l):[]}function Z1(a,l,u){return a&&a.length?(l=u||l===t?1:Ut(l),Ao(a,0,l<0?0:l)):[]}function J1(a,l,u){var g=a==null?0:a.length;return g?(l=u||l===t?1:Ut(l),l=g-l,Ao(a,l<0?0:l,g)):[]}function Q1(a,l){return a&&a.length?bl(a,kt(l,3),!1,!0):[]}function t_(a,l){return a&&a.length?bl(a,kt(l,3)):[]}var e_=Yt(function(a){return Zn(Be(a,1,Te,!0))}),o_=Yt(function(a){var l=Io(a);return Te(l)&&(l=t),Zn(Be(a,1,Te,!0),kt(l,2))}),n_=Yt(function(a){var l=Io(a);return l=typeof l=="function"?l:t,Zn(Be(a,1,Te,!0),t,l)});function r_(a){return a&&a.length?Zn(a):[]}function i_(a,l){return a&&a.length?Zn(a,kt(l,2)):[]}function a_(a,l){return l=typeof l=="function"?l:t,a&&a.length?Zn(a,t,l):[]}function td(a){if(!(a&&a.length))return[];var l=0;return a=Vn(a,function(u){if(Te(u))return l=Fe(u.length,l),!0}),mc(l,function(u){return ve(a,pc(u))})}function _b(a,l){if(!(a&&a.length))return[];var u=td(a);return l==null?u:ve(u,function(g){return uo(l,t,g)})}var s_=Yt(function(a,l){return Te(a)?Ia(a,l):[]}),l_=Yt(function(a){return Nc(Vn(a,Te))}),f_=Yt(function(a){var l=Io(a);return Te(l)&&(l=t),Nc(Vn(a,Te),kt(l,2))}),c_=Yt(function(a){var l=Io(a);return l=typeof l=="function"?l:t,Nc(Vn(a,Te),t,l)}),d_=Yt(td);function u_(a,l){return Up(a||[],l||[],Aa)}function h_(a,l){return Up(a||[],l||[],Pa)}var p_=Yt(function(a){var l=a.length,u=l>1?a[l-1]:t;return u=typeof u=="function"?(a.pop(),u):t,_b(a,u)});function kb(a){var l=w(a);return l.__chain__=!0,l}function b_(a,l){return l(a),a}function El(a,l){return l(a)}var g_=kn(function(a){var l=a.length,u=l?a[0]:0,g=this.__wrapped__,v=function(y){return Cc(y,a)};return l>1||this.__actions__.length||!(g instanceof Ht)||!En(u)?this.thru(v):(g=g.slice(u,+u+(l?1:0)),g.__actions__.push({func:El,args:[v],thisArg:t}),new To(g,this.__chain__).thru(function(y){return l&&!y.length&&y.push(t),y}))});function m_(){return kb(this)}function v_(){return new To(this.value(),this.__chain__)}function x_(){this.__values__===t&&(this.__values__=Db(this.value()));var a=this.__index__>=this.__values__.length,l=a?t:this.__values__[this.__index__++];return{done:a,value:l}}function w_(){return this}function y_(a){for(var l,u=this;u instanceof fl;){var g=gb(u);g.__index__=0,g.__values__=t,l?v.__wrapped__=g:l=g;var v=g;u=u.__wrapped__}return v.__wrapped__=a,l}function __(){var a=this.__wrapped__;if(a instanceof Ht){var l=a;return this.__actions__.length&&(l=new Ht(this)),l=l.reverse(),l.__actions__.push({func:El,args:[Qc],thisArg:t}),new To(l,this.__chain__)}return this.thru(Qc)}function k_(){return Gp(this.__wrapped__,this.__actions__)}var E_=gl(function(a,l,u){se.call(a,u)?++a[u]:yn(a,u,1)});function C_(a,l,u){var g=Dt(a)?Jh:by;return u&&Ke(a,l,u)&&(l=t),g(a,kt(l,3))}function T_(a,l){var u=Dt(a)?Vn:_p;return u(a,kt(l,3))}var R_=Kp(mb),A_=Kp(vb);function I_(a,l){return Be(Cl(a,l),1)}function O_(a,l){return Be(Cl(a,l),et)}function S_(a,l,u){return u=u===t?1:Ut(u),Be(Cl(a,l),u)}function Eb(a,l){var u=Dt(a)?Eo:Kn;return u(a,kt(l,3))}function Cb(a,l){var u=Dt(a)?Kx:yp;return u(a,kt(l,3))}var P_=gl(function(a,l,u){se.call(a,u)?a[u].push(l):yn(a,u,[l])});function L_(a,l,u,g){a=no(a)?a:Ii(a),u=u&&!g?Ut(u):0;var v=a.length;return u<0&&(u=Fe(v+u,0)),Ol(a)?u<=v&&a.indexOf(l,u)>-1:!!v&&mi(a,l,u)>-1}var F_=Yt(function(a,l,u){var g=-1,v=typeof l=="function",y=no(a)?N(a.length):[];return Kn(a,function(C){y[++g]=v?uo(l,C,u):Oa(C,l,u)}),y}),M_=gl(function(a,l,u){yn(a,u,l)});function Cl(a,l){var u=Dt(a)?ve:Ap;return u(a,kt(l,3))}function z_(a,l,u,g){return a==null?[]:(Dt(l)||(l=l==null?[]:[l]),u=g?t:u,Dt(u)||(u=u==null?[]:[u]),Pp(a,l,u))}var D_=gl(function(a,l,u){a[u?0:1].push(l)},function(){return[[],[]]});function N_(a,l,u){var g=Dt(a)?uc:op,v=arguments.length<3;return g(a,kt(l,4),u,v,Kn)}function G_(a,l,u){var g=Dt(a)?Zx:op,v=arguments.length<3;return g(a,kt(l,4),u,v,yp)}function U_(a,l){var u=Dt(a)?Vn:_p;return u(a,Al(kt(l,3)))}function B_(a){var l=Dt(a)?mp:Ly;return l(a)}function j_(a,l,u){(u?Ke(a,l,u):l===t)?l=1:l=Ut(l);var g=Dt(a)?cy:Fy;return g(a,l)}function Y_(a){var l=Dt(a)?dy:zy;return l(a)}function W_(a){if(a==null)return 0;if(no(a))return Ol(a)?xi(a):a.length;var l=Xe(a);return l==I||l==J?a.size:Sc(a).length}function X_(a,l,u){var g=Dt(a)?hc:Dy;return u&&Ke(a,l,u)&&(l=t),g(a,kt(l,3))}var V_=Yt(function(a,l){if(a==null)return[];var u=l.length;return u>1&&Ke(a,l[0],l[1])?l=[]:u>2&&Ke(l[0],l[1],l[2])&&(l=[l[0]]),Pp(a,Be(l,1),[])}),Tl=Tw||function(){return Ue.Date.now()};function H_(a,l){if(typeof l!="function")throw new Co(s);return a=Ut(a),function(){if(--a<1)return l.apply(this,arguments)}}function Tb(a,l,u){return l=u?t:l,l=a&&l==null?a.length:l,_n(a,U,t,t,t,t,l)}function Rb(a,l){var u;if(typeof l!="function")throw new Co(s);return a=Ut(a),function(){return--a>0&&(u=l.apply(this,arguments)),a<=1&&(l=t),u}}var ed=Yt(function(a,l,u){var g=k;if(u.length){var v=$n(u,Ri(ed));g|=D}return _n(a,g,l,u,v)}),Ab=Yt(function(a,l,u){var g=k|T;if(u.length){var v=$n(u,Ri(Ab));g|=D}return _n(l,g,a,u,v)});function Ib(a,l,u){l=u?t:l;var g=_n(a,O,t,t,t,t,t,l);return g.placeholder=Ib.placeholder,g}function Ob(a,l,u){l=u?t:l;var g=_n(a,P,t,t,t,t,t,l);return g.placeholder=Ob.placeholder,g}function Sb(a,l,u){var g,v,y,C,R,L,Y=0,W=!1,q=!1,lt=!0;if(typeof a!="function")throw new Co(s);l=Oo(l)||0,we(u)&&(W=!!u.leading,q="maxWait"in u,y=q?Fe(Oo(u.maxWait)||0,l):y,lt="trailing"in u?!!u.trailing:lt);function xt(Re){var Vo=g,Rn=v;return g=v=t,Y=Re,C=a.apply(Rn,Vo),C}function Tt(Re){return Y=Re,R=Ma(Vt,l),W?xt(Re):C}function Bt(Re){var Vo=Re-L,Rn=Re-Y,Kb=l-Vo;return q?We(Kb,y-Rn):Kb}function Rt(Re){var Vo=Re-L,Rn=Re-Y;return L===t||Vo>=l||Vo<0||q&&Rn>=y}function Vt(){var Re=Tl();if(Rt(Re))return Zt(Re);R=Ma(Vt,Bt(Re))}function Zt(Re){return R=t,lt&&g?xt(Re):(g=v=t,C)}function go(){R!==t&&Bp(R),Y=0,g=L=v=R=t}function Ze(){return R===t?C:Zt(Tl())}function mo(){var Re=Tl(),Vo=Rt(Re);if(g=arguments,v=this,L=Re,Vo){if(R===t)return Tt(L);if(q)return Bp(R),R=Ma(Vt,l),xt(L)}return R===t&&(R=Ma(Vt,l)),C}return mo.cancel=go,mo.flush=Ze,mo}var $_=Yt(function(a,l){return wp(a,1,l)}),q_=Yt(function(a,l,u){return wp(a,Oo(l)||0,u)});function K_(a){return _n(a,$)}function Rl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new Co(s);var u=function(){var g=arguments,v=l?l.apply(this,g):g[0],y=u.cache;if(y.has(v))return y.get(v);var C=a.apply(this,g);return u.cache=y.set(v,C)||y,C};return u.cache=new(Rl.Cache||wn),u}Rl.Cache=wn;function Al(a){if(typeof a!="function")throw new Co(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function Z_(a){return Rb(2,a)}var J_=Ny(function(a,l){l=l.length==1&&Dt(l[0])?ve(l[0],ho(kt())):ve(Be(l,1),ho(kt()));var u=l.length;return Yt(function(g){for(var v=-1,y=We(g.length,u);++v<y;)g[v]=l[v].call(this,g[v]);return uo(a,this,g)})}),od=Yt(function(a,l){var u=$n(l,Ri(od));return _n(a,D,t,l,u)}),Pb=Yt(function(a,l){var u=$n(l,Ri(Pb));return _n(a,X,t,l,u)}),Q_=kn(function(a,l){return _n(a,z,t,t,t,l)});function t5(a,l){if(typeof a!="function")throw new Co(s);return l=l===t?l:Ut(l),Yt(a,l)}function e5(a,l){if(typeof a!="function")throw new Co(s);return l=l==null?0:Fe(Ut(l),0),Yt(function(u){var g=u[l],v=Qn(u,0,l);return g&&Hn(v,g),uo(a,this,v)})}function o5(a,l,u){var g=!0,v=!0;if(typeof a!="function")throw new Co(s);return we(u)&&(g="leading"in u?!!u.leading:g,v="trailing"in u?!!u.trailing:v),Sb(a,l,{leading:g,maxWait:l,trailing:v})}function n5(a){return Tb(a,1)}function r5(a,l){return od(Uc(l),a)}function i5(){if(!arguments.length)return[];var a=arguments[0];return Dt(a)?a:[a]}function a5(a){return Ro(a,m)}function s5(a,l){return l=typeof l=="function"?l:t,Ro(a,m,l)}function l5(a){return Ro(a,b|m)}function f5(a,l){return l=typeof l=="function"?l:t,Ro(a,b|m,l)}function c5(a,l){return l==null||xp(a,l,Me(l))}function Xo(a,l){return a===l||a!==a&&l!==l}var d5=wl(Ac),u5=wl(function(a,l){return a>=l}),Br=Cp(function(){return arguments}())?Cp:function(a){return ke(a)&&se.call(a,"callee")&&!dp.call(a,"callee")},Dt=N.isArray,h5=Vh?ho(Vh):yy;function no(a){return a!=null&&Il(a.length)&&!Cn(a)}function Te(a){return ke(a)&&no(a)}function p5(a){return a===!0||a===!1||ke(a)&&qe(a)==at}var tr=Aw||hd,b5=Hh?ho(Hh):_y;function g5(a){return ke(a)&&a.nodeType===1&&!za(a)}function m5(a){if(a==null)return!0;if(no(a)&&(Dt(a)||typeof a=="string"||typeof a.splice=="function"||tr(a)||Ai(a)||Br(a)))return!a.length;var l=Xe(a);if(l==I||l==J)return!a.size;if(Fa(a))return!Sc(a).length;for(var u in a)if(se.call(a,u))return!1;return!0}function v5(a,l){return Sa(a,l)}function x5(a,l,u){u=typeof u=="function"?u:t;var g=u?u(a,l):t;return g===t?Sa(a,l,t,u):!!g}function nd(a){if(!ke(a))return!1;var l=qe(a);return l==yt||l==Kt||typeof a.message=="string"&&typeof a.name=="string"&&!za(a)}function w5(a){return typeof a=="number"&&hp(a)}function Cn(a){if(!we(a))return!1;var l=qe(a);return l==Ct||l==E||l==Q||l==rt}function Lb(a){return typeof a=="number"&&a==Ut(a)}function Il(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ct}function we(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function ke(a){return a!=null&&typeof a=="object"}var Fb=$h?ho($h):Ey;function y5(a,l){return a===l||Oc(a,l,Hc(l))}function _5(a,l,u){return u=typeof u=="function"?u:t,Oc(a,l,Hc(l),u)}function k5(a){return Mb(a)&&a!=+a}function E5(a){if(s1(a))throw new zt(i);return Tp(a)}function C5(a){return a===null}function T5(a){return a==null}function Mb(a){return typeof a=="number"||ke(a)&&qe(a)==M}function za(a){if(!ke(a)||qe(a)!=j)return!1;var l=ol(a);if(l===null)return!0;var u=se.call(l,"constructor")&&l.constructor;return typeof u=="function"&&u instanceof u&&Js.call(u)==_w}var rd=qh?ho(qh):Cy;function R5(a){return Lb(a)&&a>=-ct&&a<=ct}var zb=Kh?ho(Kh):Ty;function Ol(a){return typeof a=="string"||!Dt(a)&&ke(a)&&qe(a)==H}function bo(a){return typeof a=="symbol"||ke(a)&&qe(a)==bt}var Ai=Zh?ho(Zh):Ry;function A5(a){return a===t}function I5(a){return ke(a)&&Xe(a)==mt}function O5(a){return ke(a)&&qe(a)==_t}var S5=wl(Pc),P5=wl(function(a,l){return a<=l});function Db(a){if(!a)return[];if(no(a))return Ol(a)?Yo(a):oo(a);if(ka&&a[ka])return cw(a[ka]());var l=Xe(a),u=l==I?xc:l==J?qs:Ii;return u(a)}function Tn(a){if(!a)return a===0?a:0;if(a=Oo(a),a===et||a===-et){var l=a<0?-1:1;return l*wt}return a===a?a:0}function Ut(a){var l=Tn(a),u=l%1;return l===l?u?l-u:l:0}function Nb(a){return a?Dr(Ut(a),0,Lt):0}function Oo(a){if(typeof a=="number")return a;if(bo(a))return Pt;if(we(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=we(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=np(a);var u=hx.test(a);return u||bx.test(a)?Hx(a.slice(2),u?2:8):Ys.test(a)?Pt:+a}function Gb(a){return fn(a,ro(a))}function L5(a){return a?Dr(Ut(a),-ct,ct):a===0?a:0}function ae(a){return a==null?"":po(a)}var F5=Ci(function(a,l){if(Fa(l)||no(l)){fn(l,Me(l),a);return}for(var u in l)se.call(l,u)&&Aa(a,u,l[u])}),Ub=Ci(function(a,l){fn(l,ro(l),a)}),Sl=Ci(function(a,l,u,g){fn(l,ro(l),a,g)}),M5=Ci(function(a,l,u,g){fn(l,Me(l),a,g)}),z5=kn(Cc);function D5(a,l){var u=Ei(a);return l==null?u:vp(u,l)}var N5=Yt(function(a,l){a=ce(a);var u=-1,g=l.length,v=g>2?l[2]:t;for(v&&Ke(l[0],l[1],v)&&(g=1);++u<g;)for(var y=l[u],C=ro(y),R=-1,L=C.length;++R<L;){var Y=C[R],W=a[Y];(W===t||Xo(W,yi[Y])&&!se.call(a,Y))&&(a[Y]=y[Y])}return a}),G5=Yt(function(a){return a.push(t,nb),uo(Bb,t,a)});function U5(a,l){return Qh(a,kt(l,3),ln)}function B5(a,l){return Qh(a,kt(l,3),Rc)}function j5(a,l){return a==null?a:Tc(a,kt(l,3),ro)}function Y5(a,l){return a==null?a:kp(a,kt(l,3),ro)}function W5(a,l){return a&&ln(a,kt(l,3))}function X5(a,l){return a&&Rc(a,kt(l,3))}function V5(a){return a==null?[]:ul(a,Me(a))}function H5(a){return a==null?[]:ul(a,ro(a))}function id(a,l,u){var g=a==null?t:Nr(a,l);return g===t?u:g}function $5(a,l){return a!=null&&ab(a,l,my)}function ad(a,l){return a!=null&&ab(a,l,vy)}var q5=Jp(function(a,l,u){l!=null&&typeof l.toString!="function"&&(l=Qs.call(l)),a[l]=u},ld(io)),K5=Jp(function(a,l,u){l!=null&&typeof l.toString!="function"&&(l=Qs.call(l)),se.call(a,l)?a[l].push(u):a[l]=[u]},kt),Z5=Yt(Oa);function Me(a){return no(a)?gp(a):Sc(a)}function ro(a){return no(a)?gp(a,!0):Ay(a)}function J5(a,l){var u={};return l=kt(l,3),ln(a,function(g,v,y){yn(u,l(g,v,y),g)}),u}function Q5(a,l){var u={};return l=kt(l,3),ln(a,function(g,v,y){yn(u,v,l(g,v,y))}),u}var tk=Ci(function(a,l,u){hl(a,l,u)}),Bb=Ci(function(a,l,u,g){hl(a,l,u,g)}),ek=kn(function(a,l){var u={};if(a==null)return u;var g=!1;l=ve(l,function(y){return y=Jn(y,a),g||(g=y.length>1),y}),fn(a,Xc(a),u),g&&(u=Ro(u,b|p|m,qy));for(var v=l.length;v--;)Dc(u,l[v]);return u});function ok(a,l){return jb(a,Al(kt(l)))}var nk=kn(function(a,l){return a==null?{}:Oy(a,l)});function jb(a,l){if(a==null)return{};var u=ve(Xc(a),function(g){return[g]});return l=kt(l),Lp(a,u,function(g,v){return l(g,v[0])})}function rk(a,l,u){l=Jn(l,a);var g=-1,v=l.length;for(v||(v=1,a=t);++g<v;){var y=a==null?t:a[cn(l[g])];y===t&&(g=v,y=u),a=Cn(y)?y.call(a):y}return a}function ik(a,l,u){return a==null?a:Pa(a,l,u)}function ak(a,l,u,g){return g=typeof g=="function"?g:t,a==null?a:Pa(a,l,u,g)}var Yb=eb(Me),Wb=eb(ro);function sk(a,l,u){var g=Dt(a),v=g||tr(a)||Ai(a);if(l=kt(l,4),u==null){var y=a&&a.constructor;v?u=g?new y:[]:we(a)?u=Cn(y)?Ei(ol(a)):{}:u={}}return(v?Eo:ln)(a,function(C,R,L){return l(u,C,R,L)}),u}function lk(a,l){return a==null?!0:Dc(a,l)}function fk(a,l,u){return a==null?a:Np(a,l,Uc(u))}function ck(a,l,u,g){return g=typeof g=="function"?g:t,a==null?a:Np(a,l,Uc(u),g)}function Ii(a){return a==null?[]:vc(a,Me(a))}function dk(a){return a==null?[]:vc(a,ro(a))}function uk(a,l,u){return u===t&&(u=l,l=t),u!==t&&(u=Oo(u),u=u===u?u:0),l!==t&&(l=Oo(l),l=l===l?l:0),Dr(Oo(a),l,u)}function hk(a,l,u){return l=Tn(l),u===t?(u=l,l=0):u=Tn(u),a=Oo(a),xy(a,l,u)}function pk(a,l,u){if(u&&typeof u!="boolean"&&Ke(a,l,u)&&(l=u=t),u===t&&(typeof l=="boolean"?(u=l,l=t):typeof a=="boolean"&&(u=a,a=t)),a===t&&l===t?(a=0,l=1):(a=Tn(a),l===t?(l=a,a=0):l=Tn(l)),a>l){var g=a;a=l,l=g}if(u||a%1||l%1){var v=pp();return We(a+v*(l-a+Vx("1e-"+((v+"").length-1))),l)}return Fc(a,l)}var bk=Ti(function(a,l,u){return l=l.toLowerCase(),a+(u?Xb(l):l)});function Xb(a){return sd(ae(a).toLowerCase())}function Vb(a){return a=ae(a),a&&a.replace(mx,iw).replace(zx,"")}function gk(a,l,u){a=ae(a),l=po(l);var g=a.length;u=u===t?g:Dr(Ut(u),0,g);var v=u;return u-=l.length,u>=0&&a.slice(u,v)==l}function mk(a){return a=ae(a),a&&va.test(a)?a.replace(ma,aw):a}function vk(a){return a=ae(a),a&&nc.test(a)?a.replace(hi,"\\$&"):a}var xk=Ti(function(a,l,u){return a+(u?"-":"")+l.toLowerCase()}),wk=Ti(function(a,l,u){return a+(u?" ":"")+l.toLowerCase()}),yk=qp("toLowerCase");function _k(a,l,u){a=ae(a),l=Ut(l);var g=l?xi(a):0;if(!l||g>=l)return a;var v=(l-g)/2;return xl(al(v),u)+a+xl(il(v),u)}function kk(a,l,u){a=ae(a),l=Ut(l);var g=l?xi(a):0;return l&&g<l?a+xl(l-g,u):a}function Ek(a,l,u){a=ae(a),l=Ut(l);var g=l?xi(a):0;return l&&g<l?xl(l-g,u)+a:a}function Ck(a,l,u){return u||l==null?l=0:l&&(l=+l),Pw(ae(a).replace(wa,""),l||0)}function Tk(a,l,u){return(u?Ke(a,l,u):l===t)?l=1:l=Ut(l),Mc(ae(a),l)}function Rk(){var a=arguments,l=ae(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var Ak=Ti(function(a,l,u){return a+(u?"_":"")+l.toLowerCase()});function Ik(a,l,u){return u&&typeof u!="number"&&Ke(a,l,u)&&(l=u=t),u=u===t?Lt:u>>>0,u?(a=ae(a),a&&(typeof l=="string"||l!=null&&!rd(l))&&(l=po(l),!l&&vi(a))?Qn(Yo(a),0,u):a.split(l,u)):[]}var Ok=Ti(function(a,l,u){return a+(u?" ":"")+sd(l)});function Sk(a,l,u){return a=ae(a),u=u==null?0:Dr(Ut(u),0,a.length),l=po(l),a.slice(u,u+l.length)==l}function Pk(a,l,u){var g=w.templateSettings;u&&Ke(a,l,u)&&(l=t),a=ae(a),l=Sl({},l,g,ob);var v=Sl({},l.imports,g.imports,ob),y=Me(v),C=vc(v,y),R,L,Y=0,W=l.interpolate||Ws,q="__p += '",lt=wc((l.escape||Ws).source+"|"+W.source+"|"+(W===Xn?ya:Ws).source+"|"+(l.evaluate||Ws).source+"|$","g"),xt="//# sourceURL="+(se.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bx+"]")+`
`;a.replace(lt,function(Rt,Vt,Zt,go,Ze,mo){return Zt||(Zt=go),q+=a.slice(Y,mo).replace(vx,sw),Vt&&(R=!0,q+=`' +
__e(`+Vt+`) +
'`),Ze&&(L=!0,q+=`';
`+Ze+`;
__p += '`),Zt&&(q+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),Y=mo+Rt.length,Rt}),q+=`';
`;var Tt=se.call(l,"variable")&&l.variable;if(!Tt)q=`with (obj) {
`+q+`
}
`;else if(Ye.test(Tt))throw new zt(f);q=(L?q.replace(Ar,""):q).replace(ga,"$1").replace(oc,"$1;"),q="function("+(Tt||"obj")+`) {
`+(Tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var Bt=$b(function(){return re(y,xt+"return "+q).apply(t,C)});if(Bt.source=q,nd(Bt))throw Bt;return Bt}function Lk(a){return ae(a).toLowerCase()}function Fk(a){return ae(a).toUpperCase()}function Mk(a,l,u){if(a=ae(a),a&&(u||l===t))return np(a);if(!a||!(l=po(l)))return a;var g=Yo(a),v=Yo(l),y=rp(g,v),C=ip(g,v)+1;return Qn(g,y,C).join("")}function zk(a,l,u){if(a=ae(a),a&&(u||l===t))return a.slice(0,sp(a)+1);if(!a||!(l=po(l)))return a;var g=Yo(a),v=ip(g,Yo(l))+1;return Qn(g,0,v).join("")}function Dk(a,l,u){if(a=ae(a),a&&(u||l===t))return a.replace(wa,"");if(!a||!(l=po(l)))return a;var g=Yo(a),v=rp(g,Yo(l));return Qn(g,v).join("")}function Nk(a,l){var u=ot,g=st;if(we(l)){var v="separator"in l?l.separator:v;u="length"in l?Ut(l.length):u,g="omission"in l?po(l.omission):g}a=ae(a);var y=a.length;if(vi(a)){var C=Yo(a);y=C.length}if(u>=y)return a;var R=u-xi(g);if(R<1)return g;var L=C?Qn(C,0,R).join(""):a.slice(0,R);if(v===t)return L+g;if(C&&(R+=L.length-R),rd(v)){if(a.slice(R).search(v)){var Y,W=L;for(v.global||(v=wc(v.source,ae(js.exec(v))+"g")),v.lastIndex=0;Y=v.exec(W);)var q=Y.index;L=L.slice(0,q===t?R:q)}}else if(a.indexOf(po(v),R)!=R){var lt=L.lastIndexOf(v);lt>-1&&(L=L.slice(0,lt))}return L+g}function Gk(a){return a=ae(a),a&&Gs.test(a)?a.replace(Ns,pw):a}var Uk=Ti(function(a,l,u){return a+(u?" ":"")+l.toUpperCase()}),sd=qp("toUpperCase");function Hb(a,l,u){return a=ae(a),l=u?t:l,l===t?fw(a)?mw(a):tw(a):a.match(l)||[]}var $b=Yt(function(a,l){try{return uo(a,t,l)}catch(u){return nd(u)?u:new zt(u)}}),Bk=kn(function(a,l){return Eo(l,function(u){u=cn(u),yn(a,u,ed(a[u],a))}),a});function jk(a){var l=a==null?0:a.length,u=kt();return a=l?ve(a,function(g){if(typeof g[1]!="function")throw new Co(s);return[u(g[0]),g[1]]}):[],Yt(function(g){for(var v=-1;++v<l;){var y=a[v];if(uo(y[0],this,g))return uo(y[1],this,g)}})}function Yk(a){return py(Ro(a,b))}function ld(a){return function(){return a}}function Wk(a,l){return a==null||a!==a?l:a}var Xk=Zp(),Vk=Zp(!0);function io(a){return a}function fd(a){return Rp(typeof a=="function"?a:Ro(a,b))}function Hk(a){return Ip(Ro(a,b))}function $k(a,l){return Op(a,Ro(l,b))}var qk=Yt(function(a,l){return function(u){return Oa(u,a,l)}}),Kk=Yt(function(a,l){return function(u){return Oa(a,u,l)}});function cd(a,l,u){var g=Me(l),v=ul(l,g);u==null&&!(we(l)&&(v.length||!g.length))&&(u=l,l=a,a=this,v=ul(l,Me(l)));var y=!(we(u)&&"chain"in u)||!!u.chain,C=Cn(a);return Eo(v,function(R){var L=l[R];a[R]=L,C&&(a.prototype[R]=function(){var Y=this.__chain__;if(y||Y){var W=a(this.__wrapped__),q=W.__actions__=oo(this.__actions__);return q.push({func:L,args:arguments,thisArg:a}),W.__chain__=Y,W}return L.apply(a,Hn([this.value()],arguments))})}),a}function Zk(){return Ue._===this&&(Ue._=kw),this}function dd(){}function Jk(a){return a=Ut(a),Yt(function(l){return Sp(l,a)})}var Qk=jc(ve),t2=jc(Jh),e2=jc(hc);function qb(a){return qc(a)?pc(cn(a)):Sy(a)}function o2(a){return function(l){return a==null?t:Nr(a,l)}}var n2=Qp(),r2=Qp(!0);function ud(){return[]}function hd(){return!1}function i2(){return{}}function a2(){return""}function s2(){return!0}function l2(a,l){if(a=Ut(a),a<1||a>ct)return[];var u=Lt,g=We(a,Lt);l=kt(l),a-=Lt;for(var v=mc(g,l);++u<a;)l(u);return v}function f2(a){return Dt(a)?ve(a,cn):bo(a)?[a]:oo(bb(ae(a)))}function c2(a){var l=++yw;return ae(a)+l}var d2=vl(function(a,l){return a+l},0),u2=Yc("ceil"),h2=vl(function(a,l){return a/l},1),p2=Yc("floor");function b2(a){return a&&a.length?dl(a,io,Ac):t}function g2(a,l){return a&&a.length?dl(a,kt(l,2),Ac):t}function m2(a){return ep(a,io)}function v2(a,l){return ep(a,kt(l,2))}function x2(a){return a&&a.length?dl(a,io,Pc):t}function w2(a,l){return a&&a.length?dl(a,kt(l,2),Pc):t}var y2=vl(function(a,l){return a*l},1),_2=Yc("round"),k2=vl(function(a,l){return a-l},0);function E2(a){return a&&a.length?gc(a,io):0}function C2(a,l){return a&&a.length?gc(a,kt(l,2)):0}return w.after=H_,w.ary=Tb,w.assign=F5,w.assignIn=Ub,w.assignInWith=Sl,w.assignWith=M5,w.at=z5,w.before=Rb,w.bind=ed,w.bindAll=Bk,w.bindKey=Ab,w.castArray=i5,w.chain=kb,w.chunk=p1,w.compact=b1,w.concat=g1,w.cond=jk,w.conforms=Yk,w.constant=ld,w.countBy=E_,w.create=D5,w.curry=Ib,w.curryRight=Ob,w.debounce=Sb,w.defaults=N5,w.defaultsDeep=G5,w.defer=$_,w.delay=q_,w.difference=m1,w.differenceBy=v1,w.differenceWith=x1,w.drop=w1,w.dropRight=y1,w.dropRightWhile=_1,w.dropWhile=k1,w.fill=E1,w.filter=T_,w.flatMap=I_,w.flatMapDeep=O_,w.flatMapDepth=S_,w.flatten=xb,w.flattenDeep=C1,w.flattenDepth=T1,w.flip=K_,w.flow=Xk,w.flowRight=Vk,w.fromPairs=R1,w.functions=V5,w.functionsIn=H5,w.groupBy=P_,w.initial=I1,w.intersection=O1,w.intersectionBy=S1,w.intersectionWith=P1,w.invert=q5,w.invertBy=K5,w.invokeMap=F_,w.iteratee=fd,w.keyBy=M_,w.keys=Me,w.keysIn=ro,w.map=Cl,w.mapKeys=J5,w.mapValues=Q5,w.matches=Hk,w.matchesProperty=$k,w.memoize=Rl,w.merge=tk,w.mergeWith=Bb,w.method=qk,w.methodOf=Kk,w.mixin=cd,w.negate=Al,w.nthArg=Jk,w.omit=ek,w.omitBy=ok,w.once=Z_,w.orderBy=z_,w.over=Qk,w.overArgs=J_,w.overEvery=t2,w.overSome=e2,w.partial=od,w.partialRight=Pb,w.partition=D_,w.pick=nk,w.pickBy=jb,w.property=qb,w.propertyOf=o2,w.pull=z1,w.pullAll=yb,w.pullAllBy=D1,w.pullAllWith=N1,w.pullAt=G1,w.range=n2,w.rangeRight=r2,w.rearg=Q_,w.reject=U_,w.remove=U1,w.rest=t5,w.reverse=Qc,w.sampleSize=j_,w.set=ik,w.setWith=ak,w.shuffle=Y_,w.slice=B1,w.sortBy=V_,w.sortedUniq=$1,w.sortedUniqBy=q1,w.split=Ik,w.spread=e5,w.tail=K1,w.take=Z1,w.takeRight=J1,w.takeRightWhile=Q1,w.takeWhile=t_,w.tap=b_,w.throttle=o5,w.thru=El,w.toArray=Db,w.toPairs=Yb,w.toPairsIn=Wb,w.toPath=f2,w.toPlainObject=Gb,w.transform=sk,w.unary=n5,w.union=e_,w.unionBy=o_,w.unionWith=n_,w.uniq=r_,w.uniqBy=i_,w.uniqWith=a_,w.unset=lk,w.unzip=td,w.unzipWith=_b,w.update=fk,w.updateWith=ck,w.values=Ii,w.valuesIn=dk,w.without=s_,w.words=Hb,w.wrap=r5,w.xor=l_,w.xorBy=f_,w.xorWith=c_,w.zip=d_,w.zipObject=u_,w.zipObjectDeep=h_,w.zipWith=p_,w.entries=Yb,w.entriesIn=Wb,w.extend=Ub,w.extendWith=Sl,cd(w,w),w.add=d2,w.attempt=$b,w.camelCase=bk,w.capitalize=Xb,w.ceil=u2,w.clamp=uk,w.clone=a5,w.cloneDeep=l5,w.cloneDeepWith=f5,w.cloneWith=s5,w.conformsTo=c5,w.deburr=Vb,w.defaultTo=Wk,w.divide=h2,w.endsWith=gk,w.eq=Xo,w.escape=mk,w.escapeRegExp=vk,w.every=C_,w.find=R_,w.findIndex=mb,w.findKey=U5,w.findLast=A_,w.findLastIndex=vb,w.findLastKey=B5,w.floor=p2,w.forEach=Eb,w.forEachRight=Cb,w.forIn=j5,w.forInRight=Y5,w.forOwn=W5,w.forOwnRight=X5,w.get=id,w.gt=d5,w.gte=u5,w.has=$5,w.hasIn=ad,w.head=wb,w.identity=io,w.includes=L_,w.indexOf=A1,w.inRange=hk,w.invoke=Z5,w.isArguments=Br,w.isArray=Dt,w.isArrayBuffer=h5,w.isArrayLike=no,w.isArrayLikeObject=Te,w.isBoolean=p5,w.isBuffer=tr,w.isDate=b5,w.isElement=g5,w.isEmpty=m5,w.isEqual=v5,w.isEqualWith=x5,w.isError=nd,w.isFinite=w5,w.isFunction=Cn,w.isInteger=Lb,w.isLength=Il,w.isMap=Fb,w.isMatch=y5,w.isMatchWith=_5,w.isNaN=k5,w.isNative=E5,w.isNil=T5,w.isNull=C5,w.isNumber=Mb,w.isObject=we,w.isObjectLike=ke,w.isPlainObject=za,w.isRegExp=rd,w.isSafeInteger=R5,w.isSet=zb,w.isString=Ol,w.isSymbol=bo,w.isTypedArray=Ai,w.isUndefined=A5,w.isWeakMap=I5,w.isWeakSet=O5,w.join=L1,w.kebabCase=xk,w.last=Io,w.lastIndexOf=F1,w.lowerCase=wk,w.lowerFirst=yk,w.lt=S5,w.lte=P5,w.max=b2,w.maxBy=g2,w.mean=m2,w.meanBy=v2,w.min=x2,w.minBy=w2,w.stubArray=ud,w.stubFalse=hd,w.stubObject=i2,w.stubString=a2,w.stubTrue=s2,w.multiply=y2,w.nth=M1,w.noConflict=Zk,w.noop=dd,w.now=Tl,w.pad=_k,w.padEnd=kk,w.padStart=Ek,w.parseInt=Ck,w.random=pk,w.reduce=N_,w.reduceRight=G_,w.repeat=Tk,w.replace=Rk,w.result=rk,w.round=_2,w.runInContext=S,w.sample=B_,w.size=W_,w.snakeCase=Ak,w.some=X_,w.sortedIndex=j1,w.sortedIndexBy=Y1,w.sortedIndexOf=W1,w.sortedLastIndex=X1,w.sortedLastIndexBy=V1,w.sortedLastIndexOf=H1,w.startCase=Ok,w.startsWith=Sk,w.subtract=k2,w.sum=E2,w.sumBy=C2,w.template=Pk,w.times=l2,w.toFinite=Tn,w.toInteger=Ut,w.toLength=Nb,w.toLower=Lk,w.toNumber=Oo,w.toSafeInteger=L5,w.toString=ae,w.toUpper=Fk,w.trim=Mk,w.trimEnd=zk,w.trimStart=Dk,w.truncate=Nk,w.unescape=Gk,w.uniqueId=c2,w.upperCase=Uk,w.upperFirst=sd,w.each=Eb,w.eachRight=Cb,w.first=wb,cd(w,function(){var a={};return ln(w,function(l,u){se.call(w.prototype,u)||(a[u]=l)}),a}(),{chain:!1}),w.VERSION=o,Eo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){w[a].placeholder=w}),Eo(["drop","take"],function(a,l){Ht.prototype[a]=function(u){u=u===t?1:Fe(Ut(u),0);var g=this.__filtered__&&!l?new Ht(this):this.clone();return g.__filtered__?g.__takeCount__=We(u,g.__takeCount__):g.__views__.push({size:We(u,Lt),type:a+(g.__dir__<0?"Right":"")}),g},Ht.prototype[a+"Right"]=function(u){return this.reverse()[a](u).reverse()}}),Eo(["filter","map","takeWhile"],function(a,l){var u=l+1,g=u==vt||u==ht;Ht.prototype[a]=function(v){var y=this.clone();return y.__iteratees__.push({iteratee:kt(v,3),type:u}),y.__filtered__=y.__filtered__||g,y}}),Eo(["head","last"],function(a,l){var u="take"+(l?"Right":"");Ht.prototype[a]=function(){return this[u](1).value()[0]}}),Eo(["initial","tail"],function(a,l){var u="drop"+(l?"":"Right");Ht.prototype[a]=function(){return this.__filtered__?new Ht(this):this[u](1)}}),Ht.prototype.compact=function(){return this.filter(io)},Ht.prototype.find=function(a){return this.filter(a).head()},Ht.prototype.findLast=function(a){return this.reverse().find(a)},Ht.prototype.invokeMap=Yt(function(a,l){return typeof a=="function"?new Ht(this):this.map(function(u){return Oa(u,a,l)})}),Ht.prototype.reject=function(a){return this.filter(Al(kt(a)))},Ht.prototype.slice=function(a,l){a=Ut(a);var u=this;return u.__filtered__&&(a>0||l<0)?new Ht(u):(a<0?u=u.takeRight(-a):a&&(u=u.drop(a)),l!==t&&(l=Ut(l),u=l<0?u.dropRight(-l):u.take(l-a)),u)},Ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ht.prototype.toArray=function(){return this.take(Lt)},ln(Ht.prototype,function(a,l){var u=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),v=w[g?"take"+(l=="last"?"Right":""):l],y=g||/^find/.test(l);!v||(w.prototype[l]=function(){var C=this.__wrapped__,R=g?[1]:arguments,L=C instanceof Ht,Y=R[0],W=L||Dt(C),q=function(Vt){var Zt=v.apply(w,Hn([Vt],R));return g&&lt?Zt[0]:Zt};W&&u&&typeof Y=="function"&&Y.length!=1&&(L=W=!1);var lt=this.__chain__,xt=!!this.__actions__.length,Tt=y&&!lt,Bt=L&&!xt;if(!y&&W){C=Bt?C:new Ht(this);var Rt=a.apply(C,R);return Rt.__actions__.push({func:El,args:[q],thisArg:t}),new To(Rt,lt)}return Tt&&Bt?a.apply(this,R):(Rt=this.thru(q),Tt?g?Rt.value()[0]:Rt.value():Rt)})}),Eo(["pop","push","shift","sort","splice","unshift"],function(a){var l=Ks[a],u=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);w.prototype[a]=function(){var v=arguments;if(g&&!this.__chain__){var y=this.value();return l.apply(Dt(y)?y:[],v)}return this[u](function(C){return l.apply(Dt(C)?C:[],v)})}}),ln(Ht.prototype,function(a,l){var u=w[l];if(u){var g=u.name+"";se.call(ki,g)||(ki[g]=[]),ki[g].push({name:l,func:u})}}),ki[ml(t,T).name]=[{name:"wrapper",func:t}],Ht.prototype.clone=Gw,Ht.prototype.reverse=Uw,Ht.prototype.value=Bw,w.prototype.at=g_,w.prototype.chain=m_,w.prototype.commit=v_,w.prototype.next=x_,w.prototype.plant=y_,w.prototype.reverse=__,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=k_,w.prototype.first=w.prototype.head,ka&&(w.prototype[ka]=w_),w},wi=vw();Lr?((Lr.exports=wi)._=wi,fc._=wi):Ue._=wi}).call(Na)})(Dn,Dn.exports);const jf=Vu({id:"mappingArea",state:()=>({perimeter:null}),getters:{height:n=>{var e;return((e=n.perimeter)==null?void 0:e.height())||0},width:n=>{var e;return((e=n.perimeter)==null?void 0:e.width())||0},area:n=>{var e,t;return(((e=n.perimeter)==null?void 0:e.height())||0)*(((t=n.perimeter)==null?void 0:t.width())||0)},cornerNW:n=>n.perimeter?[Dn.exports.chain(n.perimeter.path).map(e=>e[0]).min().round(6).value(),Dn.exports.chain(n.perimeter.path).map(e=>e[1]).max().round(6).value()]:[void 0,void 0],cornerSE:n=>n.perimeter?[Dn.exports.chain(n.perimeter.path).map(e=>e[0]).max().round(6).value(),Dn.exports.chain(n.perimeter.path).map(e=>e[1]).min().round(6).value()]:[void 0,void 0]}});var yo={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Do={};Do[yo.RADIANS]=6370997/(2*Math.PI);Do[yo.DEGREES]=2*Math.PI*6370997/360;Do[yo.FEET]=.3048;Do[yo.METERS]=1;Do[yo.USFEET]=1200/3937;var pE=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Do[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),Yf=pE;function Pe(n,e,t){return Math.min(Math.max(n,e),t)}var bE=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),gE=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function mE(n,e,t,o,r,i){var s=r-t,f=i-o;if(s!==0||f!==0){var c=((n-t)*s+(e-o)*f)/(s*s+f*f);c>1?(t=r,o=i):c>0&&(t+=s*c,o+=f*c)}return ii(n,e,t,o)}function ii(n,e,t,o){var r=t-n,i=o-e;return r*r+i*i}function vE(n){for(var e=n.length,t=0;t<e;t++){for(var o=t,r=Math.abs(n[t][t]),i=t+1;i<e;i++){var s=Math.abs(n[i][t]);s>r&&(r=s,o=i)}if(r===0)return null;var f=n[o];n[o]=n[t],n[t]=f;for(var c=t+1;c<e;c++)for(var d=-n[c][t]/n[t][t],h=t;h<e+1;h++)t==h?n[c][h]=0:n[c][h]+=d*n[t][h]}for(var b=new Array(e),p=e-1;p>=0;p--){b[p]=n[p][e]/n[p][p];for(var m=p-1;m>=0;m--)n[m][e]-=n[m][p]*b[p]}return b}function of(n){return n*Math.PI/180}function qi(n,e){var t=n%e;return t*e<0?t+e:t}function Mn(n,e,t){return n+t*(e-n)}function $0(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function Dl(n,e){return Math.floor($0(n,e))}function Nl(n,e){return Math.ceil($0(n,e))}var xE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ts=6378137,Wi=Math.PI*Ts,wE=[-Wi,-Wi,Wi,Wi],yE=[-180,-85,180,85],Gl=Ts*Math.log(Math.tan(Math.PI/2)),Pi=function(n){xE(e,n);function e(t){return n.call(this,{code:t,units:yo.METERS,extent:wE,global:!0,worldExtent:yE,getPointResolution:function(o,r){return o/bE(r[1]/Ts)}})||this}return e}(Yf),Yg=[new Pi("EPSG:3857"),new Pi("EPSG:102100"),new Pi("EPSG:102113"),new Pi("EPSG:900913"),new Pi("http://www.opengis.net/def/crs/EPSG/0/3857"),new Pi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function _E(n,e,t){var o=n.length,r=t>1?t:2,i=e;i===void 0&&(r>2?i=n.slice():i=new Array(o));for(var s=0;s<o;s+=r){i[s]=Wi*n[s]/180;var f=Ts*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));f>Gl?f=Gl:f<-Gl&&(f=-Gl),i[s+1]=f}return i}function kE(n,e,t){var o=n.length,r=t>1?t:2,i=e;i===void 0&&(r>2?i=n.slice():i=new Array(o));for(var s=0;s<o;s+=r)i[s]=180*n[s]/Wi,i[s+1]=360*Math.atan(Math.exp(n[s+1]/Ts))/Math.PI-90;return i}var EE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),CE=6378137,Wg=[-180,-90,180,90],TE=Math.PI*CE/180,Wr=function(n){EE(e,n);function e(t,o){return n.call(this,{code:t,units:yo.DEGREES,extent:Wg,axisOrientation:o,global:!0,metersPerUnit:TE,worldExtent:Wg})||this}return e}(Yf),Xg=[new Wr("CRS:84"),new Wr("EPSG:4326","neu"),new Wr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Wr("urn:ogc:def:crs:OGC:2:84"),new Wr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Wr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Wr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],iu={};function RE(n){return iu[n]||iu[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function AE(n,e){iu[n]=e}var De=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),o=1,r=arguments.length;o<r;++o){var i=arguments[o];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t};function Rs(n){for(var e in n)delete n[e]}var q0=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function us(n){var e;for(e in n)return!1;return!e}var Ki={};function pf(n,e,t){var o=n.getCode(),r=e.getCode();o in Ki||(Ki[o]={}),Ki[o][r]=t}function IE(n,e){var t;return n in Ki&&e in Ki[n]&&(t=Ki[n][e]),t}var Wa={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ze={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function $t(){return function(){throw new Error("Unimplemented abstract method.")}()}var OE=0;function ie(n){return n.ol_uid||(n.ol_uid=String(++OE))}var SE="6.14.1",PE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),LE=function(n){PE(e,n);function e(t){var o=this,r="v"+SE.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+r+"/doc/errors/#"+t+" for details.";return o=n.call(this,i)||this,o.code=t,o.name="AssertionError",o.message=i,o}return e}(Error),K0=LE;function qt(n,e){if(!n)throw new K0(e)}function au(n){for(var e=No(),t=0,o=n.length;t<o;++t)ts(e,n[t]);return e}function FE(n,e,t){var o=Math.min.apply(null,n),r=Math.min.apply(null,e),i=Math.max.apply(null,n),s=Math.max.apply(null,e);return nn(o,r,i,s,t)}function qu(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Z0(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function ua(n,e,t){var o,r;return e<n[0]?o=n[0]-e:n[2]<e?o=e-n[2]:o=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,o*o+r*r}function As(n,e){return Ku(n,e[0],e[1])}function Xi(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Ku(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function su(n,e){var t=n[0],o=n[1],r=n[2],i=n[3],s=e[0],f=e[1],c=ze.UNKNOWN;return s<t?c=c|ze.LEFT:s>r&&(c=c|ze.RIGHT),f<o?c=c|ze.BELOW:f>i&&(c=c|ze.ABOVE),c===ze.UNKNOWN&&(c=ze.INTERSECTING),c}function No(){return[1/0,1/0,-1/0,-1/0]}function nn(n,e,t,o,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=o,r):[n,e,t,o]}function Wf(n){return nn(1/0,1/0,-1/0,-1/0,n)}function ME(n,e){var t=n[0],o=n[1];return nn(t,o,t,o,e)}function J0(n,e,t,o,r){var i=Wf(r);return Q0(i,n,e,t,o)}function hs(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function zE(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function ts(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Q0(n,e,t,o,r){for(;t<o;t+=r)DE(n,e[t],e[t+1]);return n}function DE(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Zu(n,e){var t;return t=e(oa(n)),t||(t=e(Is(n)),t)||(t=e(Os(n)),t)||(t=e(Tr(n)),t)?t:!1}function lu(n){var e=0;return Ju(n)||(e=Ee(n)*rn(n)),e}function oa(n){return[n[0],n[1]]}function Is(n){return[n[2],n[1]]}function na(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function NE(n,e){var t;return e===Wa.BOTTOM_LEFT?t=oa(n):e===Wa.BOTTOM_RIGHT?t=Is(n):e===Wa.TOP_LEFT?t=Tr(n):e===Wa.TOP_RIGHT?t=Os(n):qt(!1,13),t}function fu(n,e,t,o,r){var i=e*o[0]/2,s=e*o[1]/2,f=Math.cos(t),c=Math.sin(t),d=i*f,h=i*c,b=s*f,p=s*c,m=n[0],x=n[1],_=m-d+p,k=m-d-p,T=m+d-p,A=m+d+p,O=x-h-b,P=x-h+b,D=x+h+b,X=x+h-b;return nn(Math.min(_,k,T,A),Math.min(O,P,D,X),Math.max(_,k,T,A),Math.max(O,P,D,X),r)}function rn(n){return n[3]-n[1]}function es(n,e,t){var o=t||No();return to(n,e)?(n[0]>e[0]?o[0]=n[0]:o[0]=e[0],n[1]>e[1]?o[1]=n[1]:o[1]=e[1],n[2]<e[2]?o[2]=n[2]:o[2]=e[2],n[3]<e[3]?o[3]=n[3]:o[3]=e[3]):Wf(o),o}function Tr(n){return[n[0],n[3]]}function Os(n){return[n[2],n[3]]}function Ee(n){return n[2]-n[0]}function to(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Ju(n){return n[2]<n[0]||n[3]<n[1]}function GE(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function UE(n,e,t){var o=!1,r=su(n,e),i=su(n,t);if(r===ze.INTERSECTING||i===ze.INTERSECTING)o=!0;else{var s=n[0],f=n[1],c=n[2],d=n[3],h=e[0],b=e[1],p=t[0],m=t[1],x=(m-b)/(p-h),_=void 0,k=void 0;!!(i&ze.ABOVE)&&!(r&ze.ABOVE)&&(_=p-(m-d)/x,o=_>=s&&_<=c),!o&&!!(i&ze.RIGHT)&&!(r&ze.RIGHT)&&(k=m-(p-c)*x,o=k>=f&&k<=d),!o&&!!(i&ze.BELOW)&&!(r&ze.BELOW)&&(_=p-(m-f)/x,o=_>=s&&_<=c),!o&&!!(i&ze.LEFT)&&!(r&ze.LEFT)&&(k=m-(p-s)*x,o=k>=f&&k<=d)}return o}function BE(n,e,t,o){var r=[];if(o>1)for(var i=n[2]-n[0],s=n[3]-n[1],f=0;f<o;++f)r.push(n[0]+i*f/o,n[1],n[2],n[1]+s*f/o,n[2]-i*f/o,n[3],n[0],n[3]-s*f/o);else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);for(var c=[],d=[],f=0,h=r.length;f<h;f+=2)c.push(r[f]),d.push(r[f+1]);return FE(c,d,t)}function jE(n,e){var t=e.getExtent(),o=na(n);if(e.canWrapX()&&(o[0]<t[0]||o[0]>=t[2])){var r=Ee(t),i=Math.floor((o[0]-t[0])/r),s=i*r;n[0]-=s,n[2]-=s}return n}function YE(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function WE(n){return function(e){return $E(e,n)}}function XE(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function bf(n,e){for(var t=!0,o=n.length-1;o>=0;--o)if(n[o]!=e[o]){t=!1;break}return t}function Qu(n,e){var t=Math.cos(e),o=Math.sin(e),r=n[0]*t-n[1]*o,i=n[1]*t+n[0]*o;return n[0]=r,n[1]=i,n}function VE(n,e){return n[0]*=e,n[1]*=e,n}function HE(n,e){var t=n[0]-e[0],o=n[1]-e[1];return t*t+o*o}function $E(n,e){return XE(n,"{x}, {y}",e)}function tv(n,e){if(e.canWrapX()){var t=Ee(e.getExtent()),o=qE(n,e,t);o&&(n[0]-=o*t)}return n}function qE(n,e,t){var o=e.getExtent(),r=0;if(e.canWrapX()&&(n[0]<o[0]||n[0]>o[2])){var i=t||Ee(o);r=Math.floor((n[0]-o[0])/i)}return r}var ft={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},KE=63710088e-1;function Vg(n,e,t){var o=t||KE,r=of(n[1]),i=of(e[1]),s=(i-r)/2,f=of(e[0]-n[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(f)*Math.sin(f)*Math.cos(r)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}var cu=!0;function ZE(n){var e=n===void 0?!0:n;cu=!e}function th(n,e,t){var o;if(e!==void 0){for(var r=0,i=n.length;r<i;++r)e[r]=n[r];o=e}else o=n.slice();return o}function eh(n,e,t){if(e!==void 0&&n!==e){for(var o=0,r=n.length;o<r;++o)e[o]=n[o];n=e}return n}function JE(n){AE(n.getCode(),n),pf(n,n,th)}function QE(n){n.forEach(JE)}function fo(n){return typeof n=="string"?RE(n):n||null}function Hg(n,e,t,o){n=fo(n);var r,i=n.getPointResolutionFunc();if(i){if(r=i(e,t),o&&o!==n.getUnits()){var s=n.getMetersPerUnit();s&&(r=r*s/Do[o])}}else{var f=n.getUnits();if(f==yo.DEGREES&&!o||o==yo.DEGREES)r=e;else{var c=ra(n,fo("EPSG:4326"));if(c===eh&&f!==yo.DEGREES)r=e*n.getMetersPerUnit();else{var d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=c(d,d,2);var h=Vg(d.slice(0,2),d.slice(2,4)),b=Vg(d.slice(4,6),d.slice(6,8));r=(h+b)/2}var s=o?Do[o]:n.getMetersPerUnit();s!==void 0&&(r/=s)}}return r}function $g(n){QE(n),n.forEach(function(e){n.forEach(function(t){e!==t&&pf(e,t,th)})})}function tC(n,e,t,o){n.forEach(function(r){e.forEach(function(i){pf(r,i,t),pf(i,r,o)})})}function oh(n,e){return n?typeof n=="string"?fo(n):n:fo(e)}function Ui(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var o=ra(n,e);return o===th&&t}function ra(n,e){var t=n.getCode(),o=e.getCode(),r=IE(t,o);return r||(r=eh),r}function ps(n,e){var t=fo(n),o=fo(e);return ra(t,o)}function nh(n,e,t){var o=ps(e,t);return o(n,void 0,n.length)}function ev(n,e,t,o){var r=ps(e,t);return BE(n,r,void 0,o)}var Go=null;function eC(n){Go=fo(n)}function Ss(){return Go}function oC(){eC("EPSG:4326")}function du(n,e){return Go?nh(n,e,Go):n}function Lo(n,e){return Go?nh(n,Go,e):(cu&&!bf(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(cu=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function uu(n,e){return Go?ev(n,e,Go):n}function Qr(n,e){return Go?ev(n,Go,e):n}function nC(n,e){if(!Go)return n;var t=fo(e).getUnits(),o=Go.getUnits();return t&&o?n*Do[t]/Do[o]:n}function rC(){$g(Yg),$g(Xg),tC(Xg,Yg,_E,kE)}rC();var iC=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),mn=iC,ia={PROPERTYCHANGE:"propertychange"},aC=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),rh=aC;function sC(n,e,t){for(var o,r,i=t||fi,s=0,f=n.length,c=!1;s<f;)o=s+(f-s>>1),r=+i(n[o],e),r<0?s=o+1:(f=o,c=!r);return c?s:~s}function fi(n,e){return n>e?1:n<e?-1:0}function ih(n,e,t){var o=n.length;if(n[0]<=e)return 0;if(e<=n[o-1])return o-1;var r=void 0;if(t>0){for(r=1;r<o;++r)if(n[r]<e)return r-1}else if(t<0){for(r=1;r<o;++r)if(n[r]<=e)return r}else for(r=1;r<o;++r){if(n[r]==e)return r;if(n[r]<e)return typeof t=="function"?t(e,n[r-1],n[r])>0?r-1:r:n[r-1]-e<e-n[r]?r-1:r}return o-1}function lC(n,e,t){for(;e<t;){var o=n[e];n[e]=n[t],n[t]=o,++e,--t}}function Un(n,e){for(var t=Array.isArray(e)?e:[e],o=t.length,r=0;r<o;r++)n[n.length]=t[r]}function ui(n,e){var t=n.length;if(t!==e.length)return!1;for(var o=0;o<t;o++)if(n[o]!==e[o])return!1;return!0}function fC(n,e,t){var o=e||fi;return n.every(function(r,i){if(i===0)return!0;var s=o(n[i-1],r);return!(s>0||t&&s===0)})}function ai(){return!0}function Ps(){return!1}function ci(){}function cC(n){var e=!1,t,o,r;return function(){var i=Array.prototype.slice.call(arguments);return(!e||this!==r||!ui(i,o))&&(e=!0,r=this,o=i,t=n.apply(this,arguments)),t}}var dC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uC=function(n){dC(e,n);function e(t){var o=n.call(this)||this;return o.eventTarget_=t,o.pendingRemovals_=null,o.dispatching_=null,o.listeners_=null,o}return e.prototype.addEventListener=function(t,o){if(!(!t||!o)){var r=this.listeners_||(this.listeners_={}),i=r[t]||(r[t]=[]);i.indexOf(o)===-1&&i.push(o)}},e.prototype.dispatchEvent=function(t){var o=typeof t=="string",r=o?t:t.type,i=this.listeners_&&this.listeners_[r];if(!!i){var s=o?new mn(t):t;s.target||(s.target=this.eventTarget_||this);var f=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});r in f||(f[r]=0,c[r]=0),++f[r];for(var d,h=0,b=i.length;h<b;++h)if("handleEvent"in i[h]?d=i[h].handleEvent(s):d=i[h].call(this,s),d===!1||s.propagationStopped){d=!1;break}if(--f[r]===0){var p=c[r];for(delete c[r];p--;)this.removeEventListener(r,ci);delete f[r]}return d}},e.prototype.disposeInternal=function(){this.listeners_&&Rs(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,o){var r=this.listeners_&&this.listeners_[t];if(r){var i=r.indexOf(o);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[i]=ci,++this.pendingRemovals_[t]):(r.splice(i,1),r.length===0&&delete this.listeners_[t]))}},e}(rh),ha=uC,Nt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Qt(n,e,t,o,r){if(o&&o!==n&&(t=t.bind(o)),r){var i=t;t=function(){n.removeEventListener(e,t),i.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function gf(n,e,t,o){return Qt(n,e,t,o,!0)}function xe(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Rs(n))}var hC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xf=function(n){hC(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Nt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,o){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),s=0;s<r;++s)i[s]=Qt(this,t[s],o);return i}else return Qt(this,t,o)},e.prototype.onceInternal=function(t,o){var r;if(Array.isArray(t)){var i=t.length;r=new Array(i);for(var s=0;s<i;++s)r[s]=gf(this,t[s],o)}else r=gf(this,t,o);return o.ol_key=r,r},e.prototype.unInternal=function(t,o){var r=o.ol_key;if(r)pC(r);else if(Array.isArray(t))for(var i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],o);else this.removeEventListener(t,o)},e}(ha);Xf.prototype.on;Xf.prototype.once;Xf.prototype.un;function pC(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)xe(n[e]);else xe(n)}var ov=Xf,nv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),qg=function(n){nv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.key=o,i.oldValue=r,i}return e}(mn),bC=function(n){nv(e,n);function e(t){var o=n.call(this)||this;return o.on,o.once,o.un,ie(o),o.values_=null,t!==void 0&&o.setProperties(t),o}return e.prototype.get=function(t){var o;return this.values_&&this.values_.hasOwnProperty(t)&&(o=this.values_[t]),o},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&De({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,o){var r;r="change:".concat(t),this.hasListener(r)&&this.dispatchEvent(new qg(r,t,o)),r=ia.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new qg(r,t,o))},e.prototype.addChangeListener=function(t,o){this.addEventListener("change:".concat(t),o)},e.prototype.removeChangeListener=function(t,o){this.removeEventListener("change:".concat(t),o)},e.prototype.set=function(t,o,r){var i=this.values_||(this.values_={});if(r)i[t]=o;else{var s=i[t];i[t]=o,s!==o&&this.notify(t,s)}},e.prototype.setProperties=function(t,o){for(var r in t)this.set(r,t[r],o)},e.prototype.applyProperties=function(t){!t.values_||De(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,o){if(this.values_&&t in this.values_){var r=this.values_[t];delete this.values_[t],us(this.values_)&&(this.values_=null),o||this.notify(t,r)}},e}(ov),vn=bC,Cr=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",gC=Cr.indexOf("firefox")!==-1,mC=Cr.indexOf("safari")!==-1&&Cr.indexOf("chrom")==-1;mC&&(Cr.indexOf("version/15.4")>=0||Cr.match(/cpu (os|iphone os) 15_4 like mac os x/));var vC=Cr.indexOf("webkit")!==-1&&Cr.indexOf("edge")==-1,xC=Cr.indexOf("macintosh")!==-1,rv=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Vf=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,wC=typeof Image!="undefined"&&Image.prototype.decode,iv=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function gn(){return[1,0,0,1,0,0]}function yC(n,e,t,o,r,i,s){return n[0]=e,n[1]=t,n[2]=o,n[3]=r,n[4]=i,n[5]=s,n}function _C(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Se(n,e){var t=e[0],o=e[1];return e[0]=n[0]*t+n[2]*o+n[4],e[1]=n[1]*t+n[3]*o+n[5],e}function kC(n,e,t){return yC(n,e,0,0,t,0,0)}function Yn(n,e,t,o,r,i,s,f){var c=Math.sin(i),d=Math.cos(i);return n[0]=o*d,n[1]=r*c,n[2]=-o*c,n[3]=r*d,n[4]=s*o*d-f*o*c+e,n[5]=s*r*c+f*r*d+t,n}function ah(n,e){var t=EC(e);qt(t!==0,32);var o=e[0],r=e[1],i=e[2],s=e[3],f=e[4],c=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-i/t,n[3]=o/t,n[4]=(i*c-s*f)/t,n[5]=-(o*c-r*f)/t,n}function EC(n){return n[0]*n[3]-n[1]*n[2]}var Kg;function av(n){var e="matrix("+n.join(", ")+")";if(Vf)return e;var t=Kg||(Kg=document.createElement("div"));return t.style.transform=e,t.style.transform}function si(n,e,t,o,r,i){for(var s=i||[],f=0,c=e;c<t;c+=o){var d=n[c],h=n[c+1];s[f++]=r[0]*d+r[2]*h+r[4],s[f++]=r[1]*d+r[3]*h+r[5]}return i&&s.length!=f&&(s.length=f),s}function sh(n,e,t,o,r,i,s){for(var f=s||[],c=Math.cos(r),d=Math.sin(r),h=i[0],b=i[1],p=0,m=e;m<t;m+=o){var x=n[m]-h,_=n[m+1]-b;f[p++]=h+x*c-_*d,f[p++]=b+x*d+_*c;for(var k=m+2;k<m+o;++k)f[p++]=n[k]}return s&&f.length!=p&&(f.length=p),f}function CC(n,e,t,o,r,i,s,f){for(var c=f||[],d=s[0],h=s[1],b=0,p=e;p<t;p+=o){var m=n[p]-d,x=n[p+1]-h;c[b++]=d+r*m,c[b++]=h+i*x;for(var _=p+2;_<p+o;++_)c[b++]=n[_]}return f&&c.length!=b&&(c.length=b),c}function sv(n,e,t,o,r,i,s){for(var f=s||[],c=0,d=e;d<t;d+=o){f[c++]=n[d]+r,f[c++]=n[d+1]+i;for(var h=d+2;h<d+o;++h)f[c++]=n[h]}return s&&f.length!=c&&(f.length=c),f}var TC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Zg=gn(),RC=function(n){TC(e,n);function e(){var t=n.call(this)||this;return t.extent_=No(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=cC(function(o,r,i){if(!i)return this.getSimplifiedGeometry(r);var s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(r)}),t}return e.prototype.simplifyTransformed=function(t,o){return this.simplifyTransformedInternal(this.getRevision(),t,o)},e.prototype.clone=function(){return $t()},e.prototype.closestPointXY=function(t,o,r,i){return $t()},e.prototype.containsXY=function(t,o){var r=this.getClosestPoint([t,o]);return r[0]===t&&r[1]===o},e.prototype.getClosestPoint=function(t,o){var r=o||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return $t()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var o=this.computeExtent(this.extent_);(isNaN(o[0])||isNaN(o[1]))&&Wf(o),this.extentRevision_=this.getRevision()}return GE(this.extent_,t)},e.prototype.rotate=function(t,o){$t()},e.prototype.scale=function(t,o,r){$t()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return $t()},e.prototype.getType=function(){return $t()},e.prototype.applyTransform=function(t){$t()},e.prototype.intersectsExtent=function(t){return $t()},e.prototype.translate=function(t,o){$t()},e.prototype.transform=function(t,o){var r=fo(t),i=r.getUnits()==yo.TILE_PIXELS?function(s,f,c){var d=r.getExtent(),h=r.getWorldExtent(),b=rn(h)/rn(d);return Yn(Zg,h[0],h[3],b,-b,0,0,0),si(s,0,s.length,c,Zg,f),ps(r,o)(s,f,c)}:ps(r,o);return this.applyTransform(i),this},e}(vn),AC=RC,Ie={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},IC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),OC=function(n){IC(e,n);function e(){var t=n.call(this)||this;return t.layout=Ie.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return J0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return $t()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=this.getSimplifiedGeometryInternal(t),r=o.getFlatCoordinates();return r.length<this.flatCoordinates.length?o:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,o){this.stride=Jg(t),this.layout=t,this.flatCoordinates=o},e.prototype.setCoordinates=function(t,o){$t()},e.prototype.setLayout=function(t,o,r){var i;if(t)i=Jg(t);else{for(var s=0;s<r;++s)if(o.length===0){this.layout=Ie.XY,this.stride=2;return}else o=o[0];i=o.length,t=SC(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,o){var r=this.getFlatCoordinates();if(r){var i=this.getStride();sh(r,0,r.length,i,t,o,r),this.changed()}},e.prototype.scale=function(t,o,r){var i=o;i===void 0&&(i=t);var s=r;s||(s=na(this.getExtent()));var f=this.getFlatCoordinates();if(f){var c=this.getStride();CC(f,0,f.length,c,t,i,s,f),this.changed()}},e.prototype.translate=function(t,o){var r=this.getFlatCoordinates();if(r){var i=this.getStride();sv(r,0,r.length,i,t,o,r),this.changed()}},e}(AC);function SC(n){var e;return n==2?e=Ie.XY:n==3?e=Ie.XYZ:n==4&&(e=Ie.XYZM),e}function Jg(n){var e;return n==Ie.XY?e=2:n==Ie.XYZ||n==Ie.XYM?e=3:n==Ie.XYZM&&(e=4),e}function PC(n,e,t){var o=n.getFlatCoordinates();if(o){var r=n.getStride();return si(o,0,o.length,r,e,t)}else return null}var Rr=OC;function lv(n,e,t,o){for(var r=0,i=t.length;r<i;++r)n[e++]=t[r];return e}function Hf(n,e,t,o){for(var r=0,i=t.length;r<i;++r)for(var s=t[r],f=0;f<o;++f)n[e++]=s[f];return e}function lh(n,e,t,o,r){for(var i=r||[],s=0,f=0,c=t.length;f<c;++f){var d=Hf(n,e,t[f],o);i[s++]=d,e=d}return i.length=s,i}function LC(n,e,t,o,r){for(var i=r||[],s=0,f=0,c=t.length;f<c;++f){var d=lh(n,e,t[f],o,i[s]);i[s++]=d,e=d[d.length-1]}return i.length=s,i}var FC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fv=function(n){FC(e,n);function e(t,o,r){var i=n.call(this)||this;if(r!==void 0&&o===void 0)i.setFlatCoordinates(r,t);else{var s=o||0;i.setCenterAndRadius(t,s,r)}return i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){var s=this.flatCoordinates,f=t-s[0],c=o-s[1],d=f*f+c*c;if(d<i){if(d===0)for(var h=0;h<this.stride;++h)r[h]=s[h];else{var b=this.getRadius()/Math.sqrt(d);r[0]=s[0]+b*f,r[1]=s[1]+b*c;for(var h=2;h<this.stride;++h)r[h]=s[h]}return r.length=this.stride,d}else return i},e.prototype.containsXY=function(t,o){var r=this.flatCoordinates,i=t-r[0],s=o-r[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var o=this.flatCoordinates,r=o[this.stride]-o[0];return nn(o[0]-r,o[1]-r,o[0]+r,o[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+o*o},e.prototype.getType=function(){return ft.CIRCLE},e.prototype.intersectsExtent=function(t){var o=this.getExtent();if(to(t,o)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||t[1]<=r[1]&&t[3]>=r[1]?!0:Zu(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var o=this.stride,r=this.flatCoordinates[o]-this.flatCoordinates[0],i=t.slice();i[o]=i[0]+r;for(var s=1;s<o;++s)i[o+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,o,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=lv(i,0,t,this.stride);i[s++]=i[0]+o;for(var f=1,c=this.stride;f<c;++f)i[s++]=i[f];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,o){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,o){var r=this.getCenter(),i=this.getStride();this.setCenter(sh(r,0,r.length,i,t,o,r)),this.changed()},e.prototype.translate=function(t,o){var r=this.getCenter(),i=this.getStride();this.setCenter(sv(r,0,r.length,i,t,o,r)),this.changed()},e}(Rr);fv.prototype.transform;var cv=fv;function Qg(n,e,t,o,r,i,s){var f=n[e],c=n[e+1],d=n[t]-f,h=n[t+1]-c,b;if(d===0&&h===0)b=e;else{var p=((r-f)*d+(i-c)*h)/(d*d+h*h);if(p>1)b=t;else if(p>0){for(var m=0;m<o;++m)s[m]=Mn(n[e+m],n[t+m],p);s.length=o;return}else b=e}for(var m=0;m<o;++m)s[m]=n[b+m];s.length=o}function fh(n,e,t,o,r){var i=n[e],s=n[e+1];for(e+=o;e<t;e+=o){var f=n[e],c=n[e+1],d=ii(i,s,f,c);d>r&&(r=d),i=f,s=c}return r}function ch(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];r=fh(n,e,f,o,r),e=f}return r}function MC(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];r=ch(n,e,f,o,r),e=f[f.length-1]}return r}function dh(n,e,t,o,r,i,s,f,c,d,h){if(e==t)return d;var b,p;if(r===0)if(p=ii(s,f,n[e],n[e+1]),p<d){for(b=0;b<o;++b)c[b]=n[e+b];return c.length=o,p}else return d;for(var m=h||[NaN,NaN],x=e+o;x<t;)if(Qg(n,x-o,x,o,s,f,m),p=ii(s,f,m[0],m[1]),p<d){for(d=p,b=0;b<o;++b)c[b]=m[b];c.length=o,x+=o}else x+=o*Math.max((Math.sqrt(p)-Math.sqrt(d))/r|0,1);if(i&&(Qg(n,t-o,e,o,s,f,m),p=ii(s,f,m[0],m[1]),p<d)){for(d=p,b=0;b<o;++b)c[b]=m[b];c.length=o}return d}function uh(n,e,t,o,r,i,s,f,c,d,h){for(var b=h||[NaN,NaN],p=0,m=t.length;p<m;++p){var x=t[p];d=dh(n,e,x,o,r,i,s,f,c,d,b),e=x}return d}function zC(n,e,t,o,r,i,s,f,c,d,h){for(var b=h||[NaN,NaN],p=0,m=t.length;p<m;++p){var x=t[p];d=uh(n,e,x,o,r,i,s,f,c,d,b),e=x[x.length-1]}return d}function hh(n,e,t,o,r,i,s){var f=(t-e)/o;if(f<3){for(;e<t;e+=o)i[s++]=n[e],i[s++]=n[e+1];return s}var c=new Array(f);c[0]=1,c[f-1]=1;for(var d=[e,t-o],h=0;d.length>0;){for(var b=d.pop(),p=d.pop(),m=0,x=n[p],_=n[p+1],k=n[b],T=n[b+1],A=p+o;A<b;A+=o){var O=n[A],P=n[A+1],D=mE(O,P,x,_,k,T);D>m&&(h=A,m=D)}m>r&&(c[(h-e)/o]=1,p+o<h&&d.push(p,h),h+o<b&&d.push(h,b))}for(var A=0;A<f;++A)c[A]&&(i[s++]=n[e+A*o],i[s++]=n[e+A*o+1]);return s}function DC(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c];s=hh(n,e,h,o,r,i,s),f.push(s),e=h}return s}function Hr(n,e){return e*Math.round(n/e)}function NC(n,e,t,o,r,i,s){if(e==t)return s;var f=Hr(n[e],r),c=Hr(n[e+1],r);e+=o,i[s++]=f,i[s++]=c;var d,h;do if(d=Hr(n[e],r),h=Hr(n[e+1],r),e+=o,e==t)return i[s++]=d,i[s++]=h,s;while(d==f&&h==c);for(;e<t;){var b=Hr(n[e],r),p=Hr(n[e+1],r);if(e+=o,!(b==d&&p==h)){var m=d-f,x=h-c,_=b-f,k=p-c;if(m*k==x*_&&(m<0&&_<m||m==_||m>0&&_>m)&&(x<0&&k<x||x==k||x>0&&k>x)){d=b,h=p;continue}i[s++]=d,i[s++]=h,f=d,c=h,d=b,h=p}}return i[s++]=d,i[s++]=h,s}function dv(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c];s=NC(n,e,h,o,r,i,s),f.push(s),e=h}return s}function GC(n,e,t,o,r,i,s,f){for(var c=0,d=t.length;c<d;++c){var h=t[c],b=[];s=dv(n,e,h,o,r,i,s,b),f.push(b),e=h[h.length-1]}return s}function gr(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=e;f<t;f+=o)i[s++]=n.slice(f,f+o);return i.length=s,i}function bs(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=0,c=t.length;f<c;++f){var d=t[f];i[s++]=gr(n,e,d,o,i[s]),e=d}return i.length=s,i}function hu(n,e,t,o,r){for(var i=r!==void 0?r:[],s=0,f=0,c=t.length;f<c;++f){var d=t[f];i[s++]=bs(n,e,d,o,i[s]),e=d[d.length-1]}return i.length=s,i}function uv(n,e,t,o){for(var r=0,i=n[t-o],s=n[t-o+1];e<t;e+=o){var f=n[e],c=n[e+1];r+=s*f-i*c,i=f,s=c}return r/2}function hv(n,e,t,o){for(var r=0,i=0,s=t.length;i<s;++i){var f=t[i];r+=uv(n,e,f,o),e=f}return r}function UC(n,e,t,o){for(var r=0,i=0,s=t.length;i<s;++i){var f=t[i];r+=hv(n,e,f,o),e=f[f.length-1]}return r}var BC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),jC=function(n){BC(e,n);function e(t,o){var r=n.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,o,r,i){return i<ua(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.getArea=function(){return uv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return gr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ie.XY)},e.prototype.getType=function(){return ft.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Rr),tm=jC;function pv(n,e,t,o,r){var i;for(e+=o;e<t;e+=o)if(i=r(n.slice(e-o,e),n.slice(e,e+o)),i)return i;return!1}function bv(n,e,t,o,r,i,s){var f,c,d=(t-e)/o;if(d===1)f=e;else if(d===2)f=e,c=r;else if(d!==0){for(var h=n[e],b=n[e+1],p=0,m=[0],x=e+o;x<t;x+=o){var _=n[x],k=n[x+1];p+=Math.sqrt((_-h)*(_-h)+(k-b)*(k-b)),m.push(p),h=_,b=k}var T=r*p,A=sC(m,T);A<0?(c=(T-m[-A-2])/(m[-A-1]-m[-A-2]),f=e+(-A-2)*o):f=e+A*o}for(var O=s>1?s:2,P=i||new Array(O),x=0;x<O;++x)P[x]=f===void 0?NaN:c===void 0?n[f+x]:Mn(n[f+x],n[f+o+x],c);return P}function pu(n,e,t,o,r,i){if(t==e)return null;var s;if(r<n[e+o-1])return i?(s=n.slice(e,e+o),s[o-1]=r,s):null;if(n[t-1]<r)return i?(s=n.slice(t-o,t),s[o-1]=r,s):null;if(r==n[e+o-1])return n.slice(e,e+o);for(var f=e/o,c=t/o;f<c;){var d=f+c>>1;r<n[(d+1)*o-1]?c=d:f=d+1}var h=n[f*o-1];if(r==h)return n.slice((f-1)*o,(f-1)*o+o);var b=n[(f+1)*o-1],p=(r-h)/(b-h);s=[];for(var m=0;m<o-1;++m)s.push(Mn(n[(f-1)*o+m],n[f*o+m],p));return s.push(r),s}function YC(n,e,t,o,r,i,s){if(s)return pu(n,e,t[t.length-1],o,r,i);var f;if(r<n[o-1])return i?(f=n.slice(0,o),f[o-1]=r,f):null;if(n[n.length-1]<r)return i?(f=n.slice(n.length-o),f[o-1]=r,f):null;for(var c=0,d=t.length;c<d;++c){var h=t[c];if(e!=h){if(r<n[e+o-1])return null;if(r<=n[h-1])return pu(n,e,h,o,r,!1);e=h}}return null}function WC(n,e,t,o,r){var i=Zu(r,function(s){return!ti(n,e,t,o,s[0],s[1])});return!i}function ti(n,e,t,o,r,i){for(var s=0,f=n[t-o],c=n[t-o+1];e<t;e+=o){var d=n[e],h=n[e+1];c<=i?h>i&&(d-f)*(i-c)-(r-f)*(h-c)>0&&s++:h<=i&&(d-f)*(i-c)-(r-f)*(h-c)<0&&s--,f=d,c=h}return s!==0}function ph(n,e,t,o,r,i){if(t.length===0||!ti(n,e,t[0],o,r,i))return!1;for(var s=1,f=t.length;s<f;++s)if(ti(n,t[s-1],t[s],o,r,i))return!1;return!0}function XC(n,e,t,o,r,i){if(t.length===0)return!1;for(var s=0,f=t.length;s<f;++s){var c=t[s];if(ph(n,e,c,o,r,i))return!0;e=c[c.length-1]}return!1}function $f(n,e,t,o,r){var i=Q0(No(),n,e,t,o);return to(r,i)?Xi(r,i)||i[0]>=r[0]&&i[2]<=r[2]||i[1]>=r[1]&&i[3]<=r[3]?!0:pv(n,e,t,o,function(s,f){return UE(r,s,f)}):!1}function VC(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){if($f(n,e,t[i],o,r))return!0;e=t[i]}return!1}function HC(n,e,t,o,r){return!!($f(n,e,t,o,r)||ti(n,e,t,o,r[0],r[1])||ti(n,e,t,o,r[0],r[3])||ti(n,e,t,o,r[2],r[1])||ti(n,e,t,o,r[2],r[3]))}function gv(n,e,t,o,r){if(!HC(n,e,t[0],o,r))return!1;if(t.length===1)return!0;for(var i=1,s=t.length;i<s;++i)if(WC(n,t[i-1],t[i],o,r)&&!$f(n,t[i-1],t[i],o,r))return!1;return!0}function $C(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];if(gv(n,e,f,o,r))return!0;e=f[f.length-1]}return!1}function mv(n,e,t,o){for(var r=n[e],i=n[e+1],s=0,f=e+o;f<t;f+=o){var c=n[f],d=n[f+1];s+=Math.sqrt((c-r)*(c-r)+(d-i)*(d-i)),r=c,i=d}return s}var qC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),KC=function(n){qC(e,n);function e(t,o){var r=n.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,o!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?Un(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ua(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,o,r,i))},e.prototype.forEachSegment=function(t){return pv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,o){if(this.layout!=Ie.XYM&&this.layout!=Ie.XYZM)return null;var r=o!==void 0?o:!1;return pu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return gr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,o){return bv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,this.stride)},e.prototype.getLength=function(){return mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[];return o.length=hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o,0),new e(o,Ie.XY)},e.prototype.getType=function(){return ft.LINE_STRING},e.prototype.intersectsExtent=function(t){return $f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Rr),yr=KC,ZC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),JC=function(n){ZC(e,n);function e(t,o,r){var i=n.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,o);else if(o!==void 0&&r)i.setFlatCoordinates(o,t),i.ends_=r;else{for(var s=i.getLayout(),f=t,c=[],d=[],h=0,b=f.length;h<b;++h){var p=f[h];h===0&&(s=p.getLayout()),Un(c,p.getFlatCoordinates()),d.push(c.length)}i.setFlatCoordinates(s,c),i.ends_=d}return i}return e.prototype.appendLineString=function(t){this.flatCoordinates?Un(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ua(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ch(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,o,r,i))},e.prototype.getCoordinateAtM=function(t,o,r){if(this.layout!=Ie.XYM&&this.layout!=Ie.XYZM||this.flatCoordinates.length===0)return null;var i=o!==void 0?o:!1,s=r!==void 0?r:!1;return YC(this.flatCoordinates,0,this.ends_,this.stride,t,i,s)},e.prototype.getCoordinates=function(){return bs(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new yr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,o=this.ends_,r=this.layout,i=[],s=0,f=0,c=o.length;f<c;++f){var d=o[f],h=new yr(t.slice(s,d),r);i.push(h),s=d}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],o=this.flatCoordinates,r=0,i=this.ends_,s=this.stride,f=0,c=i.length;f<c;++f){var d=i[f],h=bv(o,r,d,s,.5);Un(t,h),r=d}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=DC(this.flatCoordinates,0,this.ends_,this.stride,t,o,0,r),new e(o,Ie.XY,r)},e.prototype.getType=function(){return ft.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return VC(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=lh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Rr),QC=JC,tT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),eT=function(n){tT(e,n);function e(t,o){var r=n.call(this)||this;return r.setCoordinates(t,o),r}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){var s=this.flatCoordinates,f=ii(t,o,s[0],s[1]);if(f<i){for(var c=this.stride,d=0;d<c;++d)r[d]=s[d];return r.length=c,f}else return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return ME(this.flatCoordinates,t)},e.prototype.getType=function(){return ft.POINT},e.prototype.intersectsExtent=function(t){return Ku(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Rr),li=eT,oT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),nT=function(n){oT(e,n);function e(t,o){var r=n.call(this)||this;return o&&!Array.isArray(t[0])?r.setFlatCoordinates(o,t):r.setCoordinates(t,o),r}return e.prototype.appendPoint=function(t){this.flatCoordinates?Un(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){if(i<ua(this.getExtent(),t,o))return i;for(var s=this.flatCoordinates,f=this.stride,c=0,d=s.length;c<d;c+=f){var h=ii(t,o,s[c],s[c+1]);if(h<i){i=h;for(var b=0;b<f;++b)r[b]=s[c+b];r.length=f}}return i},e.prototype.getCoordinates=function(){return gr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var o=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||o<=t?null:new li(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,o=this.layout,r=this.stride,i=[],s=0,f=t.length;s<f;s+=r){var c=new li(t.slice(s,s+r),o);i.push(c)}return i},e.prototype.getType=function(){return ft.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var o=this.flatCoordinates,r=this.stride,i=0,s=o.length;i<s;i+=r){var f=o[i],c=o[i+1];if(Ku(t,f,c))return!0}return!1},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hf(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Rr),vv=nT;function xv(n,e,t,o,r,i,s){for(var f,c,d,h,b,p,m,x=r[i+1],_=[],k=0,T=t.length;k<T;++k){var A=t[k];for(h=n[A-o],p=n[A-o+1],f=e;f<A;f+=o)b=n[f],m=n[f+1],(x<=p&&m<=x||p<=x&&x<=m)&&(d=(x-p)/(m-p)*(b-h)+h,_.push(d)),h=b,p=m}var O=NaN,P=-1/0;for(_.sort(fi),h=_[0],f=1,c=_.length;f<c;++f){b=_[f];var D=Math.abs(b-h);D>P&&(d=(h+b)/2,ph(n,e,t,o,d,x)&&(O=d,P=D)),h=b}return isNaN(O)&&(O=r[i]),s?(s.push(O,x,P),s):[O,x,P]}function rT(n,e,t,o,r){for(var i=[],s=0,f=t.length;s<f;++s){var c=t[s];i=xv(n,e,c,o,r,2*s,i),e=c[c.length-1]}return i}function iT(n,e,t,o){for(;e<t-o;){for(var r=0;r<o;++r){var i=n[e+r];n[e+r]=n[t-o+r],n[t-o+r]=i}e+=o,t-=o}}function wv(n,e,t,o){for(var r=0,i=n[t-o],s=n[t-o+1];e<t;e+=o){var f=n[e],c=n[e+1];r+=(f-i)*(c+s),i=f,s=c}return r===0?void 0:r>0}function yv(n,e,t,o,r){for(var i=r!==void 0?r:!1,s=0,f=t.length;s<f;++s){var c=t[s],d=wv(n,e,c,o);if(s===0){if(i&&d||!i&&!d)return!1}else if(i&&!d||!i&&d)return!1;e=c}return!0}function aT(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i){var f=t[i];if(!yv(n,e,f,o,r))return!1;f.length&&(e=f[f.length-1])}return!0}function bu(n,e,t,o,r){for(var i=r!==void 0?r:!1,s=0,f=t.length;s<f;++s){var c=t[s],d=wv(n,e,c,o),h=s===0?i&&d||!i&&!d:i&&!d||!i&&d;h&&iT(n,e,c,o),e=c}return e}function em(n,e,t,o,r){for(var i=0,s=t.length;i<s;++i)e=bu(n,e,t[i],o,r);return e}var sT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_v=function(n){sT(e,n);function e(t,o,r){var i=n.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,o!==void 0&&r?(i.setFlatCoordinates(o,t),i.ends_=r):i.setCoordinates(t,o),i}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Un(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,o,r,i){return i<ua(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ch(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.containsXY=function(t,o){return ph(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,o)},e.prototype.getArea=function(){return hv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),bu(o,0,this.ends_,this.stride,t)):o=this.flatCoordinates,bs(o,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=na(this.getExtent());this.flatInteriorPoint_=xv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new li(this.getFlatInteriorPoint(),Ie.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new tm(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,o=this.flatCoordinates,r=this.ends_,i=[],s=0,f=0,c=r.length;f<c;++f){var d=r[f],h=new tm(o.slice(s,d),t);i.push(h),s=d}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;yv(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=bu(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=dv(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),o,0,r),new e(o,Ie.XY,r)},e.prototype.getType=function(){return ft.POLYGON},e.prototype.intersectsExtent=function(t){return gv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=lh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Rr),gs=_v;function om(n){var e=n[0],t=n[1],o=n[2],r=n[3],i=[e,t,e,r,o,r,o,t,e,t];return new _v(i,Ie.XY,[i.length])}function lT(n,e,t,o){for(var r=[],i=No(),s=0,f=t.length;s<f;++s){var c=t[s];i=J0(n,e,c[0],o),r.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=c[c.length-1]}return r}var fT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),cT=function(n){fT(e,n);function e(t,o,r){var i=n.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){for(var s=i.getLayout(),f=t,c=[],d=[],h=0,b=f.length;h<b;++h){var p=f[h];h===0&&(s=p.getLayout());for(var m=c.length,x=p.getEnds(),_=0,k=x.length;_<k;++_)x[_]+=m;Un(c,p.getFlatCoordinates()),d.push(x)}o=s,t=c,r=d}return o!==void 0&&r?(i.setFlatCoordinates(o,t),i.endss_=r):i.setCoordinates(t,o),i}return e.prototype.appendPolygon=function(t){var o;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),o=t.getEnds().slice(),this.endss_.push();else{var r=this.flatCoordinates.length;Un(this.flatCoordinates,t.getFlatCoordinates()),o=t.getEnds().slice();for(var i=0,s=o.length;i<s;++i)o[i]+=r}this.endss_.push(o),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,o=new Array(t),r=0;r<t;++r)o[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,o);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,o,r,i){return i<ua(this.getExtent(),t,o)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(MC(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,o,r,i))},e.prototype.containsXY=function(t,o){return XC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,o)},e.prototype.getArea=function(){return UC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var o;return t!==void 0?(o=this.getOrientedFlatCoordinates().slice(),em(o,0,this.endss_,this.stride,t)):o=this.flatCoordinates,hu(o,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=lT(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=rT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new vv(this.getFlatInteriorPoints().slice(),Ie.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;aT(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=em(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var o=[],r=[];return o.length=GC(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),o,0,r),new e(o,Ie.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var o;if(t===0)o=0;else{var r=this.endss_[t-1];o=r[r.length-1]}var i=this.endss_[t].slice(),s=i[i.length-1];if(o!==0)for(var f=0,c=i.length;f<c;++f)i[f]-=o;return new gs(this.flatCoordinates.slice(o,s),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,o=this.flatCoordinates,r=this.endss_,i=[],s=0,f=0,c=r.length;f<c;++f){var d=r[f].slice(),h=d[d.length-1];if(s!==0)for(var b=0,p=d.length;b<p;++b)d[b]-=s;var m=new gs(o.slice(s,h),t,d);i.push(m),s=h}return i},e.prototype.getType=function(){return ft.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return $C(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,o){this.setLayout(o,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=LC(this.flatCoordinates,0,t,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},e}(Rr),dT=cT;class os{constructor(e,t){An(this,"x");An(this,"y");if(typeof e=="number"&&typeof t=="number")this.x=e,this.y=t;else if(Array.isArray(e)&&Array.isArray(t))this.x=t[0]-e[0],this.y=t[1]-e[1];else throw new Error(`Cannot crete a Vector out of (${e}, ${t})`)}rotate90(){return new os(-this.y,this.x)}}const uT=new Yf({code:"EPSG:4326"}),hT=new Yf({code:"EPSG:900913"});function gu(n){return new li(n).transform(uT,hT).getExtent()}function nf(n,e){return new yr([gu(n),gu(e)]).getLength()}function nm(n){return new yr(n.map(gu)).getLength()}function Li(n,e,t){const o=Math.ceil(nf(n,e)/t),r=Dn.exports.range(0,o).map(i=>[n[0]+i/o*(e[0]-n[0]),n[1]+i/o*(e[1]-n[1])]);return r.push(e),r}function pT(n,e,t,o){let r,i;if(o===0){const f=new os(n.path[0],n.path[3]);r=Li(n.path[0],n.path[1],e),i=r.map(c=>n.intersectOtherSide(c,f))}else if(o===90){const f=new os(n.path[0],n.path[1]);r=Li(n.path[0],n.path[3],e),i=r.map(c=>n.intersectOtherSide(c,f))}else{const f=o/180*Math.PI,c=new os(Math.sin(f),Math.cos(f)),d=e/Math.cos(f),h=Li(n.path[0],n.path[1],d),b=h.map(_=>n.intersectOtherSide(_,c)),p=e/Math.sin(f),m=Dn.exports.chain(Li(n.path[0],n.path[3],p)).drop(1).reverse().value(),x=m.map(_=>n.intersectOtherSide(_,c));r=[...m,...h],i=[...x,...b]}const s=[];for(let f=0;f<r.length;f++){let c;f%2===0?c=Li(r[f],i[f],t):c=Li(i[f],r[f],t),c.forEach(d=>s.push(d))}return s}var bT=qf("colinear"),gT=qf("parallel"),mT=qf("none");function vT(n,e,t,o,r,i,s,f){var c=(f-i)*(t-n)-(s-r)*(o-e),d=(s-r)*(e-i)-(f-i)*(n-r),h=(t-n)*(e-i)-(o-e)*(n-r);if(c==0)return d==0&&h==0?bT:gT;var b=d/c,p=h/c;return b>=0&&b<=1&&p>=0&&p<=1?xT({x:n+b*(t-n),y:e+b*(o-e)}):mT}function xT(n){var e=qf("intersecting");return e.point=n,e}function qf(n){return{type:n}}class kv{constructor(e){An(this,"path");this.path=[...e]}width(){return nf(this.path[0],this.path[1])}height(){return nf(this.path[0],this.path[3])}diagonalLength(){return nf(this.path[0],this.path[2])}intersectOtherSide(e,t){const o=Math.sqrt(t.x*t.x+t.y*t.y),r=t.x/o,i=t.y/o,s=this.diagonalLength()*1.1,f=[[e[0]-s*r,e[1]-s*i],[e[0]+s*r,e[1]+s*i]],c=[[this.path[0],this.path[1]],[this.path[1],this.path[2]],[this.path[2],this.path[3]],[this.path[3],this.path[0]]],d=Dn.exports.chain(c).map(h=>vT(f[0][0],f[0][1],f[1][0],f[1][1],h[0][0],h[0][1],h[1][0],h[1][1])).filter(h=>h.type==="intersecting").map("point").maxBy(h=>(h.x-e[0])*(h.x-e[0])+(h.y-e[1])*(h.y-e[1])).value();return d?[d.x,d.y]:e}}var He={ANIMATING:0,INTERACTING:1},Ho={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},wT=42,bh=256;function rm(n,e,t){return function(o,r,i,s,f){if(!!o){if(!r&&!e)return o;var c=e?0:i[0]*r,d=e?0:i[1]*r,h=f?f[0]:0,b=f?f[1]:0,p=n[0]+c/2+h,m=n[2]-c/2+h,x=n[1]+d/2+b,_=n[3]-d/2+b;p>m&&(p=(m+p)/2,m=p),x>_&&(x=(_+x)/2,_=x);var k=Pe(o[0],p,m),T=Pe(o[1],x,_);if(s&&t&&r){var A=30*r;k+=-A*Math.log(1+Math.max(0,p-o[0])/A)+A*Math.log(1+Math.max(0,o[0]-m)/A),T+=-A*Math.log(1+Math.max(0,x-o[1])/A)+A*Math.log(1+Math.max(0,o[1]-_)/A)}return[k,T]}}}function yT(n){return n}function gh(n,e,t,o){var r=Ee(e)/t[0],i=rn(e)/t[1];return o?Math.min(n,Math.max(r,i)):Math.min(n,Math.min(r,i))}function mh(n,e,t){var o=Math.min(n,e),r=50;return o*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(o=Math.max(o,t),o/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Pe(o,t/2,e*2)}function _T(n,e,t,o){return function(r,i,s,f){if(r!==void 0){var c=n[0],d=n[n.length-1],h=t?gh(c,t,s,o):c;if(f){var b=e!==void 0?e:!0;return b?mh(r,h,d):Pe(r,d,h)}var p=Math.min(h,r),m=Math.floor(ih(n,p,i));return n[m]>h&&m<n.length-1?n[m+1]:n[m]}else return}}function kT(n,e,t,o,r,i){return function(s,f,c,d){if(s!==void 0){var h=r?gh(e,r,c,i):e,b=t!==void 0?t:0;if(d){var p=o!==void 0?o:!0;return p?mh(s,h,b):Pe(s,b,h)}var m=1e-9,x=Math.ceil(Math.log(e/h)/Math.log(n)-m),_=-f*(.5-m)+.5,k=Math.min(h,s),T=Math.floor(Math.log(e/k)/Math.log(n)+_),A=Math.max(x,T),O=e/Math.pow(n,A);return Pe(O,b,h)}else return}}function im(n,e,t,o,r){return function(i,s,f,c){if(i!==void 0){var d=o?gh(n,o,f,r):n,h=t!==void 0?t:!0;return!h||!c?Pe(i,e,d):mh(i,d,e)}else return}}function vh(n){if(n!==void 0)return 0}function am(n){if(n!==void 0)return n}function ET(n){var e=2*Math.PI/n;return function(t,o){if(o)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function CT(n){var e=n||of(5);return function(t,o){if(o)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function Ev(n){return Math.pow(n,3)}function pa(n){return 1-Ev(1-n)}function TT(n){return 3*n*n-2*n*n*n}function RT(n){return n}var AT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yd=0,IT=function(n){AT(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=De({},t);return o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=oh(r.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,r.projection&&ZE(),r.center&&(r.center=Lo(r.center,o.projection_)),r.extent&&(r.extent=Qr(r.extent,o.projection_)),o.applyOptions_(r),o}return e.prototype.applyOptions_=function(t){var o=De({},t);for(var r in Ho)delete o[r];this.setProperties(o,!0);var i=ST(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var s=OT(t),f=i.constraint,c=PT(t);this.constraints_={center:s,resolution:f,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var o=this.padding_;this.padding_=t;var r=this.getCenter();if(r){var i=t||[0,0,0,0];o=o||[0,0,0,0];var s=this.getResolution(),f=s/2*(i[3]-o[3]+o[1]-i[1]),c=s/2*(i[0]-o[0]+o[2]-i[2]);this.setCenterInternal([r[0]+f,r[1]-c])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var o=this.getProperties();return o.resolution!==void 0?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),De({},o,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),r=0;r<o.length;++r){var i=arguments[r];i.center&&(i=De({},i),i.center=Lo(i.center,this.getProjection())),i.anchor&&(i=De({},i),i.anchor=Lo(i.anchor,this.getProjection())),o[r]=i}this.animateInternal.apply(this,o)},e.prototype.animateInternal=function(t){var o=arguments.length,r;o>1&&typeof arguments[o-1]=="function"&&(r=arguments[o-1],--o);for(var i=0;i<o&&!this.isDef();++i){var s=arguments[i];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(i===o){r&&Ul(r,!0);return}for(var f=Date.now(),c=this.targetCenter_.slice(),d=this.targetResolution_,h=this.targetRotation_,b=[];i<o;++i){var p=arguments[i],m={start:f,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||TT,callback:r};if(p.center&&(m.sourceCenter=c,m.targetCenter=p.center.slice(),c=m.targetCenter),p.zoom!==void 0?(m.sourceResolution=d,m.targetResolution=this.getResolutionForZoom(p.zoom),d=m.targetResolution):p.resolution&&(m.sourceResolution=d,m.targetResolution=p.resolution,d=m.targetResolution),p.rotation!==void 0){m.sourceRotation=h;var x=qi(p.rotation-h+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=h+x,h=m.targetRotation}LT(m)?m.complete=!0:f+=m.duration,b.push(m)}this.animations_.push(b),this.setHint(He.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[He.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[He.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(He.ANIMATING,-this.hints_[He.ANIMATING]);for(var t,o=0,r=this.animations_.length;o<r;++o){var i=this.animations_[o];if(i[0].callback&&Ul(i[0].callback,!1),!t)for(var s=0,f=i.length;s<f;++s){var c=i[s];if(!c.complete){t=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),o=!1,r=this.animations_.length-1;r>=0;--r){for(var i=this.animations_[r],s=!0,f=0,c=i.length;f<c;++f){var d=i[f];if(!d.complete){var h=t-d.start,b=d.duration>0?h/d.duration:1;b>=1?(d.complete=!0,b=1):s=!1;var p=d.easing(b);if(d.sourceCenter){var m=d.sourceCenter[0],x=d.sourceCenter[1],_=d.targetCenter[0],k=d.targetCenter[1];this.nextCenter_=d.targetCenter;var T=m+p*(_-m),A=x+p*(k-x);this.targetCenter_=[T,A]}if(d.sourceResolution&&d.targetResolution){var O=p===1?d.targetResolution:d.sourceResolution+p*(d.targetResolution-d.sourceResolution);if(d.anchor){var P=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(O,0,P,!0);this.targetCenter_=this.calculateCenterZoom(D,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){var X=p===1?qi(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+p*(d.targetRotation-d.sourceRotation);if(d.anchor){var U=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(U,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),o=!0,!d.complete)break}}if(s){this.animations_[r]=null,this.setHint(He.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var z=i[0].callback;z&&Ul(z,!0)}}this.animations_=this.animations_.filter(Boolean),o&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,o){var r,i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-o[0],i[1]-o[1]],Qu(r,t-this.getRotation()),YE(r,o)),r},e.prototype.calculateCenterZoom=function(t,o){var r,i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){var f=o[0]-t*(o[0]-i[0])/s,c=o[1]-t*(o[1]-i[1])/s;r=[f,c]}return r},e.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var r=o[0],i=o[1];return[Math.abs(r*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(i*Math.cos(t))]}else return o},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&du(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Ho.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return uu(o,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();qt(r,1);var i=this.getResolution();qt(i!==void 0,2);var s=this.getRotation();return qt(s!==void 0,3),fu(r,i,s,o)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Ho.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal(Qr(t,this.getProjection()),o)},e.prototype.getResolutionForExtentInternal=function(t,o){var r=o||this.getViewportSizeMinusPadding_(),i=Ee(t)/r[0],s=rn(t)/r[1];return Math.max(i,s)},e.prototype.getResolutionForValueFunction=function(t){var o=t||2,r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/Math.log(o);return function(f){var c=r/Math.pow(o,f*s);return c}},e.prototype.getRotation=function(){return this.get(Ho.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/o;return function(f){var c=Math.log(r/f)/o/s;return c}},e.prototype.getViewportSizeMinusPadding_=function(t){var o=this.getViewportSize_(t),r=this.padding_;return r&&(o=[o[0]-r[1]-r[3],o[1]-r[0]-r[2]]),o},e.prototype.getState=function(){var t=this.getProjection(),o=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),s=this.padding_;if(s){var f=this.getViewportSizeMinusPadding_();i=_d(i,this.getViewportSize_(),[f[0]/2+s[3],f[1]/2+s[0]],o,r)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,o=this.getResolution();return o!==void 0&&(t=this.getZoomForResolution(o)),t},e.prototype.getZoomForResolution=function(t){var o=this.minZoom_||0,r,i;if(this.resolutions_){var s=ih(this.resolutions_,t,1);o=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(r/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=Pe(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(r,Pe(t-o,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,o){var r;if(qt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){qt(!Ju(t),25);var i=Qr(t,this.getProjection());r=om(i)}else if(t.getType()===ft.CIRCLE){var i=Qr(t.getExtent(),this.getProjection());r=om(i),r.rotate(this.getRotation(),na(i))}else{var s=Ss();s?r=t.clone().transform(s,this.getProjection()):r=t}this.fitInternal(r,o)},e.prototype.rotatedExtentForGeometry=function(t){for(var o=this.getRotation(),r=Math.cos(o),i=Math.sin(-o),s=t.getFlatCoordinates(),f=t.getStride(),c=1/0,d=1/0,h=-1/0,b=-1/0,p=0,m=s.length;p<m;p+=f){var x=s[p]*r-s[p+1]*i,_=s[p]*i+s[p+1]*r;c=Math.min(c,x),d=Math.min(d,_),h=Math.max(h,x),b=Math.max(b,_)}return[c,d,h,b]},e.prototype.fitInternal=function(t,o){var r=o||{},i=r.size;i||(i=this.getViewportSizeMinusPadding_());var s=r.padding!==void 0?r.padding:[0,0,0,0],f=r.nearest!==void 0?r.nearest:!1,c;r.minResolution!==void 0?c=r.minResolution:r.maxZoom!==void 0?c=this.getResolutionForZoom(r.maxZoom):c=0;var d=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(d,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);h=isNaN(h)?c:Math.max(h,c),h=this.getConstrainedResolution(h,f?0:1);var b=this.getRotation(),p=Math.sin(b),m=Math.cos(b),x=na(d);x[0]+=(s[1]-s[3])/2*h,x[1]+=(s[0]-s[2])/2*h;var _=x[0]*m-x[1]*p,k=x[1]*m+x[0]*p,T=this.getConstrainedCenter([_,k],h),A=r.callback?r.callback:ci;r.duration!==void 0?this.animateInternal({resolution:h,center:T,duration:r.duration,easing:r.easing},A):(this.targetResolution_=h,this.targetCenter_=T,this.applyTargetState_(!1,!0),Ul(A,!0))},e.prototype.centerOn=function(t,o,r){this.centerOnInternal(Lo(t,this.getProjection()),o,r)},e.prototype.centerOnInternal=function(t,o,r){this.setCenterInternal(_d(t,o,r,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,o,r,i){var s,f=this.padding_;if(f&&t){var c=this.getViewportSizeMinusPadding_(-r),d=_d(t,i,[c[0]/2+f[3],c[1]/2+f[0]],o,r);s=[t[0]-d[0],t[1]-d[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var o=du(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},e.prototype.adjustResolution=function(t,o){var r=o&&Lo(o,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,o){var r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,r);o&&(this.targetCenter_=this.calculateCenterZoom(s,o)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},e.prototype.adjustRotation=function(t,o){o&&(o=Lo(o,this.getProjection())),this.adjustRotationInternal(t,o)},e.prototype.adjustRotationInternal=function(t,o){var r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,r);o&&(this.targetCenter_=this.calculateCenterRotate(i,o)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Lo(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,o){var r=this.getAnimating()||this.getInteracting()||o,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),f=this.constraints_.resolution(this.targetResolution_,0,s,r),c=this.constraints_.center(this.targetCenter_,f,s,r,this.calculateCenterShift(this.targetCenter_,f,i,s));this.get(Ho.ROTATION)!==i&&this.set(Ho.ROTATION,i),this.get(Ho.RESOLUTION)!==f&&(this.set(Ho.RESOLUTION,f),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(Ho.CENTER)||!bf(this.get(Ho.CENTER),c))&&this.set(Ho.CENTER,c),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,o,r){var i=t!==void 0?t:200,s=o||0,f=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(f),d=this.constraints_.resolution(this.targetResolution_,s,c),h=this.constraints_.center(this.targetCenter_,d,c,!1,this.calculateCenterShift(this.targetCenter_,d,f,c));if(i===0&&!this.cancelAnchor_){this.targetResolution_=d,this.targetRotation_=f,this.targetCenter_=h,this.applyTargetState_();return}var b=r||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==d||this.getRotation()!==f||!this.getCenterInternal()||!bf(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:f,center:h,resolution:d,duration:i,easing:pa,anchor:b}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(He.INTERACTING,1)},e.prototype.endInteraction=function(t,o,r){var i=r&&Lo(r,this.getProjection());this.endInteractionInternal(t,o,i)},e.prototype.endInteractionInternal=function(t,o,r){this.setHint(He.INTERACTING,-1),this.resolveConstraints(t,o,r)},e.prototype.getConstrainedCenter=function(t,o){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,o){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,o))},e.prototype.getConstrainedResolution=function(t,o){var r=o||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,i)},e}(vn);function Ul(n,e){setTimeout(function(){n(e)},0)}function OT(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return rm(n.extent,n.constrainOnlyCenter,e)}var t=oh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var o=t.getExtent().slice();return o[0]=-1/0,o[2]=1/0,rm(o,!1,!1)}return yT}function ST(n){var e,t,o,r=28,i=2,s=n.minZoom!==void 0?n.minZoom:yd,f=n.maxZoom!==void 0?n.maxZoom:r,c=n.zoomFactor!==void 0?n.zoomFactor:i,d=n.multiWorld!==void 0?n.multiWorld:!1,h=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,b=n.showFullExtent!==void 0?n.showFullExtent:!1,p=oh(n.projection,"EPSG:3857"),m=p.getExtent(),x=n.constrainOnlyCenter,_=n.extent;if(!d&&!_&&p.isGlobal()&&(x=!1,_=m),n.resolutions!==void 0){var k=n.resolutions;t=k[s],o=k[f]!==void 0?k[f]:k[k.length-1],n.constrainResolution?e=_T(k,h,!x&&_,b):e=im(t,o,h,!x&&_,b)}else{var T=m?Math.max(Ee(m),rn(m)):360*Do[yo.DEGREES]/p.getMetersPerUnit(),A=T/bh/Math.pow(i,yd),O=A/Math.pow(i,r-yd);t=n.maxResolution,t!==void 0?s=0:t=A/Math.pow(c,s),o=n.minResolution,o===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?o=t/Math.pow(c,f):o=A/Math.pow(c,f):o=O),f=s+Math.floor(Math.log(t/o)/Math.log(c)),o=t/Math.pow(c,f-s),n.constrainResolution?e=kT(c,t,o,h,!x&&_,b):e=im(t,o,h,!x&&_,b)}return{constraint:e,maxResolution:t,minResolution:o,minZoom:s,zoomFactor:c}}function PT(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?CT():t===!1?am:typeof t=="number"?ET(t):am}else return vh}function LT(n){return!(n.sourceCenter&&n.targetCenter&&!bf(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function _d(n,e,t,o,r){var i=Math.cos(-r),s=Math.sin(-r),f=n[0]*i-n[1]*s,c=n[1]*i+n[0]*s;f+=(e[0]/2-t[0])*o,c+=(t[1]-e[1]/2)*o,s=-s;var d=f*i-c*s,h=c*i+f*s;return[d,h]}var pr=IT,FT=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,MT=/^([a-z]*)$|^hsla?\(.*\)$/i;function Cv(n){return typeof n=="string"?n:Tv(n)}function zT(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var DT=function(){var n=1024,e={},t=0;return function(o){var r;if(e.hasOwnProperty(o))r=e[o];else{if(t>=n){var i=0;for(var s in e)(i++&3)===0&&(delete e[s],--t)}r=NT(o),e[o]=r,++t}return r}}();function mf(n){return Array.isArray(n)?n:DT(n)}function NT(n){var e,t,o,r,i;if(MT.exec(n)&&(n=zT(n)),FT.exec(n)){var s=n.length-1,f=void 0;s<=4?f=1:f=2;var c=s===4||s===8;e=parseInt(n.substr(1+0*f,f),16),t=parseInt(n.substr(1+1*f,f),16),o=parseInt(n.substr(1+2*f,f),16),c?r=parseInt(n.substr(1+3*f,f),16):r=255,f==1&&(e=(e<<4)+e,t=(t<<4)+t,o=(o<<4)+o,c&&(r=(r<<4)+r)),i=[e,t,o,r/255]}else n.indexOf("rgba(")==0?(i=n.slice(5,-1).split(",").map(Number),sm(i)):n.indexOf("rgb(")==0?(i=n.slice(4,-1).split(",").map(Number),i.push(1),sm(i)):qt(!1,14);return i}function sm(n){return n[0]=Pe(n[0]+.5|0,0,255),n[1]=Pe(n[1]+.5|0,0,255),n[2]=Pe(n[2]+.5|0,0,255),n[3]=Pe(n[3],0,1),n}function Tv(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var o=n[2];o!=(o|0)&&(o=o+.5|0);var r=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+o+","+r+")"}var GT=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var o=this.cache_[t];(e++&3)===0&&!o.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,o){var r=lm(e,t,o);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(e,t,o,r){var i=lm(e,t,o);this.cache_[i]=r,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function lm(n,e,t){var o=t?Cv(t):"null";return e+":"+n+":"+o}var vf=new GT,le={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},UT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),BT=function(n){UT(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un,o.background_=t.background;var r=De({},t);return typeof t.properties=="object"&&(delete r.properties,De(r,t.properties)),r[le.OPACITY]=t.opacity!==void 0?t.opacity:1,qt(typeof r[le.OPACITY]=="number",64),r[le.VISIBLE]=t.visible!==void 0?t.visible:!0,r[le.Z_INDEX]=t.zIndex,r[le.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,r[le.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,r[le.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,r[le.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,o.className_=r.className!==void 0?r.className:"ol-layer",delete r.className,o.setProperties(r),o.state_=null,o}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var o=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return o.opacity=Pe(Math.round(this.getOpacity()*100)/100,0,1),o.visible=this.getVisible(),o.extent=this.getExtent(),o.zIndex=r===void 0&&!o.managed?1/0:r,o.maxResolution=this.getMaxResolution(),o.minResolution=Math.max(this.getMinResolution(),0),o.minZoom=this.getMinZoom(),o.maxZoom=this.getMaxZoom(),this.state_=o,o},e.prototype.getLayersArray=function(t){return $t()},e.prototype.getLayerStatesArray=function(t){return $t()},e.prototype.getExtent=function(){return this.get(le.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(le.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(le.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(le.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(le.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(le.OPACITY)},e.prototype.getSourceState=function(){return $t()},e.prototype.getVisible=function(){return this.get(le.VISIBLE)},e.prototype.getZIndex=function(){return this.get(le.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(le.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(le.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(le.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(le.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(le.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){qt(typeof t=="number",64),this.set(le.OPACITY,t)},e.prototype.setVisible=function(t){this.set(le.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(le.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(vn),Rv=BT,_r={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},di={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},jT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YT=function(n){jT(e,n);function e(t){var o=this,r=De({},t);delete r.source,o=n.call(this,r)||this,o.on,o.once,o.un,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,o.rendered=!1,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),o.addChangeListener(le.SOURCE,o.handleSourcePropertyChange_);var i=t.source?t.source:null;return o.setSource(i),o}return e.prototype.getLayersArray=function(t){var o=t||[];return o.push(this),o},e.prototype.getLayerStatesArray=function(t){var o=t||[];return o.push(this.getLayerState()),o},e.prototype.getSource=function(){return this.get(le.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():di.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(xe(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Qt(t,Nt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(o){return o([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,o){var r=this.getRenderer();if(r.prepareFrame(t))return this.rendered=!0,r.renderFrame(t,o)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(le.MAP,t)},e.prototype.getMapInternal=function(){return this.get(le.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(xe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(xe(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Qt(t,_r.PRECOMPOSE,function(o){var r=o,i=r.frameState.layerStatesArray,s=this.getLayerState(!1);qt(!i.some(function(f){return f.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=Qt(this,Nt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(le.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(Rv);function xf(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var o=e.zoom;return o>n.minZoom&&o<=n.maxZoom}var Kf=YT,WT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),XT=function(n){WT(e,n);function e(t){var o=n.call(this)||this;return o.map_=t,o}return e.prototype.dispatchRenderEvent=function(t,o){$t()},e.prototype.calculateMatrices2D=function(t){var o=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Yn(r,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),ah(i,r)},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s,f,c,d){var h,b=o.viewState;function p(it,ht,et,ct){return s.call(f,ht,it?et:null,ct)}var m=b.projection,x=tv(t.slice(),m),_=[[0,0]];if(m.canWrapX()&&i){var k=m.getExtent(),T=Ee(k);_.push([-T,0],[T,0])}for(var A=o.layerStatesArray,O=A.length,P=[],D=[],X=0;X<_.length;X++)for(var U=O-1;U>=0;--U){var z=A[U],$=z.layer;if($.hasRenderer()&&xf(z,b)&&c.call(d,$)){var ot=$.getRenderer(),st=$.getSource();if(ot&&st){var dt=st.getWrapX()?x:t,ut=p.bind(null,z.managed);D[0]=dt[0]+_[X][0],D[1]=dt[1]+_[X][1],h=ot.forEachFeatureAtCoordinate(D,o,r,ut,P)}if(h)return h}}if(P.length!==0){var vt=1/P.length;return P.forEach(function(it,ht){return it.distanceSq+=ht*vt}),P.sort(function(it,ht){return it.distanceSq-ht.distanceSq}),P.some(function(it){return h=it.callback(it.feature,it.layer,it.geometry)}),h}},e.prototype.forEachLayerAtPixel=function(t,o,r,i,s){return $t()},e.prototype.hasFeatureAtCoordinate=function(t,o,r,i,s,f){var c=this.forEachFeatureAtCoordinate(t,o,r,i,ai,this,s,f);return c!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){$t()},e.prototype.scheduleExpireIconCache=function(t){vf.canExpireCache()&&t.postRenderFunctions.push(VT)},e}(rh);function VT(n,e){vf.expire()}var HT=XT,$T=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),qT=function(n){$T(e,n);function e(t,o,r,i){var s=n.call(this,t)||this;return s.inversePixelTransform=o,s.frameState=r,s.context=i,s}return e}(mn),Av=qT,Bl="ol-hidden",Zf="ol-unselectable",xh="ol-control",fm="ol-collapsed",KT=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),cm=["style","variant","weight","size","lineHeight","family"],Iv=function(n){var e=n.match(KT);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,r=cm.length;o<r;++o){var i=e[o+1];i!==void 0&&(t[cm[o]]=i)}return t.families=t.family.split(/,\s?/),t};function Ov(n){return n===1?"":String(Math.round(n*100)/100)}function Uo(n,e,t,o){var r;return t&&t.length?r=t.shift():Vf?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",o)}function dm(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function mu(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function ZT(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function JT(n,e){for(var t=n.childNodes,o=0;;++o){var r=t[o],i=e[o];if(!r&&!i)break;if(r!==i){if(!r){n.appendChild(i);continue}if(!i){n.removeChild(r),--o;continue}n.insertBefore(i,r)}}}var Sv="10px sans-serif",Bn="#000",wf="round",ms=[],vs=0,aa="round",xs=10,ws="#000",ys="center",yf="middle",ei=[0,0,0,0],_s=1,Pn=new vn,QT=new ha;QT.setSize=function(){console.warn("labelCache is deprecated.")};var Bi=null,vu,xu={},t7=function(){var n=100,e="32px ",t=["monospace","serif"],o=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",i,s;function f(d,h,b){for(var p=!0,m=0;m<o;++m){var x=t[m];if(s=_f(d+" "+h+" "+e+x,r),b!=x){var _=_f(d+" "+h+" "+e+b+","+x,r);p=p&&_!=s}}return!!p}function c(){for(var d=!0,h=Pn.getKeys(),b=0,p=h.length;b<p;++b){var m=h[b];Pn.get(m)<n&&(f.apply(this,m.split(`
`))?(Rs(xu),Bi=null,vu=void 0,Pn.set(m,n)):(Pn.set(m,Pn.get(m)+1,!0),d=!1))}d&&(clearInterval(i),i=void 0)}return function(d){var h=Iv(d);if(!!h)for(var b=h.families,p=0,m=b.length;p<m;++p){var x=b[p],_=h.style+`
`+h.weight+`
`+x;Pn.get(_)===void 0&&(Pn.set(_,n,!0),f(h.style,h.weight,x)||(Pn.set(_,0,!0),i===void 0&&(i=setInterval(c,32))))}}}(),e7=function(){var n;return function(e){var t=xu[e];if(t==null){if(Vf){var o=Iv(e),r=Pv(e,"\u017Dg"),i=isNaN(Number(o.lineHeight))?1.2:Number(o.lineHeight);t=i*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);xu[e]=t}return t}}();function Pv(n,e){return Bi||(Bi=Uo(1,1)),n!=vu&&(Bi.font=n,vu=Bi.font),Bi.measureText(e)}function _f(n,e){return Pv(n,e).width}function um(n,e,t){if(e in t)return t[e];var o=_f(n,e);return t[e]=o,o}function o7(n,e){for(var t=[],o=[],r=[],i=0,s=0,f=0,c=0,d=0,h=e.length;d<=h;d+=2){var b=e[d];if(b===`
`||d===h){i=Math.max(i,s),r.push(s),s=0,f+=c;continue}var p=e[d+1]||n.font,m=_f(p,b);t.push(m),s+=m;var x=e7(p);o.push(x),c=Math.max(c,x)}return{width:i,height:f,widths:t,heights:o,lineWidths:r}}function n7(n,e,t,o,r,i,s,f,c,d,h){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),o.contextInstructions?(n.translate(c,d),n.scale(h[0],h[1]),r7(o,n)):h[0]<0||h[1]<0?(n.translate(c,d),n.scale(h[0],h[1]),n.drawImage(o,r,i,s,f,0,0,s,f)):n.drawImage(o,r,i,s,f,c,d,s*h[0],f*h[1]),n.restore()}function r7(n,e){for(var t=n.contextInstructions,o=0,r=t.length;o<r;o+=2)Array.isArray(t[o+1])?e[t[o]].apply(e,t[o+1]):e[t[o]]=t[o+1]}var i7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),a7=function(n){i7(e,n);function e(t){var o=n.call(this,t)||this;o.fontChangeListenerKey_=Qt(Pn,ia.PROPERTYCHANGE,t.redrawText.bind(t)),o.element_=document.createElement("div");var r=o.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",o.element_.className=Zf+" ol-layers";var i=t.getViewport();return i.insertBefore(o.element_,i.firstChild||null),o.children_=[],o.renderedVisible_=!0,o}return e.prototype.dispatchRenderEvent=function(t,o){var r=this.getMap();if(r.hasListener(t)){var i=new Av(t,void 0,o);r.dispatchEvent(i)}},e.prototype.disposeInternal=function(){xe(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(_r.PRECOMPOSE,t);var o=t.layerStatesArray.sort(function(m,x){return m.zIndex-x.zIndex}),r=t.viewState;this.children_.length=0;for(var i=[],s=null,f=0,c=o.length;f<c;++f){var d=o[f];t.layerIndex=f;var h=d.layer,b=h.getSourceState();if(!xf(d,r)||b!=di.READY&&b!=di.UNDEFINED){h.unrender();continue}var p=h.render(t,s);!p||(p!==s&&(this.children_.push(p),s=p),"getDeclutter"in h&&i.push(h))}for(var f=i.length-1;f>=0;--f)i[f].renderDeclutter(t);JT(this.element_,this.children_),this.dispatchRenderEvent(_r.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,o,r,i,s){for(var f=o.viewState,c=o.layerStatesArray,d=c.length,h=d-1;h>=0;--h){var b=c[h],p=b.layer;if(p.hasRenderer()&&xf(b,f)&&s(p)){var m=p.getRenderer(),x=m.getDataAtPixel(t,o,r);if(x){var _=i(p,x);if(_)return _}}}},e}(HT),s7=a7,so={ADD:"add",REMOVE:"remove"},Lv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),hm={LENGTH:"length"},jl=function(n){Lv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.element=o,i.index=r,i}return e}(mn),l7=function(n){Lv(e,n);function e(t,o){var r=n.call(this)||this;r.on,r.once,r.un;var i=o||{};if(r.unique_=!!i.unique,r.array_=t||[],r.unique_)for(var s=0,f=r.array_.length;s<f;++s)r.assertUnique_(r.array_[s],s);return r.updateLength_(),r}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var o=0,r=t.length;o<r;++o)this.push(t[o]);return this},e.prototype.forEach=function(t){for(var o=this.array_,r=0,i=o.length;r<i;++r)t(o[r],r,o)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(hm.LENGTH)},e.prototype.insertAt=function(t,o){this.unique_&&this.assertUnique_(o),this.array_.splice(t,0,o),this.updateLength_(),this.dispatchEvent(new jl(so.ADD,o,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var o=this.getLength();return this.insertAt(o,t),this.getLength()},e.prototype.remove=function(t){for(var o=this.array_,r=0,i=o.length;r<i;++r)if(o[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var o=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new jl(so.REMOVE,o,t)),o},e.prototype.setAt=function(t,o){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(o,t);var i=this.array_[t];this.array_[t]=o,this.dispatchEvent(new jl(so.REMOVE,i,t)),this.dispatchEvent(new jl(so.ADD,o,t))}else{for(var s=r;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,o)}},e.prototype.updateLength_=function(){this.set(hm.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,o){for(var r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===t&&r!==o)throw new K0(58)},e}(vn),Mo=l7,Fv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ur=function(n){Fv(e,n);function e(t,o){var r=n.call(this,t)||this;return r.layer=o,r}return e}(mn),kd={LAYERS:"layers"},f7=function(n){Fv(e,n);function e(t){var o=this,r=t||{},i=De({},r);delete i.layers;var s=r.layers;return o=n.call(this,i)||this,o.on,o.once,o.un,o.layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener(kd.LAYERS,o.handleLayersChanged_),s?Array.isArray(s)?s=new Mo(s.slice(),{unique:!0}):qt(typeof s.getArray=="function",43):s=new Mo(void 0,{unique:!0}),o.setLayers(s),o}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(xe),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Qt(t,so.ADD,this.handleLayersAdd_,this),Qt(t,so.REMOVE,this.handleLayersRemove_,this));for(var o in this.listenerKeys_)this.listenerKeys_[o].forEach(xe);Rs(this.listenerKeys_);for(var r=t.getArray(),i=0,s=r.length;i<s;i++){var f=r[i];this.registerLayerListeners_(f),this.dispatchEvent(new ur("addlayer",f))}this.changed()},e.prototype.registerLayerListeners_=function(t){var o=[Qt(t,ia.PROPERTYCHANGE,this.handleLayerChange_,this),Qt(t,Nt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&o.push(Qt(t,"addlayer",this.handleLayerGroupAdd_,this),Qt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ie(t)]=o},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new ur("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new ur("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var o=t.element;this.registerLayerListeners_(o),this.dispatchEvent(new ur("addlayer",o)),this.changed()},e.prototype.handleLayersRemove_=function(t){var o=t.element,r=ie(o);this.listenerKeys_[r].forEach(xe),delete this.listenerKeys_[r],this.dispatchEvent(new ur("removelayer",o)),this.changed()},e.prototype.getLayers=function(){return this.get(kd.LAYERS)},e.prototype.setLayers=function(t){var o=this.getLayers();if(o)for(var r=o.getArray(),i=0,s=r.length;i<s;++i)this.dispatchEvent(new ur("removelayer",r[i]));this.set(kd.LAYERS,t)},e.prototype.getLayersArray=function(t){var o=t!==void 0?t:[];return this.getLayers().forEach(function(r){r.getLayersArray(o)}),o},e.prototype.getLayerStatesArray=function(t){var o=t!==void 0?t:[],r=o.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(o)});var i=this.getLayerState(),s=i.zIndex;!t&&i.zIndex===void 0&&(s=0);for(var f=r,c=o.length;f<c;f++){var d=o[f];d.opacity*=i.opacity,d.visible=d.visible&&i.visible,d.maxResolution=Math.min(d.maxResolution,i.maxResolution),d.minResolution=Math.max(d.minResolution,i.minResolution),d.minZoom=Math.max(d.minZoom,i.minZoom),d.maxZoom=Math.min(d.maxZoom,i.maxZoom),i.extent!==void 0&&(d.extent!==void 0?d.extent=es(d.extent,i.extent):d.extent=i.extent),d.zIndex===void 0&&(d.zIndex=s)}return o},e.prototype.getSourceState=function(){return di.READY},e}(Rv),Jf=f7,c7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),d7=function(n){c7(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.map=o,i.frameState=r!==void 0?r:null,i}return e}(mn),ji=d7,u7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),h7=function(n){u7(e,n);function e(t,o,r,i,s){var f=n.call(this,t,o,s)||this;return f.originalEvent=r,f.pixel_=null,f.coordinate_=null,f.dragging=i!==void 0?i:!1,f}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(ji),Fn=h7,oe={SINGLECLICK:"singleclick",CLICK:Nt.CLICK,DBLCLICK:Nt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ks={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},p7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),b7=function(n){p7(e,n);function e(t,o){var r=n.call(this,t)||this;r.map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=o===void 0?1:o,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=Qt(i,ks.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=Qt(i,ks.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(Nt.TOUCHMOVE,r.boundHandleTouchMove_,iv?{passive:!1}:!1),r}return e.prototype.emulateClick_=function(t){var o=new Fn(oe.CLICK,this.map_,t);this.dispatchEvent(o),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,o=new Fn(oe.DBLCLICK,this.map_,t),this.dispatchEvent(o)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var r=new Fn(oe.SINGLECLICK,this.map_,t);this.dispatchEvent(r)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var o=t;o.type==oe.POINTERUP||o.type==oe.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==oe.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var o=new Fn(oe.POINTERUP,this.map_,t);this.dispatchEvent(o),this.emulateClicks_&&!o.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(xe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var o=new Fn(oe.POINTERDOWN,this.map_,t);this.dispatchEvent(o),this.down_={};for(var r in t){var i=t[r];this.down_[r]=typeof i=="function"?ci:i}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Qt(s,oe.POINTERMOVE,this.handlePointerMove_,this),Qt(s,oe.POINTERUP,this.handlePointerUp_,this),Qt(this.element_,oe.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Qt(this.element_.getRootNode(),oe.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var o=new Fn(oe.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(o)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var o=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Fn(t.type,this.map_,t,o))},e.prototype.handleTouchMove_=function(t){var o=this.originalPointerMoveEvent_;(!o||o.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(xe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Nt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(xe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(xe),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(ha),g7=b7,fr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ve={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},kf=1/0,m7=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Rs(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(o);return delete this.queuedElements_[r],o},n.prototype.enqueue=function(e){qt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=kf?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,r=t.length,i=t[e],s=o[e],f=e;e<r>>1;){var c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<r&&o[d]<o[c]?d:c;t[e]=t[h],o[e]=o[h],e=h}t[e]=i,o[e]=s,this.siftDown_(f,e)},n.prototype.siftDown_=function(e,t){for(var o=this.elements_,r=this.priorities_,i=o[t],s=r[t];t>e;){var f=this.getParentIndex_(t);if(r[f]>s)o[t]=o[f],r[t]=r[f],t=f;else break}o[t]=i,r[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,o=this.priorities_,r=0,i=t.length,s,f,c;for(f=0;f<i;++f)s=t[f],c=e(s),c==kf?delete this.queuedElements_[this.keyFunction_(s)]:(o[r]=c,t[r++]=s);t.length=r,o.length=r,this.heapify_()},n}(),v7=m7,At={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},x7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),w7=function(n){x7(e,n);function e(t,o){var r=n.call(this,function(i){return t.apply(null,i)},function(i){return i[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=o,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return e.prototype.enqueue=function(t){var o=n.prototype.enqueue.call(this,t);if(o){var r=t[0];r.addEventListener(Nt.CHANGE,this.boundHandleTileChange_)}return o},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var o=t.target,r=o.getState();if(r===At.LOADED||r===At.ERROR||r===At.EMPTY){o.removeEventListener(Nt.CHANGE,this.boundHandleTileChange_);var i=o.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,o){for(var r=0,i,s,f;this.tilesLoading_<t&&r<o&&this.getCount()>0;)s=this.dequeue()[0],f=s.getKey(),i=s.getState(),i===At.IDLE&&!(f in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[f]=!0,++this.tilesLoading_,++r,s.load())},e}(v7),y7=w7;function _7(n,e,t,o,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return kf;var i=n.viewState.center,s=o[0]-i[0],f=o[1]-i[1];return 65536*Math.log(r)+Math.sqrt(s*s+f*f)/r}function pm(n){return n[0]>0&&n[1]>0}function k7(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Jo(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var E7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();function Mv(n){if(n instanceof Kf){n.setMapInternal(null);return}n instanceof Jf&&n.getLayers().forEach(Mv)}function zv(n,e){if(n instanceof Kf){n.setMapInternal(e);return}if(n instanceof Jf)for(var t=n.getLayers().getArray(),o=0,r=t.length;o<r;++o)zv(t[o],e)}var C7=function(n){E7(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=T7(t);o.renderComplete_,o.loaded_=!0,o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(o),o.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,o.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:rv,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(o),o.coordinateToPixelTransform_=gn(),o.pixelToCoordinateTransform_=gn(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=t.moveTolerance,o.keyboardEventTarget_=r.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.controls=r.controls||new Mo,o.interactions=r.interactions||new Mo,o.overlays_=r.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new y7(o.getTilePriority.bind(o),o.handleTileChange_.bind(o)),o.addChangeListener(Ve.LAYERGROUP,o.handleLayerGroupChanged_),o.addChangeListener(Ve.VIEW,o.handleViewChanged_),o.addChangeListener(Ve.SIZE,o.handleSizeChanged_),o.addChangeListener(Ve.TARGET,o.handleTargetChanged_),o.setProperties(r.values);var i=o;return t.view&&!(t.view instanceof pr)&&t.view.then(function(s){i.setView(new pr(s))}),o.controls.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.controls.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.interactions.addEventListener(so.ADD,function(s){s.element.setMap(this)}.bind(o)),o.interactions.addEventListener(so.REMOVE,function(s){s.element.setMap(null)}.bind(o)),o.overlays_.addEventListener(so.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(o)),o.overlays_.addEventListener(so.REMOVE,function(s){var f=s.element,c=f.getId();c!==void 0&&delete this.overlayIdIndex_[c.toString()],s.element.setMap(null)}.bind(o)),o.controls.forEach(function(s){s.setMap(this)}.bind(o)),o.interactions.forEach(function(s){s.setMap(this)}.bind(o)),o.overlays_.forEach(o.addOverlayInternal_.bind(o)),o}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var o=this.getLayerGroup().getLayers();o.push(t)},e.prototype.handleLayerAdd_=function(t){zv(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var o=t.getId();o!==void 0&&(this.overlayIdIndex_[o.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,o,r){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var s=r.hitTolerance!==void 0?r.hitTolerance:0,f=r.layerFilter!==void 0?r.layerFilter:ai,c=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,c,o,null,f,null)}},e.prototype.getFeaturesAtPixel=function(t,o){var r=[];return this.forEachFeatureAtPixel(t,function(i){r.push(i)},o),r},e.prototype.getAllLayers=function(){var t=[];function o(r){r.forEach(function(i){i instanceof Jf?o(i.getLayers()):t.push(i)})}return o(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,o,r){if(!(!this.frameState_||!this.renderer_)){var i=r||{},s=i.hitTolerance!==void 0?i.hitTolerance:0,f=i.layerFilter||ai;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,o,f)}},e.prototype.hasFeatureAtPixel=function(t,o){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var i=o.layerFilter!==void 0?o.layerFilter:ai,s=o.hitTolerance!==void 0?o.hitTolerance:0,f=o.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,f,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var o=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-o.left,r.clientY-o.top]},e.prototype.getTarget=function(){return this.get(Ve.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return du(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var o=this.frameState_;return o?Se(o.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var o=this.overlayIdIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ve.LAYERGROUP)},e.prototype.setLayers=function(t){var o=this.getLayerGroup();if(t instanceof Mo){o.setLayers(t);return}var r=o.getLayers();r.clear(),r.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,r=t.length;o<r;++o){var i=t[o];if(!!i.visible){var s=i.layer.getRenderer();if(s&&!s.ready)return!0;var f=i.layer.getSource();if(f&&f.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var o=Lo(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(o)},e.prototype.getPixelFromCoordinateInternal=function(t){var o=this.frameState_;return o?Se(o.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ve.SIZE)},e.prototype.getView=function(){return this.get(Ve.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,o,r,i){return _7(this.frameState_,t,o,r,i)},e.prototype.handleBrowserEvent=function(t,o){var r=o||t.type,i=new Fn(r,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var o=t.originalEvent,r=o.type;if(r===ks.POINTERDOWN||r===Nt.WHEEL||r===Nt.KEYDOWN){var i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,f=o.target;if(this.overlayContainerStopEvent_.contains(f)||!(s===i?i.documentElement:s).contains(f))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var c=this.getInteractions().getArray().slice(),d=c.length-1;d>=0;d--){var h=c[d];if(!(h.getMap()!==this||!h.getActive()||!this.getTargetElement())){var b=h.handleEvent(t);if(!b||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var r=this.maxTilesLoading_,i=r;if(t){var s=t.viewHints;if(s[He.ANIMATING]||s[He.INTERACTING]){var f=Date.now()-t.time>8;r=f?0:8,i=f?0:2}}o.getTilesLoading()<r&&(o.reprioritize(),o.loadMoreTiles(r,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(_r.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(_r.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ji(fr.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ji(fr.LOADSTART,this,t))));for(var c=this.postRenderFunctions_,d=0,h=c.length;d<h;++d)c[d](this,t);c.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,o=this.targetChangeHandlerKeys_.length;t<o;++t)xe(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Nt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Nt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,mu(this.viewport_)}var r=this.getTargetElement();if(!r)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new g7(this,this.moveTolerance_);for(var i in oe)this.mapBrowserEventHandler_.addEventListener(oe[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Nt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Nt.WHEEL,this.boundHandleBrowserEvent_,iv?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,f=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Qt(f,Nt.KEYDOWN,this.handleBrowserEvent,this),Qt(f,Nt.KEYPRESS,this.handleBrowserEvent,this),Qt(s,Nt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(xe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(xe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Qt(t,ia.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Qt(t,Nt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(xe),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ur("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Qt(t,ia.PROPERTYCHANGE,this.render,this),Qt(t,Nt.CHANGE,this.render,this),Qt(t,"addlayer",this.handleLayerAdd_,this),Qt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),o=0,r=t.length;o<r;++o){var i=t[o].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var o=this.getLayerGroup().getLayers();return o.remove(t)},e.prototype.handleLayerRemove_=function(t){Mv(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var o=this,r=this.getSize(),i=this.getView(),s=this.frameState_,f=null;if(r!==void 0&&pm(r)&&i&&i.isDef()){var c=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=i.getState();if(f={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:fu(d.center,d.resolution,d.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:d,viewHints:c,wantedTiles:{},mapId:ie(this),renderTargets:{}},d.nextCenter&&d.nextResolution){var h=isNaN(d.nextRotation)?d.rotation:d.nextRotation;f.nextExtent=fu(d.nextCenter,d.nextResolution,h,r)}}if(this.frameState_=f,this.renderer_.renderFrame(f),f){if(f.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,f.postRenderFunctions),s){var b=!this.previousExtent_||!Ju(this.previousExtent_)&&!hs(f.extent,this.previousExtent_);b&&(this.dispatchEvent(new ji(fr.MOVESTART,this,s)),this.previousExtent_=Wf(this.previousExtent_))}var p=this.previousExtent_&&!f.viewHints[He.ANIMATING]&&!f.viewHints[He.INTERACTING]&&!hs(f.extent,this.previousExtent_);p&&(this.dispatchEvent(new ji(fr.MOVEEND,this,f)),Z0(f.extent,this.previousExtent_))}this.dispatchEvent(new ji(fr.POSTRENDER,this,f)),this.renderComplete_=this.hasListener(fr.LOADSTART)||this.hasListener(fr.LOADEND)||this.hasListener(_r.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){o.postRenderTimeoutHandle_=void 0,o.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var o=this.getLayerGroup();o&&this.handleLayerRemove_(new ur("removelayer",o)),this.set(Ve.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ve.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ve.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof pr){this.set(Ve.VIEW,t);return}this.set(Ve.VIEW,new pr);var o=this;t.then(function(r){o.setView(new pr(r))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),o=void 0;if(t){var r=getComputedStyle(t),i=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(o=[i,s],!pm(o)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(o),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var o=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(o=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(o)}},e}(vn);function T7(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},o=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Jf({layers:n.layers});t[Ve.LAYERGROUP]=o,t[Ve.TARGET]=n.target,t[Ve.VIEW]=n.view instanceof pr?n.view:new pr;var r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Mo(n.controls.slice()):(qt(typeof n.controls.getArray=="function",47),r=n.controls));var i;n.interactions!==void 0&&(Array.isArray(n.interactions)?i=new Mo(n.interactions.slice()):(qt(typeof n.interactions.getArray=="function",48),i=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Mo(n.overlays.slice()):(qt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Mo,{controls:r,interactions:i,keyboardEventTarget:e,overlays:s,values:t}}var R7=C7,A7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),I7=function(n){A7(e,n);function e(t){var o=n.call(this)||this,r=t.element;return r&&!t.target&&!r.style.pointerEvents&&(r.style.pointerEvents="auto"),o.element=r||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return e.prototype.disposeInternal=function(){mu(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&mu(this.element);for(var o=0,r=this.listenerKeys.length;o<r;++o)xe(this.listenerKeys[o]);if(this.listenerKeys.length=0,this.map_=t,t){var i=this.target_?this.target_:t.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==ci&&this.listenerKeys.push(Qt(t,fr.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(vn),Qf=I7,O7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),S7=function(n){O7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,o.ulElement_=document.createElement("ul"),o.collapsed_=r.collapsed!==void 0?r.collapsed:!0,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=r.collapsible!==void 0,o.collapsible_=r.collapsible!==void 0?r.collapsible:!0,o.collapsible_||(o.collapsed_=!1);var i=r.className!==void 0?r.className:"ol-attribution",s=r.tipLabel!==void 0?r.tipLabel:"Attributions",f=r.expandClassName!==void 0?r.expandClassName:i+"-expand",c=r.collapseLabel!==void 0?r.collapseLabel:"\u203A",d=r.collapseClassName!==void 0?r.collapseClassName:i+"-collapse";typeof c=="string"?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=c,o.collapseLabel_.className=d):o.collapseLabel_=c;var h=r.label!==void 0?r.label:"i";typeof h=="string"?(o.label_=document.createElement("span"),o.label_.textContent=h,o.label_.className=f):o.label_=h;var b=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=s,o.toggleButton_.appendChild(b),o.toggleButton_.addEventListener(Nt.CLICK,o.handleClick_.bind(o),!1);var p=i+" "+Zf+" "+xh+(o.collapsed_&&o.collapsible_?" "+fm:"")+(o.collapsible_?"":" ol-uncollapsible"),m=o.element;return m.className=p,m.appendChild(o.toggleButton_),m.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return e.prototype.collectSourceAttributions_=function(t){for(var o={},r=[],i=!0,s=t.layerStatesArray,f=0,c=s.length;f<c;++f){var d=s[f];if(!!xf(d,t.viewState)){var h=d.layer.getSource();if(!!h){var b=h.getAttributions();if(!!b){var p=b(t);if(!!p)if(i=i&&h.getAttributionsCollapsible()!==!1,Array.isArray(p))for(var m=0,x=p.length;m<x;++m)p[m]in o||(r.push(p[m]),o[p[m]]=!0);else p in o||(r.push(p),o[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),r},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var o=this.collectSourceAttributions_(t),r=o.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!ui(o,this.renderedAttributions_)){ZT(this.ulElement_);for(var i=0,s=o.length;i<s;++i){var f=document.createElement("li");f.innerHTML=o[i],this.ulElement_.appendChild(f)}this.renderedAttributions_=o}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(fm),this.collapsed_?dm(this.collapseLabel_,this.label_):dm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Qf),P7=S7,L7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),F7=function(n){L7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=r.className!==void 0?r.className:"ol-rotate",s=r.label!==void 0?r.label:"\u21E7",f=r.compassClassName!==void 0?r.compassClassName:"ol-compass";o.label_=null,typeof s=="string"?(o.label_=document.createElement("span"),o.label_.className=f,o.label_.textContent=s):(o.label_=s,o.label_.classList.add(f));var c=r.tipLabel?r.tipLabel:"Reset rotation",d=document.createElement("button");d.className=i+"-reset",d.setAttribute("type","button"),d.title=c,d.appendChild(o.label_),d.addEventListener(Nt.CLICK,o.handleClick_.bind(o),!1);var h=i+" "+Zf+" "+xh,b=o.element;return b.className=h,b.appendChild(d),o.callResetNorth_=r.resetNorth?r.resetNorth:void 0,o.duration_=r.duration!==void 0?r.duration:250,o.autoHide_=r.autoHide!==void 0?r.autoHide:!0,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(Bl),o}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),o=t.getView();if(!!o){var r=o.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?o.animate({rotation:0,duration:this.duration_,easing:pa}):o.setRotation(0))}},e.prototype.render=function(t){var o=t.frameState;if(!!o){var r=o.viewState.rotation;if(r!=this.rotation_){var i="rotate("+r+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Bl);!s&&r===0?this.element.classList.add(Bl):s&&r!==0&&this.element.classList.remove(Bl)}this.label_.style.transform=i}this.rotation_=r}},e}(Qf),M7=F7,z7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),D7=function(n){z7(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{element:document.createElement("div"),target:r.target})||this;var i=r.className!==void 0?r.className:"ol-zoom",s=r.delta!==void 0?r.delta:1,f=r.zoomInClassName!==void 0?r.zoomInClassName:i+"-in",c=r.zoomOutClassName!==void 0?r.zoomOutClassName:i+"-out",d=r.zoomInLabel!==void 0?r.zoomInLabel:"+",h=r.zoomOutLabel!==void 0?r.zoomOutLabel:"\u2013",b=r.zoomInTipLabel!==void 0?r.zoomInTipLabel:"Zoom in",p=r.zoomOutTipLabel!==void 0?r.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=f,m.setAttribute("type","button"),m.title=b,m.appendChild(typeof d=="string"?document.createTextNode(d):d),m.addEventListener(Nt.CLICK,o.handleClick_.bind(o,s),!1);var x=document.createElement("button");x.className=c,x.setAttribute("type","button"),x.title=p,x.appendChild(typeof h=="string"?document.createTextNode(h):h),x.addEventListener(Nt.CLICK,o.handleClick_.bind(o,-s),!1);var _=i+" "+Zf+" "+xh,k=o.element;return k.className=_,k.appendChild(m),k.appendChild(x),o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleClick_=function(t,o){o.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var o=this.getMap(),r=o.getView();if(!!r){var i=r.getZoom();if(i!==void 0){var s=r.getConstrainedZoom(i+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:pa})):r.setZoom(s)}}},e}(Qf),N7=D7,G7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ed="projection",bm="coordinateFormat",U7=function(n){G7(e,n);function e(t){var o=this,r=t||{},i=document.createElement("div");i.className=r.className!==void 0?r.className:"ol-mouse-position",o=n.call(this,{element:i,render:r.render,target:r.target})||this,o.on,o.once,o.un,o.addChangeListener(Ed,o.handleProjectionChanged_),r.coordinateFormat&&o.setCoordinateFormat(r.coordinateFormat),r.projection&&o.setProjection(r.projection);var s=!0,f="&#160;";return"undefinedHTML"in r?(r.undefinedHTML!==void 0&&(f=r.undefinedHTML),s=!!f):"placeholder"in r&&(r.placeholder===!1?s=!1:f=String(r.placeholder)),o.placeholder_=f,o.renderOnMouseOut_=s,o.renderedHTML_=i.innerHTML,o.mapProjection_=null,o.transform_=null,o}return e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(bm)},e.prototype.getProjection=function(){return this.get(Ed)},e.prototype.handleMouseMove=function(t){var o=this.getMap();this.updateHTML_(o.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var o=t.getViewport();this.listenerKeys.push(Qt(o,ks.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Qt(o,ks.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(bm,t)},e.prototype.setProjection=function(t){this.set(Ed,fo(t))},e.prototype.updateHTML_=function(t){var o=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();r?this.transform_=ra(this.mapProjection_,r):this.transform_=eh}var i=this.getMap(),s=i.getCoordinateFromPixelInternal(t);if(s){var f=Ss();f&&(this.transform_=ra(this.mapProjection_,f)),this.transform_(s,s);var c=this.getCoordinateFormat();c?o=c(s):o=s.toString()}}(!this.renderedHTML_||o!==this.renderedHTML_)&&(this.element.innerHTML=o,this.renderedHTML_=o)},e.prototype.render=function(t){var o=t.frameState;o?this.mapProjection_!=o.viewState.projection&&(this.mapProjection_=o.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Qf),B7=U7;function Dv(n){var e=n||{},t=new Mo,o=e.zoom!==void 0?e.zoom:!0;o&&t.push(new N7(e.zoomOptions));var r=e.rotate!==void 0?e.rotate:!0;r&&t.push(new M7(e.rotateOptions));var i=e.attribution!==void 0?e.attribution:!0;return i&&t.push(new P7(e.attributionOptions)),t}var wu={ACTIVE:"active"},j7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Y7=function(n){j7(e,n);function e(t){var o=n.call(this)||this;return o.on,o.once,o.un,t&&t.handleEvent&&(o.handleEvent=t.handleEvent),o.map_=null,o.setActive(!0),o}return e.prototype.getActive=function(){return this.get(wu.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(wu.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(vn);function W7(n,e,t){var o=n.getCenterInternal();if(o){var r=[o[0]+e[0],o[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:RT,center:n.getConstrainedCenter(r)})}}function wh(n,e,t,o){var r=n.getZoom();if(r!==void 0){var i=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(i);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:o!==void 0?o:250,easing:pa})}}var Ls=Y7,X7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),V7=function(n){X7(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.delta_=r.delta?r.delta:1,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==oe.DBLCLICK){var r=t.originalEvent,i=t.map,s=t.coordinate,f=r.shiftKey?-this.delta_:this.delta_,c=i.getView();wh(c,f,s,this.duration_),r.preventDefault(),o=!0}return!o},e}(Ls),H7=V7,$7=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),q7=function(n){$7(e,n);function e(t){var o=this,r=t||{};return o=n.call(this,r)||this,r.handleDownEvent&&(o.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(o.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(o.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(o.handleUpEvent=r.handleUpEvent),r.stopDown&&(o.stopDown=r.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var o=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==oe.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==oe.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==oe.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,o=this.stopDown(i)}else t.type==oe.POINTERMOVE&&this.handleMoveEvent(t);return!o},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(K7(t)){var o=t.originalEvent,r=o.pointerId.toString();t.type==oe.POINTERUP?delete this.trackedPointers_[r]:t.type==oe.POINTERDOWN?this.trackedPointers_[r]=o:r in this.trackedPointers_&&(this.trackedPointers_[r]=o),this.targetPointers=q0(this.trackedPointers_)}},e}(Ls);function yh(n){for(var e=n.length,t=0,o=0,r=0;r<e;r++)t+=n[r].clientX,o+=n[r].clientY;return[t/e,o/e]}function K7(n){var e=n.type;return e===oe.POINTERDOWN||e===oe.POINTERDRAG||e===oe.POINTERUP}var ba=q7;function yu(n){var e=arguments;return function(t){for(var o=!0,r=0,i=e.length;r<i&&(o=o&&e[r](t),!!o);++r);return o}}var Z7=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},J7=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},Nv=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?J7(n):!0},Gv=ai,Uv=function(n){var e=n.originalEvent;return e.button==0&&!(vC&&xC&&e.ctrlKey)},_h=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Bv=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},jv=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Cd=function(n){var e=n.originalEvent;return qt(e!==void 0,56),e.pointerType=="mouse"},Q7=function(n){var e=n.originalEvent;return qt(e!==void 0,56),e.isPrimary&&e.button===0},t8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),e8=function(n){t8(e,n);function e(t){var o=n.call(this,{stopDown:Ps})||this,r=t||{};o.kinetic_=r.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1;var i=r.condition?r.condition:yu(_h,Q7);return o.condition_=r.onFocusOnly?yu(Nv,i):i,o.noKinetic_=!1,o}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var o=this.targetPointers,r=yh(o);if(o.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var i=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],s=t.map,f=s.getView();VE(i,f.getResolution()),Qu(i,f.getRotation()),f.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=o.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var o=t.map,r=o.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),f=r.getCenterInternal(),c=o.getPixelFromCoordinateInternal(f),d=o.getCoordinateFromPixelInternal([c[0]-i*Math.cos(s),c[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(d),duration:500,easing:pa})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var o=t.map,r=o.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(ba),o8=e8,n8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),r8=function(n){n8(e,n);function e(t){var o=this,r=t||{};return o=n.call(this,{stopDown:Ps})||this,o.condition_=r.condition?r.condition:Z7,o.lastAngle_=void 0,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleDragEvent=function(t){if(!!Cd(t)){var o=t.map,r=o.getView();if(r.getConstraints().rotation!==vh){var i=o.getSize(),s=t.pixel,f=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){var c=f-this.lastAngle_;r.adjustRotationInternal(-c)}this.lastAngle_=f}}},e.prototype.handleUpEvent=function(t){if(!Cd(t))return!0;var o=t.map,r=o.getView();return r.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Cd(t))return!1;if(Uv(t)&&this.condition_(t)){var o=t.map;return o.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(ba),i8=r8,a8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),s8=function(n){a8(e,n);function e(t){var o=n.call(this)||this;return o.geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+t,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,o=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(t[0],o[0])+r,i.top=Math.min(t[1],o[1])+r,i.width=Math.abs(o[0]-t[0])+r,i.height=Math.abs(o[1]-t[1])+r},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var o=this.element_.style;o.left="inherit",o.top="inherit",o.width="inherit",o.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,o){this.startPixel_=t,this.endPixel_=o,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,o=this.endPixel_,r=[t,[t[0],o[1]],o,[o[0],t[1]]],i=r.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new gs([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(rh),l8=s8,Yv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Yl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Td=function(n){Yv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.coordinate=o,i.mapBrowserEvent=r,i}return e}(mn),f8=function(n){Yv(e,n);function e(t){var o=n.call(this)||this;o.on,o.once,o.un;var r=t||{};return o.box_=new l8(r.className||"ol-dragbox"),o.minArea_=r.minArea!==void 0?r.minArea:64,r.onBoxEnd&&(o.onBoxEnd=r.onBoxEnd),o.startPixel_=null,o.condition_=r.condition?r.condition:Uv,o.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:o.defaultBoxEndCondition,o}return e.prototype.defaultBoxEndCondition=function(t,o,r){var i=r[0]-o[0],s=r[1]-o[1];return i*i+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Td(Yl.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var o=this.boxEndCondition_(t,this.startPixel_,t.pixel);return o&&this.onBoxEnd(t),this.dispatchEvent(new Td(o?Yl.BOXEND:Yl.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Td(Yl.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(ba),c8=f8,d8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),u8=function(n){d8(e,n);function e(t){var o=this,r=t||{},i=r.condition?r.condition:Bv;return o=n.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea})||this,o.duration_=r.duration!==void 0?r.duration:200,o.out_=r.out!==void 0?r.out:!1,o}return e.prototype.onBoxEnd=function(t){var o=this.getMap(),r=o.getView(),i=this.getGeometry();if(this.out_){var s=r.rotatedExtentForGeometry(i),f=r.getResolutionForExtentInternal(s),c=r.getResolution()/f;i=i.clone(),i.scale(c*c)}r.fitInternal(i,{duration:this.duration_,easing:pa})},e}(c8),h8=u8,Xr={LEFT:37,UP:38,RIGHT:39,DOWN:40},p8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),b8=function(n){p8(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.defaultCondition_=function(i){return _h(i)&&jv(i)},o.condition_=r.condition!==void 0?r.condition:o.defaultCondition_,o.duration_=r.duration!==void 0?r.duration:100,o.pixelDelta_=r.pixelDelta!==void 0?r.pixelDelta:128,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==Nt.KEYDOWN){var r=t.originalEvent,i=r.keyCode;if(this.condition_(t)&&(i==Xr.DOWN||i==Xr.LEFT||i==Xr.RIGHT||i==Xr.UP)){var s=t.map,f=s.getView(),c=f.getResolution()*this.pixelDelta_,d=0,h=0;i==Xr.DOWN?h=-c:i==Xr.LEFT?d=-c:i==Xr.RIGHT?d=c:h=c;var b=[d,h];Qu(b,f.getRotation()),W7(f,b,this.duration_),r.preventDefault(),o=!0}}return!o},e}(Ls),g8=b8,m8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),v8=function(n){m8(e,n);function e(t){var o=n.call(this)||this,r=t||{};return o.condition_=r.condition?r.condition:jv,o.delta_=r.delta?r.delta:1,o.duration_=r.duration!==void 0?r.duration:100,o}return e.prototype.handleEvent=function(t){var o=!1;if(t.type==Nt.KEYDOWN||t.type==Nt.KEYPRESS){var r=t.originalEvent,i=r.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var s=t.map,f=i=="+".charCodeAt(0)?this.delta_:-this.delta_,c=s.getView();wh(c,f,void 0,this.duration_),r.preventDefault(),o=!0}}return!o},e}(Ls),x8=v8,w8=function(){function n(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;o>0&&this.points_[o+2]>e;)o-=3;var r=this.points_[t+2]-this.points_[o+2];if(r<1e3/60)return!1;var i=this.points_[t]-this.points_[o],s=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(s,i),this.initialVelocity_=Math.sqrt(i*i+s*s)/r,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),y8=w8,_8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Rd={TRACKPAD:"trackpad",WHEEL:"wheel"},k8=function(n){_8(e,n);function e(t){var o=this,r=t||{};o=n.call(this,r)||this,o.totalDelta_=0,o.lastDelta_=0,o.maxDelta_=r.maxDelta!==void 0?r.maxDelta:1,o.duration_=r.duration!==void 0?r.duration:250,o.timeout_=r.timeout!==void 0?r.timeout:80,o.useAnchor_=r.useAnchor!==void 0?r.useAnchor:!0,o.constrainResolution_=r.constrainResolution!==void 0?r.constrainResolution:!1;var i=r.condition?r.condition:Gv;return o.condition_=r.onFocusOnly?yu(Nv,i):i,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.deltaPerZoom_=300,o}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var o=t.type;if(o!==Nt.WHEEL)return!0;var r=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Nt.WHEEL&&(s=i.deltaY,gC&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=rv),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var f=Date.now();this.startTime_===void 0&&(this.startTime_=f),(!this.mode_||f-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Rd.TRACKPAD:Rd.WHEEL);var c=r.getView();if(this.mode_===Rd.TRACKPAD&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=f,!1;this.totalDelta_+=s;var d=Math.max(this.timeout_-(f-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),d),!1},e.prototype.handleWheelZoom_=function(t){var o=t.getView();o.getAnimating()&&o.cancelAnimations();var r=-Pe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(o.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),wh(o,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ls),E8=k8,C8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),T8=function(n){C8(e,n);function e(t){var o=this,r=t||{},i=r;return i.stopDown||(i.stopDown=Ps),o=n.call(this,i)||this,o.anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=r.threshold!==void 0?r.threshold:.3,o.duration_=r.duration!==void 0?r.duration:250,o}return e.prototype.handleDragEvent=function(t){var o=0,r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){var f=s-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=f}this.lastAngle_=s;var c=t.map,d=c.getView();if(d.getConstraints().rotation!==vh){var h=c.getViewport().getBoundingClientRect(),b=yh(this.targetPointers);b[0]-=h.left,b[1]-=h.top,this.anchor_=c.getCoordinateFromPixelInternal(b),this.rotating_&&(c.render(),d.adjustRotationInternal(o,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,r=o.getView();return r.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(ba),R8=T8,A8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),I8=function(n){A8(e,n);function e(t){var o=this,r=t||{},i=r;return i.stopDown||(i.stopDown=Ps),o=n.call(this,i)||this,o.anchor_=null,o.duration_=r.duration!==void 0?r.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return e.prototype.handleDragEvent=function(t){var o=1,r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,f=r.clientY-i.clientY,c=Math.sqrt(s*s+f*f);this.lastDistance_!==void 0&&(o=this.lastDistance_/c),this.lastDistance_=c;var d=t.map,h=d.getView();o!=1&&(this.lastScaleDelta_=o);var b=d.getViewport().getBoundingClientRect(),p=yh(this.targetPointers);p[0]-=b.left,p[1]-=b.top,this.anchor_=d.getCoordinateFromPixelInternal(p),d.render(),h.adjustResolutionInternal(o,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var o=t.map,r=o.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var o=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}else return!1},e}(ba),O8=I8,Ga={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},S8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),P8=function(n){S8(e,n);function e(t){var o=n.call(this)||this;if(o.on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var r=t;o.setGeometry(r)}else{var i=t;o.setProperties(i)}return o}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&t.setGeometry(o.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(xe(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Qt(t,Nt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?L8(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(vn);function L8(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{qt(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var Zr=P8;function F8(n,e,t,o,r){Wv(n,e,t||0,o||n.length-1,r||M8)}function Wv(n,e,t,o,r){for(;o>t;){if(o-t>600){var i=o-t+1,s=e-t+1,f=Math.log(i),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(i-c)/i)*(s-i/2<0?-1:1),h=Math.max(t,Math.floor(e-s*c/i+d)),b=Math.min(o,Math.floor(e+(i-s)*c/i+d));Wv(n,e,h,b,r)}var p=n[e],m=t,x=o;for(Ua(n,t,e),r(n[o],p)>0&&Ua(n,t,o);m<x;){for(Ua(n,m,x),m++,x--;r(n[m],p)<0;)m++;for(;r(n[x],p)>0;)x--}r(n[t],p)===0?Ua(n,t,x):(x++,Ua(n,x,o)),x<=e&&(t=x+1),e<=x&&(o=x-1)}}function Ua(n,e,t){var o=n[e];n[e]=n[t],n[t]=o}function M8(n,e){return n<e?-1:n>e?1:0}class Xv{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const o=[];if(!Xl(e,t))return o;const r=this.toBBox,i=[];for(;t;){for(let s=0;s<t.children.length;s++){const f=t.children[s],c=t.leaf?r(f):f;Xl(e,c)&&(t.leaf?o.push(f):Id(e,c)?this._all(f,o):i.push(f))}t=i.pop()}return o}collides(e){let t=this.data;if(!Xl(e,t))return!1;const o=[];for(;t;){for(let r=0;r<t.children.length;r++){const i=t.children[r],s=t.leaf?this.toBBox(i):i;if(Xl(e,s)){if(t.leaf||Id(e,s))return!0;o.push(i)}}t=o.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let o=0;o<e.length;o++)this.insert(e[o]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Yi([]),this}remove(e,t){if(!e)return this;let o=this.data;const r=this.toBBox(e),i=[],s=[];let f,c,d;for(;o||i.length;){if(o||(o=i.pop(),c=i[i.length-1],f=s.pop(),d=!0),o.leaf){const h=z8(e,o.children,t);if(h!==-1)return o.children.splice(h,1),i.push(o),this._condense(i),this}!d&&!o.leaf&&Id(o,r)?(i.push(o),s.push(f),f=0,c=o,o=o.children[0]):c?(f++,o=c.children[f],d=!1):o=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const o=[];for(;e;)e.leaf?t.push(...e.children):o.push(...e.children),e=o.pop();return t}_build(e,t,o,r){const i=o-t+1;let s=this._maxEntries,f;if(i<=s)return f=Yi(e.slice(t,o+1)),Fi(f,this.toBBox),f;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),f=Yi([]),f.leaf=!1,f.height=r;const c=Math.ceil(i/s),d=c*Math.ceil(Math.sqrt(s));gm(e,t,o,d,this.compareMinX);for(let h=t;h<=o;h+=d){const b=Math.min(h+d-1,o);gm(e,h,b,c,this.compareMinY);for(let p=h;p<=b;p+=c){const m=Math.min(p+c-1,b);f.children.push(this._build(e,p,m,r-1))}}return Fi(f,this.toBBox),f}_chooseSubtree(e,t,o,r){for(;r.push(t),!(t.leaf||r.length-1===o);){let i=1/0,s=1/0,f;for(let c=0;c<t.children.length;c++){const d=t.children[c],h=Ad(d),b=G8(e,d)-h;b<s?(s=b,i=h<i?h:i,f=d):b===s&&h<i&&(i=h,f=d)}t=f||t.children[0]}return t}_insert(e,t,o){const r=o?e:this.toBBox(e),i=[],s=this._chooseSubtree(r,this.data,t,i);for(s.children.push(e),Va(s,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){const o=e[t],r=o.children.length,i=this._minEntries;this._chooseSplitAxis(o,i,r);const s=this._chooseSplitIndex(o,i,r),f=Yi(o.children.splice(s,o.children.length-s));f.height=o.height,f.leaf=o.leaf,Fi(o,this.toBBox),Fi(f,this.toBBox),t?e[t-1].children.push(f):this._splitRoot(o,f)}_splitRoot(e,t){this.data=Yi([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Fi(this.data,this.toBBox)}_chooseSplitIndex(e,t,o){let r,i=1/0,s=1/0;for(let f=t;f<=o-t;f++){const c=Xa(e,0,f,this.toBBox),d=Xa(e,f,o,this.toBBox),h=U8(c,d),b=Ad(c)+Ad(d);h<i?(i=h,r=f,s=b<s?b:s):h===i&&b<s&&(s=b,r=f)}return r||o-t}_chooseSplitAxis(e,t,o){const r=e.leaf?this.compareMinX:D8,i=e.leaf?this.compareMinY:N8,s=this._allDistMargin(e,t,o,r),f=this._allDistMargin(e,t,o,i);s<f&&e.children.sort(r)}_allDistMargin(e,t,o,r){e.children.sort(r);const i=this.toBBox,s=Xa(e,0,t,i),f=Xa(e,o-t,o,i);let c=Wl(s)+Wl(f);for(let d=t;d<o-t;d++){const h=e.children[d];Va(s,e.leaf?i(h):h),c+=Wl(s)}for(let d=o-t-1;d>=t;d--){const h=e.children[d];Va(f,e.leaf?i(h):h),c+=Wl(f)}return c}_adjustParentBBoxes(e,t,o){for(let r=o;r>=0;r--)Va(t[r],e)}_condense(e){for(let t=e.length-1,o;t>=0;t--)e[t].children.length===0?t>0?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():Fi(e[t],this.toBBox)}}function z8(n,e,t){if(!t)return e.indexOf(n);for(let o=0;o<e.length;o++)if(t(n,e[o]))return o;return-1}function Fi(n,e){Xa(n,0,n.children.length,e,n)}function Xa(n,e,t,o,r){r||(r=Yi(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let i=e;i<t;i++){const s=n.children[i];Va(r,n.leaf?o(s):s)}return r}function Va(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function D8(n,e){return n.minX-e.minX}function N8(n,e){return n.minY-e.minY}function Ad(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Wl(n){return n.maxX-n.minX+(n.maxY-n.minY)}function G8(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function U8(n,e){const t=Math.max(n.minX,e.minX),o=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,i-o)}function Id(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Xl(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Yi(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gm(n,e,t,o,r){const i=[e,t];for(;i.length;){if(t=i.pop(),e=i.pop(),t-e<=o)continue;const s=e+Math.ceil((t-e)/o/2)*o;F8(n,s,e,t,r),i.push(e,s,s,t)}}var pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},B8=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Jo(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return $t()},n.prototype.getImage=function(e){return $t()},n.prototype.getHitDetectionImage=function(){return $t()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return $t()},n.prototype.getImageSize=function(){return $t()},n.prototype.getOrigin=function(){return $t()},n.prototype.getSize=function(){return $t()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Jo(e)},n.prototype.listenImageChange=function(e){$t()},n.prototype.load=function(){$t()},n.prototype.unlistenImageChange=function(e){$t()},n}(),Vv=B8;function bn(n){return Array.isArray(n)?Tv(n):n}var j8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Y8=function(n){j8(e,n);function e(t){var o=this,r=t.rotateWithView!==void 0?t.rotateWithView:!1;return o=n.call(this,{opacity:1,rotateWithView:r,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,o.canvas_=void 0,o.hitDetectionCanvas_=null,o.fill_=t.fill!==void 0?t.fill:null,o.origin_=[0,0],o.points_=t.points,o.radius_=t.radius!==void 0?t.radius:t.radius1,o.radius2_=t.radius2,o.angle_=t.angle!==void 0?t.angle:0,o.stroke_=t.stroke!==void 0?t.stroke:null,o.size_=null,o.renderOptions_=null,o.render(),o}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var o=this.getDisplacement();return[t[0]/2-o[0],t[1]/2+o[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var o=this.canvas_[t];if(!o){var r=this.renderOptions_,i=Uo(r.size*t,r.size*t);this.draw_(r,i,t),o=i.canvas,this.canvas_[t]=o}return o},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return pe.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,o,r){if(o===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return o;var i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){var f=i;i=s,s=f}var c=this.radius2_===void 0?this.points_:this.points_*2,d=2*Math.PI/c,h=s*Math.sin(d),b=Math.sqrt(s*s-h*h),p=i-b,m=Math.sqrt(h*h+p*p),x=m/h;if(t==="miter"&&x<=r)return x*o;var _=o/2/x,k=o/2*(p/m),T=Math.sqrt((i+_)*(i+_)+k*k),A=T-i;if(this.radius2_===void 0||t==="bevel")return A*2;var O=i*Math.sin(d),P=Math.sqrt(i*i-O*O),D=s-P,X=Math.sqrt(O*O+D*D),U=X/O;if(U<=r){var z=U*o/2-s-i;return 2*Math.max(A,z)}return A*2},e.prototype.createRenderOptions=function(){var t=aa,o=0,r=null,i=0,s,f=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=ws),s=bn(s),f=this.stroke_.getWidth(),f===void 0&&(f=_s),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=aa),o=this.stroke_.getMiterLimit(),o===void 0&&(o=xs));var c=this.calculateLineJoinSize_(t,f,o),d=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*d+c);return{strokeStyle:s,strokeWidth:f,size:h,lineDash:r,lineDashOffset:i,lineJoin:t,miterLimit:o}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,o,r){if(o.scale(r,r),o.translate(t.size/2,t.size/2),this.createPath_(o),this.fill_){var i=this.fill_.getColor();i===null&&(i=Bn),o.fillStyle=bn(i),o.fill()}this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,o.setLineDash&&t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var o=this.fill_.getColor(),r=0;if(typeof o=="string"&&(o=mf(o)),o===null?r=1:Array.isArray(o)&&(r=o.length===4?o[3]:1),r===0){var i=Uo(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var o=this.points_,r=this.radius_;if(o===1/0)t.arc(0,0,r,0,2*Math.PI);else{var i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(o*=2);for(var s=this.angle_-Math.PI/2,f=2*Math.PI/o,c=0;c<o;c++){var d=s+c*f,h=c%2===0?r:i;t.lineTo(h*Math.cos(d),h*Math.sin(d))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,o){o.translate(t.size/2,t.size/2),this.createPath_(o),o.fillStyle=Bn,o.fill(),this.stroke_&&(o.strokeStyle=t.strokeStyle,o.lineWidth=t.strokeWidth,t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.stroke())},e}(Vv),W8=Y8,X8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),V8=function(n){X8(e,n);function e(t){var o=t||{};return n.call(this,{points:1/0,fill:o.fill,radius:o.radius,stroke:o.stroke,scale:o.scale!==void 0?o.scale:1,rotation:o.rotation!==void 0?o.rotation:0,rotateWithView:o.rotateWithView!==void 0?o.rotateWithView:!1,displacement:o.displacement!==void 0?o.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),o=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(W8),Hv=V8,H8=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),Ef=H8,$8=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),ns=$8,Vi=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=mm,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=mm,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function q8(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{qt(typeof n.getZIndex=="function",41);var o=n;t=[o]}e=function(){return t}}return e}var Od=null;function K8(n,e){if(!Od){var t=new Ef({color:"rgba(255,255,255,0.4)"}),o=new ns({color:"#3399CC",width:1.25});Od=[new Vi({image:new Hv({fill:t,stroke:o,radius:5}),fill:t,stroke:o})]}return Od}function Z8(){var n={},e=[255,255,255,1],t=[0,153,255,1],o=3;return n[ft.POLYGON]=[new Vi({fill:new Ef({color:[255,255,255,.5]})})],n[ft.MULTI_POLYGON]=n[ft.POLYGON],n[ft.LINE_STRING]=[new Vi({stroke:new ns({color:e,width:o+2})}),new Vi({stroke:new ns({color:t,width:o})})],n[ft.MULTI_LINE_STRING]=n[ft.LINE_STRING],n[ft.CIRCLE]=n[ft.POLYGON].concat(n[ft.LINE_STRING]),n[ft.POINT]=[new Vi({image:new Hv({radius:o*2,fill:new Ef({color:t}),stroke:new ns({color:e,width:o/2})}),zIndex:1/0})],n[ft.MULTI_POINT]=n[ft.POINT],n[ft.GEOMETRY_COLLECTION]=n[ft.POLYGON].concat(n[ft.LINE_STRING],n[ft.POINT]),n}function mm(n){return n.getGeometry()}var J8=Vi,Q8=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),vm={RENDER_ORDER:"renderOrder"},tR=function(n){Q8(e,n);function e(t){var o=this,r=t||{},i=De({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,o=n.call(this,i)||this,o.declutter_=r.declutter!==void 0?r.declutter:!1,o.renderBuffer_=r.renderBuffer!==void 0?r.renderBuffer:100,o.style_=null,o.styleFunction_=void 0,o.setStyle(r.style),o.updateWhileAnimating_=r.updateWhileAnimating!==void 0?r.updateWhileAnimating:!1,o.updateWhileInteracting_=r.updateWhileInteracting!==void 0?r.updateWhileInteracting:!1,o}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(vm.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Xv(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(vm.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:K8,this.styleFunction_=t===null?void 0:q8(this.style_),this.changed()},e}(Kf),eR=tR,Fs={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Vl=[Fs.FILL],mr=[Fs.STROKE],oi=[Fs.BEGIN_PATH],xm=[Fs.CLOSE_PATH],It=Fs,oR=function(){function n(){}return n.prototype.drawCustom=function(e,t,o,r){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),$v=oR,nR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),rR=function(n){nR(e,n);function e(t,o,r,i){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=o,s.pixelRatio=i,s.maxLineWidth=0,s.resolution=r,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var o=this.pixelRatio;return o==1?t:t.map(function(r){return r*o})},e.prototype.appendFlatPointCoordinates=function(t,o){for(var r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates,f=s.length,c=0,d=t.length;c<d;c+=o)i[0]=t[c],i[1]=t[c+1],As(r,i)&&(s[f++]=i[0],s[f++]=i[1]);return f},e.prototype.appendFlatLineCoordinates=function(t,o,r,i,s,f){var c=this.coordinates,d=c.length,h=this.getBufferedMaxExtent();f&&(o+=i);var b=t[o],p=t[o+1],m=this.tmpCoordinate_,x=!0,_,k,T;for(_=o+i;_<r;_+=i)m[0]=t[_],m[1]=t[_+1],T=su(h,m),T!==k?(x&&(c[d++]=b,c[d++]=p,x=!1),c[d++]=m[0],c[d++]=m[1]):T===ze.INTERSECTING?(c[d++]=m[0],c[d++]=m[1],x=!1):x=!0,b=m[0],p=m[1],k=T;return(s&&x||_===o+i)&&(c[d++]=b,c[d++]=p),d},e.prototype.drawCustomCoordinates_=function(t,o,r,i,s){for(var f=0,c=r.length;f<c;++f){var d=r[f],h=this.appendFlatLineCoordinates(t,o,d,i,!1,!1);s.push(h),o=d}return o},e.prototype.drawCustom=function(t,o,r,i){this.beginGeometry(t,o);var s=t.getType(),f=t.getStride(),c=this.coordinates.length,d,h,b,p,m;switch(s){case ft.MULTI_POLYGON:d=t.getOrientedFlatCoordinates(),p=[];var x=t.getEndss();m=0;for(var _=0,k=x.length;_<k;++_){var T=[];m=this.drawCustomCoordinates_(d,m,x[_],f,T),p.push(T)}this.instructions.push([It.CUSTOM,c,p,t,r,hu]),this.hitDetectionInstructions.push([It.CUSTOM,c,p,t,i||r,hu]);break;case ft.POLYGON:case ft.MULTI_LINE_STRING:b=[],d=s==ft.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),m=this.drawCustomCoordinates_(d,0,t.getEnds(),f,b),this.instructions.push([It.CUSTOM,c,b,t,r,bs]),this.hitDetectionInstructions.push([It.CUSTOM,c,b,t,i||r,bs]);break;case ft.LINE_STRING:case ft.CIRCLE:d=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(d,0,d.length,f,!1,!1),this.instructions.push([It.CUSTOM,c,h,t,r,gr]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r,gr]);break;case ft.MULTI_POINT:d=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(d,f),h>c&&(this.instructions.push([It.CUSTOM,c,h,t,r,gr]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r,gr]));break;case ft.POINT:d=t.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),h=this.coordinates.length,this.instructions.push([It.CUSTOM,c,h,t,r]),this.hitDetectionInstructions.push([It.CUSTOM,c,h,t,i||r]);break}this.endGeometry(o)},e.prototype.beginGeometry=function(t,o){this.beginGeometryInstruction1_=[It.BEGIN_GEOMETRY,o,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[It.BEGIN_GEOMETRY,o,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var o,r=t.length,i,s,f=-1;for(o=0;o<r;++o)i=t[o],s=i[0],s==It.END_GEOMETRY?f=o:s==It.BEGIN_GEOMETRY&&(i[2]=o,lC(this.hitDetectionInstructions,f,o),f=-1)},e.prototype.setFillStrokeStyle=function(t,o){var r=this.state;if(t){var i=t.getColor();r.fillStyle=bn(i||Bn)}else r.fillStyle=void 0;if(o){var s=o.getColor();r.strokeStyle=bn(s||ws);var f=o.getLineCap();r.lineCap=f!==void 0?f:wf;var c=o.getLineDash();r.lineDash=c?c.slice():ms;var d=o.getLineDashOffset();r.lineDashOffset=d||vs;var h=o.getLineJoin();r.lineJoin=h!==void 0?h:aa;var b=o.getWidth();r.lineWidth=b!==void 0?b:_s;var p=o.getMiterLimit();r.miterLimit=p!==void 0?p:xs,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var o=t.fillStyle,r=[It.SET_FILL_STYLE,o];return typeof o!="string"&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[It.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,o){var r=t.fillStyle;(typeof r!="string"||t.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(o.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,o){var r=t.strokeStyle,i=t.lineCap,s=t.lineDash,f=t.lineDashOffset,c=t.lineJoin,d=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||s!=t.currentLineDash&&!ui(t.currentLineDash,s)||t.currentLineDashOffset!=f||t.currentLineJoin!=c||t.currentLineWidth!=d||t.currentMiterLimit!=h)&&(r!==void 0&&o.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=f,t.currentLineJoin=c,t.currentLineWidth=d,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var o=[It.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Z0(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;qu(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}($v),Ms=rR,iR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),aR=function(n){iR(e,n);function e(t,o,r,i){var s=n.call(this,t,o,r,i)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var r=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,f=this.appendFlatPointCoordinates(r,i);this.instructions.push([It.DRAW_IMAGE,s,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,s,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.drawMultiPoint=function(t,o){if(!!this.image_){this.beginGeometry(t,o);var r=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,f=this.appendFlatPointCoordinates(r,i);this.instructions.push([It.DRAW_IMAGE,s,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,s,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(o)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,o){var r=t.getAnchor(),i=t.getSize(),s=t.getHitDetectionImage(),f=t.getImage(this.pixelRatio),c=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=s,this.image_=f,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=c[0]*this.imagePixelRatio_,this.originY_=c[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=o},e}(Ms),sR=aR,lR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fR=function(n){lR(e,n);function e(t,o,r,i){return n.call(this,t,o,r,i)||this}return e.prototype.drawFlatCoordinates_=function(t,o,r,i){var s=this.coordinates.length,f=this.appendFlatLineCoordinates(t,o,r,i,!1,!1),c=[It.MOVE_TO_LINE_TO,s,f];return this.instructions.push(c),this.hitDetectionInstructions.push(c),r},e.prototype.drawLineString=function(t,o){var r=this.state,i=r.strokeStyle,s=r.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ms,vs],oi);var f=t.getFlatCoordinates(),c=t.getStride();this.drawFlatCoordinates_(f,0,f.length,c),this.hitDetectionInstructions.push(mr),this.endGeometry(o)}},e.prototype.drawMultiLineString=function(t,o){var r=this.state,i=r.strokeStyle,s=r.lineWidth;if(!(i===void 0||s===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,o),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],oi);for(var f=t.getEnds(),c=t.getFlatCoordinates(),d=t.getStride(),h=0,b=0,p=f.length;b<p;++b)h=this.drawFlatCoordinates_(c,h,f[b],d);this.hitDetectionInstructions.push(mr),this.endGeometry(o)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(mr),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(mr),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(oi)},e}(Ms),cR=fR,dR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uR=function(n){dR(e,n);function e(t,o,r,i){return n.call(this,t,o,r,i)||this}return e.prototype.drawFlatCoordinatess_=function(t,o,r,i){var s=this.state,f=s.fillStyle!==void 0,c=s.strokeStyle!==void 0,d=r.length;this.instructions.push(oi),this.hitDetectionInstructions.push(oi);for(var h=0;h<d;++h){var b=r[h],p=this.coordinates.length,m=this.appendFlatLineCoordinates(t,o,b,i,!0,!c),x=[It.MOVE_TO_LINE_TO,p,m];this.instructions.push(x),this.hitDetectionInstructions.push(x),c&&(this.instructions.push(xm),this.hitDetectionInstructions.push(xm)),o=b}return f&&(this.instructions.push(Vl),this.hitDetectionInstructions.push(Vl)),c&&(this.instructions.push(mr),this.hitDetectionInstructions.push(mr)),o},e.prototype.drawCircle=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Bn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var f=t.getFlatCoordinates(),c=t.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1);var h=[It.CIRCLE,d];this.instructions.push(oi,h),this.hitDetectionInstructions.push(oi,h),r.fillStyle!==void 0&&(this.instructions.push(Vl),this.hitDetectionInstructions.push(Vl)),r.strokeStyle!==void 0&&(this.instructions.push(mr),this.hitDetectionInstructions.push(mr)),this.endGeometry(o)}},e.prototype.drawPolygon=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Bn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var f=t.getEnds(),c=t.getOrientedFlatCoordinates(),d=t.getStride();this.drawFlatCoordinatess_(c,0,f,d),this.endGeometry(o)}},e.prototype.drawMultiPolygon=function(t,o){var r=this.state,i=r.fillStyle,s=r.strokeStyle;if(!(i===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,o),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Bn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var f=t.getEndss(),c=t.getOrientedFlatCoordinates(),d=t.getStride(),h=0,b=0,p=f.length;b<p;++b)h=this.drawFlatCoordinatess_(c,h,f[b],d);this.endGeometry(o)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var o=this.coordinates,r=0,i=o.length;r<i;++r)o[r]=Hr(o[r],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,o=t.fillStyle;o!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(Ms),wm=uR,hR={POINT:"point",LINE:"line"};function pR(n,e,t,o,r){var i=t,s=t,f=0,c=0,d=t,h,b,p,m,x,_,k,T,A,O;for(b=t;b<o;b+=r){var P=e[b],D=e[b+1];x!==void 0&&(A=P-x,O=D-_,m=Math.sqrt(A*A+O*O),k!==void 0&&(c+=p,h=Math.acos((k*A+T*O)/(p*m)),h>n&&(c>f&&(f=c,i=d,s=b),c=0,d=b-r)),p=m,k=A,T=O),x=P,_=D}return c+=m,c>f?[d,b]:[i,s]}var bR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Cf={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},gR=function(n){bR(e,n);function e(t,o,r,i){var s=n.call(this,t,o,r,i)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,o){var r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!r&&!i)){var f=this.coordinates,c=f.length,d=t.getType(),h=null,b=t.getStride();if(s.placement===hR.LINE&&(d==ft.LINE_STRING||d==ft.MULTI_LINE_STRING||d==ft.POLYGON||d==ft.MULTI_POLYGON)){if(!to(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(h=t.getFlatCoordinates(),d==ft.LINE_STRING)p=[h.length];else if(d==ft.MULTI_LINE_STRING)p=t.getEnds();else if(d==ft.POLYGON)p=t.getEnds().slice(0,1);else if(d==ft.MULTI_POLYGON){var m=t.getEndss();p=[];for(var x=0,_=m.length;x<_;++x)p.push(m[x][0])}this.beginGeometry(t,o);for(var k=s.textAlign,T=0,A=void 0,O=0,P=p.length;O<P;++O){if(k==null){var D=pR(s.maxAngle,h,T,p[O],b);T=D[0],A=D[1]}else A=p[O];for(var x=T;x<A;x+=b)f.push(h[x],h[x+1]);var X=f.length;T=p[O],this.drawChars_(c,X),c=X}this.endGeometry(o)}else{var U=s.overflow?null:[];switch(d){case ft.POINT:case ft.MULTI_POINT:h=t.getFlatCoordinates();break;case ft.LINE_STRING:h=t.getFlatMidpoint();break;case ft.CIRCLE:h=t.getCenter();break;case ft.MULTI_LINE_STRING:h=t.getFlatMidpoints(),b=2;break;case ft.POLYGON:h=t.getFlatInteriorPoint(),s.overflow||U.push(h[2]/this.resolution),b=3;break;case ft.MULTI_POLYGON:var z=t.getFlatInteriorPoints();h=[];for(var x=0,_=z.length;x<_;x+=3)s.overflow||U.push(z[x+2]/this.resolution),h.push(z[x],z[x+1]);if(h.length===0)return;b=2;break}var X=this.appendFlatPointCoordinates(h,b);if(X===c)return;if(U&&(X-c)/2!==h.length/b){var $=c/2;U=U.filter(function(ct,wt){var Pt=f[($+wt)*2]===h[wt*b]&&f[($+wt)*2+1]===h[wt*b+1];return Pt||--$,Pt})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,o);var ot=s.padding;if(ot!=ei&&(s.scale[0]<0||s.scale[1]<0)){var st=s.padding[0],dt=s.padding[1],ut=s.padding[2],vt=s.padding[3];s.scale[0]<0&&(dt=-dt,vt=-vt),s.scale[1]<0&&(st=-st,ut=-ut),ot=[st,dt,ut,vt]}var it=this.pixelRatio;this.instructions.push([It.DRAW_IMAGE,c,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,ot==ei?ei:ot.map(function(ct){return ct*it}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]);var ht=1/it;this.hitDetectionInstructions.push([It.DRAW_IMAGE,c,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ht,ht],NaN,this.declutterImageWithText_,ot,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]),this.endGeometry(o)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,o=this.textState_,r=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:o.font,textAlign:o.textAlign||ys,textBaseline:o.textBaseline||yf,scale:o.scale});var f=this.fillKey_;r&&(f in this.fillStates||(this.fillStates[f]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,o){var r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,f=this.textKey_,c=this.fillKey_;this.saveTextStates_();var d=this.pixelRatio,h=Cf[i.textBaseline],b=this.textOffsetY_*d,p=this.text_,m=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([It.DRAW_CHARS,t,o,h,i.overflow,c,i.maxAngle,d,b,s,m*d,p,f,1]),this.hitDetectionInstructions.push([It.DRAW_CHARS,t,o,h,i.overflow,c,i.maxAngle,1,b,s,m,p,f,1/d])},e.prototype.setTextStyle=function(t,o){var r,i,s;if(!t)this.text_="";else{var f=t.getFill();f?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=bn(f.getColor()||Bn)):(i=null,this.textFillState_=i);var c=t.getStroke();if(!c)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var d=c.getLineDash(),h=c.getLineDashOffset(),b=c.getWidth(),p=c.getMiterLimit();s.lineCap=c.getLineCap()||wf,s.lineDash=d?d.slice():ms,s.lineDashOffset=h===void 0?vs:h,s.lineJoin=c.getLineJoin()||aa,s.lineWidth=b===void 0?_s:b,s.miterLimit=p===void 0?xs:p,s.strokeStyle=bn(c.getColor()||ws)}r=this.textState_;var m=t.getFont()||Sv;t7(m);var x=t.getScaleArray();r.overflow=t.getOverflow(),r.font=m,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||yf,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||ei,r.scale=x===void 0?[1,1]:x;var _=t.getOffsetX(),k=t.getOffsetY(),T=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=k===void 0?0:k,this.textRotateWithView_=T===void 0?!1:T,this.textRotation_=A===void 0?0:A,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:ie(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+ie(i.fillStyle):""}this.declutterImageWithText_=o},e}(Ms),mR=gR,vR={Circle:wm,Default:Ms,Image:sR,LineString:cR,Polygon:wm,Text:mR},xR=function(){function n(e,t,o,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=o,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var o=this.buildersByZIndex_[t];for(var r in o){var i=o[r].finish();e[t][r]=i}}return e},n.prototype.getBuilder=function(e,t){var o=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[o];r===void 0&&(r={},this.buildersByZIndex_[o]=r);var i=r[t];if(i===void 0){var s=vR[t];i=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=i}return i},n}(),ym=xR,wR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yR=function(n){wR(e,n);function e(t){var o=n.call(this)||this;return o.ready=!0,o.boundHandleImageChange_=o.handleImageChange_.bind(o),o.layer_=t,o.declutterExecutorGroup=null,o}return e.prototype.getFeatures=function(t){return $t()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return $t()},e.prototype.renderFrame=function(t,o){return $t()},e.prototype.loadedTileCallback=function(t,o,r){t[o]||(t[o]={}),t[o][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,o,r){return function(i,s){var f=this.loadedTileCallback.bind(this,r,i);return t.forEachLoadedTile(o,i,s,f)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s){},e.prototype.getDataAtPixel=function(t,o,r){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var o=t.target;o.getState()===pe.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var o=t.getState();return o!=pe.LOADED&&o!=pe.ERROR&&t.addEventListener(Nt.CHANGE,this.boundHandleImageChange_),o==pe.IDLE&&(t.load(),o=t.getState()),o==pe.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==di.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(ov),_R=yR,kR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ha=null;function ER(){var n=document.createElement("canvas");n.width=1,n.height=1,Ha=n.getContext("2d")}var CR=function(n){kR(e,n);function e(t){var o=n.call(this,t)||this;return o.container=null,o.renderedResolution,o.tempTransform=gn(),o.pixelTransform=gn(),o.inversePixelTransform=gn(),o.context=null,o.containerReused=!1,o.pixelContext_=null,o.frameState=null,o}return e.prototype.getImageData=function(t,o,r){Ha||ER(),Ha.clearRect(0,0,1,1);var i;try{Ha.drawImage(t,o,r,1,1,0,0,1,1),i=Ha.getImageData(0,0,1,1).data}catch{return null}return i},e.prototype.getBackground=function(t){var o=this.getLayer(),r=o.getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0},e.prototype.useContainer=function(t,o,r,i){var s=this.getLayer().getClassName(),f,c;if(t&&t.className===s&&t.style.opacity===""&&r===1&&(!i||t.style.backgroundColor&&ui(mf(t.style.backgroundColor),mf(i)))){var d=t.firstElementChild;d instanceof HTMLCanvasElement&&(c=d.getContext("2d"))}if(c&&c.canvas.style.transform===o?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){f=document.createElement("div"),f.className=s;var h=f.style;h.position="absolute",h.width="100%",h.height="100%",i&&(h.backgroundColor=i),c=Uo();var d=c.canvas;f.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=f,this.context=c}},e.prototype.clipUnrotated=function(t,o,r){var i=Tr(r),s=Os(r),f=Is(r),c=oa(r);Se(o.coordinateToPixelTransform,i),Se(o.coordinateToPixelTransform,s),Se(o.coordinateToPixelTransform,f),Se(o.coordinateToPixelTransform,c);var d=this.inversePixelTransform;Se(d,i),Se(d,s),Se(d,f),Se(d,c),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,o,r){var i=this.getLayer();if(i.hasListener(t)){var s=new Av(t,this.inversePixelTransform,r,o);i.dispatchEvent(s)}},e.prototype.preRender=function(t,o){this.frameState=o,this.dispatchRenderEvent_(_r.PRERENDER,t,o)},e.prototype.postRender=function(t,o){this.dispatchRenderEvent_(_r.POSTRENDER,t,o)},e.prototype.getRenderTransform=function(t,o,r,i,s,f,c){var d=s/2,h=f/2,b=i/o,p=-b,m=-t[0]+c,x=-t[1];return Yn(this.tempTransform,d,h,b,p,-r,m,x)},e.prototype.getDataAtPixel=function(t,o,r){var i=Se(this.inversePixelTransform,t.slice()),s=this.context,f=this.getLayer(),c=f.getExtent();if(c){var d=Se(o.pixelToCoordinateTransform,t.slice());if(!As(c,d))return null}var h=Math.round(i[0]),b=Math.round(i[1]),p=this.pixelContext_;if(!p){var m=document.createElement("canvas");m.width=1,m.height=1,p=m.getContext("2d"),this.pixelContext_=p}p.clearRect(0,0,1,1);var x;try{p.drawImage(s.canvas,h,b,1,1,0,0,1,1),x=p.getImageData(0,0,1,1).data}catch(_){return _.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):x}return x[3]===0?null:x},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(_R),qv=CR,ye={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function TR(n,e,t,o,r,i,s,f,c,d,h,b){var p=n[e],m=n[e+1],x=0,_=0,k=0,T=0;function A(){x=p,_=m,e+=o,p=n[e],m=n[e+1],T+=k,k=Math.sqrt((p-x)*(p-x)+(m-_)*(m-_))}do A();while(e<t-o&&T+k<i);for(var O=k===0?0:(i-T)/k,P=Mn(x,p,O),D=Mn(_,m,O),X=e-o,U=T,z=i+f*c(d,r,h);e<t-o&&T+k<z;)A();O=k===0?0:(z-T)/k;var $=Mn(x,p,O),ot=Mn(_,m,O),st;if(b){var dt=[P,D,$,ot];sh(dt,0,4,2,b,dt,dt),st=dt[0]>dt[2]}else st=P>$;var ut=Math.PI,vt=[],it=X+o===e;e=X,k=0,T=U,p=n[e],m=n[e+1];var ht;if(it){A(),ht=Math.atan2(m-_,p-x),st&&(ht+=ht>0?-ut:ut);var et=($+P)/2,ct=(ot+D)/2;return vt[0]=[et,ct,(z-i)/2,ht,r],vt}for(var wt=0,Pt=r.length;wt<Pt;){A();var Lt=Math.atan2(m-_,p-x);if(st&&(Lt+=Lt>0?-ut:ut),ht!==void 0){var K=Lt-ht;if(K+=K>ut?-2*ut:K<-ut?2*ut:0,Math.abs(K)>s)return null}ht=Lt;for(var Wt=wt,Et=0;wt<Pt;++wt){var G=st?Pt-wt-1:wt,nt=f*c(d,r[G],h);if(e+o<t&&T+k<i+Et+nt/2)break;Et+=nt}if(wt!==Wt){var Q=st?r.substring(Pt-Wt,Pt-wt):r.substring(Wt,wt);O=k===0?0:(i+Et/2-T)/k;var et=Mn(x,p,O),ct=Mn(_,m,O);vt.push([et,ct,Et/2,Lt,Q]),i+=Et}}return vt}var Mi=No(),rr=[],In=[],On=[],ir=[];function _m(n){return n[3].declutterBox}var RR=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function km(n,e){return(e==="start"||e==="end")&&!RR.test(n)&&(e=e==="start"?"left":"right"),Cf[e]}function AR(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var IR=function(){function n(e,t,o,r){this.overlaps=o,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=gn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,o,r){var i=e+t+o+r;if(this.labels_[i])return this.labels_[i];var s=r?this.strokeStates[r]:null,f=o?this.fillStates[o]:null,c=this.textStates[t],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],b=Array.isArray(e),p=km(b?e[0]:e,c.textAlign||ys),m=r&&s.lineWidth?s.lineWidth:0,x=b?e:e.split(`
`).reduce(AR,[]),_=o7(c,x),k=_.width,T=_.height,A=_.widths,O=_.heights,P=_.lineWidths,D=k+m,X=[],U=(D+2)*h[0],z=(T+m)*h[1],$={width:U<0?Math.floor(U):Math.ceil(U),height:z<0?Math.floor(z):Math.ceil(z),contextInstructions:X};if((h[0]!=1||h[1]!=1)&&X.push("scale",h),r){X.push("strokeStyle",s.strokeStyle),X.push("lineWidth",m),X.push("lineCap",s.lineCap),X.push("lineJoin",s.lineJoin),X.push("miterLimit",s.miterLimit);var ot=Vf?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;ot.prototype.setLineDash&&(X.push("setLineDash",[s.lineDash]),X.push("lineDashOffset",s.lineDashOffset))}o&&X.push("fillStyle",f.fillStyle),X.push("textBaseline","middle"),X.push("textAlign","center");for(var st=.5-p,dt=p*D+st*m,ut=[],vt=[],it=0,ht=0,et=0,ct=0,wt,Pt=0,Lt=x.length;Pt<Lt;Pt+=2){var K=x[Pt];if(K===`
`){ht+=it,it=0,dt=p*D+st*m,++ct;continue}var Wt=x[Pt+1]||c.font;Wt!==wt&&(r&&ut.push("font",Wt),o&&vt.push("font",Wt),wt=Wt),it=Math.max(it,O[et]);var Et=[K,dt+st*A[et]+p*(A[et]-P[ct]),.5*(m+it)+ht];dt+=A[et],r&&ut.push("strokeText",Et),o&&vt.push("fillText",Et),++et}return Array.prototype.push.apply(X,ut),Array.prototype.push.apply(X,vt),this.labels_[i]=$,$},n.prototype.replayTextBackground_=function(e,t,o,r,i,s,f){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),f&&(this.setStrokeStyle_(e,f),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,o,r,i,s,f,c,d,h,b,p,m,x,_,k){f*=p[0],c*=p[1];var T=o-f,A=r-c,O=i+d>e?e-d:i,P=s+h>t?t-h:s,D=x[3]+O*p[0]+x[1],X=x[0]+P*p[1]+x[2],U=T-x[3],z=A-x[0];(_||b!==0)&&(rr[0]=U,ir[0]=U,rr[1]=z,In[1]=z,In[0]=U+D,On[0]=In[0],On[1]=z+X,ir[1]=On[1]);var $;return b!==0?($=Yn(gn(),o,r,1,1,b,-o,-r),Se($,rr),Se($,In),Se($,On),Se($,ir),nn(Math.min(rr[0],In[0],On[0],ir[0]),Math.min(rr[1],In[1],On[1],ir[1]),Math.max(rr[0],In[0],On[0],ir[0]),Math.max(rr[1],In[1],On[1],ir[1]),Mi)):nn(Math.min(U,U+D),Math.min(z,z+X),Math.max(U,U+D),Math.max(z,z+X),Mi),m&&(T=Math.round(T),A=Math.round(A)),{drawImageX:T,drawImageY:A,drawImageW:O,drawImageH:P,originX:d,originY:h,declutterBox:{minX:Mi[0],minY:Mi[1],maxX:Mi[2],maxY:Mi[3],value:k},canvasTransform:$,scale:p}},n.prototype.replayImageOrLabel_=function(e,t,o,r,i,s,f){var c=!!(s||f),d=r.declutterBox,h=e.canvas,b=f?f[2]*r.scale[0]/2:0,p=d.minX-b<=h.width/t&&d.maxX+b>=0&&d.minY-b<=h.height/t&&d.maxY+b>=0;return p&&(c&&this.replayTextBackground_(e,rr,In,On,ir,s,f),n7(e,r.canvasTransform,i,o,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Se(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(t[0]%o,t[1]%o),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,o,r){var i=this.textStates[t],s=this.createLabel(e,t,r,o),f=this.strokeStates[o],c=this.pixelRatio,d=km(Array.isArray(e)?e[0]:e,i.textAlign||ys),h=Cf[i.textBaseline||yf],b=f&&f.lineWidth?f.lineWidth:0,p=s.width/c-2*i.scale[0],m=d*p+2*(.5-d)*b,x=h*s.height/c+2*(.5-h)*b;return{label:s,anchorX:m,anchorY:x}},n.prototype.execute_=function(e,t,o,r,i,s,f,c){var d;this.pixelCoordinates_&&ui(o,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=si(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),_C(this.renderedTransform_,o));for(var h=0,b=r.length,p=0,m,x,_,k,T,A,O,P,D,X,U,z,$=0,ot=0,st=null,dt=null,ut=this.coordinateCache_,vt=this.viewRotation_,it=Math.round(Math.atan2(-o[1],o[0])*1e12)/1e12,ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:vt},et=this.instructions!=r||this.overlaps?0:200,ct,wt,Pt,Lt;h<b;){var K=r[h],Wt=K[0];switch(Wt){case It.BEGIN_GEOMETRY:ct=K[1],Lt=K[3],ct.getGeometry()?f!==void 0&&!to(f,Lt.getExtent())?h=K[2]+1:++h:h=K[2];break;case It.BEGIN_PATH:$>et&&(this.fill_(e),$=0),ot>et&&(e.stroke(),ot=0),!$&&!ot&&(e.beginPath(),k=NaN,T=NaN),++h;break;case It.CIRCLE:p=K[1];var Et=d[p],G=d[p+1],nt=d[p+2],Q=d[p+3],at=nt-Et,St=Q-G,Kt=Math.sqrt(at*at+St*St);e.moveTo(Et+Kt,G),e.arc(Et,G,Kt,0,2*Math.PI,!0),++h;break;case It.CLOSE_PATH:e.closePath(),++h;break;case It.CUSTOM:p=K[1],m=K[2];var yt=K[3],Ct=K[4],E=K.length==6?K[5]:void 0;ht.geometry=yt,ht.feature=ct,h in ut||(ut[h]=[]);var I=ut[h];E?E(d,p,m,2,I):(I[0]=d[p],I[1]=d[p+1],I.length=2),Ct(I,ht),++h;break;case It.DRAW_IMAGE:p=K[1],m=K[2],P=K[3],x=K[4],_=K[5];var M=K[6],V=K[7],j=K[8],tt=K[9],rt=K[10],Z=K[11],J=K[12],H=K[13],bt=K[14];if(!P&&K.length>=19){D=K[18],X=K[19],U=K[20],z=K[21];var pt=this.drawLabelWithPointPlacement_(D,X,U,z);P=pt.label,K[3]=P;var mt=K[22];x=(pt.anchorX-mt)*this.pixelRatio,K[4]=x;var _t=K[23];_=(pt.anchorY-_t)*this.pixelRatio,K[5]=_,M=P.height,K[6]=M,H=P.width,K[13]=H}var Ft=void 0;K.length>24&&(Ft=K[24]);var Mt=void 0,Gt=void 0,Xt=void 0;K.length>16?(Mt=K[15],Gt=K[16],Xt=K[17]):(Mt=ei,Gt=!1,Xt=!1),rt&&it?Z+=vt:!rt&&!it&&(Z-=vt);for(var Ce=0;p<m;p+=2)if(!(Ft&&Ft[Ce++]<H/this.pixelRatio)){var be=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],H,M,x,_,j,tt,Z,J,i,Mt,Gt||Xt,ct),jo=[e,t,P,be,V,Gt?st:null,Xt?dt:null],fe=void 0,co=void 0;if(c&&bt){var ge=m-p;if(!bt[ge]){bt[ge]=jo;continue}if(fe=bt[ge],delete bt[ge],co=_m(fe),c.collides(co))continue}c&&c.collides(be.declutterBox)||(fe&&(c&&c.insert(co),this.replayImageOrLabel_.apply(this,fe)),c&&c.insert(be.declutterBox),this.replayImageOrLabel_.apply(this,jo))}++h;break;case It.DRAW_CHARS:var Ge=K[1],Ar=K[2],ga=K[3],oc=K[4];z=K[5];var Ns=K[6],ma=K[7],Gs=K[8];U=K[9];var va=K[10];D=K[11],X=K[12];var Us=[K[13],K[13]],xa=this.textStates[X],Xn=xa.font,Ir=[xa.scale[0]*ma,xa.scale[1]*ma],Or=void 0;Xn in this.widths_?Or=this.widths_[Xn]:(Or={},this.widths_[Xn]=Or);var Bs=mv(d,Ge,Ar,2),hi=Math.abs(Ir[0])*um(Xn,D,Or);if(oc||hi<=Bs){var nc=this.textStates[X].textAlign,wa=(Bs-hi)*Cf[nc],Sr=TR(d,Ge,Ar,2,D,wa,Ns,Math.abs(Ir[0]),um,Xn,Or,it?0:this.viewRotation_);t:if(Sr){var Pr=[],sn=void 0,pi=void 0,bi=void 0,Ye=void 0,eo=void 0;if(U)for(sn=0,pi=Sr.length;sn<pi;++sn){eo=Sr[sn],bi=eo[4],Ye=this.createLabel(bi,X,"",U),x=eo[2]+(Ir[0]<0?-va:va),_=ga*Ye.height+(.5-ga)*2*va*Ir[1]/Ir[0]-Gs;var be=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,eo[0],eo[1],Ye.width,Ye.height,x,_,0,0,eo[3],Us,!1,ei,!1,ct);if(c&&c.collides(be.declutterBox))break t;Pr.push([e,t,Ye,be,1,null,null])}if(z)for(sn=0,pi=Sr.length;sn<pi;++sn){eo=Sr[sn],bi=eo[4],Ye=this.createLabel(bi,X,z,""),x=eo[2],_=ga*Ye.height-Gs;var be=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,eo[0],eo[1],Ye.width,Ye.height,x,_,0,0,eo[3],Us,!1,ei,!1,ct);if(c&&c.collides(be.declutterBox))break t;Pr.push([e,t,Ye,be,1,null,null])}c&&c.load(Pr.map(_m));for(var ya=0,js=Pr.length;ya<js;++ya)this.replayImageOrLabel_.apply(this,Pr[ya])}}++h;break;case It.END_GEOMETRY:if(s!==void 0){ct=K[1];var Ys=s(ct,Lt);if(Ys)return Ys}++h;break;case It.FILL:et?$++:this.fill_(e),++h;break;case It.MOVE_TO_LINE_TO:for(p=K[1],m=K[2],wt=d[p],Pt=d[p+1],A=wt+.5|0,O=Pt+.5|0,(A!==k||O!==T)&&(e.moveTo(wt,Pt),k=A,T=O),p+=2;p<m;p+=2)wt=d[p],Pt=d[p+1],A=wt+.5|0,O=Pt+.5|0,(p==m-2||A!==k||O!==T)&&(e.lineTo(wt,Pt),k=A,T=O);++h;break;case It.SET_FILL_STYLE:st=K,this.alignFill_=K[2],$&&(this.fill_(e),$=0,ot&&(e.stroke(),ot=0)),e.fillStyle=K[1],++h;break;case It.SET_STROKE_STYLE:dt=K,ot&&(e.stroke(),ot=0),this.setStrokeStyle_(e,K),++h;break;case It.STROKE:et?ot++:e.stroke(),++h;break;default:++h;break}}$&&this.fill_(e),ot&&e.stroke()},n.prototype.execute=function(e,t,o,r,i,s){this.viewRotation_=r,this.execute_(e,t,o,this.instructions,i,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,o,r,i){return this.viewRotation_=o,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,i)},n}(),OR=IR,Sd=[ye.POLYGON,ye.CIRCLE,ye.LINE_STRING,ye.IMAGE,ye.TEXT,ye.DEFAULT],SR=function(){function n(e,t,o,r,i,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=o,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=gn(),this.createExecutors_(i)}return n.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var o=this.executorsByZIndex_[t];o===void 0&&(o={},this.executorsByZIndex_[t]=o);var r=e[t];for(var i in r){var s=r[i];o[i]=new OR(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var o=this.executorsByZIndex_[t],r=0,i=e.length;r<i;++r)if(e[r]in o)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,s){r=Math.round(r);var f=r*2+1,c=Yn(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Uo(f,f));var h=this.hitDetectionContext_;h.canvas.width!==f||h.canvas.height!==f?(h.canvas.width=f,h.canvas.height=f):d||h.clearRect(0,0,f,f);var b;this.renderBuffer_!==void 0&&(b=No(),ts(b,e),qu(b,t*(this.renderBuffer_+r),b));var p=PR(r),m;function x(X,U){for(var z=h.getImageData(0,0,f,f).data,$=0,ot=p.length;$<ot;$++)if(z[p[$]]>0){if(!s||m!==ye.IMAGE&&m!==ye.TEXT||s.indexOf(X)!==-1){var st=(p[$]-3)/4,dt=r-st%f,ut=r-(st/f|0),vt=i(X,U,dt*dt+ut*ut);if(vt)return vt}h.clearRect(0,0,f,f);break}}var _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(fi);var k,T,A,O,P;for(k=_.length-1;k>=0;--k){var D=_[k].toString();for(A=this.executorsByZIndex_[D],T=Sd.length-1;T>=0;--T)if(m=Sd[T],O=A[m],O!==void 0&&(P=O.executeHitDetection(h,c,o,x,b),P))return P}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var o=t[0],r=t[1],i=t[2],s=t[3],f=[o,r,o,s,i,s,i,r];return si(f,0,8,2,e,f),f},n.prototype.isEmpty=function(){return us(this.executorsByZIndex_)},n.prototype.execute=function(e,t,o,r,i,s,f){var c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(fi),this.maxExtent_&&(e.save(),this.clip(e,o));var d=s||Sd,h,b,p,m,x,_;for(f&&c.reverse(),h=0,b=c.length;h<b;++h){var k=c[h].toString();for(x=this.executorsByZIndex_[k],p=0,m=d.length;p<m;++p){var T=d[p];_=x[T],_!==void 0&&_.execute(e,t,o,r,i,f)}}this.maxExtent_&&e.restore()},n}(),Pd={};function PR(n){if(Pd[n]!==void 0)return Pd[n];for(var e=n*2+1,t=n*n,o=new Array(t+1),r=0;r<=n;++r)for(var i=0;i<=n;++i){var s=r*r+i*i;if(s>t)break;var f=o[s];f||(f=[],o[s]=f),f.push(((n+r)*e+(n+i))*4+3),r>0&&f.push(((n-r)*e+(n+i))*4+3),i>0&&(f.push(((n+r)*e+(n-i))*4+3),r>0&&f.push(((n-r)*e+(n-i))*4+3))}for(var c=[],r=0,d=o.length;r<d;++r)o[r]&&c.push.apply(c,o[r]);return Pd[n]=c,c}var Em=SR,LR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),FR=function(n){LR(e,n);function e(t,o,r,i,s,f,c){var d=n.call(this)||this;return d.context_=t,d.pixelRatio_=o,d.extent_=r,d.transform_=i,d.viewRotation_=s,d.squaredTolerance_=f,d.userTransform_=c,d.contextFillState_=null,d.contextStrokeState_=null,d.contextTextState_=null,d.fillState_=null,d.strokeState_=null,d.image_=null,d.imageAnchorX_=0,d.imageAnchorY_=0,d.imageHeight_=0,d.imageOpacity_=0,d.imageOriginX_=0,d.imageOriginY_=0,d.imageRotateWithView_=!1,d.imageRotation_=0,d.imageScale_=[0,0],d.imageWidth_=0,d.text_="",d.textOffsetX_=0,d.textOffsetY_=0,d.textRotateWithView_=!1,d.textRotation_=0,d.textScale_=[0,0],d.textFillState_=null,d.textStrokeState_=null,d.textState_=null,d.pixelCoordinates_=[],d.tmpLocalTransform_=gn(),d}return e.prototype.drawImages_=function(t,o,r,i){if(!!this.image_){var s=si(t,o,r,i,this.transform_,this.pixelCoordinates_),f=this.context_,c=this.tmpLocalTransform_,d=f.globalAlpha;this.imageOpacity_!=1&&(f.globalAlpha=d*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var b=0,p=s.length;b<p;b+=2){var m=s[b]-this.imageAnchorX_,x=s[b+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var _=m+this.imageAnchorX_,k=x+this.imageAnchorY_;Yn(c,_,k,1,1,h,-_,-k),f.setTransform.apply(f,c),f.translate(_,k),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.setTransform(1,0,0,1,0,0)}else f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,m,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(f.globalAlpha=d)}},e.prototype.drawText_=function(t,o,r,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=si(t,o,r,i,this.transform_,this.pixelCoordinates_),f=this.context_,c=this.textRotation_;for(this.textRotateWithView_&&(c+=this.viewRotation_);o<r;o+=i){var d=s[o]+this.textOffsetX_,h=s[o+1]+this.textOffsetY_;if(c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var b=Yn(this.tmpLocalTransform_,d,h,1,1,c,-d,-h);f.setTransform.apply(f,b),f.translate(d,h),f.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&f.strokeText(this.text_,0,0),this.textFillState_&&f.fillText(this.text_,0,0),f.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&f.strokeText(this.text_,d,h),this.textFillState_&&f.fillText(this.text_,d,h)}}},e.prototype.moveToLineTo_=function(t,o,r,i,s){var f=this.context_,c=si(t,o,r,i,this.transform_,this.pixelCoordinates_);f.moveTo(c[0],c[1]);var d=c.length;s&&(d-=2);for(var h=2;h<d;h+=2)f.lineTo(c[h],c[h+1]);return s&&f.closePath(),r},e.prototype.drawRings_=function(t,o,r,i){for(var s=0,f=r.length;s<f;++s)o=this.moveToLineTo_(t,o,r[s],i,!0);return o},e.prototype.drawCircle=function(t){if(!!to(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=PC(t,this.transform_,this.pixelCoordinates_),r=o[2]-o[0],i=o[3]-o[1],s=Math.sqrt(r*r+i*i),f=this.context_;f.beginPath(),f.arc(o[0],o[1],s,0,2*Math.PI),this.fillState_&&f.fill(),this.strokeState_&&f.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var o=t.getType();switch(o){case ft.POINT:this.drawPoint(t);break;case ft.LINE_STRING:this.drawLineString(t);break;case ft.POLYGON:this.drawPolygon(t);break;case ft.MULTI_POINT:this.drawMultiPoint(t);break;case ft.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case ft.MULTI_POLYGON:this.drawMultiPolygon(t);break;case ft.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case ft.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,o){var r=o.getGeometryFunction()(t);!r||!to(this.extent_,r.getExtent())||(this.setStyle(o),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var o=t.getGeometriesArray(),r=0,i=o.length;r<i;++r)this.drawGeometry(o[r])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(o,0,o.length,r),this.text_!==""&&this.drawText_(o,0,o.length,r)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(o,0,o.length,r),this.text_!==""&&this.drawText_(o,0,o.length,r)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!to(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,r=t.getFlatCoordinates();o.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),o.stroke()}if(this.text_!==""){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var o=t.getExtent();if(!!to(this.extent_,o)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates(),s=0,f=t.getEnds(),c=t.getStride();r.beginPath();for(var d=0,h=f.length;d<h;++d)s=this.moveToLineTo_(i,s,f[d],c,!1);r.stroke()}if(this.text_!==""){var b=t.getFlatMidpoints();this.drawText_(b,0,b.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!to(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_;o.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!to(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_,r=t.getOrientedFlatCoordinates(),i=0,s=t.getEndss(),f=t.getStride();o.beginPath();for(var c=0,d=s.length;c<d;++c){var h=s[c];i=this.drawRings_(r,i,h,f)}this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(this.text_!==""){var b=t.getFlatInteriorPoints();this.drawText_(b,0,b.length,2)}}},e.prototype.setContextFillState_=function(t){var o=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,o.fillStyle=t.fillStyle):(o.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var o=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,o.lineCap=t.lineCap),o.setLineDash&&(ui(r.lineDash,t.lineDash)||o.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,o.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,o.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,o.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,o.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,o.strokeStyle=t.strokeStyle)):(o.lineCap=t.lineCap,o.setLineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),o.lineJoin=t.lineJoin,o.lineWidth=t.lineWidth,o.miterLimit=t.miterLimit,o.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var o=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:ys;r?(r.font!=t.font&&(r.font=t.font,o.font=t.font),r.textAlign!=i&&(r.textAlign=i,o.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,o.textBaseline=t.textBaseline)):(o.font=t.font,o.textAlign=i,o.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,o){var r=this;if(!t)this.fillState_=null;else{var i=t.getColor();this.fillState_={fillStyle:bn(i||Bn)}}if(!o)this.strokeState_=null;else{var s=o.getColor(),f=o.getLineCap(),c=o.getLineDash(),d=o.getLineDashOffset(),h=o.getLineJoin(),b=o.getWidth(),p=o.getMiterLimit(),m=c||ms;this.strokeState_={lineCap:f!==void 0?f:wf,lineDash:this.pixelRatio_===1?m:m.map(function(x){return x*r.pixelRatio_}),lineDashOffset:(d||vs)*this.pixelRatio_,lineJoin:h!==void 0?h:aa,lineWidth:(b!==void 0?b:_s)*this.pixelRatio_,miterLimit:p!==void 0?p:xs,strokeStyle:bn(s||ws)}}},e.prototype.setImageStyle=function(t){var o;if(!t||!(o=t.getSize())){this.image_=null;return}var r=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*this.pixelRatio_,this.imageAnchorY_=r[1]*this.pixelRatio_,this.imageHeight_=o[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=o[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var o=t.getFill();if(!o)this.textFillState_=null;else{var r=o.getColor();this.textFillState_={fillStyle:bn(r||Bn)}}var i=t.getStroke();if(!i)this.textStrokeState_=null;else{var s=i.getColor(),f=i.getLineCap(),c=i.getLineDash(),d=i.getLineDashOffset(),h=i.getLineJoin(),b=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:wf,lineDash:c||ms,lineDashOffset:d||vs,lineJoin:h!==void 0?h:aa,lineWidth:b!==void 0?b:_s,miterLimit:p!==void 0?p:xs,strokeStyle:bn(s||ws)}}var m=t.getFont(),x=t.getOffsetX(),_=t.getOffsetY(),k=t.getRotateWithView(),T=t.getRotation(),A=t.getScaleArray(),O=t.getText(),P=t.getTextAlign(),D=t.getTextBaseline();this.textState_={font:m!==void 0?m:Sv,textAlign:P!==void 0?P:ys,textBaseline:D!==void 0?D:yf},this.text_=O!==void 0?Array.isArray(O)?O.reduce(function(X,U,z){return X+=z%2?" ":U},""):O:"",this.textOffsetX_=x!==void 0?this.pixelRatio_*x:0,this.textOffsetY_=_!==void 0?this.pixelRatio_*_:0,this.textRotateWithView_=k!==void 0?k:!1,this.textRotation_=T!==void 0?T:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}($v),MR=FR,hr={FRACTION:"fraction",PIXELS:"pixels"},Po={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},zR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),DR=function(n){zR(e,n);function e(t,o,r,i){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=r,s.resolution=o,s.state=i,s}return e.prototype.changed=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return $t()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){$t()},e}(ha),NR=DR,GR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}();(function(n){GR(e,n);function e(t,o,r,i,s,f){var c=n.call(this,t,o,r,pe.IDLE)||this;return c.src_=i,c.image_=new Image,s!==null&&(c.image_.crossOrigin=s),c.unlisten_=null,c.state=pe.IDLE,c.imageLoadFunction_=f,c}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=pe.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=rn(this.extent)/this.image_.height),this.state=pe.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==pe.IDLE||this.state==pe.ERROR)&&(this.state=pe.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=rn(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(NR);function kh(n,e,t){var o=n,r=!0,i=!1,s=!1,f=[gf(o,Nt.LOAD,function(){s=!0,i||e()})];return o.src&&wC?(i=!0,o.decode().then(function(){r&&e()}).catch(function(c){r&&(s?e():t())})):f.push(gf(o,Nt.ERROR,t)),function(){r=!1,f.forEach(xe)}}var UR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ba=null,BR=function(n){UR(e,n);function e(t,o,r,i,s,f){var c=n.call(this)||this;return c.hitDetectionImage_=null,c.image_=t||new Image,i!==null&&(c.image_.crossOrigin=i),c.canvas_={},c.color_=f,c.unlisten_=null,c.imageState_=s,c.size_=r,c.src_=o,c.tainted_,c}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===pe.LOADED){Ba||(Ba=Uo(1,1)),Ba.drawImage(this.image_,0,0);try{Ba.getImageData(0,0,1,1),this.tainted_=!1}catch{Ba=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=pe.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=pe.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],o=this.size_[1],r=Uo(t,o);r.fillRect(0,0,t,o),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==pe.IDLE){this.imageState_=pe.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==pe.LOADED)){var o=document.createElement("canvas");this.canvas_[t]=o,o.width=Math.ceil(this.image_.width*t),o.height=Math.ceil(this.image_.height*t);var r=o.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply",r.globalCompositeOperation==="multiply"||this.isTainted_())r.fillStyle=Cv(this.color_),r.fillRect(0,0,o.width/t,o.height/t),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var i=r.getImageData(0,0,o.width,o.height),s=i.data,f=this.color_[0]/255,c=this.color_[1]/255,d=this.color_[2]/255,h=this.color_[3],b=0,p=s.length;b<p;b+=4)s[b]*=f,s[b+1]*=c,s[b+2]*=d,s[b+3]*=h;r.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ha);function jR(n,e,t,o,r,i){var s=vf.get(e,o,i);return s||(s=new BR(n,e,t,o,r,i),vf.set(e,o,i,s)),s}var YR=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),WR=function(n){YR(e,n);function e(t){var o=this,r=t||{},i=r.opacity!==void 0?r.opacity:1,s=r.rotation!==void 0?r.rotation:0,f=r.scale!==void 0?r.scale:1,c=r.rotateWithView!==void 0?r.rotateWithView:!1;o=n.call(this,{opacity:i,rotation:s,scale:f,displacement:r.displacement!==void 0?r.displacement:[0,0],rotateWithView:c})||this,o.anchor_=r.anchor!==void 0?r.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=r.anchorOrigin!==void 0?r.anchorOrigin:Po.TOP_LEFT,o.anchorXUnits_=r.anchorXUnits!==void 0?r.anchorXUnits:hr.FRACTION,o.anchorYUnits_=r.anchorYUnits!==void 0?r.anchorYUnits:hr.FRACTION,o.crossOrigin_=r.crossOrigin!==void 0?r.crossOrigin:null;var d=r.img!==void 0?r.img:null;o.imgSize_=r.imgSize;var h=r.src;qt(!(h!==void 0&&d),4),qt(!d||d&&o.imgSize_,5),(h===void 0||h.length===0)&&d&&(h=d.src||ie(d)),qt(h!==void 0&&h.length>0,6);var b=r.src!==void 0?pe.IDLE:pe.LOADED;return o.color_=r.color!==void 0?mf(r.color):null,o.iconImage_=jR(d,h,o.imgSize_!==void 0?o.imgSize_:null,o.crossOrigin_,b,o.color_),o.offset_=r.offset!==void 0?r.offset:[0,0],o.offsetOrigin_=r.offsetOrigin!==void 0?r.offsetOrigin:Po.TOP_LEFT,o.origin_=null,o.size_=r.size!==void 0?r.size:null,o}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var o=this.getSize();if(this.anchorXUnits_==hr.FRACTION||this.anchorYUnits_==hr.FRACTION){if(!o)return null;t=this.anchor_.slice(),this.anchorXUnits_==hr.FRACTION&&(t[0]*=o[0]),this.anchorYUnits_==hr.FRACTION&&(t[1]*=o[1])}if(this.anchorOrigin_!=Po.TOP_LEFT){if(!o)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Po.TOP_RIGHT||this.anchorOrigin_==Po.BOTTOM_RIGHT)&&(t[0]=-t[0]+o[0]),(this.anchorOrigin_==Po.BOTTOM_LEFT||this.anchorOrigin_==Po.BOTTOM_RIGHT)&&(t[1]=-t[1]+o[1])}this.normalizedAnchor_=t}var r=this.getDisplacement();return[t[0]-r[0],t[1]+r[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Po.TOP_LEFT){var o=this.getSize(),r=this.iconImage_.getSize();if(!o||!r)return null;t=t.slice(),(this.offsetOrigin_==Po.TOP_RIGHT||this.offsetOrigin_==Po.BOTTOM_RIGHT)&&(t[0]=r[0]-o[0]-t[0]),(this.offsetOrigin_==Po.BOTTOM_LEFT||this.offsetOrigin_==Po.BOTTOM_RIGHT)&&(t[1]=r[1]-o[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Nt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Nt.CHANGE,t)},e}(Vv),XR=WR,pn=.5;function VR(n,e,t,o,r,i,s){var f=n[0]*pn,c=n[1]*pn,d=Uo(f,c);d.imageSmoothingEnabled=!1;for(var h=d.canvas,b=new MR(d,pn,r,null,s),p=t.length,m=Math.floor((256*256*256-1)/p),x={},_=1;_<=p;++_){var k=t[_-1],T=k.getStyleFunction()||o;if(!!o){var A=T(k,i);if(!!A){Array.isArray(A)||(A=[A]);for(var O=_*m,P="#"+("000000"+O.toString(16)).slice(-6),D=0,X=A.length;D<X;++D){var U=A[D],z=U.getGeometryFunction()(k);if(!(!z||!to(r,z.getExtent()))){var $=U.clone(),ot=$.getFill();ot&&ot.setColor(P);var st=$.getStroke();st&&(st.setColor(P),st.setLineDash(null)),$.setText(void 0);var dt=U.getImage();if(dt&&dt.getOpacity()!==0){var ut=dt.getImageSize();if(!ut)continue;var vt=Uo(ut[0],ut[1],void 0,{alpha:!1}),it=vt.canvas;vt.fillStyle=P,vt.fillRect(0,0,it.width,it.height),$.setImage(new XR({img:it,imgSize:ut,anchor:dt.getAnchor(),anchorXUnits:hr.PIXELS,anchorYUnits:hr.PIXELS,offset:dt.getOrigin(),opacity:1,size:dt.getSize(),scale:dt.getScale(),rotation:dt.getRotation(),rotateWithView:dt.getRotateWithView()}))}var ht=$.getZIndex()||0,et=x[ht];et||(et={},x[ht]=et,et[ft.POLYGON]=[],et[ft.CIRCLE]=[],et[ft.LINE_STRING]=[],et[ft.POINT]=[]),et[z.getType().replace("Multi","")].push(z,$)}}}}}for(var ct=Object.keys(x).map(Number).sort(fi),_=0,wt=ct.length;_<wt;++_){var et=x[ct[_]];for(var Pt in et)for(var Lt=et[Pt],D=0,X=Lt.length;D<X;D+=2){b.setStyle(Lt[D+1]);for(var K=0,Wt=e.length;K<Wt;++K)b.setTransform(e[K]),b.drawGeometry(Lt[D])}}return d.getImageData(0,0,h.width,h.height)}function HR(n,e,t){var o=[];if(t){var r=Math.floor(Math.round(n[0])*pn),i=Math.floor(Math.round(n[1])*pn),s=(Pe(r,0,t.width-1)+Pe(i,0,t.height-1)*t.width)*4,f=t.data[s],c=t.data[s+1],d=t.data[s+2],h=d+256*(c+256*f),b=Math.floor((256*256*256-1)/e.length);h&&h%b===0&&o.push(e[h/b-1])}return o}var $R=.5,Kv={Point:nA,LineString:tA,Polygon:iA,MultiPoint:rA,MultiLineString:eA,MultiPolygon:oA,GeometryCollection:QR,Circle:ZR};function qR(n,e){return parseInt(ie(n),10)-parseInt(ie(e),10)}function KR(n,e){var t=_u(n,e);return t*t}function _u(n,e){return $R*n/e}function ZR(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(i||s){var f=n.getBuilder(t.getZIndex(),ye.CIRCLE);f.setFillStrokeStyle(i,s),f.drawCircle(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}function Cm(n,e,t,o,r,i,s){var f=!1,c=t.getImage();if(c){var d=c.getImageState();d==pe.LOADED||d==pe.ERROR?c.unlistenImageChange(r):(d==pe.IDLE&&c.load(),d=c.getImageState(),c.listenImageChange(r),f=!0)}return JR(n,e,t,o,i,s),f}function JR(n,e,t,o,r,i){var s=t.getGeometryFunction()(e);if(!!s){var f=s.simplifyTransformed(o,r),c=t.getRenderer();if(c)Zv(n,f,t,e);else{var d=Kv[f.getType()];d(n,f,t,e,i)}}}function Zv(n,e,t,o){if(e.getType()==ft.GEOMETRY_COLLECTION){for(var r=e.getGeometries(),i=0,s=r.length;i<s;++i)Zv(n,r[i],t,o);return}var f=n.getBuilder(t.getZIndex(),ye.DEFAULT);f.drawCustom(e,o,t.getRenderer(),t.getHitDetectionRenderer())}function QR(n,e,t,o,r){var i=e.getGeometriesArray(),s,f;for(s=0,f=i.length;s<f;++s){var c=Kv[i[s].getType()];c(n,i[s],t,o,r)}}function tA(n,e,t,o,r){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),ye.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawLineString(e,o)}var f=t.getText();if(f&&f.getText()){var c=(r||n).getBuilder(t.getZIndex(),ye.TEXT);c.setTextStyle(f),c.drawText(e,o)}}function eA(n,e,t,o,r){var i=t.getStroke();if(i){var s=n.getBuilder(t.getZIndex(),ye.LINE_STRING);s.setFillStrokeStyle(null,i),s.drawMultiLineString(e,o)}var f=t.getText();if(f&&f.getText()){var c=(r||n).getBuilder(t.getZIndex(),ye.TEXT);c.setTextStyle(f),c.drawText(e,o)}}function oA(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(s||i){var f=n.getBuilder(t.getZIndex(),ye.POLYGON);f.setFillStrokeStyle(i,s),f.drawMultiPolygon(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}function nA(n,e,t,o,r){var i=t.getImage(),s=t.getText(),f;if(r&&(n=r,f=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var c=n.getBuilder(t.getZIndex(),ye.IMAGE);c.setImageStyle(i,f),c.drawPoint(e,o)}if(s&&s.getText()){var d=n.getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(s,f),d.drawText(e,o)}}function rA(n,e,t,o,r){var i=t.getImage(),s=t.getText(),f;if(r&&(n=r,f=i&&s&&s.getText()?{}:void 0),i){if(i.getImageState()!=pe.LOADED)return;var c=n.getBuilder(t.getZIndex(),ye.IMAGE);c.setImageStyle(i,f),c.drawMultiPoint(e,o)}if(s&&s.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(s,f),d.drawText(e,o)}}function iA(n,e,t,o,r){var i=t.getFill(),s=t.getStroke();if(i||s){var f=n.getBuilder(t.getZIndex(),ye.POLYGON);f.setFillStrokeStyle(i,s),f.drawPolygon(e,o)}var c=t.getText();if(c&&c.getText()){var d=(r||n).getBuilder(t.getZIndex(),ye.TEXT);d.setTextStyle(c),d.drawText(e,o)}}var aA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),sA=function(n){aA(e,n);function e(t){var o=n.call(this,t)||this;return o.boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(o),o.animatingOrInteracting_,o.dirty_=!1,o.hitDetectionImageData_=null,o.renderedFeatures_=null,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=No(),o.wrappedRenderedExtent_=No(),o.renderedRotation_,o.renderedCenter_=null,o.renderedProjection_=null,o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o.declutterExecutorGroup=null,o.clipping=!0,o}return e.prototype.renderWorlds=function(t,o,r){var i=o.extent,s=o.viewState,f=s.center,c=s.resolution,d=s.projection,h=s.rotation,b=d.getExtent(),p=this.getLayer().getSource(),m=o.pixelRatio,x=o.viewHints,_=!(x[He.ANIMATING]||x[He.INTERACTING]),k=this.context,T=Math.round(o.size[0]*m),A=Math.round(o.size[1]*m),O=p.getWrapX()&&d.canWrapX(),P=O?Ee(b):null,D=O?Math.ceil((i[2]-b[2])/P)+1:1,X=O?Math.floor((i[0]-b[0])/P):0;do{var U=this.getRenderTransform(f,c,h,m,T,A,X*P);t.execute(k,1,U,h,_,void 0,r)}while(++X<D)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,o){var r=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];kC(this.pixelTransform,1/r,1/r),ah(this.inversePixelTransform,this.pixelTransform);var s=av(this.pixelTransform);this.useContainer(o,s,i.opacity,this.getBackground(t));var f=this.context,c=f.canvas,d=this.replayGroup_,h=this.declutterExecutorGroup;if((!d||d.isEmpty())&&(!h||h.isEmpty()))return null;var b=Math.round(t.size[0]*r),p=Math.round(t.size[1]*r);c.width!=b||c.height!=p?(c.width=b,c.height=p,c.style.transform!==s&&(c.style.transform=s)):this.containerReused||f.clearRect(0,0,b,p),this.preRender(f,t);var m=t.viewState,x=m.projection,_=!1,k=!0;if(i.extent&&this.clipping){var T=Qr(i.extent,x);k=to(T,t.extent),_=k&&!Xi(T,t.extent),_&&this.clipUnrotated(f,t,T)}k&&this.renderWorlds(d,t),_&&f.restore(),this.postRender(f,t);var A=Ov(i.opacity),O=this.container;return A!==O.style.opacity&&(O.style.opacity=A),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(o){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Se(this.pixelTransform,r);var i=this.renderedCenter_,s=this.renderedResolution_,f=this.renderedRotation_,c=this.renderedProjection_,d=this.wrappedRenderedExtent_,h=this.getLayer(),b=[],p=r[0]*pn,m=r[1]*pn;b.push(this.getRenderTransform(i,s,f,pn,p,m,0).slice());var x=h.getSource(),_=c.getExtent();if(x.getWrapX()&&c.canWrapX()&&!Xi(_,d)){for(var k=d[0],T=Ee(_),A=0,O=void 0;k<_[0];)--A,O=T*A,b.push(this.getRenderTransform(i,s,f,pn,p,m,O).slice()),k+=T;for(A=0,k=d[2];k>_[2];)++A,O=T*A,b.push(this.getRenderTransform(i,s,f,pn,p,m,O).slice()),k-=T}this.hitDetectionImageData_=VR(r,b,this.renderedFeatures_,h.getStyleFunction(),d,s,f)}o(HR(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,o,r,i,s){var f=this;if(!!this.replayGroup_){var c=o.viewState.resolution,d=o.viewState.rotation,h=this.getLayer(),b={},p=function(_,k,T){var A=ie(_),O=b[A];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return b[A]=!0,s.splice(s.lastIndexOf(O),1),i(_,h,k);O.geometry=k,O.distanceSq=T}}else{if(T===0)return b[A]=!0,i(_,h,k);s.push(b[A]={feature:_,layer:h,geometry:k,distanceSq:T,callback:i})}},m,x=[this.replayGroup_];return this.declutterExecutorGroup&&x.push(this.declutterExecutorGroup),x.some(function(_){return m=_.forEachFeatureAtCoordinate(t,c,d,r,p,_===f.declutterExecutorGroup&&o.declutterTree?o.declutterTree.all().map(function(k){return k.value}):null)}),m}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var o=this.getLayer(),r=o.getSource();if(!r)return!1;var i=t.viewHints[He.ANIMATING],s=t.viewHints[He.INTERACTING],f=o.getUpdateWhileAnimating(),c=o.getUpdateWhileInteracting();if(!this.dirty_&&!f&&i||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,h=t.viewState,b=h.projection,p=h.resolution,m=t.pixelRatio,x=o.getRevision(),_=o.getRenderBuffer(),k=o.getRenderOrder();k===void 0&&(k=qR);var T=h.center.slice(),A=qu(d,_*p),O=A.slice(),P=[A.slice()],D=b.getExtent();if(r.getWrapX()&&b.canWrapX()&&!Xi(D,t.extent)){var X=Ee(D),U=Math.max(Ee(A)/2,X);A[0]=D[0]-U,A[2]=D[2]+U,tv(T,b);var z=jE(P[0],b);z[0]<D[0]&&z[2]<D[2]?P.push([z[0]+X,z[1],z[2]+X,z[3]]):z[0]>D[0]&&z[2]>D[2]&&P.push([z[0]-X,z[1],z[2]-X,z[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==x&&this.renderedRenderOrder_==k&&Xi(this.wrappedRenderedExtent_,A))return ui(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var $=new ym(_u(p,m),A,p,m),ot;this.getLayer().getDeclutter()&&(ot=new ym(_u(p,m),A,p,m));var st=Ss(),dt;if(st){for(var ut=0,vt=P.length;ut<vt;++ut){var it=P[ut],ht=uu(it,b);r.loadFeatures(ht,nC(p,b),st)}dt=ra(st,b)}else for(var ut=0,vt=P.length;ut<vt;++ut)r.loadFeatures(P[ut],p,b);var et=KR(p,m),ct=function(Wt){var Et,G=Wt.getStyleFunction()||o.getStyleFunction();if(G&&(Et=G(Wt,p)),Et){var nt=this.renderFeature(Wt,et,Et,$,dt,ot);this.dirty_=this.dirty_||nt}}.bind(this),wt=uu(A,b),Pt=r.getFeaturesInExtent(wt);k&&Pt.sort(k);for(var ut=0,vt=Pt.length;ut<vt;++ut)ct(Pt[ut]);this.renderedFeatures_=Pt;var Lt=$.finish(),K=new Em(A,p,m,r.getOverlaps(),Lt,o.getRenderBuffer());return ot&&(this.declutterExecutorGroup=new Em(A,p,m,r.getOverlaps(),ot.finish(),o.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=x,this.renderedRenderOrder_=k,this.renderedExtent_=O,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=b,this.replayGroup_=K,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,o,r,i,s,f){if(!r)return!1;var c=!1;if(Array.isArray(r))for(var d=0,h=r.length;d<h;++d)c=Cm(i,t,r[d],o,this.boundHandleStyleImageChange_,s,f)||c;else c=Cm(i,t,r,o,this.boundHandleStyleImageChange_,s,f);return c},e}(qv),lA=sA,fA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),cA=function(n){fA(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new lA(this)},e}(eR),ku=cA,dA=function(){function n(e){this.rbush_=new Xv(e),this.items_={}}return n.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[ie(t)]=o},n.prototype.load=function(e,t){for(var o=new Array(t.length),r=0,i=t.length;r<i;r++){var s=e[r],f=t[r],c={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:f};o[r]=c,this.items_[ie(f)]=c}this.rbush_.load(o)},n.prototype.remove=function(e){var t=ie(e),o=this.items_[t];return delete this.items_[t],this.rbush_.remove(o)!==null},n.prototype.update=function(e,t){var o=this.items_[ie(t)],r=[o.minX,o.minY,o.maxX,o.maxY];hs(r,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(r){return r.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var o,r=0,i=e.length;r<i;r++)if(o=t(e[r]),o)return o;return o},n.prototype.isEmpty=function(){return us(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return nn(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),Tm=dA,uA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),hA=function(n){uA(e,n);function e(t){var o=n.call(this)||this;o.projection=fo(t.projection),o.attributions_=Rm(t.attributions),o.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,o.loading=!1,o.state_=t.state!==void 0?t.state:di.READY,o.wrapX_=t.wrapX!==void 0?t.wrapX:!1,o.interpolate_=!!t.interpolate,o.viewResolver=null,o.viewRejector=null;var r=o;return o.viewPromise_=new Promise(function(i,s){r.viewResolver=i,r.viewRejector=s}),o}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return $t()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Rm(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(vn);function Rm(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var Jv=hA,$o={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function pA(n,e){return[[-1/0,-1/0,1/0,1/0]]}var bA=!1;function gA(n,e,t,o,r,i,s){var f=new XMLHttpRequest;f.open("GET",typeof n=="function"?n(t,o,r):n,!0),e.getType()==Ga.ARRAY_BUFFER&&(f.responseType="arraybuffer"),f.withCredentials=bA,f.onload=function(c){if(!f.status||f.status>=200&&f.status<300){var d=e.getType(),h=void 0;d==Ga.JSON||d==Ga.TEXT?h=f.responseText:d==Ga.XML?(h=f.responseXML,h||(h=new DOMParser().parseFromString(f.responseText,"application/xml"))):d==Ga.ARRAY_BUFFER&&(h=f.response),h?i(e.readFeatures(h,{extent:t,featureProjection:r}),e.readProjection(h)):s()}else s()},f.onerror=s,f.send()}function Am(n,e){return function(t,o,r,i,s){var f=this;gA(n,e,t,o,r,function(c,d){f.addFeatures(c),i!==void 0&&i(c)},s||ci)}}var Qv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ar=function(n){Qv(e,n);function e(t,o,r){var i=n.call(this,t)||this;return i.feature=o,i.features=r,i}return e}(mn),mA=function(n){Qv(e,n);function e(t){var o=this,r=t||{};o=n.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:di.READY,wrapX:r.wrapX!==void 0?r.wrapX:!0})||this,o.on,o.once,o.un,o.loader_=ci,o.format_=r.format,o.overlaps_=r.overlaps===void 0?!0:r.overlaps,o.url_=r.url,r.loader!==void 0?o.loader_=r.loader:o.url_!==void 0&&(qt(o.format_,7),o.loader_=Am(o.url_,o.format_)),o.strategy_=r.strategy!==void 0?r.strategy:pA;var i=r.useSpatialIndex!==void 0?r.useSpatialIndex:!0;o.featuresRtree_=i?new Tm:null,o.loadedExtentsRtree_=new Tm,o.loadingExtentsCount_=0,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null;var s,f;return Array.isArray(r.features)?f=r.features:r.features&&(s=r.features,f=s.getArray()),!i&&s===void 0&&(s=new Mo(f)),f!==void 0&&o.addFeaturesInternal(f),s!==void 0&&o.bindFeaturesCollection_(s),o}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var o=ie(t);if(!this.addToIndex_(o,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(o,t);var r=t.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[o]=t;this.dispatchEvent(new ar($o.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,o){this.featureChangeKeys_[t]=[Qt(o,Nt.CHANGE,this.handleFeatureChange_,this),Qt(o,ia.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,o){var r=!0,i=o.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=o),r&&(qt(!(t in this.uidIndex_),30),this.uidIndex_[t]=o),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var o=[],r=[],i=[],s=0,f=t.length;s<f;s++){var c=t[s],d=ie(c);this.addToIndex_(d,c)&&r.push(c)}for(var s=0,h=r.length;s<h;s++){var c=r[s],d=ie(c);this.setupChangeEvents_(d,c);var b=c.getGeometry();if(b){var p=b.getExtent();o.push(p),i.push(c)}else this.nullGeometryFeatures_[d]=c}if(this.featuresRtree_&&this.featuresRtree_.load(o,i),this.hasListener($o.ADDFEATURE))for(var s=0,m=r.length;s<m;s++)this.dispatchEvent(new ar($o.ADDFEATURE,r[s]))},e.prototype.bindFeaturesCollection_=function(t){var o=!1;this.addEventListener($o.ADDFEATURE,function(r){o||(o=!0,t.push(r.feature),o=!1)}),this.addEventListener($o.REMOVEFEATURE,function(r){o||(o=!0,t.remove(r.feature),o=!1)}),t.addEventListener(so.ADD,function(r){o||(o=!0,this.addFeature(r.element),o=!1)}.bind(this)),t.addEventListener(so.REMOVE,function(r){o||(o=!0,this.removeFeature(r.element),o=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var o in this.featureChangeKeys_){var r=this.featureChangeKeys_[o];r.forEach(xe)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(c){this.removeFeatureInternal(c)}.bind(this);this.featuresRtree_.forEach(i);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var f=new ar($o.CLEAR);this.dispatchEvent(f),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,o){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(i){var s=i.getGeometry();if(s.intersectsCoordinate(t))return o(i)})},e.prototype.forEachFeatureInExtent=function(t,o){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,o);this.featuresCollection_&&this.featuresCollection_.forEach(o)},e.prototype.forEachFeatureIntersectingExtent=function(t,o){return this.forEachFeatureInExtent(t,function(r){var i=r.getGeometry();if(i.intersectsExtent(t)){var s=o(r);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),us(this.nullGeometryFeatures_)||Un(t,q0(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var o=[];return this.forEachFeatureAtCoordinateDirect(t,function(r){o.push(r)}),o},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,o){var r=t[0],i=t[1],s=null,f=[NaN,NaN],c=1/0,d=[-1/0,-1/0,1/0,1/0],h=o||ai;return this.featuresRtree_.forEachInExtent(d,function(b){if(h(b)){var p=b.getGeometry(),m=c;if(c=p.closestPointXY(r,i,f,c),c<m){s=b;var x=Math.sqrt(c);d[0]=r-x,d[1]=i-x,d[2]=r+x,d[3]=i+x}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var o=this.idIndex_[t.toString()];return o!==void 0?o:null},e.prototype.getFeatureByUid=function(t){var o=this.uidIndex_[t];return o!==void 0?o:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var o=t.target,r=ie(o),i=o.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(o),this.nullGeometryFeatures_[r]=o);else{var s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,o)):this.featuresRtree_&&this.featuresRtree_.update(s,o)}var f=o.getId();if(f!==void 0){var c=f.toString();this.idIndex_[c]!==o&&(this.removeFromIdIndex_(o),this.idIndex_[c]=o)}else this.removeFromIdIndex_(o),this.uidIndex_[r]=o;this.changed(),this.dispatchEvent(new ar($o.CHANGEFEATURE,o))},e.prototype.hasFeature=function(t){var o=t.getId();return o!==void 0?o in this.idIndex_:ie(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&us(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,o,r){for(var i=this.loadedExtentsRtree_,s=this.strategy_(t,o,r),f=function(b,p){var m=s[b],x=i.forEachInExtent(m,function(_){return Xi(_.extent,m)});x||(++c.loadingExtentsCount_,c.dispatchEvent(new ar($o.FEATURESLOADSTART)),c.loader_.call(c,m,o,r,function(_){--this.loadingExtentsCount_,this.dispatchEvent(new ar($o.FEATURESLOADEND,void 0,_))}.bind(c),function(){--this.loadingExtentsCount_,this.dispatchEvent(new ar($o.FEATURESLOADERROR))}.bind(c)),i.insert(m,{extent:m.slice()}))},c=this,d=0,h=s.length;d<h;++d)f(d);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var o=this.loadedExtentsRtree_,r;o.forEachInExtent(t,function(i){if(hs(i.extent,t))return r=i,!0}),r&&o.remove(r)},e.prototype.removeFeature=function(t){if(!!t){var o=ie(t);o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:this.featuresRtree_&&this.featuresRtree_.remove(t);var r=this.removeFeatureInternal(t);r&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var o=ie(t),r=this.featureChangeKeys_[o];if(!!r){r.forEach(xe),delete this.featureChangeKeys_[o];var i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[o],this.dispatchEvent(new ar($o.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var o=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],o=!0;break}return o},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){qt(this.format_,7),this.url_=t,this.setLoader(Am(t,this.format_))},e}(Jv),Eu=mA,tx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ee={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Hl={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},$l=function(n){tx(e,n);function e(t,o){var r=n.call(this,t)||this;return r.feature=o,r}return e}(mn),vA=function(n){tx(e,n);function e(t){var o=this,r=t;r.stopDown||(r.stopDown=Ps),o=n.call(this,r)||this,o.on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=t.source?t.source:null,o.features_=t.features?t.features:null,o.snapTolerance_=t.snapTolerance?t.snapTolerance:12,o.type_=t.type,o.mode_=yA(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints?t.minPoints:o.mode_===ee.POLYGON?3:2,o.maxPoints_=o.mode_===ee.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,o.finishCondition_=t.finishCondition?t.finishCondition:ai;var i=t.geometryFunction;if(!i){var s=o.mode_;if(s===ee.CIRCLE)i=function(c,d,h){var b=d||new cv([NaN,NaN]),p=Lo(c[0],h),m=HE(p,Lo(c[c.length-1],h));b.setCenterAndRadius(p,Math.sqrt(m));var x=Ss();return x&&b.transform(h,x),b};else{var f;s===ee.POINT?f=li:s===ee.LINE_STRING?f=yr:s===ee.POLYGON&&(f=gs),i=function(c,d,h){return d?s===ee.POLYGON?c[0].length?d.setCoordinates([c[0].concat([c[0][0]])]):d.setCoordinates([]):d.setCoordinates(c):d=new f(c),d}}}return o.geometryFunction_=i,o.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new ku({source:new Eu({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:xA(),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition?t.condition:_h,o.freehandCondition_,t.freehand?o.freehandCondition_=Gv:o.freehandCondition_=t.freehandCondition?t.freehandCondition:Bv,o.addChangeListener(wu.ACTIVE,o.updateState_),o}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(t){t.originalEvent.type===Nt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==ee.POINT&&this.freehandCondition_(t);var o=t.type===oe.POINTERMOVE,r=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===oe.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===oe.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),r=!1):this.freehand_&&t.type===oe.POINTERDOWN?r=!1:o&&this.getPointerCount()<2?(r=t.type===oe.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===oe.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===oe.DBLCLICK&&(r=!1),n.prototype.handleEvent.call(this,t)&&r},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Fn(oe.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var o=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var r=!this.finishCoordinate_;r&&this.startDrawing_(t.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||this.mode_===ee.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),o=!1}else this.freehand_&&this.abortDrawing();return!o&&this.stopClick_&&t.preventDefault(),o},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var o=this.downPx_,r=t.pixel,i=o[0]-r[0],s=o[1]-r[1],f=i*i+s*s;if(this.shouldHandle_=this.freehand_?f>this.squaredClickTolerance_:f<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var o=!1;if(this.sketchFeature_){var r=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===ee.POINT)o=!0;else if(s===ee.CIRCLE)o=this.sketchCoords_.length===2;else if(s===ee.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(s===ee.POLYGON){var f=this.sketchCoords_;r=f[0].length>this.minPoints_,i=[f[0][0],f[0][f[0].length-2]]}if(r)for(var c=this.getMap(),d=0,h=i.length;d<h;d++){var b=i[d],p=c.getPixelFromCoordinate(b),m=t[0]-p[0],x=t[1]-p[1],_=this.freehand_?1:this.snapTolerance_;if(o=Math.sqrt(m*m+x*x)<=_,o){this.finishCoordinate_=b;break}}}return o},e.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Zr(new li(t)),this.updateSketchFeatures_();else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Zr);var o=t.getLinearRing(0),r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(o.getLayout(),o.getFlatCoordinates()),r.changed()):(r=new yr(o.getFlatCoordinates(),o.getLayout()),this.sketchLine_.setGeometry(r))},e.prototype.startDrawing_=function(t){var o=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===ee.POINT?this.sketchCoords_=t.slice():this.mode_===ee.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Zr(new yr(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,o);this.sketchFeature_=new Zr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new $l(Hl.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var o=this.getMap(),r=this.sketchFeature_.getGeometry(),i=o.getView().getProjection(),s,f;if(this.mode_===ee.POINT?f=this.sketchCoords_:this.mode_===ee.POLYGON?(s=this.sketchCoords_[0],f=s[s.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,f=s[s.length-1]),f[0]=t[0],f[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_){var c=this.sketchPoint_.getGeometry();c.setCoordinates(t)}if(r.getType()===ft.POLYGON&&this.mode_!==ee.POLYGON)this.createOrUpdateCustomSketchLine_(r);else if(this.sketchLineCoords_){var d=this.sketchLine_.getGeometry();d.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var o=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i,s,f=this.mode_;f===ee.LINE_STRING||f===ee.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),this.geometryFunction_(s,o,r)):f===ee.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(t.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,o,r)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),r,i=this.mode_;if(i===ee.LINE_STRING||i===ee.CIRCLE){if(r=this.sketchCoords_,r.splice(-2,1),r.length>=2){this.finishCoordinate_=r[r.length-2].slice();var s=this.finishCoordinate_.slice();r[r.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(r,t,o),t.getType()===ft.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i===ee.POLYGON){r=this.sketchCoords_[0],r.splice(-2,1);var f=this.sketchLine_.getGeometry();if(r.length>=2){var s=r[r.length-2].slice();r[r.length-1]=s,this.createOrUpdateSketchPoint_(s)}f.setCoordinates(r),this.geometryFunction_(this.sketchCoords_,t,o)}r.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var o=this.sketchCoords_,r=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===ee.LINE_STRING?(o.pop(),this.geometryFunction_(o,r,i)):this.mode_===ee.POLYGON&&(o[0].pop(),this.geometryFunction_(o,r,i),o=r.getCoordinates()),this.type_===ft.MULTI_POINT?t.setGeometry(new vv([o])):this.type_===ft.MULTI_LINE_STRING?t.setGeometry(new QC([o])):this.type_===ft.MULTI_POLYGON&&t.setGeometry(new dT([o])),this.dispatchEvent(new $l(Hl.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new $l(Hl.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var o=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(t[0]);var i;if(o===ee.LINE_STRING||o===ee.CIRCLE)i=this.sketchCoords_;else if(o===ee.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&i.shift(),i.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var f=t[t.length-1];this.addToDrawing_(f),this.modifyDrawing_(f)},e.prototype.extend=function(t){var o=t.getGeometry(),r=o;this.sketchFeature_=t,this.sketchCoords_=r.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Zr(new li(i)),this.updateSketchFeatures_(),this.dispatchEvent(new $l(Hl.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),o=this.getActive();(!t||!o)&&this.abortDrawing(),this.overlay_.setMap(o?t:null)},e}(ba);function xA(){var n=Z8();return function(e,t){return n[e.getGeometry().getType()]}}function wA(){return function(n,e,t){var o=au([n[0],n[n.length-1]].map(function(f){return Lo(f,t)})),r=[[oa(o),Is(o),Os(o),Tr(o),oa(o)]],i=e;i?i.setCoordinates(r):i=new gs(r);var s=Ss();return s&&i.transform(t,s),i}}function yA(n){switch(n){case ft.POINT:case ft.MULTI_POINT:return ee.POINT;case ft.LINE_STRING:case ft.MULTI_LINE_STRING:return ee.LINE_STRING;case ft.POLYGON:case ft.MULTI_POLYGON:return ee.POLYGON;case ft.CIRCLE:return ee.CIRCLE;default:throw new Error("Invalid type: "+n)}}var _A=vA;function kA(n){var e=n||{},t=new Mo,o=new y8(-.005,.05,100),r=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;r&&t.push(new i8);var i=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;i&&t.push(new H7({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new o8({onFocusOnly:e.onFocusOnly,kinetic:o}));var f=e.pinchRotate!==void 0?e.pinchRotate:!0;f&&t.push(new R8);var c=e.pinchZoom!==void 0?e.pinchZoom:!0;c&&t.push(new O8({duration:e.zoomDuration}));var d=e.keyboard!==void 0?e.keyboard:!0;d&&(t.push(new g8),t.push(new x8({delta:e.zoomDelta,duration:e.zoomDuration})));var h=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;h&&t.push(new E8({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var b=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return b&&t.push(new h8({duration:e.zoomDuration})),t}var EA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),CA=function(n){EA(e,n);function e(t){return t=De({},t),t.controls||(t.controls=Dv()),t.interactions||(t.interactions=kA({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new s7(this)},e}(R7),TA=CA,RA=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var o=this.entries_[e];return qt(o!==void 0,15),o===this.newest_||(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o),o.value_},n.prototype.remove=function(e){var t=this.entries_[e];return qt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){qt(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),AA=RA,IA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),OA=function(n){IA(e,n);function e(t,o,r){var i=n.call(this)||this,s=r||{};return i.tileCoord=t,i.state=o,i.interimTile=null,i.key="",i.transition_=s.transition===void 0?250:s.transition,i.transitionStarts_={},i.interpolate=!!s.interpolate,i}return e.prototype.changed=function(){this.dispatchEvent(Nt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==At.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,o=this;do{if(t.getState()==At.LOADED){t.interimTile=null;break}else t.getState()==At.LOADING?o=t:t.getState()==At.IDLE?o.interimTile=t.interimTile:o=t;t=o.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==At.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){$t()},e.prototype.getAlpha=function(t,o){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(!r)r=o,this.transitionStarts_[t]=r;else if(r===-1)return 1;var i=o-r+1e3/60;return i>=this.transition_?1:Ev(i/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ha),ex=OA,SA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),PA=function(n){SA(e,n);function e(t,o,r,i,s,f){var c=n.call(this,t,o,f)||this;return c.crossOrigin_=i,c.src_=r,c.key=r,c.image_=new Image,i!==null&&(c.image_.crossOrigin=i),c.unlisten_=null,c.tileLoadFunction_=s,c}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=At.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=At.ERROR,this.unlistenImage_(),this.image_=LA(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=At.LOADED:this.state=At.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==At.ERROR&&(this.state=At.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==At.IDLE&&(this.state=At.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=kh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ex);function LA(){var n=Uo(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var ox=PA,FA=.5,Sn=!0,MA=10,Im=.25,zA=function(){function n(e,t,o,r,i,s){this.sourceProj_=e,this.targetProj_=t;var f={},c=ps(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){var P=O[0]+"/"+O[1];return f[P]||(f[P]=c(O)),f[P]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ee(r)==Ee(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ee(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ee(this.targetProj_.getExtent()):null;var d=Tr(o),h=Os(o),b=Is(o),p=oa(o),m=this.transformInv_(d),x=this.transformInv_(h),_=this.transformInv_(b),k=this.transformInv_(p),T=MA+(s?Math.max(0,Math.ceil(gE(lu(o)/(s*s*256*256)))):0);if(this.addQuad_(d,h,b,p,m,x,_,k,T),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(O,P,D){A=Math.min(A,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(function(O){if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-A>this.sourceWorldWidth_/2){var P=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];P[0][0]-A>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-A>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-A>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);var D=Math.min(P[0][0],P[1][0],P[2][0]),X=Math.max(P[0][0],P[1][0],P[2][0]);X-D<this.sourceWorldWidth_/2&&(O.source=P)}}.bind(this))}f={}}return n.prototype.addTriangle_=function(e,t,o,r,i,s){this.triangles_.push({source:[r,i,s],target:[e,t,o]})},n.prototype.addQuad_=function(e,t,o,r,i,s,f,c,d){var h=au([i,s,f,c]),b=this.sourceWorldWidth_?Ee(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&b>.5&&b<1,x=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=au([e,t,o,r]),k=Ee(_)/this.targetWorldWidth_;x=k>Im||x}!m&&this.sourceProj_.isGlobal()&&b&&(x=b>Im||x)}if(!(!x&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!to(h,this.maxSourceExtent_))){var T=0;if(!x&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)x=!0;else if(T=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(f[0])||!isFinite(f[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(d>0){if(!x){var A=[(e[0]+o[0])/2,(e[1]+o[1])/2],O=this.transformInv_(A),P=void 0;if(m){var D=(qi(i[0],p)+qi(f[0],p))/2;P=D-qi(O[0],p)}else P=(i[0]+f[0])/2-O[0];var X=(i[1]+f[1])/2-O[1],U=P*P+X*X;x=U>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var z=[(t[0]+o[0])/2,(t[1]+o[1])/2],$=this.transformInv_(z),ot=[(r[0]+e[0])/2,(r[1]+e[1])/2],st=this.transformInv_(ot);this.addQuad_(e,t,z,ot,i,s,$,st,d-1),this.addQuad_(ot,z,o,r,st,$,f,c,d-1)}else{var dt=[(e[0]+t[0])/2,(e[1]+t[1])/2],ut=this.transformInv_(dt),vt=[(o[0]+r[0])/2,(o[1]+r[1])/2],it=this.transformInv_(vt);this.addQuad_(e,dt,vt,r,i,ut,it,c,d-1),this.addQuad_(dt,t,o,vt,ut,s,f,it,d-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(e,o,r,i,f,c),(T&14)==0&&this.addTriangle_(e,o,t,i,f,s),T&&((T&13)==0&&this.addTriangle_(t,r,e,s,c,i),(T&7)==0&&this.addTriangle_(t,r,o,s,c,f))}},n.prototype.calculateSourceExtent=function(){var e=No();return this.triangles_.forEach(function(t,o,r){var i=t.source;ts(e,i[0]),ts(e,i[1]),ts(e,i[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),DA=zA,Cu={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},NA={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Ld;function Om(n,e,t,o,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(o,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,o)+1,Math.max(t,r)),n.restore()}function Fd(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function GA(){if(Ld===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Om(n,4,5,4,0),Om(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;Ld=Fd(e,0)||Fd(e,4)||Fd(e,8)}return Ld}function Sm(n,e,t,o){var r=nh(t,e,n),i=Hg(e,o,t),s=e.getMetersPerUnit();s!==void 0&&(i*=s);var f=n.getMetersPerUnit();f!==void 0&&(i/=f);var c=n.getExtent();if(!c||As(c,r)){var d=Hg(n,i,r)/i;isFinite(d)&&d>0&&(i/=d)}return i}function UA(n,e,t,o){var r=na(t),i=Sm(n,e,r,o);return(!isFinite(i)||i<=0)&&Zu(t,function(s){return i=Sm(n,e,s,o),isFinite(i)&&i>0}),i}function BA(n,e,t,o,r,i,s,f,c,d,h,b){var p=Uo(Math.round(t*n),Math.round(t*e));if(b||De(p,Cu),c.length===0)return p.canvas;p.scale(t,t);function m(P){return Math.round(P*t)/t}p.globalCompositeOperation="lighter";var x=No();c.forEach(function(P,D,X){zE(x,P.extent)});var _=Ee(x),k=rn(x),T=Uo(Math.round(t*_/o),Math.round(t*k/o));b||De(T,Cu);var A=t/o;c.forEach(function(P,D,X){var U=P.extent[0]-x[0],z=-(P.extent[3]-x[3]),$=Ee(P.extent),ot=rn(P.extent);P.image.width>0&&P.image.height>0&&T.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,U*A,z*A,$*A,ot*A)});var O=Tr(s);return f.getTriangles().forEach(function(P,D,X){var U=P.source,z=P.target,$=U[0][0],ot=U[0][1],st=U[1][0],dt=U[1][1],ut=U[2][0],vt=U[2][1],it=m((z[0][0]-O[0])/i),ht=m(-(z[0][1]-O[1])/i),et=m((z[1][0]-O[0])/i),ct=m(-(z[1][1]-O[1])/i),wt=m((z[2][0]-O[0])/i),Pt=m(-(z[2][1]-O[1])/i),Lt=$,K=ot;$=0,ot=0,st-=Lt,dt-=K,ut-=Lt,vt-=K;var Wt=[[st,dt,0,0,et-it],[ut,vt,0,0,wt-it],[0,0,st,dt,ct-ht],[0,0,ut,vt,Pt-ht]],Et=vE(Wt);if(!!Et){if(p.save(),p.beginPath(),GA()||!b){p.moveTo(et,ct);for(var G=4,nt=it-et,Q=ht-ct,at=0;at<G;at++)p.lineTo(et+m((at+1)*nt/G),ct+m(at*Q/(G-1))),at!=G-1&&p.lineTo(et+m((at+1)*nt/G),ct+m((at+1)*Q/(G-1)));p.lineTo(wt,Pt)}else p.moveTo(et,ct),p.lineTo(it,ht),p.lineTo(wt,Pt);p.clip(),p.transform(Et[0],Et[2],Et[1],Et[3],it,ht),p.translate(x[0]-Lt,x[3]-K),p.scale(o/t,-o/t),p.drawImage(T.canvas,0,0),p.restore()}}),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,f.getTriangles().forEach(function(P,D,X){var U=P.target,z=(U[0][0]-O[0])/i,$=-(U[0][1]-O[1])/i,ot=(U[1][0]-O[0])/i,st=-(U[1][1]-O[1])/i,dt=(U[2][0]-O[0])/i,ut=-(U[2][1]-O[1])/i;p.beginPath(),p.moveTo(ot,st),p.lineTo(z,$),p.lineTo(dt,ut),p.closePath(),p.stroke()}),p.restore()),p.canvas}var jA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),YA=function(n){jA(e,n);function e(t,o,r,i,s,f,c,d,h,b,p,m){var x=n.call(this,s,At.IDLE,{interpolate:!!m})||this;x.renderEdges_=p!==void 0?p:!1,x.pixelRatio_=c,x.gutter_=d,x.canvas_=null,x.sourceTileGrid_=o,x.targetTileGrid_=i,x.wrappedTileCoord_=f||s,x.sourceTiles_=[],x.sourcesListenerKeys_=null,x.sourceZ_=0;var _=i.getTileCoordExtent(x.wrappedTileCoord_),k=x.targetTileGrid_.getExtent(),T=x.sourceTileGrid_.getExtent(),A=k?es(_,k):_;if(lu(A)===0)return x.state=At.EMPTY,x;var O=t.getExtent();O&&(T?T=es(T,O):T=O);var P=i.getResolution(x.wrappedTileCoord_[0]),D=UA(t,r,A,P);if(!isFinite(D)||D<=0)return x.state=At.EMPTY,x;var X=b!==void 0?b:FA;if(x.triangulation_=new DA(t,r,A,T,D*X,P),x.triangulation_.getTriangles().length===0)return x.state=At.EMPTY,x;x.sourceZ_=o.getZForResolution(D);var U=x.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(U[1]=Pe(U[1],T[1],T[3]),U[3]=Pe(U[3],T[1],T[3])):U=es(U,T)),!lu(U))x.state=At.EMPTY;else{for(var z=o.getTileRangeForExtentAndZ(U,x.sourceZ_),$=z.minX;$<=z.maxX;$++)for(var ot=z.minY;ot<=z.maxY;ot++){var st=h(x.sourceZ_,$,ot,c);st&&x.sourceTiles_.push(st)}x.sourceTiles_.length===0&&(x.state=At.EMPTY)}return x}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(h,b,p){h&&h.getState()==At.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(h.tileCoord),image:h.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=At.ERROR;else{var o=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(o),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],f=this.targetTileGrid_.getResolution(o),c=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=BA(i,s,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),f,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=At.LOADED}this.changed()},e.prototype.load=function(){if(this.state==At.IDLE){this.state=At.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(o,r,i){var s=o.getState();if(s==At.IDLE||s==At.LOADING){t++;var f=Qt(o,Nt.CHANGE,function(c){var d=o.getState();(d==At.LOADED||d==At.ERROR||d==At.EMPTY)&&(xe(f),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(f)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(o,r,i){var s=o.getState();s==At.IDLE&&o.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(xe),this.sourcesListenerKeys_=null},e}(ex),nx=YA;function Pm(n,e,t,o){return o!==void 0?(o[0]=n,o[1]=e,o[2]=t,o):[n,e,t]}function tc(n,e,t){return n+"/"+e+"/"+t}function rx(n){return tc(n[0],n[1],n[2])}function WA(n){return n.split("/").map(Number)}function XA(n){return(n[1]<<n[0])+n[2]}function VA(n,e){var t=n[0],o=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var i=e.getFullTileRange(t);return i?i.containsXY(o,r):!0}var HA=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),$A=function(n){HA(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var o=this.peekLast();if(o.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),o=WA(t),r=o[0];this.forEach(function(i){i.tileCoord[0]!==r&&(this.remove(rx(i.tileCoord)),i.release())}.bind(this))}},e}(AA),ix=$A,Md={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},ax=function(){function n(e,t,o,r){this.minX=e,this.maxX=t,this.minY=o,this.maxY=r}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function zi(n,e,t,o,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=o,r):new ax(n,e,t,o)}var sx=ax,qA=[0,0,0],sr=5,KA=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,qt(fC(this.resolutions_,function(s,f){return f-s},!0),17);var t;if(!e.origins){for(var o=0,r=this.resolutions_.length-1;o<r;++o)if(!t)t=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,qt(this.origins_.length==this.resolutions_.length,20));var i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Tr(i)),qt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,qt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:bh,qt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,f){var c=new sx(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){var d=this.getTileRangeForExtentAndZ(i,f);c.minX=Math.max(d.minX,c.minX),c.maxX=Math.min(d.maxX,c.maxX),c.minY=Math.max(d.minY,c.minY),c.maxY=Math.min(d.maxY,c.maxY)}return c},this):i&&this.calculateTileRanges_(i)}return n.prototype.forEachTileCoord=function(e,t,o){for(var r=this.getTileRangeForExtentAndZ(e,t),i=r.minX,s=r.maxX;i<=s;++i)for(var f=r.minY,c=r.maxY;f<=c;++f)o([t,i,f])},n.prototype.forEachTileCoordParentTileRange=function(e,t,o,r){var i,s,f,c=null,d=e[0]-1;for(this.zoomFactor_===2?(s=e[1],f=e[2]):c=this.getTileCoordExtent(e,r);d>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),f=Math.floor(f/2),i=zi(s,s,f,f,o)):i=this.getTileRangeForExtentAndZ(c,d,o),t(d,i))return!0;--d}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var r=e[1]*2,i=e[2]*2;return zi(r,r+1,i,i+1,t)}var s=this.getTileCoordExtent(e,o||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,o){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],i=e[1],s=e[2];if(t===r)return zi(i,s,i,s,o);if(this.zoomFactor_){var f=Math.pow(this.zoomFactor_,t-r),c=Math.floor(i*f),d=Math.floor(s*f);if(t<r)return zi(c,c,d,d,o);var h=Math.floor(f*(i+1))-1,b=Math.floor(f*(s+1))-1;return zi(c,h,d,b,o)}var p=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,t,o)},n.prototype.getTileRangeExtent=function(e,t,o){var r=this.getOrigin(e),i=this.getResolution(e),s=Jo(this.getTileSize(e),this.tmpSize_),f=r[0]+t.minX*s[0]*i,c=r[0]+(t.maxX+1)*s[0]*i,d=r[1]+t.minY*s[1]*i,h=r[1]+(t.maxY+1)*s[1]*i;return nn(f,d,c,h,o)},n.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=qA;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var i=r[1],s=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),zi(i,r[1],s,r[2],o)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),r=Jo(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*o,t[1]-(e[2]+.5)*r[1]*o]},n.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Jo(this.getTileSize(e[0]),this.tmpSize_),s=o[0]+e[1]*i[0]*r,f=o[1]-(e[2]+1)*i[1]*r,c=s+i[0]*r,d=f+i[1]*r;return nn(s,f,c,d,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,o,r,i){var s=this.getZForResolution(o),f=o/this.getResolution(s),c=this.getOrigin(s),d=Jo(this.getTileSize(s),this.tmpSize_),h=f*(e-c[0])/o/d[0],b=f*(c[1]-t)/o/d[1];return r?(h=Nl(h,sr)-1,b=Nl(b,sr)-1):(h=Dl(h,sr),b=Dl(b,sr)),Pm(s,h,b,i)},n.prototype.getTileCoordForXYAndZ_=function(e,t,o,r,i){var s=this.getOrigin(o),f=this.getResolution(o),c=Jo(this.getTileSize(o),this.tmpSize_),d=(e-s[0])/f/c[0],h=(s[1]-t)/f/c[1];return r?(d=Nl(d,sr)-1,h=Nl(h,sr)-1):(d=Dl(d,sr),h=Dl(h,sr)),Pm(o,d,h,i)},n.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var o=ih(this.resolutions_,e,t||0);return Pe(o,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=new Array(t),r=this.minZoom;r<t;++r)o[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=o},n}(),lx=KA;function fx(n){var e=n.getDefaultTileGrid();return e||(e=tI(n),n.setDefaultTileGrid(e)),e}function ZA(n,e,t){var o=e[0],r=n.getTileCoordCenter(e),i=Eh(t);if(As(i,r))return e;var s=Ee(i),f=Math.ceil((i[0]-r[0])/s);return r[0]+=s*f,n.getTileCoordForCoordAndZ(r,o)}function JA(n,e,t,o){var r=o!==void 0?o:Wa.TOP_LEFT,i=cx(n,e,t);return new lx({extent:n,origin:NE(n,r),resolutions:i,tileSize:t})}function QA(n){var e=n||{},t=e.extent||fo("EPSG:3857").getExtent(),o={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:cx(t,e.maxZoom,e.tileSize,e.maxResolution)};return new lx(o)}function cx(n,e,t,o){for(var r=e!==void 0?e:wT,i=rn(n),s=Ee(n),f=Jo(t!==void 0?t:bh),c=o>0?o:Math.max(s/f[0],i/f[1]),d=r+1,h=new Array(d),b=0;b<d;++b)h[b]=c/Math.pow(2,b);return h}function tI(n,e,t,o){var r=Eh(n);return JA(r,e,t,o)}function Eh(n){n=fo(n);var e=n.getExtent();if(!e){var t=180*Do[yo.DEGREES]/n.getMetersPerUnit();e=nn(-t,-t,t,t)}return e}var dx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),eI=function(n){dx(e,n);function e(t){var o=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;o.on,o.once,o.un,o.opaque_=t.opaque!==void 0?t.opaque:!1,o.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,o.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var r=[256,256];return o.tileGrid&&Jo(o.tileGrid.getTileSize(o.tileGrid.getMinZoom()),r),o.tileCache=new ix(t.cacheSize||0),o.tmpSize=[0,0],o.key_=t.key||"",o.tileOptions={transition:t.transition,interpolate:t.interpolate},o.zDirection=t.zDirection?t.zDirection:0,o}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,o){var r=this.getTileCacheForProjection(t);r&&r.expireCache(o)},e.prototype.forEachLoadedTile=function(t,o,r,i){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var f=!0,c,d,h,b=r.minX;b<=r.maxX;++b)for(var p=r.minY;p<=r.maxY;++p)d=tc(o,b,p),h=!1,s.containsKey(d)&&(c=s.get(d),h=c.getState()===At.LOADED,h&&(h=i(c)!==!1)),h||(f=!1);return f},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,o,r,i,s){return $t()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:fx(t)},e.prototype.getTileCacheForProjection=function(t){return qt(Ui(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,o,r){var i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(o),f=Jo(i.getTileSize(t),this.tmpSize);return s==1?f:k7(f,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,o){var r=o!==void 0?o:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=ZA(i,t,r)),VA(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,o){var r=this.getTileCacheForProjection(o);t>r.highWaterMark&&(r.highWaterMark=t)},e.prototype.useTile=function(t,o,r,i){},e}(Jv),oI=function(n){dx(e,n);function e(t,o){var r=n.call(this,t)||this;return r.tile=o,r}return e}(mn),nI=eI;function rI(n,e){var t=/\{z\}/g,o=/\{x\}/g,r=/\{y\}/g,i=/\{-y\}/g;return function(s,f,c){if(s)return n.replace(t,s[0].toString()).replace(o,s[1].toString()).replace(r,s[2].toString()).replace(i,function(){var d=s[0],h=e.getFullTileRange(d);qt(h,55);var b=h.getHeight()-s[2]-1;return b.toString()})}}function iI(n,e){for(var t=n.length,o=new Array(t),r=0;r<t;++r)o[r]=rI(n[r],e);return aI(o)}function aI(n){return n.length===1?n[0]:function(e,t,o){if(e){var r=XA(e),i=qi(r,n.length);return n[i](e,t,o)}else return}}function sI(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var o=t[1].charCodeAt(0),r=t[2].charCodeAt(0),i=void 0;for(i=o;i<=r;++i)e.push(n.replace(t[0],String.fromCharCode(i)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),f=parseInt(t[1],10);f<=s;f++)e.push(n.replace(t[0],f.toString()));return e}return e.push(n),e}var lI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),fI=function(n){lI(e,n);function e(t){var o=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return o.generateTileUrlFunction_=o.tileUrlFunction===e.prototype.tileUrlFunction,o.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(o.tileUrlFunction=t.tileUrlFunction),o.urls=null,t.urls?o.setUrls(t.urls):t.url&&o.setUrl(t.url),o.tileLoadingKeys_={},o}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var o=t.target,r=ie(o),i=o.getState(),s;i==At.LOADING?(this.tileLoadingKeys_[r]=!0,s=Md.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==At.ERROR?Md.TILELOADERROR:i==At.LOADED?Md.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new oI(s,o))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,o){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof o!="undefined"?this.setKey(o):this.changed()},e.prototype.setUrl=function(t){var o=sI(t);this.urls=o,this.setUrls(o)},e.prototype.setUrls=function(t){this.urls=t;var o=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(iI(t,this.tileGrid),o):this.setKey(o)},e.prototype.tileUrlFunction=function(t,o,r){},e.prototype.useTile=function(t,o,r){var i=tc(t,o,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(nI),cI=fI,dI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),uI=function(n){dI(e,n);function e(t){var o=this,r=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(r=t.interpolate),o=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:hI,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:r,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,o.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,o.tileClass=t.tileClass!==void 0?t.tileClass:ox,o.tileCacheForProjection={},o.tileGridForProjection={},o.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,o.renderReprojectionEdges_=!1,o}return e.prototype.canExpireCache=function(){if(!Sn)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,o){if(!Sn){n.prototype.expireCache.call(this,t,o);return}var r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?o:{});for(var i in this.tileCacheForProjection){var s=this.tileCacheForProjection[i];s.expireCache(s==r?o:{})}},e.prototype.getGutterForProjection=function(t){return Sn&&this.getProjection()&&t&&!Ui(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return Sn&&this.getProjection()&&t&&!Ui(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!Sn)return n.prototype.getTileGridForProjection.call(this,t);var o=this.getProjection();if(this.tileGrid&&(!o||Ui(o,t)))return this.tileGrid;var r=ie(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=fx(t)),this.tileGridForProjection[r]},e.prototype.getTileCacheForProjection=function(t){if(!Sn)return n.prototype.getTileCacheForProjection.call(this,t);var o=this.getProjection();if(!o||Ui(o,t))return this.tileCache;var r=ie(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new ix(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,o,r,i,s,f){var c=[t,o,r],d=this.getTileCoordForTileUrlFunction(c,s),h=d?this.tileUrlFunction(d,i,s):void 0,b=new this.tileClass(c,h!==void 0?At.IDLE:At.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return b.key=f,b.addEventListener(Nt.CHANGE,this.handleTileChange.bind(this)),b},e.prototype.getTile=function(t,o,r,i,s){var f=this.getProjection();if(!Sn||!f||!s||Ui(f,s))return this.getTileInternal(t,o,r,i,f||s);var c=this.getTileCacheForProjection(s),d=[t,o,r],h=void 0,b=rx(d);c.containsKey(b)&&(h=c.get(b));var p=this.getKey();if(h&&h.key==p)return h;var m=this.getTileGridForProjection(f),x=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(d,s),k=new nx(f,m,s,x,d,_,this.getTilePixelRatio(i),this.getGutter(),function(T,A,O,P){return this.getTileInternal(T,A,O,P,f)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=p,h?(k.interimTile=h,k.refreshInterimChain(),c.replace(b,k)):c.set(b,k),k},e.prototype.getTileInternal=function(t,o,r,i,s){var f=null,c=tc(t,o,r),d=this.getKey();if(!this.tileCache.containsKey(c))f=this.createTile_(t,o,r,i,s,d),this.tileCache.set(c,f);else if(f=this.tileCache.get(c),f.key!=d){var h=f;f=this.createTile_(t,o,r,i,s,d),h.getState()==At.IDLE?f.interimTile=h.interimTile:f.interimTile=h,f.refreshInterimChain(),this.tileCache.replace(c,f)}return f},e.prototype.setRenderReprojectionEdges=function(t){if(!(!Sn||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var o in this.tileCacheForProjection)this.tileCacheForProjection[o].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,o){if(Sn){var r=fo(t);if(r){var i=ie(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=o)}}},e}(cI);function hI(n,e){n.getImage().src=e}var pI=uI,bI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gI=function(n){bI(e,n);function e(t){var o=t||{},r=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(r=o.interpolate);var i=o.projection!==void 0?o.projection:"EPSG:3857",s=o.tileGrid!==void 0?o.tileGrid:QA({extent:Eh(i),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return n.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:r,opaque:o.opaque,projection:i,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this}return e}(pI),mI=gI,vI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),xI='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',wI=function(n){vI(e,n);function e(t){var o=t||{},r=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(r=o.interpolate);var i;o.attributions!==void 0?i=o.attributions:i=[xI];var s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",f=o.url!==void 0?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:s,interpolate:r,maxZoom:o.maxZoom!==void 0?o.maxZoom:19,opaque:o.opaque!==void 0?o.opaque:!0,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:f,wrapX:o.wrapX,zDirection:o.zDirection})||this}return e}(mI),yI=wI,ql={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},_I=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),kI=function(n){_I(e,n);function e(t){var o=this,r=t||{},i=De({},r);return delete i.preload,delete i.useInterimTilesOnError,o=n.call(this,i)||this,o.on,o.once,o.un,o.setPreload(r.preload!==void 0?r.preload:0),o.setUseInterimTilesOnError(r.useInterimTilesOnError!==void 0?r.useInterimTilesOnError:!0),o}return e.prototype.getPreload=function(){return this.get(ql.PRELOAD)},e.prototype.setPreload=function(t){this.set(ql.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ql.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ql.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Kf),EI=kI,CI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),TI=function(n){CI(e,n);function e(t){var o=n.call(this,t)||this;return o.extentChanged=!0,o.renderedExtent_=null,o.renderedPixelRatio,o.renderedProjection=null,o.renderedRevision,o.renderedTiles=[],o.newTiles_=!1,o.tmpExtent=No(),o.tmpTileRange_=new sx(0,0,0,0),o}return e.prototype.isDrawableTile=function(t){var o=this.getLayer(),r=t.getState(),i=o.getUseInterimTilesOnError();return r==At.LOADED||r==At.EMPTY||r==At.ERROR&&!i},e.prototype.getTile=function(t,o,r,i){var s=i.pixelRatio,f=i.viewState.projection,c=this.getLayer(),d=c.getSource(),h=d.getTile(t,o,r,s,f);return h.getState()==At.ERROR&&(c.getUseInterimTilesOnError()?c.getPreload()>0&&(this.newTiles_=!0):h.setState(At.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h},e.prototype.getData=function(t){var o=this.frameState;if(!o)return null;var r=this.getLayer(),i=Se(o.pixelToCoordinateTransform,t.slice()),s=r.getExtent();if(s&&!As(s,i))return null;for(var f=o.pixelRatio,c=o.viewState.projection,d=o.viewState,h=r.getRenderSource(),b=h.getTileGridForProjection(d.projection),p=h.getTilePixelRatio(o.pixelRatio),m=b.getZForResolution(d.resolution);m>=b.getMinZoom();--m){var x=b.getTileCoordForCoordAndZ(i,m),_=h.getTile(m,x[1],x[2],f,c);if(!(_ instanceof ox||_ instanceof nx))return null;if(_.getState()===At.LOADED){var k=b.getOrigin(m),T=Jo(b.getTileSize(m)),A=b.getResolution(m),O=Math.floor(p*((i[0]-k[0])/A-x[1]*T[0])),P=Math.floor(p*((k[1]-i[1])/A-x[2]*T[1]));return this.getImageData(_.getImage(),O,P)}}return null},e.prototype.loadedTileCallback=function(t,o,r){return this.isDrawableTile(r)?n.prototype.loadedTileCallback.call(this,t,o,r):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,o){var r=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,f=i.resolution,c=i.center,d=i.rotation,h=t.pixelRatio,b=this.getLayer(),p=b.getSource(),m=p.getRevision(),x=p.getTileGridForProjection(s),_=x.getZForResolution(f,p.zDirection),k=x.getResolution(_),T=t.extent,A=r.extent&&Qr(r.extent,s);A&&(T=es(T,Qr(r.extent,s)));var O=p.getTilePixelRatio(h),P=Math.round(t.size[0]*O),D=Math.round(t.size[1]*O);if(d){var X=Math.round(Math.sqrt(P*P+D*D));P=X,D=X}var U=k*P/2/O,z=k*D/2/O,$=[c[0]-U,c[1]-z,c[0]+U,c[1]+z],ot=x.getTileRangeForExtentAndZ(T,_),st={};st[_]={};var dt=this.createLoadedTileFinder(p,s,st),ut=this.tmpExtent,vt=this.tmpTileRange_;this.newTiles_=!1;for(var it=ot.minX;it<=ot.maxX;++it)for(var ht=ot.minY;ht<=ot.maxY;++ht){var et=this.getTile(_,it,ht,t);if(this.isDrawableTile(et)){var ct=ie(this);if(et.getState()==At.LOADED){st[_][et.tileCoord.toString()]=et;var wt=et.inTransition(ct);!this.newTiles_&&(wt||this.renderedTiles.indexOf(et)===-1)&&(this.newTiles_=!0)}if(et.getAlpha(ct,t.time)===1)continue}var Pt=x.getTileCoordChildTileRange(et.tileCoord,vt,ut),Lt=!1;Pt&&(Lt=dt(_+1,Pt)),Lt||x.forEachTileCoordParentTileRange(et.tileCoord,dt,vt,ut)}var K=k/f;Yn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/O,1/O,d,-P/2,-D/2);var Wt=av(this.pixelTransform);this.useContainer(o,Wt,r.opacity,this.getBackground(t));var Et=this.context,G=Et.canvas;ah(this.inversePixelTransform,this.pixelTransform),Yn(this.tempTransform,P/2,D/2,K,K,0,-P/2,-D/2),G.width!=P||G.height!=D?(G.width=P,G.height=D):this.containerReused||Et.clearRect(0,0,P,D),A&&this.clipUnrotated(Et,t,A),p.getInterpolate()||De(Et,Cu),this.preRender(Et,t),this.renderedTiles.length=0;var nt=Object.keys(st).map(Number);nt.sort(fi);var Q,at,St;r.opacity===1&&(!this.containerReused||p.getOpaque(t.viewState.projection))?nt=nt.reverse():(Q=[],at=[]);for(var Kt=nt.length-1;Kt>=0;--Kt){var yt=nt[Kt],Ct=p.getTilePixelSize(yt,h,s),E=x.getResolution(yt),I=E/k,M=Ct[0]*I*K,V=Ct[1]*I*K,j=x.getTileCoordForCoordAndZ(Tr($),yt),tt=x.getTileCoordExtent(j),rt=Se(this.tempTransform,[O*(tt[0]-$[0])/k,O*($[3]-tt[3])/k]),Z=O*p.getGutterForProjection(s),J=st[yt];for(var H in J){var et=J[H],bt=et.tileCoord,pt=j[1]-bt[1],mt=Math.round(rt[0]-(pt-1)*M),_t=j[2]-bt[2],Ft=Math.round(rt[1]-(_t-1)*V),it=Math.round(rt[0]-pt*M),ht=Math.round(rt[1]-_t*V),Mt=mt-it,Gt=Ft-ht,Xt=_===yt,wt=Xt&&et.getAlpha(ie(this),t.time)!==1,Ce=!1;if(!wt)if(Q){St=[it,ht,it+Mt,ht,it+Mt,ht+Gt,it,ht+Gt];for(var be=0,jo=Q.length;be<jo;++be)if(_!==yt&&yt<at[be]){var fe=Q[be];to([it,ht,it+Mt,ht+Gt],[fe[0],fe[3],fe[4],fe[7]])&&(Ce||(Et.save(),Ce=!0),Et.beginPath(),Et.moveTo(St[0],St[1]),Et.lineTo(St[2],St[3]),Et.lineTo(St[4],St[5]),Et.lineTo(St[6],St[7]),Et.moveTo(fe[6],fe[7]),Et.lineTo(fe[4],fe[5]),Et.lineTo(fe[2],fe[3]),Et.lineTo(fe[0],fe[1]),Et.clip())}Q.push(St),at.push(yt)}else Et.clearRect(it,ht,Mt,Gt);this.drawTileImage(et,t,it,ht,Mt,Gt,Z,Xt),Q&&!wt?(Ce&&Et.restore(),this.renderedTiles.unshift(et)):this.renderedTiles.push(et),this.updateUsedTiles(t.usedTiles,p,et)}}this.renderedRevision=m,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!hs(this.renderedExtent_,$),this.renderedExtent_=$,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(t,p,x,h,s,T,_,b.getPreload()),this.scheduleExpireCache(t,p),this.postRender(Et,t),r.extent&&Et.restore(),De(Et,NA),Wt!==G.style.transform&&(G.style.transform=Wt);var co=Ov(r.opacity),ge=this.container;return co!==ge.style.opacity&&(ge.style.opacity=co),this.container},e.prototype.drawTileImage=function(t,o,r,i,s,f,c,d){var h=this.getTileImage(t);if(!!h){var b=ie(this),p=d?t.getAlpha(b,o.time):1,m=p!==this.context.globalAlpha;m&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(h,c,c,h.width-2*c,h.height-2*c,r,i,s,f),m&&this.context.restore(),p!==1?o.animate=!0:d&&t.endTransition(b)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,o){if(o.canExpireCache()){var r=function(i,s,f){var c=ie(i);c in f.usedTiles&&i.expireCache(f.viewState.projection,f.usedTiles[c])}.bind(null,o);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,o,r){var i=ie(o);i in t||(t[i]={}),t[i][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,o,r,i,s,f,c,d,h){var b=ie(o);b in t.wantedTiles||(t.wantedTiles[b]={});var p=t.wantedTiles[b],m=t.tileQueue,x=r.getMinZoom(),_=0,k,T,A,O,P,D;for(D=x;D<=c;++D)for(T=r.getTileRangeForExtentAndZ(f,D,T),A=r.getResolution(D),O=T.minX;O<=T.maxX;++O)for(P=T.minY;P<=T.maxY;++P)c-D<=d?(++_,k=o.getTile(D,O,P,i,s),k.getState()==At.IDLE&&(p[k.getKey()]=!0,m.isKeyQueued(k.getKey())||m.enqueue([k,b,r.getTileCoordCenter(k.tileCoord),A])),h!==void 0&&h(k)):o.useTile(D,O,P,s);o.updateCacheSize(_,s)},e}(qv),RI=TI,AI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),II=function(n){AI(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new RI(this)},e}(EI),OI=II;class SI{constructor(e){An(this,"name");An(this,"horizFov");An(this,"vertFov");this.name=e.name,this.horizFov=e.horizFov,this.vertFov=e.vertFov}projectedArea(e){return{height:this.projectedLength(this.vertFov,e),width:this.projectedLength(this.horizFov,e)}}projectedLength(e,t){return Math.tan(e/2/180*Math.PI)*t*2}}class PI{constructor(e){An(this,"name");An(this,"viewModes");this.name=e.name,this.viewModes=e.viewModes.map(t=>new SI(t))}}const LI=[{name:"Go Pro Hero 8",viewModes:[{name:"Narrow 4:3 landscape",vertFov:53.7,horizFov:68},{name:"Linear (zoom=1.0x) 4:3 landscape",vertFov:70,horizFov:86},{name:"Wide 4:3 landscape",vertFov:94.4,horizFov:122.6}]}];function FI(){return LI.map(n=>new PI(n))}const zd=FI(),Es=Vu({id:"acquisition",state:()=>({cameraLibrary:zd,selectedCamera:zd[0],selectedViewMode:zd[0].viewModes[0],distanceToGround:2.5,frontOverlapPercent:80,sideOverlapPercent:70,shotTimeInterval:1}),getters:{frontShotDistance:n=>n.selectedViewMode.projectedArea(n.distanceToGround).height*(1-n.frontOverlapPercent/100),sideShotDistance:n=>n.selectedViewMode.projectedArea(n.distanceToGround).width*(1-n.sideOverlapPercent/100),swimmingSpeed:n=>n.selectedViewMode.projectedArea(n.distanceToGround).height*(1-n.frontOverlapPercent/100)/n.shotTimeInterval},actions:{setCamera(n){this.selectedCamera=n,this.selectedViewMode=n.viewModes[0]}}}),zs=Vu({id:"mappingTrajectory",state:()=>({trajectory:[],pointLeap:5,angle:0,pointPrefix:"P "}),getters:{distance:n=>nm(n.trajectory),duration:n=>{const e=Es();return nm(n.trajectory)/e.swimmingSpeed},routeFilename:n=>"swimming_route-"+new Date().toISOString()+"-"+n.angle+"_deg.csv"},actions:{updateTrajectory(){const n=jf(),e=Es();if(n.perimeter===null){this.trajectory=[];return}this.trajectory=pT(n.perimeter,e.sideShotDistance,this.pointLeap,this.angle)}}});var ux=(n,e)=>{const t=n.__vccOpts||n;for(const[o,r]of e)t[o]=r;return t};const MI={class:"icon"},zI=an({__name:"SectionNumber",props:{i:{type:String,required:!0}},setup(n){const e=n;return(t,o)=>(xo(),wo("div",null,[F("span",MI,[F("i",{class:Tf("fas fa-"+e.i)},null,2)])]))}});var ec=ux(zI,[["__scopeId","data-v-7706490e"]]);const Ds=n=>(O3("data-v-caff341a"),n=n(),S3(),n),DI={class:"section"},NI=Bo(" Navigation "),GI={class:"field is-horizontal"},UI=Ds(()=>F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Point leaps "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"Distance between 2 points on the GPS swimming track"},"(*)")])],-1)),BI={class:"field-body"},jI={class:"field has-addons"},YI={class:"control"},WI=Ds(()=>F("p",{class:"control"},[F("a",{class:"button is-static"}," m ")],-1)),XI={class:"field is-horizontal"},VI=Ds(()=>F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Angle "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"angle for the route, in degrees"},"(*)")])],-1)),HI={class:"field-body"},$I={class:"field has-addons"},qI={class:"control"},KI=Ds(()=>F("p",{class:"control"},[F("a",{class:"button is-static"}," \xB0 ")],-1)),ZI={class:"field is-horizontal"},JI=Ds(()=>F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Point name prefix "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"Points will be name with prefix + index"},"(*)")])],-1)),QI={class:"field-body"},tO={class:"field"},eO={class:"control"},oO=an({__name:"TrajectoryParams",setup(n){const e=zs();return lo(()=>e.pointLeap,()=>e.updateTrajectory()),lo(()=>e.angle,()=>e.updateTrajectory()),(t,o)=>(xo(),wo("section",DI,[F("h1",null,[_e(ec,{i:"4"}),NI]),F("div",GI,[UI,F("div",BI,[F("div",jI,[F("p",YI,[Fo(F("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>Jt(e).pointLeap=r),type:"number",min:"0.5",max:"50",class:"input is-primary"},null,512),[[en,Jt(e).pointLeap]])]),WI])])]),F("div",XI,[VI,F("div",HI,[F("div",$I,[F("p",qI,[Fo(F("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>Jt(e).angle=r),type:"number",min:"0",max:"90",class:"input is-primary"},null,512),[[en,Jt(e).angle]])]),KI])])]),F("div",ZI,[JI,F("div",QI,[F("div",tO,[F("p",eO,[Fo(F("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>Jt(e).pointPrefix=r),type:"string",class:"input is-primary point-prefix"},null,512),[[en,Jt(e).pointPrefix]])])])])])]))}});var nO=ux(oO,[["__scopeId","data-v-caff341a"]]);const rO={class:"section"},iO=Bo(" Camera "),aO={class:"field is-horizontal"},sO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," Model ")],-1),lO={class:"field-body"},fO={class:"field has-addons"},cO={class:"control"},dO=["value"],uO=["value"],hO={class:"field is-horizontal"},pO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," View mode ")],-1),bO={class:"field-body"},gO={class:"field has-addons"},mO={class:"control"},vO=["value"],xO={class:"field is-horizontal"},wO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," Shot time interval ")],-1),yO={class:"field-body"},_O={class:"field has-addons"},kO={class:"control"},EO=F("p",{class:"control"},[F("a",{class:"button is-static"}," s ")],-1),CO=an({__name:"CameraSelection",setup(n){const e=Es(),t=zs();lo(()=>e.selectedViewMode,()=>t.updateTrajectory());function o(r){e.setCamera(r.target.value)}return(r,i)=>(xo(),wo("section",rO,[F("h1",null,[_e(ec,{i:"2"}),iO]),F("div",aO,[sO,F("div",lO,[F("div",fO,[F("p",cO,[F("select",{value:Jt(e).selectedCamera,onChange:o,class:"input is-primary"},[(xo(!0),wo(Qe,null,fg(Jt(e).cameraLibrary,s=>(xo(),wo("option",{value:s},qo(s.name),9,uO))),256))],40,dO)])])])]),F("div",hO,[pO,F("div",bO,[F("div",gO,[F("p",mO,[Fo(F("select",{"onUpdate:modelValue":i[0]||(i[0]=s=>Jt(e).selectedViewMode=s),class:"input is-primary"},[(xo(!0),wo(Qe,null,fg(Jt(e).selectedCamera.viewModes,s=>(xo(),wo("option",{value:s},qo(s.name),9,vO))),256))],512),[[Z6,Jt(e).selectedViewMode]])])])])]),F("div",xO,[wO,F("div",yO,[F("div",_O,[F("p",kO,[Fo(F("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>Jt(e).shotTimeInterval=s),type:"number",min:"1",max:"10",class:"input is-primary"},null,512),[[en,Jt(e).shotTimeInterval]])]),EO])])])]))}}),TO={class:"section"},RO=Bo(" Acquistion "),AO={class:"field is-horizontal"},IO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Min dist to ground "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"The closer ground fixes the overall capture speed"}," (*) ")])],-1),OO={class:"field-body"},SO={class:"field has-addons"},PO={class:"control"},LO=F("p",{class:"control"},[F("a",{class:"button is-static"}," m ")],-1),FO={class:"field is-horizontal"},MO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Front overlap "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover going front"},"(*)")])],-1),zO={class:"field-body"},DO={class:"field has-addons"},NO={class:"control"},GO=F("p",{class:"control"},[F("a",{class:"button is-static"}," % ")],-1),UO={class:"field is-horizontal"},BO=F("div",{class:"field-label is-normal"},[F("label",{class:"label"},[Bo(" Side overlap "),F("span",{class:"tooltip has-tooltip-right","data-tooltip":"How much the photos shall recover side by side"}," (*) ")])],-1),jO={class:"field-body"},YO={class:"field has-addons"},WO={class:"control"},XO=F("p",{class:"control"},[F("a",{class:"button is-static"}," % ")],-1),VO=an({__name:"AcquisitionParams",setup(n){const e=Es(),t=zs();return lo(()=>e.distanceToGround,()=>t.updateTrajectory()),lo(()=>e.sideOverlapPercent,()=>t.updateTrajectory()),(o,r)=>(xo(),wo("div",null,[_e(CO),F("section",TO,[F("h1",null,[_e(ec,{i:"3"}),RO]),F("div",AO,[IO,F("div",OO,[F("div",SO,[F("p",PO,[Fo(F("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>Jt(e).distanceToGround=i),type:"number",min:"0.2",max:"10",class:"input is-primary"},null,512),[[en,Jt(e).distanceToGround]])]),LO])])]),F("div",FO,[MO,F("div",zO,[F("div",DO,[F("p",NO,[Fo(F("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>Jt(e).frontOverlapPercent=i),type:"number",min:"10",max:"1000",class:"input is-primary"},null,512),[[en,Jt(e).frontOverlapPercent]])]),GO])])]),F("div",UO,[BO,F("div",jO,[F("div",YO,[F("p",WO,[Fo(F("input",{"onUpdate:modelValue":r[2]||(r[2]=i=>Jt(e).sideOverlapPercent=i),type:"number",min:"10",max:"100",class:"input is-primary"},null,512),[[en,Jt(e).sideOverlapPercent]])]),XO])])])])]))}});function HO(n){return Math.floor(Math.log(n)/Math.log(10))+1}function $O(n,e){const t=(n+1).toString();return"0".repeat(HO(e)-t.length)+t}function qO(n,e){let t=`name,longitude,latitude,elevation
`;const o=e.length;return e.forEach((r,i)=>t+=`${n}${$O(i,o)},${r[0]},${r[1]},0
`),t}const KO={class:"section"},ZO=F("h1",null,"Planned route",-1),JO={class:"table is-striped is-fullwidth"},QO=F("td",null,"Area",-1),tS=F("sup",null,"2",-1),eS=F("td",null,"Band width",-1),oS=F("td",null,"Distance",-1),nS=F("td",null,"Moving speed",-1),rS=F("td",null,"Duration",-1),iS=F("td",null,"Nb photos",-1),aS=F("td",null,null,-1),sS=an({__name:"Route",setup(n){const e=Es(),t=jf(),o=zs();function r(){const i=qO(o.pointPrefix,o.trajectory),s=o.routeFilename,f=document.createElement("a");f.setAttribute("href","data:application/CSV;charset=utf-8,"+encodeURIComponent(i)),f.setAttribute("download",s),f.click(),f.remove()}return(i,s)=>(xo(),wo("div",null,[F("section",KO,[ZO,F("table",JO,[F("tbody",null,[F("tr",null,[QO,F("td",null,[Bo(qo(Jt(t).width.toFixed(0))+" x "+qo(Jt(t).height.toFixed(0))+" = "+qo(Jt(t).area.toFixed(0))+" m",1),tS])]),F("tr",null,[eS,F("td",null,qo(Jt(e).sideShotDistance.toFixed(2)),1)]),F("tr",null,[oS,F("td",null,qo(Jt(o).distance.toFixed(0))+" m ",1)]),F("tr",null,[nS,F("td",null,qo(Jt(e).swimmingSpeed.toFixed(1))+" m/s, "+qo((Jt(e).swimmingSpeed*3.6).toFixed(1))+" km/h ",1)]),F("tr",null,[rS,F("td",null,qo(Jt(o).duration.toFixed(0))+" s ",1)]),F("tr",null,[iS,F("td",null,qo(Math.round(Jt(o).duration/Jt(e).shotTimeInterval)),1)]),F("tr",null,[F("td",null,[F("button",{class:"button is-primary",onClick:s[0]||(s[0]=f=>r())},"Download")]),aS])])])])]))}}),lS={class:"field is-horizontal"},fS=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," lat ")],-1),cS={class:"field-body"},dS={class:"field"},uS={class:"control"},hS={class:"field is-horizontal"},pS=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," long ")],-1),bS={class:"field-body"},gS={class:"field"},mS={class:"control"},vS={class:"field is-horizontal"},xS=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," lat ")],-1),wS={class:"field-body"},yS={class:"field"},_S={class:"control"},kS={class:"field is-horizontal"},ES=F("div",{class:"field-label is-normal"},[F("label",{class:"label"}," long ")],-1),CS={class:"field-body"},TS={class:"field"},RS={class:"control"},AS=["disabled"],IS=an({__name:"PerimeterCorners",setup(n){const e=br(void 0),t=br(void 0),o=br(void 0),r=br(void 0),i=jf();lo(()=>i.perimeter,s);function s(){const d=i.cornerNW;e.value=d[1],t.value=d[0];const h=i.cornerSE;o.value=h[1],r.value=h[0]}function f(){return e.value&&t.value&&o.value&&r.value}function c(){if(!f())return;const d=Math.max(t.value,r.value),h=Math.min(t.value,r.value),b=Math.max(e.value,o.value),p=Math.min(e.value,o.value);i.perimeter=new kv([[h,p],[d,p],[d,b],[h,b]])}return(d,h)=>(xo(),wo(Qe,null,[F("div",null,[F("div",lS,[fS,F("div",cS,[F("div",dS,[F("p",uS,[Fo(F("input",{"onUpdate:modelValue":h[0]||(h[0]=b=>e.value=b),class:"input is-primary",type:"number"},null,512),[[en,e.value]])])])])]),F("div",hS,[pS,F("div",bS,[F("div",gS,[F("p",mS,[Fo(F("input",{"onUpdate:modelValue":h[1]||(h[1]=b=>t.value=b),class:"input is-primary",type:"number"},null,512),[[en,t.value]])])])])]),F("div",vS,[xS,F("div",wS,[F("div",yS,[F("p",_S,[Fo(F("input",{"onUpdate:modelValue":h[2]||(h[2]=b=>o.value=b),class:"input is-primary",type:"number"},null,512),[[en,o.value]])])])])]),F("div",kS,[ES,F("div",CS,[F("div",TS,[F("p",RS,[Fo(F("input",{"onUpdate:modelValue":h[3]||(h[3]=b=>r.value=b),class:"input is-primary",type:"number"},null,512),[[en,r.value]])])])])])]),F("button",{class:"button is-primary",onClick:c,disabled:!f()}," update ",8,AS)],64))}});const OS=T0('<section class="hero"><div class="hero-body"><p class="title"> Swimming photogrammetry lawnmowner trajectory capture </p><p class="subtitle"> Capturing a swimming trajectory in shallow water and exporting for Emlid Reach RS. </p><p> Tools exist to draw trajectories for drones in order to upload trajectories and send them to collect aerial images for photogrammetry. However, these tools are not suited to compute such trajectory at low altitudes, typically when surveying shallow water (it&#39;s mainly a matter of parameter ranges). </p><div> We propose here a tool to: <ol><li>capture the surveying area</li><li>Selecting a camera, the view mode, and shot time intervals;</li><li>The distance to the ground, and picture overlaps;</li><li>The distance between the reported point on the map (swimming to one to the next), the angle of the route (take two in order to limit bowing effects), and the point naming; </li></ol> You will then be able to export the route and import it in an Emlid ReachView project. </div></div></section><div><div id="mapViewport" class="mapViewport map-viewport"></div></div>',2),SS={class:"columns"},PS={class:"column"},LS={class:"section"},FS=Bo(" Perimeter "),MS={class:"column"},zS=F("div",{id:"mouse-position"},null,-1),DS=T0('<footer class="footer"><div class="content has-text-centered"><p> By <a href="https://www.linkedin.com/in/alexmass/">Alexandre Masselot</a>, with Terra Submersa at University of Geneva. The source code is available on <a href="https://github.com/terra-submersa/coordinates-lawnmower">Github</a> and licensed <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. </p></div></footer>',1),NS=an({__name:"MapLayer",setup(n){const e=jf(),t=zs();lo(()=>e.perimeter,()=>t.updateTrajectory()),lo(()=>e.perimeter,()=>b),lo(()=>t.trajectory,b),br("mapViewport"),oC();const o=new OI({source:new yI}),r=new Eu({wrapX:!1}),i=new ku({source:r}),s=new Eu({wrapX:!1}),f=new ku({source:s,style:[new J8({stroke:new ns({color:"orangered",width:2}),fill:new Ef({color:"orangered"})})]}),c=new B7({coordinateFormat:WE(6),projection:"EPSG:3857"});let d;Uu(()=>{d=new TA({layers:[o,i,f],controls:Dv().extend([c]),target:"mapViewport",view:new pr({center:[23.1319788,37.4283254],zoom:17})})});function h(){r.clear(),s.clear();const p=new _A({source:r,type:"Circle",geometryFunction:wA()});d.addInteraction(p),p.on("drawend",function(m){d.removeInteraction(p);const x=m.feature.getGeometry().getCoordinates()[0];x.pop();const _=new kv(x.map(k=>[...k]));e.perimeter=_})}function b(){s.clear();const p=t.trajectory;if(!p)return;const m=new yr(p),x=new Zr(m);s.addFeature(x),p.forEach(_=>s.addFeature(new Zr(new cv(_,2e-6))))}return(p,m)=>(xo(),wo(Qe,null,[OS,F("div",SS,[F("div",PS,[F("section",LS,[F("h1",null,[_e(ec,{i:"1"}),FS]),F("button",{class:"button is-primary",onClick:h}," Draw perimeter "),_e(IS)]),_e(VO),_e(nO)]),F("div",MS,[_e(sS)]),zS]),DS],64))}}),GS=an({__name:"HomeView",setup(n){return(e,t)=>(xo(),wo("main",null,[_e(NS)]))}}),US=fE({history:T4("/lawnmower/"),routes:[{path:"/",name:"home",component:GS}]});const Ch=t4(hE);Ch.use(n4());Ch.use(US);Ch.mount("#app");
